<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>webé¡»çŸ¥</title>
      <link href="2021/08/08/web%E9%A1%BB%E7%9F%A5/"/>
      <url>2021/08/08/web%E9%A1%BB%E7%9F%A5/</url>
      
        <content type="html"><![CDATA[<h2 id="http"><a href="#http" class="headerlink" title="http"></a>http</h2><h3 id="httpæŠ¥æ–‡"><a href="#httpæŠ¥æ–‡" class="headerlink" title="httpæŠ¥æ–‡"></a>httpæŠ¥æ–‡</h3><blockquote><p>è¯·æ±‚æŠ¥æ–‡ï¼Œé€šå¸¸åˆ†è¯·æ±‚è¡Œï¼Œè¯·æ±‚å¤´ï¼Œè¯·æ±‚ä½“</p></blockquote><p><img src="https://gitee.com/rain-sky/images/raw/master/20210808172308.jpeg"></p><blockquote><p>ä¸€ä¸ªä¾‹å­</p></blockquote><p><img src="https://gitee.com/rain-sky/images/raw/master/20210808180756.png"></p><blockquote><p>å“åº”æŠ¥æ–‡ï¼Œå“åº”è¡Œï¼Œå“åº”å¤´ï¼Œå“åº”ä½“(åƒç»„è£…æ•°æ®åçš„html)</p></blockquote><p><img src="https://gitee.com/rain-sky/images/raw/master/20210808173413.jpeg"></p><blockquote><p>ä¸€ä¸ªæŠ¥æ–‡ä¾‹å­</p></blockquote><p><img src="https://gitee.com/rain-sky/images/raw/master/20210808180521.png"></p><h3 id="getä¸post"><a href="#getä¸post" class="headerlink" title="getä¸post"></a>getä¸post</h3><p>å…³äºgetä¸postçš„åŒºåˆ«ï¼š<a href="https://zhuanlan.zhihu.com/p/57361216">æ¨èé˜…è¯»</a></p><p><span class="github-emoji"><span>ğŸ’‡</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f487.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span>ä¸¤ç§æŠ¥æ–‡çš„æ¯”å¯¹</p><p>getæ–¹æ³•æ²¡æœ‰è¯·æ±‚ä½“ï¼Œæ•°æ®é€šè¿‡urlä¼ é€’ï¼Œä¸æ­¢?ä¸€ç§å†™æ³•ï¼Œrestfulä¹Ÿæ˜¯urlçš„ä¸€ç§ä¼ å‚é£æ ¼ï¼Œpostæ–¹æ³•æœ‰è¯·æ±‚ä½“</p><table><thead><tr><th align="center"></th><th align="center">GET</th><th align="center">POST</th></tr></thead><tbody><tr><td align="center">åé€€æŒ‰é’®/åˆ·æ–°</td><td align="center">æ— å®³</td><td align="center">æ•°æ®ä¼šè¢«é‡æ–°æäº¤ï¼ˆæµè§ˆå™¨åº”è¯¥å‘ŠçŸ¥ç”¨æˆ·æ•°æ®ä¼šè¢«é‡æ–°æäº¤ï¼‰ã€‚</td></tr><tr><td align="center">ä¹¦ç­¾</td><td align="center">å¯æ”¶è—ä¸ºä¹¦ç­¾</td><td align="center">ä¸å¯æ”¶è—ä¸ºä¹¦ç­¾</td></tr><tr><td align="center">ç¼“å­˜</td><td align="center">èƒ½è¢«ç¼“å­˜</td><td align="center">ä¸èƒ½ç¼“å­˜</td></tr><tr><td align="center">ç¼–ç ç±»å‹</td><td align="center">application/x-www-form-urlencoded</td><td align="center">application/x-www-form-urlencoded æˆ– multipart/form-dataã€‚ä¸ºäºŒè¿›åˆ¶æ•°æ®ä½¿ç”¨å¤šé‡ç¼–ç ã€‚</td></tr><tr><td align="center">å†å²</td><td align="center">å‚æ•°ä¿ç•™åœ¨æµè§ˆå™¨å†å²ä¸­ã€‚</td><td align="center">å‚æ•°ä¸ä¼šä¿å­˜åœ¨æµè§ˆå™¨å†å²ä¸­ã€‚</td></tr><tr><td align="center">å¯¹æ•°æ®é•¿åº¦çš„é™åˆ¶</td><td align="center">æ˜¯çš„ã€‚å½“å‘é€æ•°æ®æ—¶ï¼ŒGET æ–¹æ³•å‘ URL æ·»åŠ æ•°æ®ï¼›URL çš„é•¿åº¦æ˜¯å—é™åˆ¶çš„ï¼ˆURL çš„æœ€å¤§é•¿åº¦æ˜¯ 2048 ä¸ªå­—ç¬¦ï¼‰ã€‚</td><td align="center">æ— é™åˆ¶ã€‚</td></tr><tr><td align="center">å¯¹æ•°æ®ç±»å‹çš„é™åˆ¶</td><td align="center">åªå…è®¸ ASCII å­—ç¬¦ã€‚</td><td align="center">æ²¡æœ‰é™åˆ¶ã€‚ä¹Ÿå…è®¸äºŒè¿›åˆ¶æ•°æ®ã€‚</td></tr><tr><td align="center">å®‰å…¨æ€§</td><td align="center">ä¸ POST ç›¸æ¯”ï¼ŒGET çš„å®‰å…¨æ€§è¾ƒå·®ï¼Œå› ä¸ºæ‰€å‘é€çš„æ•°æ®æ˜¯ URL çš„ä¸€éƒ¨åˆ†ã€‚åœ¨å‘é€å¯†ç æˆ–å…¶ä»–æ•æ„Ÿä¿¡æ¯æ—¶ç»ä¸è¦ä½¿ç”¨ GET ï¼</td><td align="center">POST æ¯” GET æ›´å®‰å…¨ï¼Œå› ä¸ºå‚æ•°ä¸ä¼šè¢«ä¿å­˜åœ¨æµè§ˆå™¨å†å²æˆ– web æœåŠ¡å™¨æ—¥å¿—ä¸­ã€‚</td></tr><tr><td align="center">å¯è§æ€§</td><td align="center">æ•°æ®åœ¨ URL ä¸­å¯¹æ‰€æœ‰äººéƒ½æ˜¯å¯è§çš„ã€‚</td><td align="center">æ•°æ®ä¸ä¼šæ˜¾ç¤ºåœ¨ URL ä¸­ã€‚</td></tr></tbody></table><h2 id="requestä¸response"><a href="#requestä¸response" class="headerlink" title="requestä¸response"></a>requestä¸response</h2><h3 id="tomcatä¸€æ¬¡ç®€å•çš„è¯·æ±‚å“åº”è¿‡ç¨‹"><a href="#tomcatä¸€æ¬¡ç®€å•çš„è¯·æ±‚å“åº”è¿‡ç¨‹" class="headerlink" title="tomcatä¸€æ¬¡ç®€å•çš„è¯·æ±‚å“åº”è¿‡ç¨‹"></a>tomcatä¸€æ¬¡ç®€å•çš„è¯·æ±‚å“åº”è¿‡ç¨‹</h3><p><img src="https://gitee.com/rain-sky/images/raw/master/20210808180050.png"></p><h3 id="tomcatå†…ç½®å¯¹è±¡"><a href="#tomcatå†…ç½®å¯¹è±¡" class="headerlink" title="tomcatå†…ç½®å¯¹è±¡"></a>tomcatå†…ç½®å¯¹è±¡</h3><p>åœ¨ä¹‹å‰å­¦ä¹ è¿‡ç¨‹ä¸­ä½¿ç”¨çš„å¯¹è±¡å¤§éƒ¨åˆ†éƒ½æ˜¯æˆ‘ä»¬è‡ªå·±ä½¿ç”¨newå…³é”®å­—æˆ–è€…åå°„åˆ›å»ºçš„ï¼Œç°åœ¨å®¹å™¨ä¸­ä¼šè‡ªåŠ¨åˆ›å»ºå¯¹è±¡ï¼Œæˆ‘ä»¬åªè¦ç›´æ¥ä½¿ç”¨å³å¯ï¼Œä¸éœ€è¦æˆ‘ä»¬å†å»åˆ›å»ºè¿™äº›å¯¹è±¡ï¼Œåœ¨Tomcatå®¹å™¨ä¸­æä¾›äº†ä¹ç§å†…ç½®å¯¹è±¡ï¼Œæœ‰ä¸€äº›ä¸å¸¸ç”¨ã€‚è¿™äº›å†…ç½®å¯¹è±¡çš„åå­—å’Œç±»å‹å¿…é¡»è®°ä¸‹æ¥ã€‚</p><table><thead><tr><th>åç§°</th><th>ç±»å‹</th><th>æè¿°</th></tr></thead><tbody><tr><td><strong>pageContext</strong></td><td><strong>javax.servlet.jsp.PageContext</strong></td><td>è¡¨ç¤ºçš„æ˜¯é¡µé¢ä¸Šä¸‹æ–‡ç¯å¢ƒ</td></tr><tr><td><strong>request</strong></td><td><strong>HttpServletRequest</strong></td><td>è¡¨ç¤ºä¸€æ¬¡ç”¨æˆ·è¯·æ±‚</td></tr><tr><td><strong>response</strong></td><td><strong>HttpServletResponse</strong></td><td>è¡¨ç¤ºä¸€æ¬¡å“åº”</td></tr><tr><td><strong>session</strong></td><td><strong>HttpSession</strong></td><td>è¡¨ç¤ºä¸€ä¸ªç”¨æˆ·ä¿¡æ¯</td></tr><tr><td><strong>application</strong></td><td><strong>ServletContext</strong></td><td>è¡¨ç¤ºæœåŠ¡å™¨çš„ä¸Šä¸‹æ–‡ç¯å¢ƒ</td></tr><tr><td><strong>page</strong></td><td><strong>Object</strong></td><td>è¡¨ç¤ºä¸€ä¸ªé¡µé¢å¯¹è±¡</td></tr><tr><td><strong>out</strong></td><td><strong>JspWiter</strong></td><td>å¯ä»¥ä½¿ç”¨å…¶è¾“å‡ºä¿¡æ¯</td></tr><tr><td><strong>exception</strong></td><td><strong>throwable</strong></td><td>è¡¨ç¤ºå¼‚å¸¸ä¿¡æ¯</td></tr><tr><td><strong>config</strong></td><td><strong>ServletConfig</strong></td><td>å¯ä»¥è·å–é…ç½®æ–‡ä»¶çš„ä¸€äº›ä¿¡æ¯</td></tr></tbody></table><h3 id="request"><a href="#request" class="headerlink" title="request"></a>request</h3><blockquote><p>requestçš„å‡½æ•°å¤§æ¦‚å¯ä»¥åˆ†ä¸ºä»¥ä¸‹ä¸‰ç±»</p></blockquote><ul><li>è·å–è¯·æ±‚å¤´</li><li>è·å–è¯·æ±‚ä½“</li><li>è·å–è¯·æ±‚è¡Œ</li></ul><p>å…·ä½“å¯ä»¥å‚çœ‹å®˜ç½‘è§£é‡Š</p><p><a href="https://link.zhihu.com/?target=http://tomcat.apache.org/tomcat-5.5-doc/servletapi/javax/servlet/http/HttpServletRequest.html">HttpServletRequest API</a></p><blockquote><p>requeståŸŸ</p></blockquote><p>requestå¯¹è±¡åŒæ—¶ä¹Ÿæ˜¯ä¸€ä¸ªåŸŸå¯¹è±¡ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨requestæ¥ä¼ è¾“æ•°æ®ã€‚requeståŸŸå¯¹è±¡ä¸åƒServletåŸŸä¸€æ ·ä¸€ç›´èƒ½ä½¿ç”¨ï¼Œrequeståªèƒ½åœ¨ä¸€æ¬¡è¯·æ±‚è¿‡ç¨‹ä¹‹ä¸­ä¼ é€’æ•°æ®ï¼Œè¯·æ±‚ç»“æŸå³è‡ªåŠ¨é”€æ¯ã€‚å…·ä½“ä½¿ç”¨æ¶‰åŠåˆ°ä»¥ä¸‹ä¸‰ä¸ªæ–¹æ³•ï¼š</p><ul><li>setAttribute(String name, Object o)</li><li>getAttribute(String name)</li><li>removeAttribute(String name)</li></ul><blockquote><p>ä¹±ç é—®é¢˜</p></blockquote><p>åœ¨è·å–è¯·æ±‚æŠ¥æ–‡ç›¸å…³çš„å†…å®¹çš„æ—¶å€™ï¼Œæœ‰æ—¶å€™æˆ‘ä»¬ä¼šå‘ç°è·å–åˆ°çš„å†…å®¹æ˜¯ä¹±ç çš„å†…å®¹ã€‚é€šå¸¸æƒ…å†µæ˜¯æµè§ˆå™¨å‘æœåŠ¡å™¨å‘é€çš„è¯·æ±‚å‚æ•°ä¸­åŒ…å«ä¸­æ–‡å­—ç¬¦ï¼ŒæœåŠ¡å™¨è·å–åˆ°çš„è¯·æ±‚å‚æ•°çš„å€¼æ˜¯ä¹±ç ã€‚</p><p>æµè§ˆå™¨å‘æœåŠ¡å™¨å‘é€è¯·æ±‚ï¼Œå› ä¸ºæµè§ˆå™¨ä¸æœåŠ¡å™¨ä¹‹é—´çš„é€šä¿¡å®è´¨ä¸Šæ˜¯socketæµï¼Œæ‰€ä»¥è¦å…ˆå°†è¯·æ±‚å‚æ•°ï¼ˆå­—ç¬¦ï¼‰è½¬æ¢æˆå­—èŠ‚ï¼Œä¹Ÿå°±æ˜¯ç¼–ç è¿‡ç¨‹ï¼ŒæœåŠ¡å™¨æ¥æ”¶åˆ°è¯·æ±‚å‚æ•°åè¿›è¡Œè§£ç ï¼ˆå­—èŠ‚è½¬å­—ç¬¦ï¼‰ï¼Œç„¶åå°è£…åˆ°requestå¯¹è±¡ä¸­ã€‚å¦‚æœå®¢æˆ·ç«¯çš„ç¼–ç ä¸æœåŠ¡å™¨ç«¯çš„è§£ç ä¸ç»Ÿä¸€ï¼Œå°±ä¼šå¯¼è‡´é€šè¿‡requestè·å–åˆ°çš„è¯·æ±‚å‚æ•°çš„å€¼æ˜¯ä¹±ç ã€‚</p><p>æ‰€ä»¥ä¸ºäº†è§£å†³requestä¹±ç çš„é—®é¢˜ï¼Œæˆ‘ä»¬åªéœ€è¦åœ¨æœåŠ¡å™¨ç«¯è®¾ç½®ç›¸åº”çš„è§£ç æ ¼å¼å³å¯ã€‚</p><p>å…·ä½“è®¾ç½®ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">request.setCharacterEncoding(<span class="string">"utf-8"</span>);  <span class="comment">//è®¾ç½®requestå¯¹è±¡çš„è§£ç æ–¹å¼</span></span><br></pre></td></tr></tbody></table></figure><h3 id="response"><a href="#response" class="headerlink" title="response"></a>response</h3><p>Tomcatä¼ ç»™Servletæ—¶ï¼Œå®ƒè¿˜æ˜¯ç©ºçš„å¯¹è±¡ã€‚Servleté€»è¾‘å¤„ç†åå¾—åˆ°ç»“æœï¼Œæœ€ç»ˆé€šè¿‡response.write()æ–¹æ³•ï¼Œå°†ç»“æœå†™å…¥responseå†…éƒ¨çš„ç¼“å†²åŒºã€‚Tomcatä¼šåœ¨servletå¤„ç†ç»“æŸåï¼Œæ‹¿åˆ°responseï¼Œéå†é‡Œé¢çš„ä¿¡æ¯ï¼Œç»„è£…æˆHTTPå“åº”å‘ç»™å®¢æˆ·ç«¯ã€‚</p><p>HttpServletResponseå¯¹è±¡ä»£è¡¨æœåŠ¡å™¨çš„å“åº”ã€‚è¿™ä¸ªå¯¹è±¡ä¸­å°è£…äº†å‘å®¢æˆ·ç«¯å‘é€æ•°æ®ã€å‘é€å“åº”å¤´ï¼Œå‘é€å“åº”çŠ¶æ€ç çš„æ–¹æ³•ã€‚</p><blockquote><p>responseçš„å‡½æ•°å¤§æ¦‚å¯ä»¥åˆ†ä¸ºä»¥ä¸‹ä¸‰ç±»</p></blockquote><ul><li>è®¾ç½®å“åº”çŠ¶æ€è¡Œ</li><li>è®¾ç½®å“åº”å¤´</li><li>è®¾ç½®å“åº”å®ä½“</li></ul><p>å…·ä½“å¯ä»¥å‚çœ‹å®˜ç½‘è§£é‡Šï¼š</p><p><a href="https://link.zhihu.com/?target=http://tomcat.apache.org/tomcat-5.5-doc/servletapi/javax/servlet/http/HttpServletRequest.html">HttpServletResponse API</a></p><blockquote><p>ä¹±ç é—®é¢˜</p></blockquote><p>æœ‰æ—¶å€™æœåŠ¡å™¨å‘æµè§ˆå™¨å‘é€çš„æ•°æ®åŒ…å«ä¸­æ–‡å­—ç¬¦ï¼Œåœ¨ æµè§ˆå™¨ä¸­æ˜¾ç¤ºçš„æ˜¯ä¹±ç ã€‚ä¹±ç çš„åŸå› æ˜¯ response å¯¹è±¡çš„å­—ç¬¦è¾“å‡ºæµåœ¨ç¼–ç æ—¶é‡‡ç”¨çš„å­—ç¬¦ç è¡¨æ˜¯ ISO-8859-1ï¼Œè¯¥ç è¡¨ä¸å…¼å®¹ä¸­æ–‡ï¼Œæ‰€ä»¥å°±ä¼šå‡ºç°ä¹±ç çš„é—®é¢˜ã€‚å¤„ç†ä¹±ç é—®é¢˜ï¼Œæœ‰ä¸‹é¢ä¸¤ç§æ–¹æ¡ˆï¼š</p><p>æ–¹æ³•ä¸€ï¼š</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">response.setCharacterEncoding(<span class="string">"utf-8"</span>);    <span class="comment">//è®¾ç½® HttpServletResponseä½¿ç”¨utf-8ç¼–ç </span></span><br><span class="line">response.setHeader(<span class="string">"Content-Type"</span>, <span class="string">"text/html;charset=utf-8"</span>);    <span class="comment">//é€šçŸ¥æµè§ˆå™¨ä½¿ç”¨utf-8è§£ç </span></span><br></pre></td></tr></tbody></table></figure><p>æ–¹æ³•äºŒï¼š</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">response.setContentType(<span class="string">"text/html;charset=utf-8"</span>);    <span class="comment">//åŒ…å«æ–¹æ³•ä¸€çš„ä¸¤ä¸ªåŠŸèƒ½</span></span><br></pre></td></tr></tbody></table></figure><blockquote><p>é‡å®šå‘æœ‰ä¸¤ç§å®ç°æ–¹å¼ï¼š</p></blockquote><ul><li>æ–¹æ³•ä¸€</li></ul><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//åœ¨å“åº”å¤´ä¸­æ·»åŠ 302çŠ¶æ€ç ï¼Œå‘Šè¯‰æµè§ˆå™¨éœ€è¦è¿›è¡Œé‡å®šå‘ </span></span><br><span class="line">response.setStatus(<span class="number">302</span>)ï¼›</span><br><span class="line"><span class="comment">//åœ¨å“åº”å¤´ä¸­æ·»åŠ Locationï¼ŒæŒ‡å®šé‡å®šå‘çš„ä½ç½® </span></span><br><span class="line">response.setHeader(<span class="string">"Location"</span>, <span class="string">"http://www.baidu.com"</span>);</span><br></pre></td></tr></tbody></table></figure><ul><li>æ–¹æ³•äºŒ</li></ul><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">response.setRedirect(<span class="string">"http://www.baidu.com"</span>)</span><br></pre></td></tr></tbody></table></figure><blockquote><p>ç¦æ­¢ç¼“å­˜</p></blockquote><p>æœ‰æ—¶å€™æˆ‘ä»¬æƒ³è®©ç”¨æˆ·ç«¯ä¸ç¼“å­˜html,css,jsç­‰èµ„æºï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡å¯¹responseå¤´è¿›è¡Œä¸€å®šçš„è®¾ç½®æ¥å®ç°è¿™æ ·çš„åŠŸèƒ½ï¼Œä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">response.setHeader(<span class="string">"Cache-Control"</span>, <span class="string">"no-cache"</span>);</span><br><span class="line">response.setHeader(<span class="string">"Pragma"</span>, <span class="string">"no-cache"</span>);</span><br><span class="line">response.setDateHeader(<span class="string">"Expires"</span>, -<span class="number">1</span>);</span><br></pre></td></tr></tbody></table></figure><blockquote><p>æ–‡ä»¶ä¼ é€</p></blockquote><p>å®¢æˆ·ç«¯æœ‰æ—¶å€™ä¼šè¯·æ±‚æŸå¼ å›¾ç‰‡çš„å†…å®¹ï¼Œæˆ‘ä»¬éœ€è¦å°†å›¾ç‰‡æ–‡ä»¶è¿”å›ç»™å®¢æˆ·ç«¯ï¼Œä¸€èˆ¬æ¥è¯´ä½¿ç”¨Responseä¼ é€å›¾ç‰‡çš„åšæ³•å¦‚ä¸‹ï¼š</p><p>ç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//        è·å¾—å›¾ç‰‡çš„ç»å¯¹è·¯å¾„</span></span><br><span class="line">        String path = getServletContext().getRealPath(<span class="string">"man.jpg"</span>);</span><br><span class="line">        System.out.println(path);</span><br><span class="line"><span class="comment">//        è·å–æœ¬åœ°å­—èŠ‚è¾“å…¥æµ</span></span><br><span class="line">        FileInputStream fis = <span class="keyword">new</span> FileInputStream(path);</span><br><span class="line"><span class="comment">//        è·å–æœ¬åœ°å­—èŠ‚è¾“å‡ºæµ</span></span><br><span class="line">        ServletOutputStream sos = response.getOutputStream();</span><br><span class="line">        <span class="keyword">int</span> len=<span class="number">0</span>;</span><br><span class="line"><span class="comment">//        å»ºç«‹ä¸€ä¸ªæ•°ç»„ ä¸€æ¬¡è¯»1024ä¸ªå­—èŠ‚</span></span><br><span class="line">        <span class="keyword">byte</span>[] bytes = <span class="keyword">new</span> <span class="keyword">byte</span>[<span class="number">1024</span>];</span><br><span class="line">        <span class="keyword">while</span> ((len=fis.read(bytes))!=-<span class="number">1</span>){</span><br><span class="line">            out.write(bytes,<span class="number">0</span>,len);</span><br><span class="line">        }</span><br><span class="line">        fis.close();</span><br><span class="line">        sos.close();</span><br></pre></td></tr></tbody></table></figure><h2 id="cookieä¸session"><a href="#cookieä¸session" class="headerlink" title="cookieä¸session"></a>cookieä¸session</h2><p><a href="https://zhuanlan.zhihu.com/p/27669892">æ¨èé˜…è¯»</a></p><h3 id="httpæ˜¯ä¸ªæ— çŠ¶æ€åè®®"><a href="#httpæ˜¯ä¸ªæ— çŠ¶æ€åè®®" class="headerlink" title="httpæ˜¯ä¸ªæ— çŠ¶æ€åè®®"></a>httpæ˜¯ä¸ªæ— çŠ¶æ€åè®®</h3><p><img src="https://gitee.com/rain-sky/images/raw/master/20210808195850.png"></p><h3 id="cookieå’Œsessionè§£é‡Š"><a href="#cookieå’Œsessionè§£é‡Š" class="headerlink" title="cookieå’Œsessionè§£é‡Š"></a>cookieå’Œsessionè§£é‡Š</h3><p><strong>cookie</strong></p><ul><li>å®¢æˆ·ç«¯æŠ€æœ¯   ï¼ˆå“åº”ï¼Œè¯·æ±‚ï¼‰</li></ul><p><strong>session</strong></p><ul><li>æœåŠ¡å™¨æŠ€æœ¯ï¼Œåˆ©ç”¨è¿™ä¸ªæŠ€æœ¯ï¼Œå¯ä»¥ä¿å­˜ç”¨æˆ·çš„ä¼šè¯ä¿¡æ¯ï¼Ÿ æˆ‘ä»¬å¯ä»¥æŠŠä¿¡æ¯æˆ–è€…æ•°æ®æ”¾åœ¨Sessionä¸­ï¼</li></ul><blockquote><p>æŠ¥æ–‡é‡Œçš„æ ·å­</p></blockquote><p>â‘ è¯·æ±‚æŠ¥æ–‡ï¼ˆæ²¡æœ‰Cookie ä¿¡æ¯çš„çŠ¶æ€ï¼‰</p><figure class="highlight"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">GET</span> <span class="string">/reader/</span> HTTP/1.1</span><br><span class="line"><span class="attribute">Host</span>: hackr.jp</span><br><span class="line">*é¦–éƒ¨å­—æ®µå†…æ²¡æœ‰Cookieçš„ç›¸å…³ä¿¡æ¯</span><br></pre></td></tr></tbody></table></figure><p>â‘¡å“åº”æŠ¥æ–‡ï¼ˆæœåŠ¡å™¨ç«¯ç”ŸæˆCookie ä¿¡æ¯ï¼‰</p><figure class="highlight http"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">HTTP/1.1 <span class="number">200</span> OK</span><br><span class="line"><span class="attribute">Date</span>: Thu, 12 Jul 2012 07:12:20 GMT</span><br><span class="line"><span class="attribute">Server</span>: Apache</span><br><span class="line">ï¼œSet-Cookie: sid=1342077140226724; path=/; expires=Wed,10-Oct-12 07:12:20 GMTï¼</span><br><span class="line"><span class="attribute">Content-Type</span>: text/plain; charset=UTF-8</span><br></pre></td></tr></tbody></table></figure><p>â‘¢è¯·æ±‚æŠ¥æ–‡ï¼ˆè‡ªåŠ¨å‘é€ä¿å­˜ç€çš„Cookie ä¿¡æ¯ï¼‰</p><figure class="highlight http"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">GET</span> <span class="string">/image/</span> HTTP/1.1</span><br><span class="line"><span class="attribute">Host</span>: hackr.jp</span><br><span class="line"><span class="attribute">Cookie</span>: sid=1342077140226724</span><br></pre></td></tr></tbody></table></figure><blockquote><p>å…³äºCookie çš„é¦–éƒ¨å­—æ®µ</p></blockquote><p><img src="https://gitee.com/rain-sky/images/raw/master/20210808200006.png"></p><p><strong>set-Cookie</strong></p><figure class="highlight"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">Set-Cookie</span>: status=enable; expires=Tue, 05 Jul 2011 07:26:31 GMT; â‡’</span><br><span class="line">path=/; domain=.hackr.jp;</span><br></pre></td></tr></tbody></table></figure><p><strong>å±æ€§è§£é‡Š</strong></p><p><img src="https://gitee.com/rain-sky/images/raw/master/20210808200442.png"></p><p><strong>expires å±æ€§</strong></p><p>Cookie çš„expires å±æ€§æŒ‡å®šæµè§ˆå™¨å¯å‘é€Cookie çš„æœ‰æ•ˆæœŸã€‚å½“çœç•¥expires å±æ€§æ—¶ï¼ŒCookieä»…åœ¨æµè§ˆå™¨å…³é—­ä¹‹å‰æœ‰æ•ˆã€‚<br>å¦å¤–ï¼Œä¸€æ—¦Cookie ä»æœåŠ¡å™¨ç«¯å‘é€è‡³å®¢æˆ·ç«¯ï¼ŒæœåŠ¡å™¨ç«¯å°±ä¸å­˜åœ¨å¯ä»¥æ˜¾å¼åˆ é™¤Cookie çš„æ–¹æ³•ã€‚ä½†å¯é€šè¿‡è¦†ç›–å·²è¿‡æœŸçš„Cookieï¼Œå®ç°å¯¹å®¢æˆ·ç«¯Cookie çš„å®è´¨æ€§åˆ é™¤æ“ä½œã€‚</p><p><strong>path å±æ€§</strong></p><p>Cookie çš„path å±æ€§å¯ç”¨äºé™åˆ¶æŒ‡å®šCookie çš„å‘é€èŒƒå›´çš„æ–‡ä»¶ç›®å½•ã€‚ä¸è¿‡å¦æœ‰åŠæ³•å¯é¿å¼€è¿™é¡¹é™åˆ¶ï¼Œçœ‹æ¥å¯¹å…¶ä½œä¸ºå®‰å…¨æœºåˆ¶çš„æ•ˆæœä¸èƒ½æŠ±æœ‰æœŸå¾…ã€‚</p><p> <strong>domain å±æ€§</strong></p><p>é€šè¿‡Cookie çš„domain å±æ€§æŒ‡å®šçš„åŸŸåå¯åšåˆ°ä¸ç»“å°¾åŒ¹é…ä¸€è‡´ã€‚æ¯”å¦‚ï¼Œ å½“æŒ‡å®š<a href="http://example.com/">http://example.com</a> åï¼Œ é™¤<a href="http://example.com/">http://example.com</a> ä»¥å¤–ï¼Œ<a href="https://link.zhihu.com/?target=http://www.example.com">Example Domain</a>æˆ–www2.example.com ç­‰éƒ½å¯ä»¥å‘é€Cookieã€‚å› æ­¤ï¼Œé™¤äº†é’ˆå¯¹å…·ä½“æŒ‡å®šçš„å¤šä¸ªåŸŸåå‘é€Cookie ä¹‹å¤–ï¼Œä¸æŒ‡å®šdomain å±æ€§æ˜¾å¾—æ›´å®‰å…¨ã€‚</p><p> <strong>secure å±æ€§</strong></p><p>Cookie çš„secure å±æ€§ç”¨äºé™åˆ¶Web é¡µé¢ä»…åœ¨HTTPS å®‰å…¨è¿æ¥æ—¶ï¼Œæ‰å¯ä»¥å‘é€Cookieã€‚å‘é€Cookie æ—¶ï¼ŒæŒ‡å®šsecure å±æ€§çš„æ–¹æ³•å¦‚ä¸‹æ‰€ç¤ºã€‚<br>Set-Cookie: name=value; secure<br>ä»¥ä¸Šä¾‹å­ä»…å½“åœ¨https ï¼š//<a href="https://link.zhihu.com/?target=http://www.example.com/">Example Domain</a>ï¼ˆHTTPSï¼‰å®‰å…¨è¿æ¥çš„æƒ…å†µä¸‹æ‰ä¼šè¿›è¡ŒCookie çš„å›æ”¶ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå³ä½¿åŸŸåç›¸åŒæ—¶http : //<a href="https://link.zhihu.com/?target=http://www.example.com/">Example Domain</a>ï¼ˆHTTPï¼‰ ä¹Ÿä¸ä¼šå‘ç”ŸCookie å›æ”¶è¡Œä¸ºã€‚å½“çœç•¥secure å±æ€§æ—¶ï¼Œä¸è®ºHTTP è¿˜æ˜¯HTTPSï¼Œéƒ½ä¼šå¯¹Cookie è¿›è¡Œå›æ”¶ã€‚</p><p> <strong>HttpOnly å±æ€§</strong></p><p>Cookie çš„HttpOnly å±æ€§æ˜¯Cookie çš„æ‰©å±•åŠŸèƒ½ï¼Œå®ƒä½¿JavaScript è„šæœ¬æ— æ³•è·å¾—Cookieã€‚å…¶ä¸»è¦ç›®çš„ä¸ºé˜²æ­¢è·¨ç«™è„šæœ¬æ”»å‡»ï¼ˆCross-sitescriptingï¼ŒXSSï¼‰å¯¹Cookie çš„ä¿¡æ¯çªƒå–ã€‚<br>å‘é€æŒ‡å®šHttpOnly å±æ€§çš„Cookie çš„æ–¹æ³•å¦‚ä¸‹æ‰€ç¤ºã€‚<br>Set-Cookie: name=value; HttpOnly<br>é€šè¿‡ä¸Šè¿°è®¾ç½®ï¼Œé€šå¸¸ä»Web é¡µé¢å†…è¿˜å¯ä»¥å¯¹Cookie è¿›è¡Œè¯»å–æ“ä½œã€‚ä½†ä½¿ç”¨JavaScript çš„document.cookie å°±æ— æ³•è¯»å–é™„åŠ HttpOnly å±æ€§åçš„Cookie çš„å†…å®¹äº†ã€‚å› æ­¤ï¼Œä¹Ÿå°±æ— æ³•åœ¨XSS ä¸­åˆ©ç”¨JavaScript åŠ«æŒCookie äº†ã€‚<br>è™½ç„¶æ˜¯ç‹¬ç«‹çš„æ‰©å±•åŠŸèƒ½ï¼Œä½†Internet Explorer 6 SP1 ä»¥ä¸Šç‰ˆæœ¬ç­‰å½“ä¸‹çš„ä¸»æµæµè§ˆå™¨éƒ½å·²ç»æ”¯æŒè¯¥æ‰©å±•äº†ã€‚å¦å¤–é¡ºå¸¦ä¸€æï¼Œè¯¥æ‰©å±•å¹¶éæ˜¯ä¸ºäº†é˜²æ­¢XSS è€Œå¼€å‘çš„ã€‚</p><blockquote><p>ä»€ä¹ˆæ˜¯Session</p></blockquote><p>åœ¨è®¡ç®—æœºä¸­ï¼Œå°¤å…¶æ˜¯åœ¨ç½‘ç»œåº”ç”¨ä¸­ï¼Œç§°ä¸ºâ€œä¼šè¯æ§åˆ¶â€ã€‚Session å¯¹è±¡å­˜å‚¨ç‰¹å®šç”¨æˆ·ä¼šè¯æ‰€éœ€çš„å±æ€§åŠé…ç½®ä¿¡æ¯ã€‚è¿™æ ·ï¼Œå½“ç”¨æˆ·åœ¨åº”ç”¨ç¨‹åºçš„ Web é¡µä¹‹é—´è·³è½¬æ—¶ï¼Œå­˜å‚¨åœ¨ Session å¯¹è±¡ä¸­çš„å˜é‡å°†ä¸ä¼šä¸¢å¤±ï¼Œè€Œæ˜¯åœ¨æ•´ä¸ªç”¨æˆ·ä¼šè¯ä¸­ä¸€ç›´å­˜åœ¨ä¸‹å»ã€‚å½“ç”¨æˆ·è¯·æ±‚æ¥è‡ªåº”ç”¨ç¨‹åºçš„ Web é¡µæ—¶ï¼Œå¦‚æœè¯¥ç”¨æˆ·è¿˜æ²¡æœ‰ä¼šè¯ï¼Œåˆ™ Web æœåŠ¡å™¨å°†è‡ªåŠ¨åˆ›å»ºä¸€ä¸ª Session å¯¹è±¡ã€‚å½“ä¼šè¯è¿‡æœŸæˆ–è¢«æ”¾å¼ƒåï¼ŒæœåŠ¡å™¨å°†ç»ˆæ­¢è¯¥ä¼šè¯ã€‚Session å¯¹è±¡æœ€å¸¸è§çš„ä¸€ä¸ªç”¨æ³•å°±æ˜¯å­˜å‚¨ç”¨æˆ·çš„é¦–é€‰é¡¹ã€‚ä¾‹å¦‚ï¼Œå¦‚æœç”¨æˆ·æŒ‡æ˜ä¸å–œæ¬¢æŸ¥çœ‹å›¾å½¢ï¼Œå°±å¯ä»¥å°†è¯¥ä¿¡æ¯å­˜å‚¨åœ¨ Session å¯¹è±¡ä¸­ã€‚</p><blockquote><p>é€šè¿‡Cookieæ¥ç®¡ç†Session</p></blockquote><p>åŸºäºè¡¨å•è®¤è¯çš„æ ‡å‡†è§„èŒƒå°šæœªæœ‰å®šè®ºï¼Œä¸€èˆ¬ä¼šä½¿ç”¨Cookie æ¥ç®¡ç†Sessionï¼ˆä¼šè¯ï¼‰ã€‚<br>åŸºäºè¡¨å•è®¤è¯æœ¬èº«æ˜¯é€šè¿‡æœåŠ¡å™¨ç«¯çš„Web åº”ç”¨ï¼Œå°†å®¢æˆ·ç«¯å‘é€è¿‡æ¥çš„ç”¨æˆ·ID å’Œå¯†ç ä¸ä¹‹å‰ç™»å½•è¿‡çš„ä¿¡æ¯åšåŒ¹é…æ¥è¿›è¡Œè®¤è¯çš„ã€‚<br>ä½†é‰´äºHTTP æ˜¯æ— çŠ¶æ€åè®®ï¼Œä¹‹å‰å·²è®¤è¯æˆåŠŸçš„ç”¨æˆ·çŠ¶æ€æ— æ³•é€šè¿‡åè®®å±‚é¢ä¿å­˜ä¸‹æ¥ã€‚å³ï¼Œæ— æ³•å®ç°çŠ¶æ€ç®¡ç†ï¼Œå› æ­¤å³ä½¿å½“è¯¥ç”¨æˆ·ä¸‹ä¸€æ¬¡ç»§ç»­è®¿é—®ï¼Œä¹Ÿæ— æ³•åŒºåˆ†ä»–ä¸å…¶ä»–çš„ç”¨æˆ·ã€‚äºæ˜¯æˆ‘ä»¬ä¼šä½¿ç”¨Cookie æ¥ç®¡ç†Sessionï¼Œä»¥å¼¥è¡¥HTTP åè®®ä¸­ä¸å­˜åœ¨çš„çŠ¶æ€ç®¡ç†åŠŸèƒ½ã€‚</p><p><img src="https://gitee.com/rain-sky/images/raw/master/20210808203421.png"></p><p>Session ç®¡ç†åŠCookie çŠ¶æ€ç®¡ç†</p><ul><li>æ­¥éª¤ä¸€ï¼šå®¢æˆ·ç«¯æŠŠç”¨æˆ·ID å’Œå¯†ç ç­‰ç™»å½•ä¿¡æ¯æ”¾å…¥æŠ¥æ–‡çš„å®ä½“éƒ¨åˆ†ï¼Œé€šå¸¸æ˜¯ä»¥POST æ–¹æ³•æŠŠè¯·æ±‚å‘é€ç»™æœåŠ¡å™¨ã€‚è€Œè¿™æ—¶ï¼Œä¼šä½¿ç”¨HTTPS é€šä¿¡æ¥è¿›è¡ŒHTML è¡¨å•ç”»é¢çš„æ˜¾ç¤ºå’Œç”¨æˆ·è¾“å…¥æ•°æ®çš„å‘é€ã€‚</li><li>æ­¥éª¤äºŒï¼šæœåŠ¡å™¨ä¼šå‘æ”¾ç”¨ä»¥è¯†åˆ«ç”¨æˆ·çš„Session IDã€‚é€šè¿‡éªŒè¯ä»å®¢æˆ·ç«¯å‘é€è¿‡æ¥çš„ç™»å½•ä¿¡æ¯è¿›è¡Œèº«ä»½è®¤è¯ï¼Œç„¶åæŠŠç”¨æˆ·çš„è®¤è¯çŠ¶æ€ä¸Session ID ç»‘å®šåè®°å½•åœ¨æœåŠ¡å™¨ç«¯ã€‚<br>å‘å®¢æˆ·ç«¯è¿”å›å“åº”æ—¶ï¼Œä¼šåœ¨é¦–éƒ¨å­—æ®µSet-Cookie å†…å†™å…¥Session IDï¼ˆå¦‚PHPSESSID=028a8câ€¦ï¼‰ã€‚<br>ä½ å¯ä»¥æŠŠSession ID æƒ³è±¡æˆä¸€ç§ç”¨ä»¥åŒºåˆ†ä¸åŒç”¨æˆ·çš„ç­‰ä½å·ã€‚ç„¶è€Œï¼Œå¦‚æœSession ID è¢«ç¬¬ä¸‰æ–¹ç›—èµ°ï¼Œå¯¹æ–¹å°±å¯ä»¥ä¼ªè£…æˆä½ çš„èº«ä»½è¿›è¡Œæ¶æ„æ“ä½œäº†ã€‚å› æ­¤å¿…é¡»é˜²æ­¢Session ID è¢«ç›—ï¼Œæˆ–è¢«çŒœå‡ºã€‚ä¸ºäº†åšåˆ°è¿™ç‚¹ï¼ŒSession ID åº”ä½¿ç”¨éš¾ä»¥æ¨æµ‹çš„å­—ç¬¦ä¸²ï¼Œä¸”æœåŠ¡å™¨ç«¯ä¹Ÿéœ€è¦è¿›è¡Œæœ‰æ•ˆæœŸçš„ç®¡ç†ï¼Œä¿è¯å…¶å®‰å…¨æ€§ã€‚<br>å¦å¤–ï¼Œä¸ºå‡è½»è·¨ç«™è„šæœ¬æ”»å‡»ï¼ˆXSSï¼‰é€ æˆçš„æŸå¤±ï¼Œå»ºè®®äº‹å…ˆåœ¨Cookie å†…åŠ ä¸Šhttponly å±æ€§ã€‚</li><li>æ­¥éª¤ä¸‰ï¼šå®¢æˆ·ç«¯æ¥æ”¶åˆ°ä»æœåŠ¡å™¨ç«¯å‘æ¥çš„Session ID åï¼Œä¼šå°†å…¶ä½œä¸ºCookie ä¿å­˜åœ¨æœ¬åœ°ã€‚ä¸‹æ¬¡å‘æœåŠ¡å™¨å‘é€è¯·æ±‚æ—¶ï¼Œæµè§ˆå™¨ä¼šè‡ªåŠ¨å‘é€Cookieï¼Œæ‰€ä»¥Session ID ä¹Ÿéšä¹‹å‘é€åˆ°æœåŠ¡å™¨ã€‚æœåŠ¡å™¨ç«¯å¯é€šè¿‡éªŒè¯æ¥æ”¶åˆ°çš„Session ID è¯†åˆ«ç”¨æˆ·å’Œå…¶è®¤è¯çŠ¶æ€ã€‚</li></ul><h3 id="ç®€å•æµ‹è¯•"><a href="#ç®€å•æµ‹è¯•" class="headerlink" title="ç®€å•æµ‹è¯•"></a>ç®€å•æµ‹è¯•</h3><p>é¡µé¢</p><figure class="highlight html"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&lt;%@ page contentType="text/html;charset=UTF-8" language="java" %&gt;</span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>$Title$<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span>Testè¡¨å•<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">"/test"</span> <span class="attr">method</span>=<span class="string">"get"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">name</span>=<span class="string">"a"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">name</span>=<span class="string">"b"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">button</span> <span class="attr">type</span>=<span class="string">"submit"</span>&gt;</span>æäº¤<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><p>åç«¯æˆ‘ä»¬æœ‰è¿™ä¹ˆä¿©ä¸ªæ¥å£</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">    <span class="meta">@RequestMapping("/test")</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">mytest</span><span class="params">(HttpServletRequest request,HttpServletResponse response)</span> <span class="keyword">throws</span> IOException </span>{</span><br><span class="line">        HttpSession session = request.getSession();</span><br><span class="line">        request.setCharacterEncoding(<span class="string">"utf-8"</span>);</span><br><span class="line">        System.out.println(request.getRemoteAddr());</span><br><span class="line">        System.out.println(request.getParameter(<span class="string">"a"</span>));</span><br><span class="line">        System.out.println(request.getMethod());</span><br><span class="line">        System.out.println(request.getQueryString());</span><br><span class="line">        System.out.println(Arrays.toString(request.getCookies()));</span><br><span class="line">        System.out.println(request.getSession());</span><br><span class="line">        response.setContentType(<span class="string">"text/html;charset=utf-8"</span>);</span><br><span class="line">        response.getWriter().print(<span class="string">"hello world!"</span>);</span><br><span class="line">        Cookie cookie = <span class="keyword">new</span> Cookie(<span class="string">"user"</span>,<span class="string">"123123"</span>);</span><br><span class="line">        response.addCookie(cookie);</span><br><span class="line">        response.getWriter().close();</span><br><span class="line"></span><br><span class="line">    }</span><br><span class="line"><span class="comment">//è¾“å‡º-------------------------------------------------------------------------------------</span></span><br><span class="line"><span class="number">0</span>:<span class="number">0</span>:<span class="number">0</span>:<span class="number">0</span>:<span class="number">0</span>:<span class="number">0</span>:<span class="number">0</span>:<span class="number">1</span></span><br><span class="line"><span class="number">1</span></span><br><span class="line">GET</span><br><span class="line">a=<span class="number">1</span>&amp;b=<span class="number">2</span></span><br><span class="line">[javax.servlet.http.Cookie@182e275a, javax.servlet.http.Cookie@5028c586, javax.servlet.http.Cookie@1653a78a, javax.servlet.http.Cookie@6ed70ac5, javax.servlet.http.Cookie@72af4b2]</span><br><span class="line">org.apache.catalina.session.StandardSessionFacade@<span class="number">11380524</span></span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure><p>å¯åŠ¨æœåŠ¡ï¼Œæˆ‘ä»¬é¦–å…ˆè®¿é—®/testï¼Œæ§åˆ¶å°æŸ¥çœ‹ï¼Œå¯ä»¥çœ‹åˆ°</p><p>è¯·æ±‚æŠ¥æ–‡ä¸­æˆ‘ä»¬å¯ä»¥çœ‹åˆ°è¯·æ±‚å‚æ•°ï¼Œurlä¸Šï¼Œè¯·æ±‚å¤´ä¸­è‡ªåŠ¨æºå¸¦ä¿å­˜çš„æ‰€æœ‰cookie</p><p><img src="https://gitee.com/rain-sky/images/raw/master/20210808202412.png"></p><p>å†çœ‹çœ‹å“åº”å¤´ï¼Œæˆ‘ä»¬æœ‰ç»™ä»–è®¾ç½®ä¸€ä¸ªcookieï¼Œçœ‹çœ‹æ˜¯å¦æ¥åˆ°ï¼Œå¯ä»¥çœ‹åˆ°æ ¼å¼åŒ–åçš„å“åº”å¤´ä¸­æ˜¯æœ‰æˆ‘ä»¬è®¾ç½®çš„cookieçš„</p><p><img src="https://gitee.com/rain-sky/images/raw/master/20210808202803.png"></p><p>å†çœ‹çœ‹æµè§ˆå™¨cookieä¿¡æ¯</p><img src="https://gitee.com/rain-sky/images/raw/master/20210808202941.png" style="zoom:67%;"><blockquote><p>æ€è€ƒä¸€ä¸‹ï¼Œæœ‰äº†cookieä¹‹åæˆ‘ä»¬å¯ä»¥å¹²ä»€ä¹ˆï¼Ÿ(ãƒ»âˆ€ãƒ»(ãƒ»âˆ€ãƒ»(ãƒ»âˆ€ãƒ»*)</p></blockquote>]]></content>
      
      
      
        <tags>
            
            <tag> web </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>mybatis plus</title>
      <link href="2021/08/08/mybatis-plus/"/>
      <url>2021/08/08/mybatis-plus/</url>
      
        <content type="html"><![CDATA[<blockquote><p>æŒ‡å¼•ï¼š<a href="https://mp.baomidou.com/guide/">https://mp.baomidou.com/guide/</a></p></blockquote><h2 id="ä»‹ç»"><a href="#ä»‹ç»" class="headerlink" title="ä»‹ç»"></a>ä»‹ç»</h2><p>MyBatis-Plus (opens new window)ï¼ˆç®€ç§° MPï¼‰æ˜¯ä¸€ä¸ª MyBatis (opens new window)çš„å¢å¼ºå·¥å…·ï¼Œåœ¨ MyBatis çš„åŸºç¡€ä¸Šåªåšå¢å¼ºä¸åšæ”¹å˜ï¼Œä¸ºç®€åŒ–å¼€å‘ã€æé«˜æ•ˆç‡è€Œç”Ÿã€‚</p><p><strong>æ¡†æ¶ç»“æ„</strong></p><p><img src="https://gitee.com/rain-sky/images/raw/master/20210809100927.jpeg"></p><h2 id="å¼€å§‹"><a href="#å¼€å§‹" class="headerlink" title="å¼€å§‹"></a>å¼€å§‹</h2><h3 id="å¿«é€Ÿhello-worldï¼"><a href="#å¿«é€Ÿhello-worldï¼" class="headerlink" title="å¿«é€Ÿhello worldï¼"></a>å¿«é€Ÿhello worldï¼</h3><blockquote><p>springbootä¸­ä½¿ç”¨mybatis-plus</p></blockquote><p>åŸºæœ¬é¡¹ç›®ç»“æ„ï¼Œå¯åŠ¨ç±»åŠ ä¸Š@MapperScan(â€œcom.chen.mapperâ€)</p><img src="https://gitee.com/rain-sky/images/raw/master/20210809145640.png" style="zoom: 67%;"><p><span class="github-emoji"><span>1âƒ£</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/0031-20e3.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span> maven</p><figure class="highlight xml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.baomidou<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mybatis-plus-boot-starter<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.0.5<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.projectlombok<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>lombok<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--å¦‚æœéœ€è¦è¿æ¥MySQLå†å¯¼å…¥ä»¥ä¸‹ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-jdbc<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>mysql<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mysql-connector-java<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><p><span class="github-emoji"><span>2âƒ£</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/0032-20e3.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span> application.propertise</p><figure class="highlight properties"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">spring.datasource.driver-class-name</span>=<span class="string">com.mysql.cj.jdbc.Driver</span></span><br><span class="line"><span class="comment"># æ­¤å¤„ä½¿ç”¨äº†MySQL8çš„é©±åŠ¨ï¼Œæ‰€ä»¥urléœ€è¦å¸¦ä¸Šæ—¶åŒºè®¾ç½®</span></span><br><span class="line"><span class="meta">spring.datasource.url</span>=<span class="string">jdbc:mysql://localhost:3306/mybatis_plus?useSSL=false&amp;useUnicode=true&amp;characterEncoding=UTF-8&amp;timeZone=UTC</span></span><br><span class="line"><span class="meta">spring.datasource.password</span>=<span class="string">123123</span></span><br><span class="line"><span class="meta">spring.datasource.username</span>=<span class="string">root</span></span><br></pre></td></tr></tbody></table></figure><p><span class="github-emoji"><span>3âƒ£</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/0033-20e3.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span> pojo</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="meta">@NoArgsConstructor</span></span><br><span class="line"><span class="meta">@AllArgsConstructor</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">User</span> </span>{</span><br><span class="line">    <span class="keyword">private</span> Long id;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> Integer age;</span><br><span class="line">    <span class="keyword">private</span> String email;</span><br><span class="line">}</span><br><span class="line"><span class="comment">//--------------å¯¹åº”è¡¨------------------------------</span></span><br><span class="line">CREATE TABLE user</span><br><span class="line">(</span><br><span class="line"><span class="function">id <span class="title">BIGINT</span><span class="params">(<span class="number">20</span>)</span> NOT NULL COMMENT 'ä¸»é”®ID',</span></span><br><span class="line"><span class="function">name <span class="title">VARCHAR</span><span class="params">(<span class="number">30</span>)</span> NULL DEFAULT NULL COMMENT 'å§“å',</span></span><br><span class="line"><span class="function">age <span class="title">INT</span><span class="params">(<span class="number">11</span>)</span> NULL DEFAULT NULL COMMENT 'å¹´é¾„',</span></span><br><span class="line"><span class="function">email <span class="title">VARCHAR</span><span class="params">(<span class="number">50</span>)</span> NULL DEFAULT NULL COMMENT 'é‚®ç®±',</span></span><br><span class="line"><span class="function">PRIMARY <span class="title">KEY</span> <span class="params">(id)</span></span></span><br><span class="line"><span class="function">)</span>;</span><br></pre></td></tr></tbody></table></figure><p><span class="github-emoji"><span>4âƒ£</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/0034-20e3.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span> mapper</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Repository</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">UserMapper</span> <span class="keyword">extends</span> <span class="title">BaseMapper</span>&lt;<span class="title">User</span>&gt; </span>{</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p><span class="github-emoji"><span>ğŸ’‡</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f487.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span>åŸºæœ¬å®Œæˆï¼Œæµ‹è¯•çœ‹çœ‹</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Autowired</span></span><br><span class="line"><span class="keyword">private</span> UserMapper userMapper;</span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">contextLoads</span><span class="params">()</span> </span>{</span><br><span class="line">    <span class="comment">//å‚æ•°wrapperä¸ºæ¡ä»¶æ„é€ å™¨</span></span><br><span class="line">    List&lt;User&gt; list = userMapper.selectList(<span class="keyword">null</span>);</span><br><span class="line">    <span class="keyword">for</span> (User user : list) {</span><br><span class="line">        System.out.println(user.toString());</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p><span class="github-emoji"><span>ğŸ’¦</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f4a6.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span> è¾“å‡ºæƒ…å†µ</p><figure class="highlight text"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">User(id=1, name=Jone, age=18, email=test1@baomidou.com)</span><br><span class="line">User(id=2, name=Jack, age=20, email=test2@baomidou.com)</span><br><span class="line">User(id=3, name=Tom, age=28, email=test3@baomidou.com)</span><br><span class="line">User(id=4, name=Sandy, age=21, email=test4@baomidou.com)</span><br><span class="line">User(id=5, name=Billie, age=24, email=test5@baomidou.com)</span><br></pre></td></tr></tbody></table></figure><p><span class="github-emoji"><span>ğŸ”š</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f51a.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span>è‡³æ­¤ä¸€ä¸ªåŸºæœ¬çš„hello worldå·²ç»å®Œæˆï¼Œæˆ‘ä»¬ä¸ºå†™mybatis.xmlï¼Œä¹Ÿæœªç¼–å†™ä»»ä½•ä¸€ä¸ªmapper.xmlï¼Œå¦‚æ­¤ç®€å•æˆ‘ä»¬ä¾¿å®Œæˆäº†ä¸€ä¸ªåŸºç¡€çš„crudç¨‹åºã€‚</p><h3 id="é…ç½®æ—¥å¿—"><a href="#é…ç½®æ—¥å¿—" class="headerlink" title="é…ç½®æ—¥å¿—"></a>é…ç½®æ—¥å¿—</h3><p>ä½¿ç”¨æ ‡å‡†æ—¥å¿—è¾“å‡ºï¼Œæƒ³ä½¿ç”¨log4jéœ€è¦å¯¼å…¥ä¾èµ–</p><figure class="highlight properties"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">mybatis-plus.configuration.log-impl</span>=<span class="string">org.apache.ibatis.logging.stdout.StdOutImpl</span></span><br></pre></td></tr></tbody></table></figure><p>æŸ¥çœ‹ä¸Šè¿°hello world ç¨‹åºçš„æ—¥å¿—è¾“å‡ºï¼Œå¯ä»¥çœ‹åˆ°åˆ›å»ºsqlsessionï¼Œä½¿ç”¨é»˜è®¤hikariæ•°æ®æºï¼Œjdbcè¿æ¥ï¼ŒæŸ¥è¯¢sqlï¼ŒæŸ¥è¯¢æƒ…å†µ</p><figure class="highlight tex"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">Creating a new SqlSession</span><br><span class="line">SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@73fc518f] was not registered for synchronization because synchronization is not active</span><br><span class="line">JDBC Connection [HikariProxyConnection@397857830 wrapping com.mysql.cj.jdbc.ConnectionImpl@5580d62f] will not be managed by Spring</span><br><span class="line">==&gt;  Preparing: SELECT id,name,age,email FROM user </span><br><span class="line">==&gt; Parameters: </span><br><span class="line">&lt;==    Columns: id, name, age, email</span><br><span class="line">&lt;==        Row: 1, Jone, 18, test1@baomidou.com</span><br><span class="line">&lt;==        Row: 2, Jack, 20, test2@baomidou.com</span><br><span class="line">&lt;==        Row: 3, Tom, 28, test3@baomidou.com</span><br><span class="line">&lt;==        Row: 4, Sandy, 21, test4@baomidou.com</span><br><span class="line">&lt;==        Row: 5, Billie, 24, test5@baomidou.com</span><br><span class="line">&lt;==      Total: 5</span><br><span class="line">Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@73fc518f]</span><br><span class="line">User(id=1, name=Jone, age=18, email=test1@baomidou.com)</span><br><span class="line">User(id=2, name=Jack, age=20, email=test2@baomidou.com)</span><br><span class="line">User(id=3, name=Tom, age=28, email=test3@baomidou.com)</span><br><span class="line">User(id=4, name=Sandy, age=21, email=test4@baomidou.com)</span><br><span class="line">User(id=5, name=Billie, age=24, email=test5@baomidou.com)</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure><h3 id="CRUD"><a href="#CRUD" class="headerlink" title="CRUD"></a>CRUD</h3><blockquote><p>å¢åŠ </p></blockquote><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">insertTest</span><span class="params">()</span></span>{</span><br><span class="line">    User user = <span class="keyword">new</span> User();</span><br><span class="line">    user.setAge(<span class="number">18</span>);</span><br><span class="line">    user.setName(<span class="string">"rain"</span>);</span><br><span class="line">    user.setEmail(<span class="string">"1816046563@qq.com"</span>);</span><br><span class="line">    <span class="keyword">int</span> insert = userMapper.insert(user);</span><br><span class="line">    System.out.println(insert);</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p><span class="github-emoji"><span>â˜</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/2601.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span>è¾“å‡º</p><figure class="highlight tex"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">==&gt;  Preparing: INSERT INTO user ( id, name, age, email ) VALUES ( ?, ?, ?, ? ) </span><br><span class="line">==&gt; Parameters: 1424633039211765761(Long), rain(String), 18(Integer), 1816046563@qq.com(String)</span><br><span class="line">&lt;==    Updates: 1</span><br><span class="line">Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@62d73ead]</span><br><span class="line">1</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure><p><span class="github-emoji"><span>â“</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/2753.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span>æˆ‘ä»¬æ²¡æœ‰ç»™ä»–è®¾ç½®ä¸»é”®IDï¼Œä»–è‡ªå·±ç”Ÿæˆäº†ä¸€ä¸ªï¼ˆlongå‹ï¼‰ï¼Œè¿™æ˜¯å’‹æ¥çš„</p><p><span class="github-emoji"><span>ğŸ’</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f481.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span>ç­”æ¡ˆæ˜¯é›ªèŠ±ç®—æ³•ç”Ÿæˆ</p><p>åˆ†å¸ƒå¼å”¯ä¸€IDç”Ÿæˆæ³•ï¼š</p><p>æ•°æ®åº“è‡ªå¢å­—æ®µï¼Œ UUIDï¼Œredisç”Ÿæˆï¼Œé›ªèŠ±ç®—æ³•</p><blockquote><p>æ›´æ–°</p></blockquote><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">uptateTest</span><span class="params">()</span></span>{</span><br><span class="line">    User user = <span class="keyword">new</span> User();</span><br><span class="line">    user.setId(<span class="number">1424633039211765761L</span>);</span><br><span class="line">    user.setName(<span class="string">"snow"</span>);</span><br><span class="line">    <span class="keyword">int</span> i = userMapper.updateById(user);</span><br><span class="line">    System.out.println(i);</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p><span class="github-emoji"><span>ğŸ’¦</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f4a6.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span>è¾“å‡º</p><figure class="highlight tex"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">==&gt;  Preparing: UPDATE user SET name=? WHERE id=? </span><br><span class="line">==&gt; Parameters: snow(String), 1424633039211765761(Long)</span><br><span class="line">&lt;==    Updates: 1</span><br><span class="line">Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@73fc518f]</span><br><span class="line">1</span><br></pre></td></tr></tbody></table></figure><p><span class="github-emoji"><span>ğŸ…°</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f170.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span>å¯ä»¥çœ‹åˆ°æ ¹æ®æ¡ä»¶è‡ªåŠ¨æ‹¼æ¥äº†SQL</p><p>å¯ä»¥çœ‹åˆ°ä¹‹å‰å¢åŠ çš„ç”¨æˆ·çš„åç§°å·²ç»è¢«ä¿®æ”¹</p><p><img src="https://gitee.com/rain-sky/images/raw/master/20210809155340.png"></p><blockquote><p>æŸ¥è¯¢æ“ä½œ</p></blockquote><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//æŸ¥è¯¢æµ‹è¯•,æ‰¹é‡æŸ¥è¯¢</span></span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">selectByBathId</span><span class="params">()</span></span>{</span><br><span class="line">    <span class="comment">//æŸ¥è¯¢1ï¼Œ2ï¼Œ3ï¼Œ4å·ç”¨æˆ·</span></span><br><span class="line">    List&lt;User&gt; list = userMapper.selectBatchIds(Arrays.asList(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>));</span><br><span class="line">    <span class="keyword">for</span> (User user : list) {</span><br><span class="line">        System.out.println(user.toString());</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"><span class="comment">//ä½¿ç”¨mapæ–¹å¼çš„æ¡ä»¶æŸ¥è¯¢</span></span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">selectByMap</span><span class="params">()</span></span>{</span><br><span class="line">    HashMap&lt;String, Object&gt; map = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">    map.put(<span class="string">"name"</span>,<span class="string">"kamisato"</span>);</span><br><span class="line">    List&lt;User&gt; list = userMapper.selectByMap(map);</span><br><span class="line">    list.forEach(System.out::println);</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p><span class="github-emoji"><span>ğŸ“ƒ</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f4c3.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span> åˆ†é¡µæŸ¥è¯¢</p><h3 id="ä¹è§‚é”é…ç½®"><a href="#ä¹è§‚é”é…ç½®" class="headerlink" title="ä¹è§‚é”é…ç½®"></a>ä¹è§‚é”é…ç½®</h3><p><a href="https://www.jianshu.com/p/5a081ff5de58">æ–‡ç« æ¨è</a></p><p><span class="github-emoji"><span>1âƒ£</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/0031-20e3.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span>æ‚²è§‚é”ï¼šæ€»æ˜¯è®¤ä¸ºä¼šå‡ºç°é—®é¢˜ï¼Œæ— è®ºå¹²ä»€ä¹ˆéƒ½ä¸Šé”</p><p><span class="github-emoji"><span>2âƒ£</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/0032-20e3.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span>ä¹è§‚é”ï¼šæ€»æ˜¯è®¤ä¸ºä¸ä¼šå‡ºé—®é¢˜ï¼Œæ— è®ºå¹²ä»€ä¹ˆéƒ½ä¸ä¸Šé”</p><p>é€šè¿‡ä¹è§‚é”+è‡ªæ—‹çš„æ–¹å¼ï¼Œè§£å†³æ•°æ®æ›´æ–°çš„çº¿ç¨‹å®‰å…¨é—®é¢˜ï¼Œè€Œä¸”é”ç²’åº¦æ¯”äº’æ–¥é”ä½ï¼Œå¹¶å‘æ€§èƒ½å¥½ã€‚</p><p>ä¹è§‚é”æœºåˆ¶ï¼š</p><ol><li>æŠ½å‡ºè®°å½•ï¼Œè·å–å½“å‰version</li><li>æ›´æ–°æ—¶ï¼Œå¸¦ä¸Šversion</li><li>æ‰§è¡Œæ›´æ–°æ—¶ï¼Œset version where version = oldVersion</li><li>versionç‰ˆæœ¬ä¸ç›¸é…ï¼Œæ›´æ–°å¤±è´¥</li></ol><blockquote><p>ä¹è§‚é”çš„å®ç°æ–¹å¼å¯ä»¥æ˜¯åœ¨è®°å½•ä¸­æ·»åŠ ä¸€ä¸ªversionå­—æ®µï¼Œåœ¨æ¯æ¬¡æ›´æ–°å‰è·å–è¯¥ç‰ˆæœ¬å­—æ®µï¼Œæ›´æ–°æ—¶æ¯”å¯¹ç‰ˆæœ¬å­—æ®µï¼Œå¦‚æœæ›´æ–°æˆåŠŸç‰ˆæœ¬å­—æ®µ+1ï¼Œè¿™é‡Œä»‹ç»MPçš„ä¹è§‚é”å®ç°æ–¹å¼</p></blockquote><p><span class="github-emoji"><span>1âƒ£</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/0031-20e3.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span>userè¡¨æ·»åŠ versionå­—æ®µï¼Œintå‹ï¼Œé»˜è®¤å€¼ä¸º1</p><p><span class="github-emoji"><span>2âƒ£</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/0032-20e3.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span>æ³¨å…¥ä¹è§‚é”æ’ä»¶</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@MapperScan("com.chen.mapper")</span></span><br><span class="line"><span class="meta">@EnableTransactionManagement</span></span><br><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MybatisPlusConfig</span> </span>{</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æ—§ç‰ˆ,mybatis3.0.5ç‰ˆæœ¬æ–¹æ³•</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> OptimisticLockerInterceptor <span class="title">optimisticLockerInterceptor</span><span class="params">()</span> </span>{</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> OptimisticLockerInterceptor();</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æ–°ç‰ˆ</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line"><span class="comment">//    @Bean</span></span><br><span class="line"><span class="comment">//    public MybatisPlusInterceptor mybatisPlusInterceptor() {</span></span><br><span class="line"><span class="comment">//        MybatisPlusInterceptor mybatisPlusInterceptor = new MybatisPlusInterceptor();</span></span><br><span class="line"><span class="comment">//        mybatisPlusInterceptor.addInnerInterceptor(new OptimisticLockerInnerInterceptor());</span></span><br><span class="line"><span class="comment">//        return mybatisPlusInterceptor;</span></span><br><span class="line"><span class="comment">//    }</span></span><br><span class="line">}</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure><p><span class="github-emoji"><span>3âƒ£</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/0033-20e3.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span>useræ·»åŠ versionå­—æ®µå¹¶åŠ ä¸Š@Version</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="meta">@NoArgsConstructor</span></span><br><span class="line"><span class="meta">@AllArgsConstructor</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">User</span> </span>{</span><br><span class="line">    <span class="meta">@TableId(type = IdType.ID_WORKER)</span></span><br><span class="line">    <span class="keyword">private</span> Long id;</span><br><span class="line">...</span><br><span class="line">    <span class="meta">@Version</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> version;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p><span class="github-emoji"><span>4âƒ£</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/0034-20e3.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span>æµ‹è¯•ï¼Œä¿®æ”¹ä¸€ä¸ªç”¨æˆ·ä¿¡æ¯ï¼Œæ¨¡æ‹Ÿæ’é˜Ÿå¤šçº¿ç¨‹æ“ä½œ</p><p><span class="github-emoji"><span>âš </span><img src="https://github.githubassets.com/images/icons/emoji/unicode/26a0.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span>æ³¨æ„ï¼Œversionåˆå§‹å€¼ä¸èƒ½ä¸ºnull</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">versionTest</span><span class="params">()</span></span>{</span><br><span class="line">    <span class="comment">//æ¨¡æ‹Ÿçº¿ç¨‹1ä¿®æ”¹IDä¸º1çš„ç”¨æˆ·æ•°æ®</span></span><br><span class="line">    User user1 = userMapper.selectById(<span class="number">1L</span>);</span><br><span class="line">    user1.setEmail(<span class="string">"123@qq.com"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//æ¨¡æ‹Ÿçº¿ç¨‹2ä¸­é€”ä¿®æ”¹IDä¸º1çš„ç”¨æˆ·æ•°æ®</span></span><br><span class="line">    User user2 = userMapper.selectById(<span class="number">1L</span>);</span><br><span class="line">    user2.setEmail(<span class="string">"321@qq.com"</span>);</span><br><span class="line">    <span class="keyword">int</span> i = userMapper.updateById(user2);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//æ¨¡æ‹Ÿçº¿ç¨‹2å·²ç»æ”¹å˜äº†IDä¸º1ç”¨æˆ·æ•°æ®åï¼Œçº¿ç¨‹1å†æäº¤æ•°æ®</span></span><br><span class="line">    <span class="keyword">int</span> j = userMapper.updateById(user1);</span><br><span class="line">    System.out.println(<span class="string">"user2æäº¤è¿”å›ï¼š"</span>+j+<span class="string">"\n"</span>+<span class="string">"user1æäº¤è¿”å›ï¼š"</span>+i);</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p><span class="github-emoji"><span>ğŸ’¦</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f4a6.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span>è¾“å‡ºï¼Œå¯ä»¥çœ‹åˆ°æ‰§è¡Œæ›´æ–°ä¼šå¸¦ä¸Šversionå­—æ®µï¼Œç”±è¾“å‡ºå¯ä»¥çŸ¥é“usr1æ›´æ–°å¤±è´¥</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//USER2å…ˆæäº¤</span></span><br><span class="line">==&gt;  Preparing: UPDATE user SET name=?, age=?, email=?, gmt_modified=?, version=? WHERE id=? AND version=? </span><br><span class="line">==&gt; Parameters: Jone(String), <span class="number">18</span>(Integer), <span class="number">321</span><span class="meta">@qq</span>.com(String), <span class="number">2021</span>-08-<span class="number">10</span> <span class="number">11</span>:<span class="number">29</span>:<span class="number">09.634</span>(Timestamp), <span class="number">3</span>(Integer), <span class="number">1</span>(Long), <span class="number">1</span>(Integer)</span><br><span class="line">&lt;==    Updates: <span class="number">1</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">==&gt;  Preparing: UPDATE user SET name=?, age=?, email=?, gmt_modified=?, version=? WHERE id=? AND version=? </span><br><span class="line">==&gt; Parameters: Jone(String), <span class="number">18</span>(Integer), <span class="number">123</span><span class="meta">@qq</span>.com(String), <span class="number">2021</span>-08-<span class="number">10</span> <span class="number">11</span>:<span class="number">29</span>:<span class="number">09.743</span>(Timestamp), <span class="number">3</span>(Integer), <span class="number">1</span>(Long), <span class="number">1</span>(Integer)    <span class="comment">//USER2æäº¤åæ­¤æ—¶versionå·²ç»æ˜¯2äº†,æ•…ç‰ˆæœ¬æ¯”å¯¹å¤±è´¥</span></span><br><span class="line">&lt;==    Updates: <span class="number">0</span></span><br><span class="line">user2æäº¤è¿”å›ï¼š<span class="number">1</span></span><br><span class="line">user1æäº¤è¿”å›ï¼š<span class="number">0</span></span><br></pre></td></tr></tbody></table></figure><h2 id="æ‰©å±•"><a href="#æ‰©å±•" class="headerlink" title="æ‰©å±•"></a>æ‰©å±•</h2><h3 id="è‡ªåŠ¨å¡«å……"><a href="#è‡ªåŠ¨å¡«å……" class="headerlink" title="è‡ªåŠ¨å¡«å……"></a>è‡ªåŠ¨å¡«å……</h3><p><span class="github-emoji"><span>â“</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/2753.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span> ä¸€èˆ¬æ¥è¯´æ‰€æœ‰çš„æ•°æ®åº“è¡¨éƒ½éœ€è¦æœ‰gmt_createï¼Œgmt_modifiedä¸¤ä¸ªå­—æ®µï¼Œåˆ›å»ºæ—¶é—´ï¼Œä¿®æ”¹æ—¶é—´ï¼Œä½†æ˜¯æˆ‘ä»¬ä¸å¸Œæœ›æ‰‹åŠ¨å»è®¾ç½®ä»–ï¼Œå¸Œæœ›æœ‰è‡ªåŠ¨åŒ–çš„æ“ä½œèƒ½å¤Ÿå¡«å……ä»–ã€‚</p><blockquote><p>æ•°æ®åº“çº§åˆ«</p></blockquote><p>åœ¨æˆ‘ä»¬ä¸Šè¿°userè¡¨ä¸­å¢åŠ è¿™ä¸¤ä¸ªå­—æ®µï¼Œé»˜è®¤å€¼ä¸ºå½“å‰æ—¶é—´æˆ³</p><p><img src="https://gitee.com/rain-sky/images/raw/master/20210809162150.png"></p><p><span class="github-emoji"><span>â­</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/23ed.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span>åŒæ—¶æ›´æ–°å®ä½“ç±»</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="meta">@NoArgsConstructor</span></span><br><span class="line"><span class="meta">@AllArgsConstructor</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">User</span> </span>{</span><br><span class="line">    <span class="meta">@TableId(type = IdType.ID_WORKER)</span></span><br><span class="line">    <span class="keyword">private</span> Long id;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> Integer age;</span><br><span class="line">    <span class="keyword">private</span> String email;</span><br><span class="line">    <span class="keyword">private</span> Date gmtCreate;</span><br><span class="line">    <span class="keyword">private</span> Date gmtModified;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>æµ‹è¯•ä¸€ä¸ªæ’å…¥æ“ä½œ</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">insertTest</span><span class="params">()</span></span>{</span><br><span class="line">    User user = <span class="keyword">new</span> User();</span><br><span class="line">    user.setAge(<span class="number">18</span>);</span><br><span class="line">    user.setName(<span class="string">"rain"</span>);</span><br><span class="line">    user.setEmail(<span class="string">"1816046563@qq.com"</span>);</span><br><span class="line">    <span class="keyword">int</span> insert = userMapper.insert(user);</span><br><span class="line">    System.out.println(insert);</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p><span class="github-emoji"><span>ğŸ’¦</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f4a6.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span>è¾“å‡º</p><figure class="highlight tex"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">==&gt;  Preparing: INSERT INTO user ( id, name, age, email ) VALUES ( ?, ?, ?, ? ) </span><br><span class="line">==&gt; Parameters: 1424648512569647106(Long), rain(String), 18(Integer), 1816046563@qq.com(String)</span><br><span class="line">&lt;==    Updates: 1</span><br><span class="line">Closing non transactional SqlSession </span><br></pre></td></tr></tbody></table></figure><p><span class="github-emoji"><span>ğŸ™ˆ</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f648.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span>çœ‹çœ‹æ•°æ®åº“</p><p><img src="https://gitee.com/rain-sky/images/raw/master/20210809163013.png"></p><blockquote><p>ä»£ç çº§åˆ«</p></blockquote><p><span class="github-emoji"><span>1âƒ£</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/0031-20e3.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span> å°†ä¸Šè¿°æ•°æ®åº“çš„é»˜è®¤å€¼ä»¥åŠæ›´æ–°æ“ä½œåˆ é™¤æ‰</p><p><span class="github-emoji"><span>2âƒ£</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/0032-20e3.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span>å¢åŠ æ³¨è§£@TableFieldï¼Œè¯¦ç»†ç”¨æ³•è§æ³¨è§£éƒ¨åˆ†</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@TableField(fill = FieldFill.INSERT)</span></span><br><span class="line"><span class="keyword">private</span> Date gmtCreate;</span><br><span class="line"><span class="meta">@TableField(fill = FieldFill.INSERT_UPDATE)</span></span><br><span class="line"><span class="keyword">private</span> Date gmtModified;</span><br></pre></td></tr></tbody></table></figure><p><span class="github-emoji"><span>3âƒ£</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/0033-20e3.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span>è‡ªå®šä¹‰æ³¨è§£å¤„ç†å™¨ï¼Œæ³¨å…¥IOCå®¹å™¨</p><p><a href="https://mp.baomidou.com/guide/auto-fill-metainfo.html">é˜…è¯»</a></p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Slf4j</span></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyMetaObjectHandler</span> <span class="keyword">implements</span> <span class="title">MetaObjectHandler</span> </span>{</span><br><span class="line">    <span class="comment">//æ’å…¥æ—¶çš„ç­–ç•¥</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">insertFill</span><span class="params">(MetaObject metaObject)</span> </span>{</span><br><span class="line">        log.info(<span class="string">"å¼€å§‹å¤„ç†æ’å…¥å¡«å……æ“ä½œ..."</span>);</span><br><span class="line">        <span class="keyword">this</span>.setFieldValByName(<span class="string">"gmtCreate"</span>,<span class="keyword">new</span> Date(),metaObject);</span><br><span class="line">        <span class="keyword">this</span>.setFieldValByName(<span class="string">"gmtModified"</span>,<span class="keyword">new</span> Date(),metaObject);</span><br><span class="line">    }</span><br><span class="line">    <span class="comment">//æ›´æ–°æ—¶çš„ç­–ç•¥</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">updateFill</span><span class="params">(MetaObject metaObject)</span> </span>{</span><br><span class="line">        log.info(<span class="string">"å¼€å§‹å¤„ç†æ›´æ–°å¡«å……æ“ä½œ..."</span>);</span><br><span class="line">        <span class="keyword">this</span>.setFieldValByName(<span class="string">"gmtModified"</span>,<span class="keyword">new</span> Date(),metaObject);</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p><span class="github-emoji"><span>4âƒ£</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/0034-20e3.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span>æµ‹è¯•æ’å…¥ä¸æ›´æ–°æ“ä½œ</p><p>æ’å…¥æ“ä½œ</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">insertTest</span><span class="params">()</span></span>{</span><br><span class="line">    User user = <span class="keyword">new</span> User();</span><br><span class="line">    user.setAge(<span class="number">18</span>);</span><br><span class="line">    user.setName(<span class="string">"kamisato"</span>);</span><br><span class="line">    user.setEmail(<span class="string">"181604663@qq.com"</span>);</span><br><span class="line">    userMapper.insert(user);</span><br><span class="line">}</span><br><span class="line"><span class="comment">//è¾“å‡ºå¦‚ä¸‹---------------------------</span></span><br><span class="line">==&gt;  Preparing: <span class="function">INSERT INTO <span class="title">user</span> <span class="params">( id, name, age, email, gmt_create, gmt_modified )</span> <span class="title">VALUES</span> <span class="params">( ?, ?, ?, ?, ?, ? )</span> </span></span><br><span class="line"><span class="function"></span>==&gt; Parameters: <span class="number">1424658513090609154</span>(Long), kamisato(String), <span class="number">18</span>(Integer), <span class="number">181604663</span><span class="meta">@qq</span>.com(String), <span class="number">2021</span>-08-09 <span class="number">17</span>:<span class="number">07</span>:<span class="number">13.053</span>(Timestamp), <span class="number">2021</span>-08-09 <span class="number">17</span>:<span class="number">07</span>:<span class="number">13.054</span>(Timestamp)</span><br><span class="line">&lt;==    Updates: <span class="number">1</span></span><br></pre></td></tr></tbody></table></figure><p>æŸ¥çœ‹æ•°æ®åº“ï¼Œå¯ä»¥çœ‹åˆ°åœ¨æ’å…¥çš„æ—¶å€™ä¸¤ä¸ªä¸–ç•Œéƒ½è¢«å¡«å……ä¸Šäº†</p><p><img src="https://gitee.com/rain-sky/images/raw/master/20210809170747.png"></p><p>æ›´æ–°æ“ä½œ</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">uptateTest</span><span class="params">()</span></span>{</span><br><span class="line">    User user = <span class="keyword">new</span> User();</span><br><span class="line">    user.setId(<span class="number">1424658513090609154L</span>);</span><br><span class="line">    user.setName(<span class="string">"kamisato"</span>);</span><br><span class="line">    user.setEmail(<span class="string">"123456@qq.com"</span>);</span><br><span class="line">    userMapper.updateById(user);</span><br><span class="line">}</span><br><span class="line"><span class="comment">//è¾“å‡ºå¦‚ä¸‹-----------------------------</span></span><br><span class="line">==&gt;  Preparing: UPDATE user SET name=?, email=?, gmt_modified=? WHERE id=? </span><br><span class="line">==&gt; Parameters: kamisato(String), <span class="number">123456</span><span class="meta">@qq</span>.com(String), <span class="number">2021</span>-08-09 <span class="number">17</span>:<span class="number">10</span>:<span class="number">55.83</span>(Timestamp), <span class="number">1424658513090609154</span>(Long)</span><br><span class="line">&lt;==    Updates: <span class="number">1</span></span><br></pre></td></tr></tbody></table></figure><p>æŸ¥çœ‹æ•°æ®åº“ï¼Œå¯ä»¥çœ‹åˆ°åœ¨æ›´æ–°çš„æ—¶å€™ä¿®æ”¹æ—¶é—´æ›´æ–°äº†</p><p><img src="https://gitee.com/rain-sky/images/raw/master/20210809171137.png"></p><p><span class="github-emoji"><span>ğŸ˜ƒ</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f603.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span>è‡³æ­¤ç®€å•çš„è‡ªåŠ¨å¡«å……åŠŸèƒ½å‘Šä¸€æ®µè½~</p><h3 id="æ³¨è§£"><a href="#æ³¨è§£" class="headerlink" title="æ³¨è§£"></a>æ³¨è§£</h3><h4 id="TableName"><a href="#TableName" class="headerlink" title="@TableName"></a>@TableName</h4><ul><li>æè¿°ï¼šè¡¨åæ³¨è§£</li></ul><table><thead><tr><th align="center">å±æ€§</th><th align="center">ç±»å‹</th><th align="center">å¿…é¡»æŒ‡å®š</th><th align="center">é»˜è®¤å€¼</th><th>æè¿°</th></tr></thead><tbody><tr><td align="center">value</td><td align="center">String</td><td align="center">å¦</td><td align="center">â€œâ€</td><td>è¡¨å</td></tr><tr><td align="center">schema</td><td align="center">String</td><td align="center">å¦</td><td align="center">â€œâ€</td><td>schema</td></tr><tr><td align="center">keepGlobalPrefix</td><td align="center">boolean</td><td align="center">å¦</td><td align="center">false</td><td>æ˜¯å¦ä¿æŒä½¿ç”¨å…¨å±€çš„ tablePrefix çš„å€¼(å¦‚æœè®¾ç½®äº†å…¨å±€ tablePrefix ä¸”è‡ªè¡Œè®¾ç½®äº† value çš„å€¼)</td></tr><tr><td align="center">resultMap</td><td align="center">String</td><td align="center">å¦</td><td align="center">â€œâ€</td><td>xml ä¸­ resultMap çš„ id</td></tr><tr><td align="center">autoResultMap</td><td align="center">boolean</td><td align="center">å¦</td><td align="center">false</td><td>æ˜¯å¦è‡ªåŠ¨æ„å»º resultMap å¹¶ä½¿ç”¨(å¦‚æœè®¾ç½® resultMap åˆ™ä¸ä¼šè¿›è¡Œ resultMap çš„è‡ªåŠ¨æ„å»ºå¹¶æ³¨å…¥)</td></tr><tr><td align="center">excludeProperty</td><td align="center">String[]</td><td align="center">å¦</td><td align="center">{}</td><td>éœ€è¦æ’é™¤çš„å±æ€§å(@since 3.3.1)</td></tr></tbody></table><h4 id="TableId"><a href="#TableId" class="headerlink" title="@TableId"></a>@TableId</h4><p>æè¿°ï¼šä¸»é”®æ³¨è§£</p><table><thead><tr><th align="center">å±æ€§</th><th align="center">ç±»å‹</th><th align="center">å¿…é¡»æŒ‡å®š</th><th align="center">é»˜è®¤å€¼</th><th align="center">æè¿°</th></tr></thead><tbody><tr><td align="center">value</td><td align="center">String</td><td align="center">å¦</td><td align="center">â€œâ€</td><td align="center">ä¸»é”®å­—æ®µå</td></tr><tr><td align="center">type</td><td align="center">Enum</td><td align="center">å¦</td><td align="center">IdType.NONE</td><td align="center">ä¸»é”®ç±»å‹</td></tr></tbody></table><p>å¯é€‰å€¼</p><table><thead><tr><th align="center">å€¼</th><th align="center">æè¿°</th></tr></thead><tbody><tr><td align="center">AUTO</td><td align="center">æ•°æ®åº“IDè‡ªå¢</td></tr><tr><td align="center">NONE</td><td align="center">æ— çŠ¶æ€,è¯¥ç±»å‹ä¸ºæœªè®¾ç½®ä¸»é”®ç±»å‹(æ³¨è§£é‡Œç­‰äºè·Ÿéšå…¨å±€,å…¨å±€é‡Œçº¦ç­‰äº INPUT)</td></tr><tr><td align="center">INPUT</td><td align="center">insertå‰è‡ªè¡Œsetä¸»é”®å€¼</td></tr><tr><td align="center">ASSIGN_ID</td><td align="center">åˆ†é…ID(ä¸»é”®ç±»å‹ä¸ºNumber(Longå’ŒInteger)æˆ–String)(since 3.3.0),ä½¿ç”¨æ¥å£<code>IdentifierGenerator</code>çš„æ–¹æ³•<code>nextId</code>(é»˜è®¤å®ç°ç±»ä¸º<code>DefaultIdentifierGenerator</code>é›ªèŠ±ç®—æ³•)</td></tr><tr><td align="center">ASSIGN_UUID</td><td align="center">åˆ†é…UUID,ä¸»é”®ç±»å‹ä¸ºString(since 3.3.0),ä½¿ç”¨æ¥å£<code>IdentifierGenerator</code>çš„æ–¹æ³•<code>nextUUID</code>(é»˜è®¤defaultæ–¹æ³•)</td></tr><tr><td align="center">ID_WORKER</td><td align="center">åˆ†å¸ƒå¼å…¨å±€å”¯ä¸€ID é•¿æ•´å‹ç±»å‹(please use <code>ASSIGN_ID</code>)</td></tr><tr><td align="center">UUID</td><td align="center">32ä½UUIDå­—ç¬¦ä¸²(please use <code>ASSIGN_UUID</code>)</td></tr><tr><td align="center">ID_WORKER_STR</td><td align="center">åˆ†å¸ƒå¼å…¨å±€å”¯ä¸€ID å­—ç¬¦ä¸²ç±»å‹(please use <code>ASSIGN_ID</code>)</td></tr></tbody></table><blockquote><p>ä½¿ç”¨</p></blockquote><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">User</span> </span>{</span><br><span class="line">    <span class="comment">//è®¾ç½®ç”ŸæˆIDç±»å‹</span></span><br><span class="line">    <span class="meta">@TableId(type = IdType.ID_WORKER)</span></span><br><span class="line">    <span class="keyword">private</span> Long id;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> Integer age;</span><br><span class="line">    <span class="keyword">private</span> String email;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h4 id="TableField"><a href="#TableField" class="headerlink" title="@TableField"></a>@TableField</h4><ul><li>æè¿°ï¼šå­—æ®µæ³¨è§£(éä¸»é”®)</li></ul><table><thead><tr><th align="center">å±æ€§</th><th align="center">ç±»å‹</th><th align="center">å¿…é¡»æŒ‡å®š</th><th align="center">é»˜è®¤å€¼</th><th align="center">æè¿°</th></tr></thead><tbody><tr><td align="center">value</td><td align="center">String</td><td align="center">å¦</td><td align="center">â€œâ€</td><td align="center">æ•°æ®åº“å­—æ®µå</td></tr><tr><td align="center">el</td><td align="center">String</td><td align="center">å¦</td><td align="center">â€œâ€</td><td align="center">æ˜ å°„ä¸ºåŸç”Ÿ <code>#{ ... }</code> é€»è¾‘,ç›¸å½“äºå†™åœ¨ xml é‡Œçš„ <code>#{ ... }</code> éƒ¨åˆ†</td></tr><tr><td align="center">exist</td><td align="center">boolean</td><td align="center">å¦</td><td align="center">true</td><td align="center">æ˜¯å¦ä¸ºæ•°æ®åº“è¡¨å­—æ®µ</td></tr><tr><td align="center">condition</td><td align="center">String</td><td align="center">å¦</td><td align="center">â€œâ€</td><td align="center">å­—æ®µ <code>where</code> å®ä½“æŸ¥è¯¢æ¯”è¾ƒæ¡ä»¶,æœ‰å€¼è®¾ç½®åˆ™æŒ‰è®¾ç½®çš„å€¼ä¸ºå‡†,æ²¡æœ‰åˆ™ä¸ºé»˜è®¤å…¨å±€çš„ <code>%s=#{%s}</code>,<a href="https://github.com/baomidou/mybatis-plus/blob/3.0/mybatis-plus-annotation/src/main/java/com/baomidou/mybatisplus/annotation/SqlCondition.java">å‚è€ƒ(opens new window)</a></td></tr><tr><td align="center">update</td><td align="center">String</td><td align="center">å¦</td><td align="center">â€œâ€</td><td align="center">å­—æ®µ <code>update set</code> éƒ¨åˆ†æ³¨å…¥, ä¾‹å¦‚ï¼šupdate=â€%s+1â€ï¼šè¡¨ç¤ºæ›´æ–°æ—¶ä¼šset version=version+1(è¯¥å±æ€§ä¼˜å…ˆçº§é«˜äº <code>el</code> å±æ€§)</td></tr><tr><td align="center">insertStrategy</td><td align="center">Enum</td><td align="center">N</td><td align="center">DEFAULT</td><td align="center">ä¸¾ä¾‹ï¼šNOT_NULL: <code>insert into table_a(&lt;if test="columnProperty != null"&gt;column&lt;/if&gt;) values (&lt;if test="columnProperty != null"&gt;#{columnProperty}&lt;/if&gt;)</code></td></tr><tr><td align="center">updateStrategy</td><td align="center">Enum</td><td align="center">N</td><td align="center">DEFAULT</td><td align="center">ä¸¾ä¾‹ï¼šIGNORED: <code>update table_a set column=#{columnProperty}</code></td></tr><tr><td align="center">whereStrategy</td><td align="center">Enum</td><td align="center">N</td><td align="center">DEFAULT</td><td align="center">ä¸¾ä¾‹ï¼šNOT_EMPTY: <code>where &lt;if test="columnProperty != null and columnProperty!=''"&gt;column=#{columnProperty}&lt;/if&gt;</code></td></tr><tr><td align="center">fill</td><td align="center">Enum</td><td align="center">å¦</td><td align="center">FieldFill.DEFAULT</td><td align="center">å­—æ®µè‡ªåŠ¨å¡«å……ç­–ç•¥</td></tr><tr><td align="center">select</td><td align="center">boolean</td><td align="center">å¦</td><td align="center">true</td><td align="center">æ˜¯å¦è¿›è¡Œ select æŸ¥è¯¢</td></tr><tr><td align="center">keepGlobalFormat</td><td align="center">boolean</td><td align="center">å¦</td><td align="center">false</td><td align="center">æ˜¯å¦ä¿æŒä½¿ç”¨å…¨å±€çš„ format è¿›è¡Œå¤„ç†</td></tr><tr><td align="center">jdbcType</td><td align="center">JdbcType</td><td align="center">å¦</td><td align="center">JdbcType.UNDEFINED</td><td align="center">JDBCç±»å‹ (è¯¥é»˜è®¤å€¼ä¸ä»£è¡¨ä¼šæŒ‰ç…§è¯¥å€¼ç”Ÿæ•ˆ)</td></tr><tr><td align="center">typeHandler</td><td align="center">Class&lt;? extends TypeHandler&gt;</td><td align="center">å¦</td><td align="center">UnknownTypeHandler.class</td><td align="center">ç±»å‹å¤„ç†å™¨ (è¯¥é»˜è®¤å€¼ä¸ä»£è¡¨ä¼šæŒ‰ç…§è¯¥å€¼ç”Ÿæ•ˆ)</td></tr><tr><td align="center">numericScale</td><td align="center">String</td><td align="center">å¦</td><td align="center">â€œâ€</td><td align="center">æŒ‡å®šå°æ•°ç‚¹åä¿ç•™çš„</td></tr></tbody></table><p><a href="https://mp.baomidou.com/guide/annotation.html#tablefield">å„å±æ€§å¯é€‰é¡¹å‚è§0</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> -mybatis </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>vmvareä½¿ç”¨è®°å½•</title>
      <link href="2021/07/26/vmvare%E4%BD%BF%E7%94%A8%E8%AE%B0%E5%BD%95/"/>
      <url>2021/07/26/vmvare%E4%BD%BF%E7%94%A8%E8%AE%B0%E5%BD%95/</url>
      
        <content type="html"><![CDATA[<h2 id="ä½¿ç”¨vmwareå®‰è£…centOS7"><a href="#ä½¿ç”¨vmwareå®‰è£…centOS7" class="headerlink" title="ä½¿ç”¨vmwareå®‰è£…centOS7"></a>ä½¿ç”¨vmwareå®‰è£…centOS7</h2><h3 id="å®‰è£…æ­¥éª¤"><a href="#å®‰è£…æ­¥éª¤" class="headerlink" title="å®‰è£…æ­¥éª¤"></a>å®‰è£…æ­¥éª¤</h3><p><strong>1.å…ˆå‡†å¤‡é…ç½®åˆ’åˆ†ç©ºé—´</strong></p><img src="https://gitee.com/rain-sky/images/raw/master/20210726162129.png" style="zoom: 50%;"><hr><img src="https://gitee.com/rain-sky/images/raw/master/20210726162433.png" style="zoom: 67%;"><hr><img src="https://gitee.com/rain-sky/images/raw/master/20210726162828.png" style="zoom:67%;"><p><strong>2. é…ç½®å¥½é•œåƒæ–‡ä»¶åå³å¯å¯åŠ¨</strong></p><p>å¯åŠ¨åå¼€å§‹é…ç½®</p><img src="https://gitee.com/rain-sky/images/raw/master/20210726164734.png" style="zoom: 67%;"><p>ç‚¹å‡»è½¯ä»¶é€‰æ‹©</p><img src="https://gitee.com/rain-sky/images/raw/master/20210726165346.png" style="zoom:80%;"><blockquote><p>æˆ‘ä»¬æƒ³ä½¿ç”¨å›¾å½¢ç•Œé¢å› æ­¤é€‰ä¸­Gnomeæ¡Œé¢ï¼Œå¦‚æœé€‰ä¸­å¼€å‘å·¥å…·ä¼šé»˜è®¤å®‰è£…gccï¼Œjdkï¼Œmysqlç­‰ç¯å¢ƒ</p></blockquote><p><strong>3.è‡ªä¸»åˆ†åŒº</strong></p><p>ä¸€èˆ¬æˆ‘ä»¬è‡ªå·±åˆ†ä¸‰åŒºï¼ŒbootåŒºï¼ˆ1Gï¼‰ï¼ŒswapåŒºï¼ˆ2Gï¼Œä¸´æ—¶å……å½“å†…å­˜ä½œç”¨ï¼‰ï¼Œæ ¹åˆ†åŒº</p><img src="https://gitee.com/rain-sky/images/raw/master/20210726170119.png" style="zoom:67%;"><p>ç‚¹å‡»å®Œæˆåå¼€å§‹åˆ†åŒºï¼Œé…ç½®bootåˆ†åŒºï¼Œå…¶ä½™åŒç†ï¼Œå…¶ä¸­swapåˆ†åŒºæ–‡ä»¶ç³»ç»Ÿéœ€ä¸ºswap</p><img src="https://gitee.com/rain-sky/images/raw/master/20210726170444.png" style="zoom: 80%;"><hr><img src="https://gitee.com/rain-sky/images/raw/master/20210726170919.png" style="zoom: 80%;"><p>åˆ†åŒºå®Œæˆåé…ç½®å®Œrootç”¨æˆ·ä¸ä¸€ä¸ªæ™®é€šç”¨æˆ·ç­‰å¾…å®‰è£…å®Œæˆå³å¯ã€‚</p><h3 id="ä¸‰ç§ç½‘ç»œè¿æ¥"><a href="#ä¸‰ç§ç½‘ç»œè¿æ¥" class="headerlink" title="ä¸‰ç§ç½‘ç»œè¿æ¥"></a>ä¸‰ç§ç½‘ç»œè¿æ¥</h3><p><img src="https://gitee.com/rain-sky/images/raw/master/20210726212731.png"></p><h3 id="è™šæ‹Ÿæœºå…‹éš†"><a href="#è™šæ‹Ÿæœºå…‹éš†" class="headerlink" title="è™šæ‹Ÿæœºå…‹éš†"></a>è™šæ‹Ÿæœºå…‹éš†</h3><blockquote><p>å½“æˆ‘ä»¬éœ€è¦æ‰“é€ ä¸€ä¸ªé›†ç¾¤æ€ä¹ˆåŠï¼Œæˆ‘ä»¬éœ€è¦å¤šä¸ªè™šæ‹Ÿæœºç³»ç»Ÿï¼Œæ— éœ€å¤šæ¬¡å®‰è£…ï¼Œå…‹éš†å³å¯</p></blockquote><ul><li><p>æ–¹å¼ä¸€ï¼šæ‹·è´è™šæœºæœºå®‰è£…æ–‡ä»¶ï¼Œç„¶åä½¿ç”¨èœå•æ æ‰“å¼€å¤åˆ¶åçš„æ–‡ä»¶</p><p><img src="https://gitee.com/rain-sky/images/raw/master/20210726213153.png"></p></li><li><p>æ–¹å¼äºŒï¼šVMwareè‡ªå¸¦å…‹éš†ï¼ˆéœ€å…ˆå…³é—­è¢«å…‹éš†ç³»ç»Ÿï¼‰,å³é”®ç„¶åç®¡ç†å…‹éš†æ‰€è¦å…‹éš†çš„ç³»ç»Ÿå³å¯</p><img src="https://gitee.com/rain-sky/images/raw/master/20210726213651.png" style="zoom:67%;"></li></ul><h3 id="è™šæ‹Ÿæœºå¿«ç…§"><a href="#è™šæ‹Ÿæœºå¿«ç…§" class="headerlink" title="è™šæ‹Ÿæœºå¿«ç…§"></a>è™šæ‹Ÿæœºå¿«ç…§</h3><p>*<em>å¿«ç…§æ˜¯ç”¨æ¥å¹²ä»€ä¹ˆçš„ï¼Ÿ(ãƒ»âˆ€ãƒ»(ãƒ»âˆ€ãƒ»(ãƒ»âˆ€ãƒ»</em>)**</p><p>ç­”ï¼šé”™è¯¯æ¢å¤</p><p>å‡å¦‚åœ¨açŠ¶æ€ä¸‹æˆ‘ä»¬æ‹ä¸‹ä¸€ä¸ªå¿«ç…§ï¼Œåœ¨a-&gt;bçš„è¿‡ç¨‹ä¸­å‘ç”Ÿäº†ä¸€äº›é”™è¯¯å¯¼è‡´ç³»ç»Ÿé—®é¢˜ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥ä½¿ç”¨å¿«ç…§æ¥æ¢å¤ï¼Œå½“ç„¶è¿™æ ·è‚¯å®šæ˜¯æœ‰ä»£ä»·çš„ï¼Œå¦‚å­˜å‚¨æ¶ˆè€—ã€‚</p><p><strong>ä½¿ç”¨</strong></p><p>å³é”®ï¼Œå¿«ç…§ï¼Œæ‹æ‘„å¿«ç…§</p><p>éœ€è¦æ¢å¤æŸä¸€ä¸ªå¿«ç…§æ—¶å³é”®å¿«ç…§ï¼Œå¿«ç…§ç®¡ç†ï¼Œè½¬åˆ°å³å¯</p><img src="https://gitee.com/rain-sky/images/raw/master/20210726220239.png" style="zoom:67%;"><h3 id="vmtools"><a href="#vmtools" class="headerlink" title="vmtools"></a>vmtools</h3>]]></content>
      
      
      
        <tags>
            
            <tag> vmware </tag>
            
            <tag> è™šæ‹Ÿæœº </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>linxuä½¿ç”¨</title>
      <link href="2021/07/26/linxu%E4%BD%BF%E7%94%A8/"/>
      <url>2021/07/26/linxu%E4%BD%BF%E7%94%A8/</url>
      
        <content type="html"><![CDATA[<h2 id="linuxç›®å½•ç»“æ„"><a href="#linuxç›®å½•ç»“æ„" class="headerlink" title="linuxç›®å½•ç»“æ„"></a>linuxç›®å½•ç»“æ„</h2><h3 id="ç›®å½•ç»“æ„ä»‹ç»"><a href="#ç›®å½•ç»“æ„ä»‹ç»" class="headerlink" title="ç›®å½•ç»“æ„ä»‹ç»"></a>ç›®å½•ç»“æ„ä»‹ç»</h3><img src="https://gitee.com/rain-sky/images/raw/master/20210727150755.png" style="zoom: 50%;"><p>ä»¥ä¸‹æ˜¯å¯¹è¿™äº›ç›®å½•çš„è§£é‡Šï¼š</p><ul><li><p><strong>/bin</strong>ï¼š<br>bin æ˜¯ Binaries (äºŒè¿›åˆ¶æ–‡ä»¶) çš„ç¼©å†™, è¿™ä¸ªç›®å½•å­˜æ”¾ç€æœ€ç»å¸¸ä½¿ç”¨çš„å‘½ä»¤ã€‚</p></li><li><p><strong>/bootï¼š</strong><br>è¿™é‡Œå­˜æ”¾çš„æ˜¯å¯åŠ¨ Linux æ—¶ä½¿ç”¨çš„ä¸€äº›æ ¸å¿ƒæ–‡ä»¶ï¼ŒåŒ…æ‹¬ä¸€äº›è¿æ¥æ–‡ä»¶ä»¥åŠé•œåƒæ–‡ä»¶ã€‚</p></li><li><p><strong>/dev ï¼š</strong><br>dev æ˜¯ Device(è®¾å¤‡) çš„ç¼©å†™, è¯¥ç›®å½•ä¸‹å­˜æ”¾çš„æ˜¯ Linux çš„å¤–éƒ¨è®¾å¤‡ï¼Œåœ¨ Linux ä¸­è®¿é—®è®¾å¤‡çš„æ–¹å¼å’Œè®¿é—®æ–‡ä»¶çš„æ–¹å¼æ˜¯ç›¸åŒçš„ã€‚</p></li><li><p><strong>/etcï¼š</strong><br>etc æ˜¯ Etcetera(ç­‰ç­‰) çš„ç¼©å†™,è¿™ä¸ªç›®å½•ç”¨æ¥å­˜æ”¾æ‰€æœ‰çš„ç³»ç»Ÿç®¡ç†æ‰€éœ€è¦çš„é…ç½®æ–‡ä»¶å’Œå­ç›®å½•ã€‚</p></li><li><p><strong>/home</strong>ï¼š<br>ç”¨æˆ·çš„ä¸»ç›®å½•ï¼Œåœ¨ Linux ä¸­ï¼Œæ¯ä¸ªç”¨æˆ·éƒ½æœ‰ä¸€ä¸ªè‡ªå·±çš„ç›®å½•ï¼Œä¸€èˆ¬è¯¥ç›®å½•åæ˜¯ä»¥ç”¨æˆ·çš„è´¦å·å‘½åçš„ï¼Œå¦‚ä¸Šå›¾ä¸­çš„ aliceã€bob å’Œ eveã€‚</p></li><li><p><strong>/lib</strong>ï¼š<br>lib æ˜¯ Library(åº“) çš„ç¼©å†™è¿™ä¸ªç›®å½•é‡Œå­˜æ”¾ç€ç³»ç»Ÿæœ€åŸºæœ¬çš„åŠ¨æ€è¿æ¥å…±äº«åº“ï¼Œå…¶ä½œç”¨ç±»ä¼¼äº Windows é‡Œçš„ DLL æ–‡ä»¶ã€‚å‡ ä¹æ‰€æœ‰çš„åº”ç”¨ç¨‹åºéƒ½éœ€è¦ç”¨åˆ°è¿™äº›å…±äº«åº“ã€‚</p></li><li><p><strong>/lost+found</strong>ï¼š<br>è¿™ä¸ªç›®å½•ä¸€èˆ¬æƒ…å†µä¸‹æ˜¯ç©ºçš„ï¼Œå½“ç³»ç»Ÿéæ³•å…³æœºåï¼Œè¿™é‡Œå°±å­˜æ”¾äº†ä¸€äº›æ–‡ä»¶ã€‚</p></li><li><p><strong>/media</strong>ï¼š<br>linux ç³»ç»Ÿä¼šè‡ªåŠ¨è¯†åˆ«ä¸€äº›è®¾å¤‡ï¼Œä¾‹å¦‚Uç›˜ã€å…‰é©±ç­‰ç­‰ï¼Œå½“è¯†åˆ«åï¼ŒLinux ä¼šæŠŠè¯†åˆ«çš„è®¾å¤‡æŒ‚è½½åˆ°è¿™ä¸ªç›®å½•ä¸‹ã€‚</p></li><li><p><strong>/mnt</strong>ï¼š<br>ç³»ç»Ÿæä¾›è¯¥ç›®å½•æ˜¯ä¸ºäº†è®©ç”¨æˆ·ä¸´æ—¶æŒ‚è½½åˆ«çš„æ–‡ä»¶ç³»ç»Ÿçš„ï¼Œæˆ‘ä»¬å¯ä»¥å°†å…‰é©±æŒ‚è½½åœ¨ /mnt/ ä¸Šï¼Œç„¶åè¿›å…¥è¯¥ç›®å½•å°±å¯ä»¥æŸ¥çœ‹å…‰é©±é‡Œçš„å†…å®¹äº†ã€‚</p></li><li><p><strong>/opt</strong>ï¼š<br>opt æ˜¯ optional(å¯é€‰) çš„ç¼©å†™ï¼Œè¿™æ˜¯ç»™ä¸»æœºé¢å¤–å®‰è£…è½¯ä»¶æ‰€æ‘†æ”¾çš„ç›®å½•ã€‚æ¯”å¦‚ä½ å®‰è£…ä¸€ä¸ªORACLEæ•°æ®åº“åˆ™å°±å¯ä»¥æ”¾åˆ°è¿™ä¸ªç›®å½•ä¸‹ã€‚é»˜è®¤æ˜¯ç©ºçš„ã€‚</p></li><li><p><strong>/proc</strong>ï¼š<br>proc æ˜¯ Processes(è¿›ç¨‹) çš„ç¼©å†™ï¼Œ/proc æ˜¯ä¸€ç§ä¼ªæ–‡ä»¶ç³»ç»Ÿï¼ˆä¹Ÿå³è™šæ‹Ÿæ–‡ä»¶ç³»ç»Ÿï¼‰ï¼Œå­˜å‚¨çš„æ˜¯å½“å‰å†…æ ¸è¿è¡ŒçŠ¶æ€çš„ä¸€ç³»åˆ—ç‰¹æ®Šæ–‡ä»¶ï¼Œè¿™ä¸ªç›®å½•æ˜¯ä¸€ä¸ªè™šæ‹Ÿçš„ç›®å½•ï¼Œå®ƒæ˜¯ç³»ç»Ÿå†…å­˜çš„æ˜ å°„ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ç›´æ¥è®¿é—®è¿™ä¸ªç›®å½•æ¥è·å–ç³»ç»Ÿä¿¡æ¯ã€‚<br>è¿™ä¸ªç›®å½•çš„å†…å®¹ä¸åœ¨ç¡¬ç›˜ä¸Šè€Œæ˜¯åœ¨å†…å­˜é‡Œï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥ç›´æ¥ä¿®æ”¹é‡Œé¢çš„æŸäº›æ–‡ä»¶ï¼Œæ¯”å¦‚å¯ä»¥é€šè¿‡ä¸‹é¢çš„å‘½ä»¤æ¥å±è”½ä¸»æœºçš„pingå‘½ä»¤ï¼Œä½¿åˆ«äººæ— æ³•pingä½ çš„æœºå™¨ï¼š</p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">echo 1 &gt; /proc/sys/net/ipv4/icmp_echo_ignore_all</span><br></pre></td></tr></tbody></table></figure></li><li><p><strong>/root</strong>ï¼š<br>è¯¥ç›®å½•ä¸ºç³»ç»Ÿç®¡ç†å‘˜ï¼Œä¹Ÿç§°ä½œè¶…çº§æƒé™è€…çš„ç”¨æˆ·ä¸»ç›®å½•ã€‚</p></li><li><p><strong>/sbin</strong>ï¼š<br>s å°±æ˜¯ Super User çš„æ„æ€ï¼Œæ˜¯ Superuser Binaries (è¶…çº§ç”¨æˆ·çš„äºŒè¿›åˆ¶æ–‡ä»¶) çš„ç¼©å†™ï¼Œè¿™é‡Œå­˜æ”¾çš„æ˜¯ç³»ç»Ÿç®¡ç†å‘˜ä½¿ç”¨çš„ç³»ç»Ÿç®¡ç†ç¨‹åºã€‚</p></li><li><p><strong>/selinux</strong>ï¼š<br> è¿™ä¸ªç›®å½•æ˜¯ Redhat/CentOS æ‰€ç‰¹æœ‰çš„ç›®å½•ï¼ŒSelinux æ˜¯ä¸€ä¸ªå®‰å…¨æœºåˆ¶ï¼Œç±»ä¼¼äº windows çš„é˜²ç«å¢™ï¼Œä½†æ˜¯è¿™å¥—æœºåˆ¶æ¯”è¾ƒå¤æ‚ï¼Œè¿™ä¸ªç›®å½•å°±æ˜¯å­˜æ”¾selinuxç›¸å…³çš„æ–‡ä»¶çš„ã€‚</p></li><li><p><strong>/srv</strong>ï¼š<br> è¯¥ç›®å½•å­˜æ”¾ä¸€äº›æœåŠ¡å¯åŠ¨ä¹‹åéœ€è¦æå–çš„æ•°æ®ã€‚</p></li><li><p><strong>/sys</strong>ï¼š</p><p>è¿™æ˜¯ Linux2.6 å†…æ ¸çš„ä¸€ä¸ªå¾ˆå¤§çš„å˜åŒ–ã€‚è¯¥ç›®å½•ä¸‹å®‰è£…äº† 2.6 å†…æ ¸ä¸­æ–°å‡ºç°çš„ä¸€ä¸ªæ–‡ä»¶ç³»ç»Ÿ sysfs ã€‚</p><p>sysfs æ–‡ä»¶ç³»ç»Ÿé›†æˆäº†ä¸‹é¢3ç§æ–‡ä»¶ç³»ç»Ÿçš„ä¿¡æ¯ï¼šé’ˆå¯¹è¿›ç¨‹ä¿¡æ¯çš„ proc æ–‡ä»¶ç³»ç»Ÿã€é’ˆå¯¹è®¾å¤‡çš„ devfs æ–‡ä»¶ç³»ç»Ÿä»¥åŠé’ˆå¯¹ä¼ªç»ˆç«¯çš„ devpts æ–‡ä»¶ç³»ç»Ÿã€‚</p><p>è¯¥æ–‡ä»¶ç³»ç»Ÿæ˜¯å†…æ ¸è®¾å¤‡æ ‘çš„ä¸€ä¸ªç›´è§‚åæ˜ ã€‚</p><p>å½“ä¸€ä¸ªå†…æ ¸å¯¹è±¡è¢«åˆ›å»ºçš„æ—¶å€™ï¼Œå¯¹åº”çš„æ–‡ä»¶å’Œç›®å½•ä¹Ÿåœ¨å†…æ ¸å¯¹è±¡å­ç³»ç»Ÿä¸­è¢«åˆ›å»ºã€‚</p></li><li><p><strong>/tmp</strong>ï¼š<br>tmp æ˜¯ temporary(ä¸´æ—¶) çš„ç¼©å†™è¿™ä¸ªç›®å½•æ˜¯ç”¨æ¥å­˜æ”¾ä¸€äº›ä¸´æ—¶æ–‡ä»¶çš„ã€‚</p></li><li><p><strong>/usr</strong>ï¼š<br> usr æ˜¯ unix shared resources(å…±äº«èµ„æº) çš„ç¼©å†™ï¼Œè¿™æ˜¯ä¸€ä¸ªéå¸¸é‡è¦çš„ç›®å½•ï¼Œç”¨æˆ·çš„å¾ˆå¤šåº”ç”¨ç¨‹åºå’Œæ–‡ä»¶éƒ½æ”¾åœ¨è¿™ä¸ªç›®å½•ä¸‹ï¼Œç±»ä¼¼äº windows ä¸‹çš„ program files ç›®å½•ã€‚</p></li><li><p><strong>/usr/binï¼š</strong><br>ç³»ç»Ÿç”¨æˆ·ä½¿ç”¨çš„åº”ç”¨ç¨‹åºã€‚</p></li><li><p><strong>/usr/sbinï¼š</strong><br>è¶…çº§ç”¨æˆ·ä½¿ç”¨çš„æ¯”è¾ƒé«˜çº§çš„ç®¡ç†ç¨‹åºå’Œç³»ç»Ÿå®ˆæŠ¤ç¨‹åºã€‚</p></li><li><p><strong>/usr/srcï¼š</strong><br>å†…æ ¸æºä»£ç é»˜è®¤çš„æ”¾ç½®ç›®å½•ã€‚</p></li><li><p><strong>/var</strong>ï¼š<br>var æ˜¯ variable(å˜é‡) çš„ç¼©å†™ï¼Œè¿™ä¸ªç›®å½•ä¸­å­˜æ”¾ç€åœ¨ä¸æ–­æ‰©å……ç€çš„ä¸œè¥¿ï¼Œæˆ‘ä»¬ä¹ æƒ¯å°†é‚£äº›ç»å¸¸è¢«ä¿®æ”¹çš„ç›®å½•æ”¾åœ¨è¿™ä¸ªç›®å½•ä¸‹ã€‚åŒ…æ‹¬å„ç§æ—¥å¿—æ–‡ä»¶ã€‚</p></li><li><p><strong>/run</strong>ï¼š<br>æ˜¯ä¸€ä¸ªä¸´æ—¶æ–‡ä»¶ç³»ç»Ÿï¼Œå­˜å‚¨ç³»ç»Ÿå¯åŠ¨ä»¥æ¥çš„ä¿¡æ¯ã€‚å½“ç³»ç»Ÿé‡å¯æ—¶ï¼Œè¿™ä¸ªç›®å½•ä¸‹çš„æ–‡ä»¶åº”è¯¥è¢«åˆ æ‰æˆ–æ¸…é™¤ã€‚å¦‚æœä½ çš„ç³»ç»Ÿä¸Šæœ‰ /var/run ç›®å½•ï¼Œåº”è¯¥è®©å®ƒæŒ‡å‘ runã€‚</p></li></ul><h3 id="è¿œç¨‹ç™»é™†"><a href="#è¿œç¨‹ç™»é™†" class="headerlink" title="è¿œç¨‹ç™»é™†"></a>è¿œç¨‹ç™»é™†</h3><p><strong>ä¸ºä»€ä¹ˆéœ€è¦è¿œç¨‹ç™»é™†ï¼Ÿ</strong></p><ul><li>ä¸€èˆ¬å¼€å‘ä¸­linuxæœåŠ¡å™¨ä¸ºå¼€å‘ç»„å…±äº«</li><li>é¡¹ç›®æ­£å¼ä¸Šçº¿æ¶è®¾åœ¨å…¬ç½‘ä¸Š</li><li>éœ€è¦è¿œç¨‹ç™»é™†è¿›è¡Œç³»ç»Ÿç®¡ç†</li></ul><p><strong>ä½¿ç”¨xshellè¿›è¡Œè¿œç¨‹ç™»é™†</strong></p><p>å‰å¾€xshellå®˜ç½‘ä¸‹è½½ <a href="https://www.netsarang.com/zh/free-for-home-school/">xshell </a> é€‰æ‹©éå•†ä¸šç”¨é€”çš„free-for-home-schoolï¼Œå¡«å†™å§“åé‚®ç®±åå‰å¾€é‚®ç®±è·å–ä¸‹è½½é“¾æ¥</p><p><strong>è¿œç¨‹ç™»é™†çš„å‰æ</strong></p><ul><li>è¿œç¨‹ç™»é™†æœºå™¨çš„ip</li><li>æœ¬æœºèƒ½å¤Ÿpingé€š</li></ul><p>æŸ¥çœ‹linuxçš„ipï¼Œä½¿ç”¨å‘½ä»¤ifconfigï¼Œens33ä¸ºè™šæ‹Ÿç½‘å¡</p><img src="https://gitee.com/rain-sky/images/raw/master/20210727163418.png" style="zoom: 67%;"><p><strong>ä½¿ç”¨xshellåˆ›å»ºä¸€ä¸ªä¼šè¯</strong></p><p>èœå•æ æ–°å»ºä¸€ä¸ªä¼šè¯ï¼Œåç§°éšæ„ï¼Œä¸»æœºä¸ºå…¬ç½‘ipï¼Œç«¯å£å·22</p><img src="https://gitee.com/rain-sky/images/raw/master/20210727164018.png" style="zoom: 50%;"><p>ç‚¹å‡»ç¡®å®šåç‚¹å‡»ä¼šè¯å¼¹å‡º</p><img src="https://gitee.com/rain-sky/images/raw/master/20210727164210.png" style="zoom: 50%;"><ul><li>ä¸€æ¬¡æ€§æ¥å—ï¼Œä¸‹æ¬¡è¿œç¨‹ç™»é™†æ—¶éœ€é‡æ–°ç™»å½•</li><li>æ¥å—å¹¶ä¿å­˜ï¼Œä¸‹æ­¤ç™»å½•ç›´æ¥è¿æ¥ä¸Šäº†</li></ul><p>æˆåŠŸåå¦‚å›¾æ‰€ç¤º</p><img src="https://gitee.com/rain-sky/images/raw/master/20210727164459.png" style="zoom: 50%;"><h3 id="è¿œç¨‹æ–‡ä»¶ä¼ è¾“"><a href="#è¿œç¨‹æ–‡ä»¶ä¼ è¾“" class="headerlink" title="è¿œç¨‹æ–‡ä»¶ä¼ è¾“"></a>è¿œç¨‹æ–‡ä»¶ä¼ è¾“</h3><p><strong>ä½¿ç”¨xftpè¿œç¨‹ä¼ è¾“</strong></p><p>ä¸‹è½½æ–¹å¼å¦‚xshell</p><p><strong>æ–°å»ºä¸€ä¸ªä¼šè¯å¦‚å›¾æ‰€ç¤º</strong></p><img src="https://gitee.com/rain-sky/images/raw/master/20210727165722.png" style="zoom: 67%;"><p>åˆ›å»ºå®Œæˆåè¿æ¥ç™»é™†å³å¯ï¼ŒæˆåŠŸåå¦‚å›¾</p><p><img src="https://gitee.com/rain-sky/images/raw/master/20210727170311.png"></p><p>è§£å†³ä¹±ç é—®é¢˜ï¼Œæ›´æ”¹ä¸ºutf-8</p><img src="https://gitee.com/rain-sky/images/raw/master/20210727170615.png" style="zoom: 50%;"><h3 id="viä¸vim"><a href="#viä¸vim" class="headerlink" title="viä¸vim"></a>viä¸vim</h3><p><strong>ä»€ä¹ˆæ˜¯viä»€ä¹ˆæ˜¯vim</strong></p><p>viæ˜¯Linuxå†…ç½®æ–‡æœ¬ç¼–è¾‘å™¨ï¼Œvimå¯ä»¥çœ‹ä½œviçš„å¢å¼ºç‰ˆï¼Œå…·æœ‰ç¨‹åºç¼–å†™èƒ½åŠ›ã€‚</p><p><strong>ä¸‰ç§æ¨¡å¼</strong></p><ul><li>é»˜è®¤æ¨¡å¼ï¼šå¯ä»¥å¤åˆ¶ç²˜è´´åˆ é™¤æ–‡æœ¬ï¼Œç§»åŠ¨å…‰æ ‡</li><li>ç¼–è¾‘æ¨¡å¼ï¼šæŒ‰ä¸‹iï¼Œoï¼Œaï¼Œrä»»æ„ä¸€ä¸ªå³å¯è¿›å…¥ç¼–è¾‘æ¨¡å¼ï¼Œå…·æœ‰ç¼–è¾‘æ–‡æœ¬åŠŸèƒ½</li><li>å‘½ä»¤è¡Œæ¨¡å¼ï¼šåœ¨é»˜è®¤æ¨¡å¼ä¸‹è¾“å…¥ï¼šå·å³å¯è¿›å…¥ï¼Œè‹¥åœ¨ç¼–è¾‘æ¨¡å¼ä¸‹æŒ‰ä¸‹escé€€å‡ºåå†è¾“å…¥ä¸€ä¸ªï¼šå·å³å¯è¿›å…¥ï¼Œåœ¨è¯¥æ¨¡å¼ä¸‹å¯ä»¥å®Œæˆå­˜ç›˜ï¼Œè¯»å–ï¼Œæ›¿æ¢ï¼Œæ˜¾ç¤ºè¡Œå·ï¼Œç¦»å¼€vimç­‰æ“ä½œ</li></ul><p><strong>å®ä¾‹</strong></p><p>ä½¿ç”¨xshellè¿œç¨‹ç™»å½•Linuxç¼–å†™ä¸€ä¸ªhello javaç¨‹åºã€‚</p><ol><li>ä½¿ç”¨å‘½ä»¤è¡Œvim hello.javaå¼€å§‹è¿›å…¥vimç¼–å†™Javaç¨‹åºï¼Œåˆšå¼€å§‹è¿›å…¥è¾“å…¥æ–‡æœ¬æ— ååº”ï¼Œå› ä¸ºæ˜¯é»˜è®¤æ¨¡å¼ï¼Œåˆ‡æ¢åˆ°ç¼–è¾‘æ¨¡å¼</li><li>åˆ‡æ¢åˆ°ç¼–è¾‘æ¨¡å¼åï¼Œå®Œæˆæ–‡æœ¬ç¼–å†™åˆ‡æ¢åˆ°å‘½ä»¤è¡Œæ¨¡å¼</li><li>è¿›å…¥åˆ°å‘½ä»¤è¡Œæ¨¡å¼åï¼Œä½¿ç”¨wqï¼ˆqä¸ä¿å­˜é€€å‡ºï¼Œq!å¼ºåˆ¶é€€å‡ºï¼‰å®Œæˆå†™å…¥å¹¶é€€å‡ºvim</li></ol><p><img src="https://gitee.com/rain-sky/images/raw/master/20210727173041.png"></p><p>å¯ä»¥çœ‹åˆ°å½“å‰è·¯å¾„å³/ ä¸‹å‡ºç°æˆ‘ä»¬ç¼–å†™çš„æ–‡ä»¶ï¼Œå†æ¬¡ç¼–è¾‘è¯¥æ–‡ä»¶åªéœ€å†æ¬¡vim hello.java</p><p><img src="https://gitee.com/rain-sky/images/raw/master/20210727173234.png"></p><p><strong>å‘½ä»¤æ¨¡å¼ä¸‹çš„ä¸€äº›æŒ‡ä»¤</strong></p><table><thead><tr><th align="left">æŒ‡ä»¤è¡Œçš„å‚¨å­˜ã€ç¦»å¼€ç­‰æŒ‡ä»¤</th><th></th></tr></thead><tbody><tr><td align="left">:w</td><td>å°†ç¼–è¾‘çš„æ•°æ®å†™å…¥ç¡¬ç›˜æ¡£æ¡ˆä¸­(å¸¸ç”¨)</td></tr><tr><td align="left">:w!</td><td>è‹¥æ–‡ä»¶å±æ€§ä¸ºã€åªè¯»ã€æ—¶ï¼Œå¼ºåˆ¶å†™å…¥è¯¥æ¡£æ¡ˆã€‚ä¸è¿‡ï¼Œåˆ°åº•èƒ½ä¸èƒ½å†™å…¥ï¼Œ è¿˜æ˜¯è·Ÿä½ å¯¹è¯¥æ¡£æ¡ˆçš„æ¡£æ¡ˆæƒé™æœ‰å…³å•Šï¼</td></tr><tr><td align="left">:q</td><td>ç¦»å¼€ vi (å¸¸ç”¨)</td></tr><tr><td align="left">:q!</td><td>è‹¥æ›¾ä¿®æ”¹è¿‡æ¡£æ¡ˆï¼Œåˆä¸æƒ³å‚¨å­˜ï¼Œä½¿ç”¨ ! ä¸ºå¼ºåˆ¶ç¦»å¼€ä¸å‚¨å­˜æ¡£æ¡ˆã€‚</td></tr><tr><td align="left">æ³¨æ„ä¸€ä¸‹å•Šï¼Œé‚£ä¸ªæƒŠå¹å· (!) åœ¨ vi å½“ä¸­ï¼Œå¸¸å¸¸å…·æœ‰ã€å¼ºåˆ¶ã€çš„æ„æ€ï½</td><td></td></tr><tr><td align="left">:wq</td><td>å‚¨å­˜åç¦»å¼€ï¼Œè‹¥ä¸º :wq! åˆ™ä¸ºå¼ºåˆ¶å‚¨å­˜åç¦»å¼€ (å¸¸ç”¨)</td></tr><tr><td align="left">ZZ</td><td>è¿™æ˜¯å¤§å†™çš„ Z å–”ï¼è‹¥æ¡£æ¡ˆæ²¡æœ‰æ›´åŠ¨ï¼Œåˆ™ä¸å‚¨å­˜ç¦»å¼€ï¼Œè‹¥æ¡£æ¡ˆå·²ç»è¢«æ›´åŠ¨è¿‡ï¼Œåˆ™å‚¨å­˜åç¦»å¼€ï¼</td></tr><tr><td align="left">:w [filename]</td><td>å°†ç¼–è¾‘çš„æ•°æ®å‚¨å­˜æˆå¦ä¸€ä¸ªæ¡£æ¡ˆï¼ˆç±»ä¼¼å¦å­˜æ–°æ¡£ï¼‰</td></tr><tr><td align="left">:r [filename]</td><td>åœ¨ç¼–è¾‘çš„æ•°æ®ä¸­ï¼Œè¯»å…¥å¦ä¸€ä¸ªæ¡£æ¡ˆçš„æ•°æ®ã€‚äº¦å³å°† ã€filenameã€ è¿™ä¸ªæ¡£æ¡ˆå†…å®¹åŠ åˆ°æ¸¸æ ‡æ‰€åœ¨è¡Œåé¢</td></tr><tr><td align="left">:n1,n2 w [filename]</td><td>å°† n1 åˆ° n2 çš„å†…å®¹å‚¨å­˜æˆ filename è¿™ä¸ªæ¡£æ¡ˆã€‚</td></tr><tr><td align="left">:! command</td><td>æš‚æ—¶ç¦»å¼€ vi åˆ°æŒ‡ä»¤è¡Œæ¨¡å¼ä¸‹æ‰§è¡Œ command çš„æ˜¾ç¤ºç»“æœï¼ä¾‹å¦‚ ã€:! ls /homeã€å³å¯åœ¨ vi å½“ä¸­çœ‹ /home åº•ä¸‹ä»¥ ls è¾“å‡ºçš„æ¡£æ¡ˆä¿¡æ¯ï¼</td></tr><tr><td align="left">:set nu</td><td>æ˜¾ç¤ºè¡Œå·ï¼Œè®¾å®šä¹‹åï¼Œä¼šåœ¨æ¯ä¸€è¡Œçš„å‰ç¼€æ˜¾ç¤ºè¯¥è¡Œçš„è¡Œå·</td></tr><tr><td align="left">:set nonu</td><td>ä¸ set nu ç›¸åï¼Œä¸ºå–æ¶ˆè¡Œå·ï¼</td></tr></tbody></table><h3 id="å…³æœºä¸é‡å¯"><a href="#å…³æœºä¸é‡å¯" class="headerlink" title="å…³æœºä¸é‡å¯"></a>å…³æœºä¸é‡å¯</h3><p><strong>ä¸€.shutdown å‘½ä»¤</strong></p><p>ä½œç”¨ï¼šå…³é—­æˆ–é‡å¯ç³»ç»Ÿ<br>ä½¿ç”¨æƒé™ï¼šè¶…çº§ç®¡ç†å‘˜ä½¿ç”¨<br>å¸¸ç”¨é€‰é¡¹<br>\1. -r å…³æœºåç«‹å³é‡å¯<br>\2. -hå…³æœºåä¸é‡å¯<br>\3. -få¿«é€Ÿå…³æœºï¼Œé‡å¯æ—¶è·³è¿‡fsck(file system checkç”¨æ¥æ£€æŸ¥å’Œç»´æŠ¤ä¸ä¸€è‡´çš„æ–‡ä»¶ç³»ç»Ÿã€‚)<br>\4. -nå¿«é€Ÿå…³æœºä¸ç»è¿‡initç¨‹åº<br>shutdownä»¥ä¸€ç§å®‰å…¨çš„æ–¹å¼å…³é—­ç³»ç»Ÿã€‚æ‰€æœ‰ç™»é™†ç”¨æˆ·éƒ½å¯ä»¥çœ‹åˆ°å…³æœºä¿¡æ¯æç¤ºï¼Œå¹¶ä¸” login å°†è¢«é˜»å¡ã€‚å¯ä»¥æŒ‡å®šç«‹åˆ»å…³æœºï¼Œä¹Ÿå¯ä»¥æŒ‡å®šç³»ç»Ÿåœ¨ä¸€å®šçš„å»¶æ—¶åå…³æœºã€‚æ‰€æœ‰è¿›ç¨‹éƒ½å°†æ¥æ”¶åˆ° SIGTERM ä¿¡å·ã€‚è¿™å¯ä»¥ä½¿ vi ç­‰ç¨‹åºæœ‰æ—¶é—´å°†å¤„äºç¼–è¾‘çŠ¶æ€çš„æ–‡ä»¶è¿›è¡Œå­˜å‚¨ï¼Œé‚®ä»¶å’Œæ–°é—»ç¨‹åºè¿›ç¨‹åˆ™å¯ä»¥å°†æ‰€æœ‰ç¼“å†²æ± å†…çš„æ•°æ®è¿›è¡Œé€‚å½“çš„æ¸…é™¤ç­‰ç­‰ã€‚ shutdown é€šè¿‡é€šçŸ¥ init è¿›ç¨‹ï¼Œè¦æ±‚å®ƒæ”¹æ¢è¿è¡Œçº§åˆ«æ¥å®ç°ã€‚è¿è¡Œçº§åˆ« 0 ç”¨æ¥å…³é—­ç³»ç»Ÿï¼Œè¿è¡Œçº§åˆ« 6 ç”¨æ¥é‡å¯ç³»ç»Ÿï¼Œè¿è¡Œçº§åˆ« 1 ç”¨æ¥ä½¿ç³»ç»Ÿè¿›å…¥æ‰§è¡Œç³»ç»Ÿç®¡ç†ä»»åŠ¡çŠ¶æ€ï¼Œå¦‚æœæ²¡æœ‰ç»™å‡º -h æˆ– -r æ ‡å¿—æ—¶ï¼Œè¿™æ˜¯ shutdown å‘½ä»¤çš„é»˜è®¤å·¥ä½œçŠ¶æ€ã€‚</p><p><strong>äºŒ.haltå‘½ä»¤</strong></p><p>ä½œç”¨ï¼šå…³é—­ç³»ç»Ÿ<br>ä½¿ç”¨æƒé™ï¼šè¶…çº§ç®¡ç†å‘˜<br>å¸¸ç”¨é€‰é¡¹<br>\1. -dä¸æŠŠè®°å½•å†™åˆ°/var/log/wtmpæ–‡ä»¶é‡Œ<br>\2. -på…³é—­ç³»ç»Ÿï¼Œé¡ºä¾¿åšå…³é—­ç”µæºçš„åŠ¨ä½œpoweroff<br>\3. -få¼ºè¿«å…³æœºï¼Œä¸å‘¼å«shutdownè¿™ä¸ªæŒ‡ä»¤<br>å®è´¨ä¸Šhaltå°±æ˜¯è°ƒç”¨shutdown -hã€‚haltæ‰§è¡Œæ—¶ï¹æ€æ­»åº”ç”¨è¿›ç¨‹ï¹æ‰§è¡Œsyncç³»ç»Ÿè°ƒç”¨ï¹æ–‡ä»¶ç³»ç»Ÿå†™æ“ä½œå®Œæˆåå°±ä¼šåœæ­¢å†…æ ¸ã€‚</p><p><strong>ä¸‰.initå‘½ä»¤</strong></p><p>ä½¿ç”¨æƒé™ï¼šè¶…çº§ç®¡ç†å‘˜<br>å¸¸ç”¨é€‰é¡¹<br>0-6ï¼šè¡¨ç¤ºç³»ç»Ÿè¿è¡Œçš„7ä¸ªçº§åˆ«<br>0ï¼šå…³æœºçº§åˆ«<br>1ï¼šå•ç”¨æˆ·çº§åˆ«ï¼Œè¿è¡Œrc.sysinitå’Œrc1.dç›®å½•ä¸‹çš„è„šæœ¬<br>2ï¼šå¤šç”¨æˆ·ï¼Œä½†ç³»ç»Ÿä¸ä¼šå¯åŠ¨NFSï¼Œå­—ç¬¦æ¨¡å¼<br>3ï¼šå¤šç”¨æˆ·ï¼Œå­—ç¬¦æ¨¡å¼ï¼Œç³»ç»Ÿå¯åŠ¨å…·æœ‰ç½‘ç»œåŠŸèƒ½<br>4ï¼šç”¨æˆ·è‡ªå®šä¹‰çº§åˆ«<br>5ï¼šå›¾å½¢ç•Œé¢æ¨¡å¼<br>6ï¼šé‡å¯çº§åˆ«</p><p><strong>å››.poweroffå‘½ä»¤</strong></p><p>ä½œç”¨ï¼šå…³é—­ç³»ç»Ÿå’Œå…³é—­ç”µæº<br>ä½¿ç”¨æƒé™ï¼šæ‰€ç”¨ç”¨æˆ·<br>å¸¸ç”¨é€‰é¡¹<br>\1. -på…³æœºåå…³é—­ç”µæº<br>\2. -få¼ºåˆ¶å…³æœºï¼Œä¸è°ƒç”¨shutdown<br>\3. -wä¸æ˜¯çœŸæ­£å…³æœºï¼Œåªæ˜¯å°†ä¿¡æ¯å†™å…¥åˆ°æ–‡ä»¶/var/log/wtmp<br>poweroffåœ¨å…³é—­è®¡ç®—æœºæ“ä½œç³»ç»Ÿä¹‹åï¼Œæœ€åè¿˜ä¼šå‘é€ACPIæŒ‡ä»¤ï¼Œé€šçŸ¥ç”µæºï¼Œæœ€ååˆ‡æ–­ç”µæºä¾›åº”ï¼Œå½“ç„¶è·¯ç”±å™¨ç­‰åµŒå…¥ç³»ç»Ÿä¸æ”¯æŒACPIçš„ï¼Œæ‰€ä»¥è¿™ä¸ªæ— æ•ˆã€‚</p><p><strong>äº”.rebootå‘½ä»¤</strong></p><p>ä½œç”¨ï¼šé‡å¯ç³»ç»Ÿ<br>ä½¿ç”¨æƒé™ï¼šè¶…çº§ç®¡ç†å‘˜<br>å¸¸ç”¨é€‰é¡¹<br>\1. -nåœ¨é‡å¯å‰ä¸å°†å†…å­˜èµ„æ–™å†™å›ç¡¬ç›˜<br>\2. -få¼ºè¿«é‡å¯ï¼Œä¸å‘¼å«shutdownæŒ‡ä»¤<br>\3. -dä¸æŠŠè®°å½•å†™åˆ°/var/log/wtmp<br>\4. -wä¸æ˜¯çœŸæ­£é‡å¯ï¼Œåªæ˜¯æŠŠä¿¡æ¯å†™å…¥/var/log/wtmp<br>rebootçš„å·¥ä½œè¿‡ç¨‹å·®ä¸å¤šè·Ÿhaltä¸€æ ·ï¹ä¸è¿‡å®ƒæ˜¯å¼•å‘ä¸»æœºé‡å¯ï¹è€Œhaltæ˜¯å…³æœºã€‚å®ƒçš„å‚æ•°ä¸haltç›¸å·®ä¸å¤šã€‚</p><blockquote><p>å¸¸è§„ç”¨æˆ·ä¸‹ä½¿ç”¨su -root åˆ‡æ¢åˆ°rootç”¨æˆ·ï¼Œrootç”¨æˆ·ä¸‹ä½¿ç”¨logoutå³å¯é€€å›å¸¸è§„ç”¨æˆ·ï¼Œæ³¨æ„ï¼Œå›¾å½¢ç•Œé¢ä¸‹çš„å‘½ä»¤è¡Œlogoutå‘½ä»¤æ— æ•ˆ</p></blockquote><h3 id="ç”¨æˆ·ç®¡ç†"><a href="#ç”¨æˆ·ç®¡ç†" class="headerlink" title="ç”¨æˆ·ç®¡ç†"></a>ç”¨æˆ·ç®¡ç†</h3><p><strong>åŸºæœ¬è¯­æ³•</strong></p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">adduser ç”¨æˆ·å (åˆ›å»ºåä¼šåœ¨homeç›®å½•ä¸‹è‡ªåŠ¨åˆ›å»ºåŒåç”¨æˆ·ç›®å½•)</span><br><span class="line">æˆ–è€…</span><br><span class="line">adduser -d æ–‡ä»¶å ç”¨æˆ·å (è‡ªå®šä¹‰ç”¨æˆ·ç›®å½•å)</span><br><span class="line">-----------------------------------------------------</span><br><span class="line">ä½¿ç”¨è¯¥å‘½ä»¤ä¿®æ”¹å¯†ç ï¼špasswd ç”¨æˆ·å</span><br><span class="line">-----------------------------------------------------</span><br><span class="line">åˆ é™¤ç”¨æˆ·ï¼šuserdel ç”¨æˆ·å (ä¸ä¼šåˆ é™¤homeä¸‹çš„ç”¨æˆ·æ–‡ä»¶å¤¹)</span><br><span class="line">userdel -r ç”¨æˆ·å(è¿å¸¦åˆ é™¤ç”¨æˆ·æ–‡ä»¶å¤¹)</span><br><span class="line"></span><br><span class="line">æŸ¥è¯¢ç”¨æˆ·ä¿¡æ¯ï¼š id ç”¨æˆ·å</span><br><span class="line">åˆ‡æ¢ç”¨æˆ·ï¼šsu -ç”¨æˆ·åï¼ˆä»æƒé™é«˜çš„ç”¨æˆ·åˆ°ä½çš„ç”¨æˆ·æ— éœ€è¾“å…¥å¯†ç ï¼Œåä¹‹éœ€è¦ï¼‰</span><br><span class="line">å›é€€åˆ°åŸæ¥ç”¨æˆ·ï¼šeixt/logout</span><br><span class="line">æŸ¥çœ‹å½“å‰ç”¨æˆ·ï¼š who am iï¼ˆæ˜¾ç¤ºç¬¬ä¸€æ¬¡ç™»å½•çš„ç”¨æˆ·ä¿¡æ¯ï¼‰</span><br><span class="line">------------- ----------------------------------------</span><br><span class="line">ç”¨æˆ·ç»„ç›¸å…³ï¼ˆPS:æ–°å»ºä¸€ä¸ªç”¨æˆ·ä¼šè‡ªåŠ¨æœ‰ä¸€ä¸ªç”¨æˆ·ååŒåç»„ï¼‰ï¼š</span><br><span class="line">æ–°å¢ä¸€ä¸ªç»„ï¼šgroupadd ç»„å</span><br><span class="line">åˆ é™¤ä¸€ä¸ªç»„ï¼šgroupdel ç»„å</span><br><span class="line">å¢åŠ ç”¨æˆ·æ—¶ç›´æ¥åŠ ä¸Šç»„ï¼š useradd -g ç»„å ç”¨æˆ·å </span><br><span class="line">ä¿®æ”¹ç”¨æˆ·ç»„ï¼šusermod -g ç»„å ç”¨æˆ·å</span><br><span class="line">------------------------------------------------------</span><br><span class="line">é”å®šç”¨æˆ·ï¼Œä¸èƒ½ç™»å½•ï¼špasswd -l ç”¨æˆ·å  [ä¹Ÿå¯ä½¿ç”¨usermod -l ç”¨æˆ·å]</span><br><span class="line">æŸ¥çœ‹ç”¨æˆ·çŠ¶æ€ï¼špasswd -s ç”¨æˆ·å</span><br><span class="line">è§£é”ç”¨æˆ·ï¼špasswd -u ç”¨æˆ·å</span><br><span class="line">æ¸…ç©ºä¸€ä¸ªç”¨æˆ·å¯†ç ï¼Œä¹‹åæ— å¯†ç ä¹Ÿæ— æ³•ç™»å½•ï¼špasswd -d ç”¨æˆ·å</span><br></pre></td></tr></tbody></table></figure><p>ç”¨æˆ·ä¸ç»„ç›¸å…³æ–‡ä»¶</p><p><img src="https://gitee.com/rain-sky/images/raw/master/20210728151910.png"></p><h3 id="ä½¿ç”¨æŒ‡ä»¤"><a href="#ä½¿ç”¨æŒ‡ä»¤" class="headerlink" title="ä½¿ç”¨æŒ‡ä»¤"></a>ä½¿ç”¨æŒ‡ä»¤</h3><p><strong>æŒ‡å®šè¿è¡Œçº§åˆ«</strong></p><p>ä¸ƒä¸ªè¿è¡Œçº§åˆ«ï¼Œä¸‰äº”å¸¸ç”¨ï¼š</p><ul><li>0 - halt(åœæ­¢/å…³æœº)(ä¸è¦å°†è¿è¡Œçº§åˆ«è®¾ç½®ä¸º0)</li><li>1 - å•ç”¨æˆ·æ¨¡å¼</li><li>2 - å¤šç”¨æˆ·æ¨¡å¼ï¼Œæ— ç½‘ç»œ</li><li>3 - å¤šç”¨æˆ·æ¨¡å¼æœ‰ç½‘ç»œ</li><li>4 - æœªä½¿ç”¨(ä¿ç•™)</li><li>5 - å›¾å½¢åŒ–ç•Œé¢</li><li>6 - é‡å¯(ä¸è¦å°†è¿è¡Œçº§åˆ«è®¾ç½®ä¸º6)</li></ul><p>åˆ‡æ¢çº§åˆ«ï¼šinit[0123456]</p><p>æŸ¥çœ‹çº§åˆ«ï¼šsystemctl get-default</p><p><strong>rootå¯†ç æ‰¾å›</strong></p><ul><li><p>å¯åŠ¨ç³»ç»Ÿè¿›å…¥å¼€æœºç•Œé¢ï¼ŒæŒ‰ä¸‹eè¿›å…¥ç¼–è¾‘ç•Œé¢</p><p><img src="https://gitee.com/rain-sky/images/raw/master/20210728154616.png"></p></li><li><p>å°†å…‰æ ‡å®šä½åˆ°æ­¤å¤„å¹¶è¾“å…¥init=/bin/shï¼Œå†æŒ‰ä¸‹ctrl+xé‡å¯è¿›å…¥å•ç”¨æˆ·æ¨¡å¼</p><p><img src="https://gitee.com/rain-sky/images/raw/master/20210728154828.png"></p></li><li><p>é‡å¯åè¾“å…¥mount -o remount,rw /</p><p><img src="https://gitee.com/rain-sky/images/raw/master/20210728155051.png"></p></li><li><p>ä¸Šè¿°æŒ‡ä»¤è¾“å…¥åå›è½¦å†è¾“å…¥passwdå†å›è½¦ï¼Œè¾“å…¥ä¸¤æ¬¡æ–°å¯†ç å³å¯</p><p><img src="https://gitee.com/rain-sky/images/raw/master/20210728155248.png"></p></li><li><p>å†ä¸Šå›¾æœ€åä¸€è¡Œé”®å…¥touch /.autorelabelï¼ˆæ³¨æ„ï¼štouchä¸/ ä¸­é—´æœ‰ç©ºæ ¼ï¼‰</p></li><li><p>ä¸Šè¿°æŒ‡ä»¤æ‰§è¡Œåå†å›è½¦é”®å…¥exec /.sbin/init å†å›è½¦ç­‰å¾…ç³»ç»Ÿä¿®æ”¹å¯†ç åé‡å¯ï¼Œè¿™ä¸ªæ—¶é—´ä¼šæ¯”è¾ƒé•¿</p></li></ul><p><strong>å¸®åŠ©æŒ‡ä»¤</strong></p><ul><li><p>man è·å–å¸®åŠ©ä¿¡æ¯</p><p>è¯­æ³•ï¼šman [å‘½ä»¤æˆ–è€…é…ç½®æ–‡ä»¶]ï¼Œå¦‚è·å–lså‘½ä»¤å¸®åŠ©ä¿¡æ¯ï¼Œman  ls</p></li><li><p>helpæŒ‡ä»¤</p><p>è¯­æ³•ï¼šhelp  å‘½ä»¤</p></li></ul><p>ä¸¾ä¸ªæ —å­ï¼Œè¾“å…¥ man ls</p><p><img src="https://gitee.com/rain-sky/images/raw/master/20210728160931.png"></p><p><code>man</code>åŒ…å«<code>9</code>ä¸ªç« èŠ‚ï¼Œç« èŠ‚ç”¨æ•°å­—è¡¨ç¤ºï¼Œåˆ†åˆ«æ˜¯ï¼š</p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">ç”¨æˆ·å‘½ä»¤ </span><br><span class="line">ç³»ç»Ÿè°ƒç”¨ </span><br><span class="line">Cåº“è°ƒç”¨</span><br><span class="line">è®¾å¤‡æ–‡ä»¶åŠç‰¹æ®Šæ–‡ä»¶ </span><br><span class="line">é…ç½®æ–‡ä»¶æ ¼å¼ </span><br><span class="line">æ¸¸æˆ</span><br><span class="line">æ‚é¡¹ </span><br><span class="line">ç®¡ç†ç±»çš„å‘½ä»¤</span><br><span class="line">Linux å†…æ ¸API</span><br></pre></td></tr></tbody></table></figure><p><strong>æŸ¥æ‰¾ç±»æŒ‡ä»¤</strong></p><blockquote><p>findå‘½ä»¤</p></blockquote><p><img src="https://gitee.com/rain-sky/images/raw/master/20210728165504.png"></p><blockquote><p>locateæŒ‡ä»¤</p></blockquote><p>ç”¨äºå¿«é€Ÿå®šä½æŸä¸ªæ–‡ä»¶ä½ç½®ï¼ŒåŸç†æ˜¯åˆ›å»ºäº†ä¸€ä¸ªç´¢å¼•æ•°æ®åº“,åœ¨ä½¿ç”¨è¯¥æŒ‡ä»¤ä¹‹å‰å¿…é¡»å…ˆä½¿ç”¨updatedbæŒ‡ä»¤</p><p><img src="https://gitee.com/rain-sky/images/raw/master/20210728165917.png"></p><blockquote><p>grepæŒ‡ä»¤</p></blockquote><p>grepè¿‡æ»¤æŸ¥æ‰¾ï¼Œâ€|â€ç®¡é“ç¬¦å·ï¼Œè¡¨ç¤ºå°†å‰æŒ‡ä»¤ç»“æœè½¬ç»™åé¢ä¸€æ¡æŒ‡ä»¤å¤„ç†ï¼ŒåŸºæœ¬è¯­æ³•ï¼šgrep [é€‰é¡¹]  æŸ¥æ‰¾å†…å®¹  æºæ–‡ä»¶</p><p>ä¸€ä¸ªä¾‹å­ï¼ŒæŸ¥æ‰¾Hello.javaæ–‡ä»¶ä¸­helloæ‰€åœ¨çš„ä½ç½®å¹¶æ˜¾ç¤ºè¡Œå·</p><p><img src="https://gitee.com/rain-sky/images/raw/master/20210728170732.png"></p><p><strong>å‹ç¼©ä¸è§£å‹ç¼©ç±»</strong></p><img src="https://gitee.com/rain-sky/images/raw/master/20210728170945.png" style="zoom:50%;"><blockquote><p>zipæŒ‡ä»¤ï¼šzip [é€‰é¡¹]  xxx.zip  å°†è¦å‹ç¼©çš„å†…å®¹</p><p>-r è¡¨ç¤ºé€’å½’å‹ç¼©æ•´ä¸ªæ–‡ä»¶å¤¹ä¸‹å†…å®¹</p></blockquote><p>ä¾‹å­ï¼Œå‹ç¼©homeç›®å½•ï¼šzip -r myhome.zip /home/</p><blockquote><p>unzipæŒ‡ä»¤ï¼šunzip [é€‰é¡¹]   xxx.zip </p><p>-d æŒ‡å®šè§£å‹åå­˜æ”¾ç›®å½•</p></blockquote><p>ä¾‹å­ï¼Œè§£å‹ä¸Šä¾‹å¹¶è§£å‹åˆ°/opt/tmpæ–‡ä»¶å¤¹ä¸‹ï¼šunzip -d /opt/tmp /home/myhome.zip</p><blockquote><p>taræŒ‡ä»¤</p></blockquote><img src="https://gitee.com/rain-sky/images/raw/master/20210728203128.png" style="zoom:50%;"><h3 id="ç»„ç®¡ç†"><a href="#ç»„ç®¡ç†" class="headerlink" title="ç»„ç®¡ç†"></a>ç»„ç®¡ç†</h3><p><strong>æ¦‚å¿µ</strong></p><p>linuxä¸­æ¯ä¸ªç”¨æˆ·å¿…é¡»å±äºä¸€ä¸ªç»„ï¼Œä¸èƒ½ç‹¬ç«‹äºç»„å¤–ï¼Œæ¯ä¸ªæ–‡ä»¶æœ‰æ‰€æœ‰è€…ï¼Œæ‰€åœ¨ç»„ï¼Œå…¶ä»–ç»„ç­‰æ¦‚å¿µã€‚</p><p>ä¸¾ä¸ªæ —å­ï¼š</p><p>æœ‰A,B,Cä¸‰ä¸ªç»„ï¼Œç”²å±äºAç»„ï¼Œç”²ç”¨æˆ·åˆ›å»ºäº†hello.txtæ–‡ä»¶ï¼Œé‚£ä¹ˆç”²å°±æ˜¯è¯¥æ–‡ä»¶çš„æ‰€æœ‰è€…ï¼ŒAå°±æ˜¯è¯¥æ–‡ä»¶çš„æ‰€åœ¨ç»„ï¼ŒBï¼ŒCç›¸å¯¹è¯¥æ–‡ä»¶æ¥è¯´å°±æ˜¯å…¶ä»–ç»„ã€‚</p><p><strong>ç›¸å…³æŒ‡ä»¤</strong></p><blockquote><p>ä½¿ç”¨cat /etc/groupå¯ä»¥æŸ¥çœ‹ç»„åŠå…¶å±æ€§ä¿¡æ¯</p></blockquote><p>æŸ¥çœ‹æ–‡ä»¶æ‰€æœ‰è€…ï¼šls -ahl</p><p>ä¿®æ”¹æ–‡ä»¶æ‰€æœ‰è€…ï¼šchown ç”¨æˆ·å[:æ‰€åœ¨ç»„]   æ–‡ä»¶å ã€å‚æ•°ï¼š-Rå¦‚æœæ˜¯ç›®å½•ï¼Œåˆ™ä½¿å…¶å­ç›®å½•é€’å½’ç”Ÿæ•ˆã€‘</p><p>ä¿®æ”¹æ–‡ä»¶æ‰€åœ¨ç»„ï¼šchgrp ç»„å æ–‡ä»¶å</p><p>ä¿®æ”¹ç”¨æˆ·æ‰€åœ¨ç»„ï¼šusermod -g ç»„å ç”¨æˆ·å / usermod -d ç›®å½•å ç”¨æˆ·å æ”¹å˜è¯¥ç”¨æˆ·ç™»å½•çš„åˆå§‹ç›®å½•</p><p><strong>æƒé™ä»‹ç»</strong></p><p>ä½¿ç”¨ls -læ˜¾ç¤ºæ–‡ä»¶è¯¦ç»†ä¿¡æ¯</p><p>ä¸¾ä¸ªæå­ï¼š</p><p>å…¶ä¸­ - ä»£è¡¨æ™®é€šæ–‡ä»¶</p><p><img src="https://gitee.com/rain-sky/images/raw/master/20210729100110.png"></p><p>rwxæƒé™ä»‹ç»</p><p><img src="https://gitee.com/rain-sky/images/raw/master/20210729101245.png"></p><p><strong>æƒé™ä¿®æ”¹</strong></p><p>æ–¹å¼ä¸€ï¼š+ï¼Œ-ï¼Œ=å˜æ›´æƒé™</p><p>u:æ‰€æœ‰è€…ï¼Œg:æ‰€åœ¨ç»„ï¼Œo:å…¶ä»–ç»„ï¼Œa:æ‰€æœ‰äºº</p><p>ä¸¾ä¸ªæ —å­ï¼š</p><p>chmod u=rwx,g=rx,o=x æ–‡ä»¶å/ç›®å½•å</p><p>chmod o+w   æ–‡ä»¶å/ç›®å½•å  ã€ç»™å…¶ä»–ç»„èµ‹äºˆå†™çš„æƒé™ã€‘</p><p>chmod a-x    æ–‡ä»¶å/ç›®å½•å   ã€å»é™¤æ‰€æœ‰äººæ‰§è¡Œçš„æƒé™ã€‘</p><h3 id="crondå®šæ—¶ä»»åŠ¡è°ƒåº¦"><a href="#crondå®šæ—¶ä»»åŠ¡è°ƒåº¦" class="headerlink" title="crondå®šæ—¶ä»»åŠ¡è°ƒåº¦"></a>crondå®šæ—¶ä»»åŠ¡è°ƒåº¦</h3><blockquote><p>æ­¤å‘å°†æ¥å†å¡«</p></blockquote><h3 id="ç£ç›˜ç®¡ç†"><a href="#ç£ç›˜ç®¡ç†" class="headerlink" title="ç£ç›˜ç®¡ç†"></a>ç£ç›˜ç®¡ç†</h3><p><strong>ç¤ºæ„</strong></p><blockquote><p>LinuxæŒ‚è½½æœºåˆ¶ï¼š<a href="http://c.biancheng.net/view/2859.html">é“¾æ¥</a></p></blockquote><p>çº æ­£ä¸€ä¸ªè¯¯åŒºï¼Œå¹¶ä¸æ˜¯æ ¹ç›®å½•ä¸‹ä»»ä½•ä¸€ä¸ªç›®å½•éƒ½å¯ä»¥ä½œä¸ºæŒ‚è½½ç‚¹ï¼Œç”±äºæŒ‚è½½æ“ä½œä¼šä½¿å¾—åŸæœ‰ç›®å½•ä¸­æ–‡ä»¶è¢«éšè—ï¼Œå› æ­¤æ ¹ç›®å½•ä»¥åŠç³»ç»ŸåŸæœ‰ç›®å½•éƒ½ä¸è¦ä½œä¸ºæŒ‚è½½ç‚¹ï¼Œä¼šé€ æˆç³»ç»Ÿå¼‚å¸¸ç”šè‡³å´©æºƒï¼ŒæŒ‚è½½ç‚¹æœ€å¥½æ˜¯æ–°å»ºçš„ç©ºç›®å½•ã€‚</p><blockquote><p>åˆ†åŒº</p></blockquote><img src="https://gitee.com/rain-sky/images/raw/master/20210729163948.png" style="zoom:50%;"><p><strong>ç›¸å…³æŒ‡ä»¤</strong></p><blockquote><p>æŸ¥çœ‹æ‰€æœ‰è®¾å¤‡æŒ‚è½½æƒ…å†µï¼šlsblk  æˆ–è€…lsblk -f</p></blockquote><p>å’Œæˆ‘ä»¬é…ç½®è™šæ‹Ÿæœºæ—¶ä¸€è‡´ï¼Œbootåˆ†åŒº1Gï¼Œäº¤æ¢åˆ†åŒº2Gï¼Œæ ¹åˆ†åŒº17G</p><p><img src="https://gitee.com/rain-sky/images/raw/master/20210729164250.png"></p><p> ç¡¬ç›˜è¯´æ˜ï¼š</p><p>linuxç¡¬ç›˜åˆ†IDEå’ŒSCSIç›˜ï¼Œç›®å‰åŸºæœ¬æ˜¯SCSI</p><img src="https://gitee.com/rain-sky/images/raw/master/20210729164853.png" style="zoom: 80%;"><p><strong>å¢åŠ ä¸€å—ç¡¬ç›˜</strong></p><blockquote><p>æ­¤å‘å°†æ¥å†å¡«~</p></blockquote><p><strong>ç£ç›˜æƒ…å†µæŸ¥è¯¢</strong></p><ul><li>æŸ¥è¯¢ç³»ç»Ÿæ•´ä½“ç£ç›˜ä½¿ç”¨æƒ…å†µï¼šdf -h</li></ul><img src="https://gitee.com/rain-sky/images/raw/master/20210729165603.png" style="zoom:50%;"><ul><li><p>æŸ¥è¯¢æŒ‡å®šç›®å½•çš„ç£ç›˜å ç”¨æƒ…å†µï¼šdu -h /ç›®å½•</p><p>-hï¼šå¸¦è®¡é‡å•ä½</p><p>-aï¼šå«æ–‡ä»¶</p><p>-cï¼šå¢åŠ æ±‡æ€»å€¼</p><p>â€“max-depth=1ï¼šæŒ‡å®šæŸ¥è¯¢æ·±åº¦ï¼Œæ­¤å¤„1ä¸ºç¤ºä¾‹</p></li><li><p>ç»Ÿè®¡æŸæ–‡ä»¶å¤¹ä¸‹æ–‡ä»¶ä¸ªæ•°ï¼šls -l  /ç›®å½• | grep â€œ^-â€œ | wc -l</p><img src="https://gitee.com/rain-sky/images/raw/master/20210729170510.png" style="zoom: 67%;"></li></ul><h3 id="ç½‘ç»œé…ç½®åŸç†"><a href="#ç½‘ç»œé…ç½®åŸç†" class="headerlink" title="ç½‘ç»œé…ç½®åŸç†"></a>ç½‘ç»œé…ç½®åŸç†</h3><p><strong>ç¤ºæ„</strong></p><p>æ­¤å¤„éœ€è¦å…³é—­windowsé˜²ç«å¢™ï¼Œcentos7æ‰å¯pingé€šå®¿ä¸»ï¼Œè™šæ‹Ÿæœºé€šè¿‡vmnet8ä¸å®¿ä¸»æœºé€šä¿¡ï¼Œä¸ºæ­¤éœ€è¦ä¿è¯centos7çš„ipä¸vmnet8åœ¨åŒä¸€ç½‘æ®µã€‚</p><p><img src="https://gitee.com/rain-sky/images/raw/master/20210729173020.png"></p><p><strong>ç½‘ç»œç¯å¢ƒé…ç½®</strong></p><ul><li>è‡ªåŠ¨åˆ†é…DCHP</li></ul><p><span class="github-emoji"><span>ğŸ¦</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f366.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span>å…ˆä¸è¯´äº†~</p><ul><li>æŒ‡å®šIP</li></ul><img src="https://gitee.com/rain-sky/images/raw/master/20210729174610.png" style="zoom:67%;"><p><span class="github-emoji"><span>â­</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/23ed.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span> ä¿®æ”¹å¦‚ä¸‹</p><img src="https://gitee.com/rain-sky/images/raw/master/20210729174846.png" style="zoom:67%;"><p><span class="github-emoji"><span>â­</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/23ed.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span> å†ä¿®æ”¹vmnet8é…ç½®</p><img src="https://gitee.com/rain-sky/images/raw/master/20210729175149.png" style="zoom: 67%;"><p><span class="github-emoji"><span>â­</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/23ed.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span> é‡å¯ç½‘ç»œæœåŠ¡æˆ–é‡å¯ç³»ç»Ÿä½¿æ›´æ”¹ç”Ÿæ•ˆï¼š</p><p>service network restartï¼Œrebootå‡å¯</p><blockquote><p>PS<span class="github-emoji"><span>âš </span><img src="https://github.githubassets.com/images/icons/emoji/unicode/26a0.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span>:å¦‚æœä½¿ç”¨äº†xshellè¿œç¨‹ç™»é™†åˆ«å¿˜è®°è¯¥ä¸»æœºåé¸­~</p></blockquote><p><strong>ä¸»æœºä¸hostæ˜ å°„</strong></p><p>åœ¨hostsä¸‹é…ç½®ä¸€è¡Œæ˜ å°„å…³ç³»å³å¯ï¼Œå¦‚æ·»åŠ ï¼š192.168.2.128 rainsky</p><p><img src="https://gitee.com/rain-sky/images/raw/master/20210730095417.png"></p><p>è§£æè¿‡ç¨‹ï¼š</p><p><img src="https://gitee.com/rain-sky/images/raw/master/20210730095615.png"></p><h3 id="è¿›ç¨‹ç®¡ç†"><a href="#è¿›ç¨‹ç®¡ç†" class="headerlink" title="è¿›ç¨‹ç®¡ç†"></a>è¿›ç¨‹ç®¡ç†</h3><p>åœ¨Linuxä¸­æ¯ä¸€ä¸ªè¿è¡Œçš„ç¨‹åºéƒ½ç§°ä¸ºä¸€ä¸ªè¿›ç¨‹ï¼Œåˆ†é…ä¸€ä¸ªIDå·ï¼ˆPIDï¼‰ã€‚</p><p><strong>ç›¸å…³æŒ‡ä»¤</strong></p><blockquote><p>psæŒ‡ä»¤</p></blockquote><p>å‚æ•°ï¼š</p><p>-eï¼šæ˜¾ç¤ºæ‰€æœ‰è¿›ç¨‹</p><p>-fï¼šå…¨æ ¼å¼æ˜¾ç¤º(ä¾¿äºæŸ¥æ‰¾å­çˆ¶è¿›ç¨‹ï¼Œppidå·å³ä¸ºçˆ¶è¿›ç¨‹å·)</p><p>-a ï¼šæ˜¾ç¤ºå½“å‰ç»ˆç«¯æ‰€æœ‰è¿›ç¨‹ä¿¡æ¯</p><p>-u ï¼šä»¥ç”¨æˆ·æ ¼å¼æ˜¾ç¤º</p><p>-xï¼šæ˜¾ç¤ºåå°è¿›ç¨‹è¿è¡Œå‚æ•°</p><p>ä½¿ç”¨ps -aux | more åˆ†é¡µæŸ¥çœ‹</p><p><img src="https://gitee.com/rain-sky/images/raw/master/20210730100522.png"></p><p>æœ‰æ—¶å€™æˆ‘ä»¬åªéœ€è¦æŸ¥çœ‹è‡ªå·±æƒ³è¦çœ‹çš„æŸä¸€ä¸ªç¨‹åºæ˜¯å¦è¿è¡Œï¼Œä½¿ç”¨ç®¡é“æµå³å¯</p><p>for exampleï¼šps -ef | grep sshd</p><p><strong>ç»ˆæ­¢è¿›ç¨‹</strong></p><blockquote><p>killå‘½ä»¤ä¸killallå‘½ä»¤</p></blockquote><p>åŸºæœ¬è¯­æ³•ï¼š</p><p>kill [é€‰é¡¹] è¿›ç¨‹å·</p><p>killall è¿›ç¨‹å·</p><p>å¸¸ç”¨é€‰é¡¹ï¼š</p><p>-9ï¼šè¡¨ç¤ºå¼ºåˆ¶ç»ˆæ­¢</p><p><em>å®è·µä¸€ä¸‹</em></p><p>æ€é™¤ä¸€ä¸ªéæ³•ç”¨æˆ·è¿›ç¨‹ï¼š</p><p>ä½¿ç”¨rainç”¨æˆ·è¿œç¨‹ç™»å½•æœåŠ¡å™¨ï¼Œåœ¨æœåŠ¡å™¨ä¸Šä½¿ç”¨ps -ef | grep sshdåˆ—å‡ºç”¨æˆ·è¿›ç¨‹ï¼Œç„¶åä½¿ç”¨ç›¸å…³å‘½ä»¤ç»ˆæ­¢è¯¥ç”¨æˆ·è¿›ç¨‹å³å¯ã€‚</p><p>ç»ˆæ­¢è¿œç¨‹ç™»é™†æœåŠ¡ï¼š</p><p>ps -ef | grep sshdæŸ¥æ‰¾å‡ºsshè¿›ç¨‹/user/sbin/sshd -Dï¼Œæ€æ‰è¯¥è¿›ç¨‹ï¼Œé‡æ–°å¯åŠ¨è¯¥æœåŠ¡ä½¿ç”¨/bin/systemctl start sshd.service</p><p><strong>æŸ¥çœ‹è¿›ç¨‹æ ‘</strong></p><blockquote><p>pstree [é€‰é¡¹]</p></blockquote><p>-p æ˜¾ç¤ºè¿›ç¨‹pid</p><p>-u æ˜¾ç¤ºè¿›ç¨‹ç”¨æˆ·</p><h4 id="æœåŠ¡ç®¡ç†"><a href="#æœåŠ¡ç®¡ç†" class="headerlink" title="æœåŠ¡ç®¡ç†"></a>æœåŠ¡ç®¡ç†</h4><p><img src="https://gitee.com/rain-sky/images/raw/master/20210730102945.png"></p><p>â€“æŸ¥çœ‹å½“å‰æœåŠ¡å™¨æ‰€æœ‰æœåŠ¡</p><p>service â€“status-all </p><p>â€“ æŸ¥çœ‹å½“å‰æ‰€æœ‰æ­£åœ¨è¿è¡Œçš„æœåŠ¡</p><p>service â€“status-all | grep running</p><p>â€“æŸ¥çœ‹æŒ‡å®šæœåŠ¡è¿è¡ŒçŠ¶æ€å¦‚ httpd</p><p>service â€“status-all | grep httpd</p><p>æˆ– service httpd status</p><p>â€“æŸ¥çœ‹ç³»ç»Ÿå¯åŠ¨è‡ªå¯åŠ¨çš„æœåŠ¡åˆ—è¡¨</p><p>chkconfig â€“list</p><hr><p>â€“centos7ç‰ˆæœ¬</p><p>â€“æŸ¥çœ‹æ­£åœ¨è¿è¡Œçš„æœåŠ¡</p><p>systemctl | grep running</p><p>â€“åˆ—å‡ºè¿è¡Œçš„æœåŠ¡</p><p>initctl list</p><p>â€“æŸ¥çœ‹æŒ‡å®šæœåŠ¡è¿è¡ŒçŠ¶æ€</p><p>systemctl | grep apache2</p><p>â€“æŸ¥çœ‹æ­£åœ¨è¿è¡Œçš„æœåŠ¡</p><p>pstree</p><p>â€“æŸ¥çœ‹æ­£åœ¨è¿è¡Œçš„çŠ¶æ€</p><p>chkservice â€“æ˜¯ä¸€ä¸ªç®¡ç†ç³»ç»Ÿå•å…ƒçš„ç»ˆç«¯å·¥å…·åŠ¡</p><h3 id="rpmä¸yum"><a href="#rpmä¸yum" class="headerlink" title="rpmä¸yum"></a>rpmä¸yum</h3><h4 id="rpm"><a href="#rpm" class="headerlink" title="rpm"></a>rpm</h4><p>rpmç”¨äºäº’è”ç½‘ä¸‹è½½åŒ…çš„æ‰“åŒ…ä»¥åŠå®‰è£…å·¥å…·</p><p><strong>ç®¡ç†æŒ‡ä»¤</strong></p><p><img src="https://gitee.com/rain-sky/images/raw/master/20210730103301.png"></p><p>æŸ¥è¯¢ä¸€ä¸ªæŒ‡å®šè½¯ä»¶åŒ…æ˜¯å¦å®‰è£…ï¼šrpm -q è½¯ä»¶åŒ…å</p><p>æŸ¥è¯¢è½¯ä»¶åŒ…ä¿¡æ¯ï¼šrpm -qi è½¯ä»¶åŒ…åcl</p><p>æŸ¥è¯¢å®‰è£…åçš„æ–‡ä»¶å®‰è£…ä½ç½®ï¼šrpm -ql è½¯ä»¶åŒ…</p><p>æŸ¥è¯¢æ–‡ä»¶æ‰€å±è½¯ä»¶åŒ…ï¼šrpm -qf æ–‡ä»¶å</p><p><img src="https://gitee.com/rain-sky/images/raw/master/20210730103751.png"></p><p><strong>å¸è½½è½¯ä»¶åŒ…</strong></p><p><span class="github-emoji"><span>âš </span><img src="https://github.githubassets.com/images/icons/emoji/unicode/26a0.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span>rpm -e åŒ…åç§°</p><p>for exampleï¼šrpm -e firefox</p><p>æ·»åŠ å‚æ•° â€“nodeps å¼ºåˆ¶åˆ é™¤ï¼Œä¸å»ºè®®</p><p><strong>å®‰è£…è½¯ä»¶åŒ…</strong></p><p>rpm -ivh rpmåŒ…å…¨è·¯å¾„</p><p>å‚æ•°è¯´æ˜ï¼š</p><p>-i : å®‰è£…            -v ï¼šæç¤º            -hï¼šè¿›åº¦æ¡</p><p><em>example</em></p><p>åˆ é™¤å¹¶é‡æ–°å®‰è£…firefox</p><p>åˆ é™¤ï¼šç›´æ¥rpm -e firefoxå³å¯</p><p>é‡è£…ï¼šæˆ‘ä»¬éœ€è¦firefox çš„ rpmåŒ…å…¨è·¯å¾„ï¼Œå“ªé‡Œæœ‰ï¼Ÿ</p><p>åœ¨æ¡Œé¢iosæ–‡ä»¶çš„packgesæ–‡ä»¶å¤¹ä¸‹æœç´¢firesoxçš„rpmåŒ…ï¼Œå¤åˆ¶ç²˜è´´åˆ°ä½ æƒ³å»çš„æ–‡ä»¶å¤¹ä¸‹ï¼Œå®‰è£…å³å¯</p><h4 id="yum"><a href="#yum" class="headerlink" title="yum"></a>yum</h4><blockquote><p>å°±åƒåç«¯mavenå‰ç«¯npm,yarnä¸€æ ·ï¼Ÿ</p></blockquote><p><img src="https://gitee.com/rain-sky/images/raw/master/20210730110000.png"></p><h3 id="å®‰è£…å¼€å‘ç¯å¢ƒç³»åˆ—"><a href="#å®‰è£…å¼€å‘ç¯å¢ƒç³»åˆ—" class="headerlink" title="å®‰è£…å¼€å‘ç¯å¢ƒç³»åˆ—"></a>å®‰è£…å¼€å‘ç¯å¢ƒç³»åˆ—</h3><h4 id="å®‰è£…Javaç¯å¢ƒ"><a href="#å®‰è£…Javaç¯å¢ƒ" class="headerlink" title="å®‰è£…Javaç¯å¢ƒ"></a>å®‰è£…Javaç¯å¢ƒ</h4><ol><li>æ£€æŸ¥æ˜¯å¦å­˜åœ¨jdkï¼Œå­˜åœ¨åˆ™å¸è½½</li></ol><img src="https://gitee.com/rain-sky/images/raw/master/20210730170100.png" style="zoom:67%;"><ol start="2"><li><p>ä½¿ç”¨rpmæ–¹å¼å®‰è£…ï¼Œå…ˆä¸‹è½½jdk1.8çš„rpmåŒ…åˆ°æœ¬åœ°ä¸€ä¸ªç›®å½•</p></li><li><p>ä½¿ç”¨å‘½ä»¤è¡Œå®‰è£…ï¼Œé»˜è®¤å®‰è£…åˆ°user/java/ç›®å½•ä¸‹</p></li><li><p>é…ç½®ç¯å¢ƒå˜é‡</p><p>vim /etc/profile æ‰“å¼€</p><p>æœ«å°¾é…ç½®å››è¡Œå¦‚ä¸‹</p></li></ol><img src="https://gitee.com/rain-sky/images/raw/master/20210730130642.png" style="zoom:67%;"><p><span class="github-emoji"><span>ğŸŒ—</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f317.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span> æœ€åä½¿ç”¨source /etc/profileä½¿é…ç½®æ–‡ä»¶ç”Ÿæ•ˆ</p><blockquote><p>å¦‚æœä½¿spring booté¡¹ç›®ç›´æ¥æ‰“ä¸ªjaræ”¾åœ¨æœåŠ¡å™¨ä¸Šå°±å¯ä»¥è¿è¡Œå•¦ï¼Œä½†æ˜¯åˆ«å¿˜è®°å¼€å¯ç«¯å£å·</p><p>å¦‚æœæ˜¯ssmé¡¹ç›®æ‰“waråŒ…æ”¾åœ¨tomcatä¸‹è¿è¡Œå°±å¥½äº†</p></blockquote><p><span class="github-emoji"><span>ğŸ±</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f431.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span> è¿è¡Œtomcatï¼Œè¿›å…¥binç›®å½•</p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> æ‰§è¡Œï¼šstartup.sh --&gt;å¯åŠ¨tomcat</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> æ‰§è¡Œï¼šshutdown.sh --&gt;å…³é—­tomcat</span></span><br><span class="line">./startup.sh</span><br><span class="line">./shutdown.sh</span><br></pre></td></tr></tbody></table></figure><p><span class="github-emoji"><span>ğŸ”¥</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f525.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span> é˜²ç«å¢™ç›¸å…³æŒ‡ä»¤</p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> æŸ¥çœ‹firewallæœåŠ¡çŠ¶æ€</span></span><br><span class="line">systemctl status firewalld</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> å¼€å¯ã€é‡å¯ã€å…³é—­ã€firewalld.serviceæœåŠ¡</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> å¼€å¯</span></span><br><span class="line">service firewalld start</span><br><span class="line"><span class="meta">#</span><span class="bash"> é‡å¯</span></span><br><span class="line">service firewalld restart</span><br><span class="line"><span class="meta">#</span><span class="bash"> å…³é—­</span></span><br><span class="line">service firewalld stop</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> æŸ¥çœ‹é˜²ç«å¢™è§„åˆ™</span></span><br><span class="line">firewall-cmd --list-all    # æŸ¥çœ‹å…¨éƒ¨ä¿¡æ¯</span><br><span class="line">firewall-cmd --list-ports  # åªçœ‹ç«¯å£ä¿¡æ¯</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> å¼€å¯ç«¯å£</span></span><br><span class="line">å¼€ç«¯å£å‘½ä»¤ï¼šfirewall-cmd --zone=public --add-port=80/tcp --permanent</span><br><span class="line">é‡å¯é˜²ç«å¢™ï¼šsystemctl restart firewalld.service</span><br><span class="line"></span><br><span class="line">å‘½ä»¤å«ä¹‰ï¼š</span><br><span class="line">--zone #ä½œç”¨åŸŸ</span><br><span class="line">--add-port=80/tcp  #æ·»åŠ ç«¯å£ï¼Œæ ¼å¼ä¸ºï¼šç«¯å£/é€šè®¯åè®®</span><br><span class="line">--permanent   #æ°¸ä¹…ç”Ÿæ•ˆï¼Œæ²¡æœ‰æ­¤å‚æ•°é‡å¯åå¤±æ•ˆ</span><br></pre></td></tr></tbody></table></figure><h4 id="MySQL"><a href="#MySQL" class="headerlink" title="MySQL"></a>MySQL</h4><blockquote><p><span class="github-emoji"><span>ğŸ‘‹</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f44b.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span> <a href="https://downloads.mysql.com/archives/community/">å®‰è£…æ¥è¿™é‡Œ</a></p></blockquote><p><img src="https://gitee.com/rain-sky/images/raw/master/20210730200910.png"></p><p><span class="github-emoji"><span>âš </span><img src="https://github.githubassets.com/images/icons/emoji/unicode/26a0.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span>centOS7.6è‡ªå¸¦ç›ä¸½äºšæ•°æ®åº“ï¼Œä¼šé€ æˆä¸mysqlå†²çªï¼Œå…ˆå¸è½½</p><img src="https://gitee.com/rain-sky/images/raw/master/20210730193822.png" style="zoom:67%;"><p><span class="github-emoji"><span>ğŸ˜„</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f604.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span>å·²ç»æŠŠbundle.tar è§£å‹åˆ°myrpmç›®å½•ä¸‹ï¼Œä¸€æ¬¡å®‰è£…ä¸‹åˆ—rpmåŒ…</p><p>rpm -ivh mysql-community-common-5.7.29-1.el7.x86_64.rpm</p><p>rpm -ivh mysql-community-libs-5.7.29-1.el7.x86_64.rpm</p><p>rpm -ivh mysql-community-client-5.7.29-1.el7.x86_64.rpm</p><p>rpm -ivh mysql-community-server-5.7.29-1.el7.x86_64.rpm </p><p><img src="https://gitee.com/rain-sky/images/raw/master/20210730202017.png"></p><p><span class="github-emoji"><span>ğŸ“</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f4c1.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span> systemctl start mysqld.serviceï¼Œå¯åŠ¨mysqlï¼ŒMySQLè‡ªåŠ¨ç»™rootç”¨æˆ·è®¾ç½®éšæœºå¯†ç ï¼Œè¿è¡Œ grep â€œpasswordâ€ /var/log/mysqld.log å¯ä»¥çœ‹åˆ°å½“å‰å¯†ç </p><p><span class="github-emoji"><span>ğŸ’â™‚</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f481-2642.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span> è¯•ä¸€è¯•æŸ¥çœ‹æ­£åœ¨è¿è¡Œçš„æœåŠ¡</p><p>systemctl | grep running</p><p><span class="github-emoji"><span>ğŸ˜¹</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f639.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span>è®¾ç½®æˆ‘ä»¬è‡ªå·±çš„å¯†ç ï¼Œå¼€å¯å¯†ç æç¤ºç­–ç•¥ï¼Œset global validate_password_policy=0(é»˜è®¤å€¼ä¸º1)</p><p>set password for â€œrootâ€@â€localhostâ€ =password(â€˜å¯†ç â€™)</p><blockquote><p>å¯åŠ¨MySQLå¹¶é‡ç½®rootå¯†ç </p></blockquote><p><img src="https://gitee.com/rain-sky/images/raw/master/20210730203540.png"></p><p><span class="github-emoji"><span>ğŸ™ˆ</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f648.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span>åŸºæœ¬æ­¥éª¤åˆ°æ­¤å°±å®Œæˆäº†  <del>(â‰§â–½â‰¦)/</del></p><p><span class="github-emoji"><span>ğŸ…¾</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f17e.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span>ä¸€äº›è¡¥å……</p><p>è®¾ç½®MySQLå¼€æœºè‡ªå¯åŠ¨</p><ul><li>å…ˆæ£€æŸ¥MySQLæ˜¯å¦å­˜åœ¨å¼€æœºè‡ªå¯åŠ¨åˆ—è¡¨</li></ul><img src="https://gitee.com/rain-sky/images/raw/master/20210730205308.png" style="zoom:67%;"><p>ç”±äºæˆ‘ä»¬æ˜¯centOS7ï¼Œä¹‹å‰çš„chkconfigä¸å†æ”¯æŒï¼Œæ•…ä½¿ç”¨æ¨èçš„systemctlï¼Œå¯ä»¥çœ‹åˆ°æˆ‘ä»¬çš„MySQLæœåŠ¡æ˜¯å·²ç»è‡ªå¯åŠ¨çš„ï¼Œå¦‚æœæœªè‡ªå¯åŠ¨å¯ä»¥ä½¿ç”¨systemctl enable mysqlæ¥è®¾ç½® mysqlå¼€æœºå¯åŠ¨è‡ªåŠ¨ï¼Œç”±äºæˆ‘ä»¬ä¸éœ€è¦å¯¹å¤–å¼€æ”¾æˆ‘ä»¬çš„æ•°æ®åº“ï¼Œæ•…3306ç«¯å£ä¸é…ç½®å¼€å¯ã€‚</p><h3 id="è¿‡ç¨‹ä¸­é‡åˆ°çš„ä¸€äº›é—®é¢˜"><a href="#è¿‡ç¨‹ä¸­é‡åˆ°çš„ä¸€äº›é—®é¢˜" class="headerlink" title="è¿‡ç¨‹ä¸­é‡åˆ°çš„ä¸€äº›é—®é¢˜"></a>è¿‡ç¨‹ä¸­é‡åˆ°çš„ä¸€äº›é—®é¢˜</h3><h4 id="ç™»é™†ç•Œé¢å¾ªç¯ç™»å½•é—®é¢˜"><a href="#ç™»é™†ç•Œé¢å¾ªç¯ç™»å½•é—®é¢˜" class="headerlink" title="ç™»é™†ç•Œé¢å¾ªç¯ç™»å½•é—®é¢˜"></a>ç™»é™†ç•Œé¢å¾ªç¯ç™»å½•é—®é¢˜</h4><p>å¤§æ¦‚æ˜¯å› ä¸ºä¿®æ”¹/etc/profileæ–‡ä»¶ï¼Œå¢åŠ Javaç¯å¢ƒå˜é‡çš„æ—¶å€™é…ç½®å‡ºé”™ï¼Œå¯¼è‡´ç™»å½•ç•Œé¢æ­»å¾ªç¯ç™»å½•ä¸”å‘½ä»¤è¡Œä¸èƒ½ç”¨äº†</p><p><strong>è§£å†³</strong></p><p>1ã€è¿›å…¥å•ç”¨æˆ·æ¨¡å¼ã€‚åœ¨rhgb quiet ååŠ ä¸Š single åæŒ‰ctrl+xè¿è¡Œ</p><p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9pbWcyMDE4LmNuYmxvZ3MuY29tL2Jsb2cvMTc0MDA2Ni8yMDE5MTAvMTc0MDA2Ni0yMDE5MTAwMjIwMjQxNzkzNS0xMzM2MjU1NjM2LnBuZw?x-oss-process=image/format,png"></p><p>ä¹‹åä½¿ç”¨rootç”¨æˆ·å¯†ç ç™»å½•rootè´¦æˆ·ï¼Œæƒé™èƒ½ä¿®æ”¹/etc/profile</p><p>ä¿®æ”¹/etc/profile</p><p>reboot</p>]]></content>
      
      
      
        <tags>
            
            <tag> linxu </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Swagger</title>
      <link href="2021/07/25/Swagger/"/>
      <url>2021/07/25/Swagger/</url>
      
        <content type="html"><![CDATA[<h2 id="Swaggerç®€ä»‹"><a href="#Swaggerç®€ä»‹" class="headerlink" title="Swaggerç®€ä»‹"></a>Swaggerç®€ä»‹</h2><p><strong>å‰è¨€</strong></p><p>å‰ç«¯ç»å¸¸æŠ±æ€¨åç«¯ç»™çš„æ¥å£æ–‡æ¡£ä¸å®é™…æƒ…å†µä¸ä¸€è‡´ã€‚åç«¯åˆè§‰å¾—ç¼–å†™åŠç»´æŠ¤æ¥å£æ–‡æ¡£ä¼šè€—è´¹ä¸å°‘ç²¾åŠ›ï¼Œç»å¸¸æ¥ä¸åŠæ›´æ–°ã€‚å…¶å®æ— è®ºæ˜¯å‰ç«¯è°ƒç”¨åç«¯ï¼Œè¿˜æ˜¯åç«¯è°ƒç”¨åç«¯ï¼Œéƒ½æœŸæœ›æœ‰ä¸€ä¸ªå¥½çš„æ¥å£æ–‡æ¡£ã€‚ä½†æ˜¯è¿™ä¸ªæ¥å£æ–‡æ¡£å¯¹äºç¨‹åºå‘˜æ¥è¯´ï¼Œå°±è·Ÿæ³¨é‡Šä¸€æ ·ï¼Œç»å¸¸ä¼šæŠ±æ€¨åˆ«äººå†™çš„ä»£ç æ²¡æœ‰å†™æ³¨é‡Šï¼Œç„¶è€Œè‡ªå·±å†™èµ·ä»£ç èµ·æ¥ï¼Œæœ€è®¨åŒçš„ï¼Œä¹Ÿæ˜¯å†™æ³¨é‡Šã€‚æ‰€ä»¥ä»…ä»…åªé€šè¿‡å¼ºåˆ¶æ¥è§„èŒƒå¤§å®¶æ˜¯ä¸å¤Ÿçš„ï¼Œéšç€æ—¶é—´æ¨ç§»ï¼Œç‰ˆæœ¬è¿­ä»£ï¼Œæ¥å£æ–‡æ¡£å¾€å¾€å¾ˆå®¹æ˜“å°±è·Ÿä¸ä¸Šä»£ç äº†ã€‚</p><p><strong>swaggeræ˜¯ä»€ä¹ˆ</strong></p><p>Swagger æ˜¯ä¸€ä¸ªè§„èŒƒä¸”å®Œæ•´çš„æ¡†æ¶ï¼Œç”¨äºç”Ÿæˆã€æè¿°ã€è°ƒç”¨å’Œå¯è§†åŒ– RESTful é£æ ¼çš„ Web æœåŠ¡ã€‚</p><hr><p>é€šè¿‡Swaggerè¡ç”Ÿå‡ºæ¥çš„ä¸€ç³»åˆ—é¡¹ç›®å’Œå·¥å…·ï¼Œå°±å¯ä»¥åšåˆ°ç”Ÿæˆå„ç§æ ¼å¼çš„æ¥å£æ–‡æ¡£ï¼Œç”Ÿæˆå¤šç§è¯­è¨€çš„å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯çš„ä»£ç ï¼Œä»¥åŠåœ¨çº¿æ¥å£è°ƒè¯•é¡µé¢ç­‰ç­‰ã€‚è¿™æ ·ï¼Œå¦‚æœæŒ‰ç…§æ–°çš„å¼€å‘æ¨¡å¼ï¼Œåœ¨å¼€å‘æ–°ç‰ˆæœ¬æˆ–è€…è¿­ä»£ç‰ˆæœ¬çš„æ—¶å€™ï¼Œåªéœ€è¦æ›´æ–°Swaggeræè¿°æ–‡ä»¶ï¼Œå°±å¯ä»¥è‡ªåŠ¨ç”Ÿæˆæ¥å£æ–‡æ¡£å’Œå®¢æˆ·ç«¯æœåŠ¡ç«¯ä»£ç ï¼Œåšåˆ°è°ƒç”¨ç«¯ä»£ç ã€æœåŠ¡ç«¯ä»£ç ä»¥åŠæ¥å£æ–‡æ¡£çš„ä¸€è‡´æ€§ã€‚</p><p><code>å‹æƒ…é“¾æ¥:</code><a href="https://swagger.io/">å®˜ç½‘åœ°å€</a></p><h2 id="ä½¿ç”¨è¯´æ˜"><a href="#ä½¿ç”¨è¯´æ˜" class="headerlink" title="ä½¿ç”¨è¯´æ˜"></a>ä½¿ç”¨è¯´æ˜</h2><h3 id="springbootç¯å¢ƒé›†æˆswagger"><a href="#springbootç¯å¢ƒé›†æˆswagger" class="headerlink" title="springbootç¯å¢ƒé›†æˆswagger"></a>springbootç¯å¢ƒé›†æˆswagger</h3><p>å¼•å…¥ä¾èµ–</p><figure class="highlight xml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>io.springfox<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>springfox-swagger2<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.9.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>io.springfox<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>springfox-swagger-ui<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.9.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><p><strong>ä¾èµ–è¯´æ˜ï¼š</strong></p><p><strong>ï¼ˆ1ï¼‰springfox-swagger2</strong></p><p>æ£€æµ‹springçš„webè¯·æ±‚ä¿¡æ¯ï¼Œç”Ÿæˆæ£€æµ‹ç»“æœï¼ˆ<code>jsonæ ¼å¼</code>ï¼‰ã€‚</p><p><strong>ï¼ˆ2ï¼‰springfox-swagger-ui</strong></p><p>æ ¹æ®springfox-swagger2ç”Ÿæˆçš„æ•°æ®ï¼Œç”Ÿæˆ<code>å¯è§†åŒ–</code>çš„å‹å¥½é¡µé¢ã€‚</p><p><strong>å¯ç”¨swagger</strong></p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="meta">@EnableSwagger2</span><span class="comment">//å¼€å¯swagger2</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SwaggerConfig</span> </span>{</span><br><span class="line"></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p><strong>å†™ä¸€ä¸ªcontrolleræµ‹è¯•</strong></p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RestController("/user")</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">UrlController</span> </span>{</span><br><span class="line">    <span class="meta">@RequestMapping(value = "/hello",method = RequestMethod.GET)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getHello</span><span class="params">()</span></span>{</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"hello"</span>;</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>è®¿é—®<a href="http://localhost:8080/swagger-ui.html%E7%9C%8B%E7%9C%8B%EF%BC%8C%E5%A6%82%E4%B8%8B%E5%9B%BE%E6%89%80%E7%A4%BA">http://localhost:8080/swagger-ui.htmlçœ‹çœ‹ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤º</a></p><p><img src="https://gitee.com/rain-sky/images/raw/master/20210725164756.png"></p><p><strong>é…ç½®swagger</strong></p><p>Docket,swaggerå”¯ä¸€å®ä¾‹</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">Docket</span><span class="params">(DocumentationType documentationType)</span> </span>{</span><br><span class="line">    <span class="keyword">this</span>.apiInfo = ApiInfo.DEFAULT;</span><br><span class="line">    <span class="keyword">this</span>.groupName = <span class="string">"default"</span>;</span><br><span class="line">    <span class="keyword">this</span>.enabled = <span class="keyword">true</span>;</span><br><span class="line">    <span class="keyword">this</span>.genericsNamingStrategy = <span class="keyword">new</span> DefaultGenericTypeNamingStrategy();</span><br><span class="line">    <span class="keyword">this</span>.applyDefaultResponseMessages = <span class="keyword">true</span>;</span><br><span class="line">    <span class="keyword">this</span>.host = <span class="string">""</span>;</span><br><span class="line">    <span class="keyword">this</span>.pathMapping = Optional.absent();</span><br><span class="line">    <span class="keyword">this</span>.apiSelector = ApiSelector.DEFAULT;</span><br><span class="line">    <span class="keyword">this</span>.enableUrlTemplating = <span class="keyword">false</span>;</span><br><span class="line">    <span class="keyword">this</span>.vendorExtensions = Lists.newArrayList();</span><br><span class="line">    <span class="keyword">this</span>.documentationType = documentationType;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>ç”±æºç å¯çŸ¥é…ç½®Docketéœ€è¦ä¼ å…¥ä¸€ä¸ªDocumentationType</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">DocumentationType</span> <span class="keyword">extends</span> <span class="title">SimplePluginMetadata</span> </span>{</span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> DocumentationType SWAGGER_12 = <span class="keyword">new</span> DocumentationType(<span class="string">"swagger"</span>, <span class="string">"1.2"</span>);</span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> DocumentationType SWAGGER_2 = <span class="keyword">new</span> DocumentationType(<span class="string">"swagger"</span>, <span class="string">"2.0"</span>);</span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> DocumentationType SPRING_WEB = <span class="keyword">new</span> DocumentationType(<span class="string">"spring-web"</span>, <span class="string">"1.0"</span>);</span><br><span class="line">  <span class="keyword">private</span> <span class="keyword">final</span> MediaType mediaType;</span><br><span class="line">  ...</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>è‡ªå®šä¹‰é…ç½®swagger</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Configuration(proxyBeanMethods = true)</span><span class="comment">//å¼€å¯fullæ¨¡å¼</span></span><br><span class="line"><span class="meta">@EnableSwagger2</span><span class="comment">//å¼€å¯swagger2</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SwaggerConfig</span> </span>{</span><br><span class="line"></span><br><span class="line">    <span class="comment">//Docket,swaggerå”¯ä¸€å®ä¾‹</span></span><br><span class="line">    <span class="comment">//æ³¨å…¥</span></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Docket <span class="title">docket</span><span class="params">()</span></span>{</span><br><span class="line">        <span class="comment">//Docketè¿˜æœ‰å¾ˆå¤šç”¨äºé…ç½®çš„æ–¹æ³•ï¼Œè¯¦æƒ…è§åæ–‡</span></span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> Docket(DocumentationType.SWAGGER_2)</span><br><span class="line">            .apiInfo(apiInfo());</span><br><span class="line">    }</span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> ApiInfo <span class="title">apiInfo</span><span class="params">()</span></span>{</span><br><span class="line">        Contact contact = <span class="keyword">new</span> Contact(<span class="string">"rain-sky"</span>, <span class="string">"https://rain-sky.github.io/"</span>, <span class="string">"1816046297@qq.com"</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> ApiInfo(<span class="string">"æµ‹è¯•ç”¨SwaggerApiæ–‡æ¡£"</span>,</span><br><span class="line">                <span class="string">"åˆæ­¥å­¦ä¹ ,ä¸æ±‚ç”šè§£"</span>,</span><br><span class="line">                <span class="string">"1.0"</span>,</span><br><span class="line">                <span class="string">"https://rain-sky.github.io/"</span>,</span><br><span class="line">                contact,</span><br><span class="line">                <span class="string">"Apache 2.0"</span>,</span><br><span class="line">                <span class="string">"http://www.apache.org/licenses/LICENSE-2.0"</span>,</span><br><span class="line">                <span class="keyword">new</span> ArrayList());</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>å†æ¬¡è®¿é—®<a href="http://localhost:8080/swagger-ui.html">http://localhost:8080/swagger-ui.html</a></p><p><img src="https://gitee.com/rain-sky/images/raw/master/20210725172406.png"></p><p><strong>æ˜¯å¦å¼€å¯swagger</strong></p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> Docket <span class="title">docket</span><span class="params">()</span></span>{</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> Docket(DocumentationType.SWAGGER_2)</span><br><span class="line">            .apiInfo(<span class="keyword">this</span>.apiInfo())</span><br><span class="line">        <span class="comment">//trueå¼€å¯swagger,falseåä¹‹</span></span><br><span class="line">            .enable(<span class="keyword">true</span>)</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h4 id="åªåœ¨ç”Ÿäº§ç¯å¢ƒä½¿ç”¨swagger"><a href="#åªåœ¨ç”Ÿäº§ç¯å¢ƒä½¿ç”¨swagger" class="headerlink" title="åªåœ¨ç”Ÿäº§ç¯å¢ƒä½¿ç”¨swagger"></a>åªåœ¨ç”Ÿäº§ç¯å¢ƒä½¿ç”¨swagger</h4><p><strong>ä¸‰å¥—ç¯å¢ƒå‡†å¤‡</strong></p><p><img src="https://gitee.com/rain-sky/images/raw/master/20210725183315.png"></p><p><strong>é»˜è®¤ç¯å¢ƒé…ç½®(application.properties)</strong></p><figure class="highlight properties"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">spring.profiles.active</span>=<span class="string">dev</span></span><br></pre></td></tr></tbody></table></figure><p><strong>swaggeré…ç½®</strong></p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Bean</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> Docket <span class="title">docket</span><span class="params">(Environment environment)</span></span>{</span><br><span class="line"><span class="comment">//é…ç½®å¼€å¯swaggerçš„ç¯å¢ƒ</span></span><br><span class="line">    Profiles profiles = Profiles.of(<span class="string">"dev"</span>, <span class="string">"test"</span>);</span><br><span class="line">    <span class="comment">//å½“å‰ç¯å¢ƒå»åŒ¹é…è®¾ç½®å¼€å¯swaggerçš„ç¯å¢ƒ</span></span><br><span class="line">    <span class="keyword">boolean</span> b = environment.acceptsProfiles(profiles);</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> Docket(DocumentationType.SWAGGER_2)</span><br><span class="line">            .apiInfo(<span class="keyword">this</span>.apiInfo())</span><br><span class="line">            .enable(b)</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>ç”±äºæ­¤æ—¶æˆ‘ä»¬ä½¿ç”¨ç”Ÿäº§ç¯å¢ƒï¼Œæ•…è®¿é—®<a href="http://localhost:8080/swagger-ui.html%E8%83%BD%E5%A4%9F%E6%88%90%E5%8A%9F">http://localhost:8080/swagger-ui.htmlèƒ½å¤ŸæˆåŠŸ</a></p><p>è‹¥æ­¤æ—¶ä¿®æ”¹application.propertiesä¸º</p><figure class="highlight properties"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">spring.profiles.active</span>=<span class="string">pro</span></span><br></pre></td></tr></tbody></table></figure><p>å†æ¬¡è®¿é—®ï¼ŒOMG(âŠ™oâŠ™)<del>ï¼ŒæˆåŠŸè®¿é—®å¤±è´¥äº†</del></p><p><img src="https://gitee.com/rain-sky/images/raw/master/20210725195156.png"></p><h2 id="é…ç½®æ‰«ææ¥å£"><a href="#é…ç½®æ‰«ææ¥å£" class="headerlink" title="é…ç½®æ‰«ææ¥å£"></a>é…ç½®æ‰«ææ¥å£</h2><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Bean</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> Docket <span class="title">docket</span><span class="params">()</span></span>{</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> Docket(DocumentationType.SWAGGER_2)</span><br><span class="line">            .apiInfo(<span class="keyword">this</span>.apiInfo())</span><br><span class="line">            .select()</span><br><span class="line">        <span class="comment">//æŒ‡å®šæ‰«æ</span></span><br><span class="line">            .apis(RequestHandlerSelectors.basePackage(<span class="string">"com.chen.Swagger.controller"</span>))</span><br><span class="line">        <span class="comment">//åªæ‰«æ/user/**ä¸‹çš„æ¥å£</span></span><br><span class="line">            <span class="comment">//.paths(PathSelectors.ant("/user/**"))</span></span><br><span class="line">            .build();</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>RequestHandlerSelectorså¯é€‰é¡¹â€˜</p><ul><li>anyæ‰«æå…¨éƒ¨</li><li>basePackageé…ç½®æ‰«æåŒ…</li><li>noneä¸æ‰«æ</li><li>æ‰«æç±»ä¸Šæœ‰æŒ‡å®šæ³¨è§£çš„ç±»ï¼Œå‚æ•° annotation.Class</li><li>æ‰«ææ–¹æ³•ä¸Šæœ‰æŒ‡å®šæ³¨è§£çš„æ–¹æ³•</li></ul><img src="https://gitee.com/rain-sky/images/raw/master/20210725181443.png" style="zoom: 75%;"><p>PathSelectorså¯é€‰é¡¹</p><p><img src="https://gitee.com/rain-sky/images/raw/master/20210725181906.png"></p><h2 id="åˆ†ç»„ä¸æ¥å£æ‰«æ"><a href="#åˆ†ç»„ä¸æ¥å£æ‰«æ" class="headerlink" title="åˆ†ç»„ä¸æ¥å£æ‰«æ"></a>åˆ†ç»„ä¸æ¥å£æ‰«æ</h2><p><strong>é…ç½®ç»„åä¸å¤šä¸ªç»„</strong></p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Bean</span></span><br><span class="line">  <span class="function"><span class="keyword">public</span> Docket <span class="title">otherDocket</span><span class="params">()</span></span>{</span><br><span class="line">      <span class="keyword">return</span> <span class="keyword">new</span> Docket(DocumentationType.SWAGGER_2)</span><br><span class="line">              .groupName(<span class="string">"ç¬¬äºŒç»„"</span>);</span><br><span class="line">  }</span><br><span class="line"></span><br><span class="line">  <span class="meta">@Bean</span></span><br><span class="line">  <span class="function"><span class="keyword">public</span> Docket <span class="title">docket</span><span class="params">(Environment environment)</span></span>{</span><br><span class="line"></span><br><span class="line">      Profiles profiles = Profiles.of(<span class="string">"dev"</span>, <span class="string">"test"</span>);</span><br><span class="line">      <span class="keyword">boolean</span> b = environment.acceptsProfiles(profiles);</span><br><span class="line">      <span class="keyword">return</span> <span class="keyword">new</span> Docket(DocumentationType.SWAGGER_2)</span><br><span class="line">              .apiInfo(<span class="keyword">this</span>.apiInfo())</span><br><span class="line">              .enable(b)</span><br><span class="line">              .groupName(<span class="string">"ç¬¬ä¸€ç»„"</span>)</span><br><span class="line">              .select()</span><br><span class="line">              .apis(RequestHandlerSelectors.basePackage(<span class="string">"com.chen.Swagger.controller"</span>))</span><br><span class="line">              .paths(PathSelectors.any())</span><br><span class="line">              .build();</span><br><span class="line">  }</span><br></pre></td></tr></tbody></table></figure><p><strong>è®¿é—®UIçœ‹çœ‹</strong></p><p>ç¬¬ä¸€ç»„</p><p><img src="https://gitee.com/rain-sky/images/raw/master/20210726090851.png"></p><p>ç¬¬äºŒç»„</p><p><img src="https://gitee.com/rain-sky/images/raw/master/20210726091027.png"></p><p>å¯ä»¥çœ‹åˆ°ï¼Œç¬¬äºŒç»„å°±æ˜¯é»˜è®¤é…ç½®ä¸‹çš„æ˜¾ç¤ºï¼Œå¦‚æœéœ€è¦æ›´å¤šåˆ†ç»„ï¼Œåªéœ€æ³¨å…¥å¤šä¸ªDocketå®ä¾‹å³å¯ï¼Œå®ŒæˆååŒå¼€å‘ã€‚</p><p><strong>å†æ¥çœ‹çœ‹UIä¸­çš„Models</strong></p><p>Modelsè¡¨ç¤ºå®ä½“ç±»ï¼Œåªè¦è¯·æ±‚æ–¹æ³•ä¸­æœ‰è¿”å›å®ä½“ç±»ï¼Œå°±ä¼šè¢«æ‰«æåˆ°Modelsä¸­ï¼Œå¦‚ä¸‹ï¼š</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RestController("/user")</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">UrlController</span> </span>{</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@GetMapping("/getUser")</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> User <span class="title">user</span><span class="params">()</span></span>{</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> User();</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>ä½¿ç”¨ä¸€äº›æ³¨è§£ç»™æ–‡æ¡£å¢åŠ æ³¨é‡Š</p><p>å®ä½“ç±»ä¸Š</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@ApiModel("ç”¨æˆ·å®ä½“ç±»")</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">User</span> </span>{</span><br><span class="line">    <span class="meta">@ApiModelProperty("ç”¨æˆ·å")</span></span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="meta">@ApiModelProperty("ç”¨æˆ·Id")</span></span><br><span class="line">    <span class="keyword">private</span> String userId;</span><br><span class="line">    <span class="meta">@ApiModelProperty("ç”¨æˆ·å¯†ç ")</span></span><br><span class="line">    <span class="keyword">private</span> String password;</span><br><span class="line">...</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>æ¥å£ä¸Š</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@GetMapping("/getId")</span></span><br><span class="line"><span class="meta">@ApiOperation("è·å–ç”¨æˆ·Id")</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">getId</span><span class="params">(<span class="meta">@ApiParam("ç”¨æˆ·å")</span> String name)</span></span>{</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> User().getUserId();</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>è®¿é—®UIçœ‹çœ‹</p><p><img src="https://gitee.com/rain-sky/images/raw/master/20210726093631.png"></p><p><img src="https://gitee.com/rain-sky/images/raw/master/20210726093744.png"></p><h2 id="ä½¿ç”¨swaggeræ¥å£æµ‹è¯•"><a href="#ä½¿ç”¨swaggeræ¥å£æµ‹è¯•" class="headerlink" title="ä½¿ç”¨swaggeræ¥å£æµ‹è¯•"></a>ä½¿ç”¨swaggeræ¥å£æµ‹è¯•</h2><p>controller</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="meta">@RequestMapping("/user")</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">UrlController</span> </span>{</span><br><span class="line">    <span class="meta">@RequestMapping(value = "/hello",method = RequestMethod.GET)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getHello</span><span class="params">()</span></span>{</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"hello"</span>;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="meta">@ApiOperation("è·å–ç”¨æˆ·")</span></span><br><span class="line">    <span class="meta">@GetMapping("/getUser")</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> User <span class="title">user</span><span class="params">()</span></span>{</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> User(<span class="string">"é›¨æ°´"</span>,<span class="string">"1001"</span>,<span class="string">"123456"</span>);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="meta">@GetMapping("/getId/{name}")</span></span><br><span class="line">    <span class="meta">@ApiOperation("è·å–ç”¨æˆ·Id")</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getUser</span><span class="params">(<span class="meta">@ApiParam("ç”¨æˆ·å")</span><span class="meta">@PathVariable</span> String name)</span></span>{</span><br><span class="line">        System.out.println(name);</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"110012"</span>;</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>UIè§†å›¾</p><p><img src="https://gitee.com/rain-sky/images/raw/master/20210726100059.png"></p><p>æ¥å£æµ‹è¯•</p><p><img src="https://gitee.com/rain-sky/images/raw/master/20210726100018.png"></p><p>ä¼ å…¥è·¯å¾„å˜é‡nameåï¼ŒæˆåŠŸè¿”å›110012</p>]]></content>
      
      
      
        <tags>
            
            <tag> swagger </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>shiro</title>
      <link href="2021/07/25/shiro/"/>
      <url>2021/07/25/shiro/</url>
      
        <content type="html"><![CDATA[<h2 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h2><p><a href="https://shiro.apache.org/">shiroå®˜ç½‘</a></p><h3 id="ä»‹ç»"><a href="#ä»‹ç»" class="headerlink" title="ä»‹ç»"></a>ä»‹ç»</h3><blockquote><p><strong>Apache Shiroâ„¢</strong> is a powerful and easy-to-use Java security framework that performs authentication, authorization, cryptography, and session management. With Shiroâ€™s easy-to-understand API, you can quickly and easily secure any application â€“ from the smallest mobile applications to the largest web and enterprise applications.</p></blockquote><p>ç®€è€Œè¨€ä¹‹ï¼ŒApache Shiro æ˜¯ä¸€ä¸ªå¼ºå¤§çµæ´»çš„å¼€æºå®‰å…¨æ¡†æ¶ï¼Œå¯ä»¥å®Œå…¨å¤„ç†èº«ä»½éªŒè¯ã€æˆæƒã€åŠ å¯†å’Œä¼šè¯ç®¡ç†ã€‚</p><p><strong><em>shiroèƒ½åšä»€ä¹ˆ</em></strong></p><ul><li>éªŒè¯ç”¨æˆ·èº«ä»½</li><li>ç”¨æˆ·è®¿é—®æƒé™æ§åˆ¶ï¼Œæ¯”å¦‚ï¼š1ã€åˆ¤æ–­ç”¨æˆ·æ˜¯å¦åˆ†é…äº†ä¸€å®šçš„å®‰å…¨è§’è‰²ã€‚2ã€åˆ¤æ–­ç”¨æˆ·æ˜¯å¦è¢«æˆäºˆå®ŒæˆæŸä¸ªæ“ä½œçš„æƒé™</li><li>åœ¨é Web æˆ– EJB å®¹å™¨çš„ç¯å¢ƒä¸‹å¯ä»¥ä»»æ„ä½¿ç”¨Session API</li><li>å¯ä»¥å“åº”è®¤è¯ã€è®¿é—®æ§åˆ¶ï¼Œæˆ–è€… Session ç”Ÿå‘½å‘¨æœŸä¸­å‘ç”Ÿçš„äº‹ä»¶</li><li>å¯å°†ä¸€ä¸ªæˆ–ä»¥ä¸Šç”¨æˆ·å®‰å…¨æ•°æ®æºæ•°æ®ç»„åˆæˆä¸€ä¸ªå¤åˆçš„ç”¨æˆ· â€œviewâ€(è§†å›¾)</li><li>æ”¯æŒå•ç‚¹ç™»å½•(SSO)åŠŸèƒ½</li><li>æ”¯æŒæä¾›â€œRemember Meâ€æœåŠ¡ï¼Œè·å–ç”¨æˆ·å…³è”ä¿¡æ¯è€Œæ— éœ€ç™»å½•<br>Â·Â·Â·</li></ul><p><img src="https://gitee.com/rain-sky/images/raw/master/20210725152615.png"></p><ul><li><strong>Authenticationï¼ˆè®¤è¯ï¼‰ï¼š</strong>ç”¨æˆ·èº«ä»½è¯†åˆ«ï¼Œé€šå¸¸è¢«ç§°ä¸ºç”¨æˆ·â€œç™»å½•â€</li><li><strong>Authorizationï¼ˆæˆæƒï¼‰ï¼š</strong>è®¿é—®æ§åˆ¶ã€‚æ¯”å¦‚æŸä¸ªç”¨æˆ·æ˜¯å¦å…·æœ‰æŸä¸ªæ“ä½œçš„ä½¿ç”¨æƒé™ã€‚</li><li><strong>Session Managementï¼ˆä¼šè¯ç®¡ç†ï¼‰ï¼š</strong>ç‰¹å®šäºç”¨æˆ·çš„ä¼šè¯ç®¡ç†,ç”šè‡³åœ¨éweb æˆ– EJB åº”ç”¨ç¨‹åºã€‚</li><li><strong>Cryptographyï¼ˆåŠ å¯†ï¼‰ï¼š</strong>åœ¨å¯¹æ•°æ®æºä½¿ç”¨åŠ å¯†ç®—æ³•åŠ å¯†çš„åŒæ—¶ï¼Œä¿è¯æ˜“äºä½¿ç”¨ã€‚</li></ul><p><strong><em>é«˜çº§æ¦‚è¿°</em></strong></p><p>åœ¨é«˜çº§æ¦‚å¿µå±‚é¢ï¼ŒShiro çš„æ¶æ„æœ‰ 3 ä¸ªä¸»è¦æ¦‚å¿µï¼šSubjectã€SecurityManager å’Œ Realmsã€‚ä¸‹å›¾æ˜¯è¿™äº›ç»„ä»¶å¦‚ä½•äº¤äº’çš„é«˜çº§æ¦‚è¿°ï¼Œæˆ‘ä»¬å°†åœ¨ä¸‹é¢ä»‹ç»æ¯ä¸ªæ¦‚å¿µï¼š</p><p><img src="https://gitee.com/rain-sky/images/raw/master/20210725152743.png"></p><ul><li><strong>Subjectï¼š</strong>å½“å‰ç”¨æˆ·ï¼ŒSubject å¯ä»¥æ˜¯ä¸€ä¸ªäººï¼Œä½†ä¹Ÿå¯ä»¥æ˜¯ç¬¬ä¸‰æ–¹æœåŠ¡ã€å®ˆæŠ¤è¿›ç¨‹å¸æˆ·ã€æ—¶é’Ÿå®ˆæŠ¤ä»»åŠ¡æˆ–è€…å…¶å®ƒâ€“å½“å‰å’Œè½¯ä»¶äº¤äº’çš„ä»»ä½•äº‹ä»¶ã€‚</li><li><strong>SecurityManagerï¼š</strong>ç®¡ç†æ‰€æœ‰Subjectï¼ŒSecurityManager æ˜¯ Shiro æ¶æ„çš„æ ¸å¿ƒï¼Œé…åˆå†…éƒ¨å®‰å…¨ç»„ä»¶å…±åŒç»„æˆå®‰å…¨ä¼ã€‚</li><li><strong>Realmsï¼š</strong>ç”¨äºè¿›è¡Œæƒé™ä¿¡æ¯çš„éªŒè¯ï¼Œæˆ‘ä»¬è‡ªå·±å®ç°ã€‚Realm æœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªç‰¹å®šçš„å®‰å…¨ DAOï¼šå®ƒå°è£…ä¸æ•°æ®æºè¿æ¥çš„ç»†èŠ‚ï¼Œå¾—åˆ°Shiro æ‰€éœ€çš„ç›¸å…³çš„æ•°æ®ã€‚åœ¨é…ç½® Shiro çš„æ—¶å€™ï¼Œä½ å¿…é¡»æŒ‡å®šè‡³å°‘ä¸€ä¸ªRealm æ¥å®ç°è®¤è¯ï¼ˆauthenticationï¼‰å’Œ/æˆ–æˆæƒï¼ˆauthorizationï¼‰ã€‚</li></ul><h3 id="å¼€å§‹"><a href="#å¼€å§‹" class="headerlink" title="å¼€å§‹"></a>å¼€å§‹</h3><p>ç¬¬ä¸€ä¸ªç¨‹åº<a href="https://shiro.apache.org/tutorial.html">å®˜æ–¹æ¡ˆä¾‹</a></p><p>ä¾èµ–å¼•å…¥</p><figure class="highlight xml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.shiro<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>shiro-core<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.4.1<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- Shiro uses SLF4J for logging.  We'll use the 'simple' binding</span></span><br><span class="line"><span class="comment">         in this example app.  See http://www.slf4j.org for more info. --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.slf4j<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>slf4j-simple<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.7.21<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">scope</span>&gt;</span>test<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.slf4j<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>jcl-over-slf4j<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.7.21<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">scope</span>&gt;</span>test<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><p>shiro.ini</p><figure class="highlight ini"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># =============================================================================</span></span><br><span class="line"><span class="comment"># Tutorial INI configuration</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># Usernames/passwords are based on the classic Mel Brooks' film "Spaceballs" :)</span></span><br><span class="line"><span class="comment"># =============================================================================</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># -----------------------------------------------------------------------------</span></span><br><span class="line"><span class="comment"># Users and their (optional) assigned roles</span></span><br><span class="line"><span class="comment"># username = password, role1, role2, ..., roleN</span></span><br><span class="line"><span class="comment"># -----------------------------------------------------------------------------</span></span><br><span class="line"><span class="section">[users]</span></span><br><span class="line"><span class="attr">root</span> = secret, admin</span><br><span class="line"><span class="attr">guest</span> = guest, guest</span><br><span class="line"><span class="attr">presidentskroob</span> = <span class="number">12345</span>, president</span><br><span class="line"><span class="attr">darkhelmet</span> = ludicrousspeed, darklord, schwartz</span><br><span class="line"><span class="attr">lonestarr</span> = vespa, goodguy, schwartz</span><br><span class="line"></span><br><span class="line"><span class="comment"># -----------------------------------------------------------------------------</span></span><br><span class="line"><span class="comment"># Roles with assigned permissions</span></span><br><span class="line"><span class="comment"># roleName = perm1, perm2, ..., permN</span></span><br><span class="line"><span class="comment"># -----------------------------------------------------------------------------</span></span><br><span class="line"><span class="section">[roles]</span></span><br><span class="line"><span class="attr">admin</span> = *</span><br><span class="line"><span class="attr">schwartz</span> = lightsaber:*</span><br><span class="line"><span class="attr">goodguy</span> = winnebago:drive:eagle5</span><br></pre></td></tr></tbody></table></figure><p>QuickStart.java</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> org.apache.shiro.SecurityUtils;</span><br><span class="line"><span class="keyword">import</span> org.apache.shiro.authc.*;</span><br><span class="line"><span class="keyword">import</span> org.apache.shiro.config.IniSecurityManagerFactory;</span><br><span class="line"><span class="keyword">import</span> org.apache.shiro.mgt.SecurityManager;</span><br><span class="line"><span class="keyword">import</span> org.apache.shiro.session.Session;</span><br><span class="line"><span class="keyword">import</span> org.apache.shiro.subject.Subject;</span><br><span class="line"><span class="keyword">import</span> org.apache.shiro.util.Factory;</span><br><span class="line"><span class="keyword">import</span> org.slf4j.Logger;</span><br><span class="line"><span class="keyword">import</span> org.slf4j.LoggerFactory;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Tutorial</span> </span>{</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">transient</span> Logger log = LoggerFactory.getLogger(Tutorial.class);</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>{</span><br><span class="line">        log.info(<span class="string">"My First Apache Shiro Application"</span>);</span><br><span class="line"></span><br><span class="line">        Factory&lt;SecurityManager&gt; factory = <span class="keyword">new</span> IniSecurityManagerFactory(<span class="string">"classpath:shiro.ini"</span>);</span><br><span class="line">        SecurityManager securityManager = factory.getInstance();</span><br><span class="line">        SecurityUtils.setSecurityManager(securityManager);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// get the currently executing user:</span></span><br><span class="line">        Subject currentUser = SecurityUtils.getSubject();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// Do some stuff with a Session (no need for a web or EJB container!!!)</span></span><br><span class="line">        <span class="comment">//åœ¨å‡ ä¹æ‰€æœ‰ç¯å¢ƒä¸­ï¼Œæ‚¨éƒ½å¯ä»¥é€šè¿‡ä»¥ä¸‹è°ƒç”¨è·å–å½“å‰æ­£åœ¨æ‰§è¡Œçš„ç”¨æˆ·ï¼š</span></span><br><span class="line">        Session session = currentUser.getSession();</span><br><span class="line">        </span><br><span class="line">        session.setAttribute(<span class="string">"someKey"</span>, <span class="string">"aValue"</span>);</span><br><span class="line">        String value = (String) session.getAttribute(<span class="string">"someKey"</span>);</span><br><span class="line">        <span class="keyword">if</span> (value.equals(<span class="string">"aValue"</span>)) {</span><br><span class="line">            log.info(<span class="string">"Retrieved the correct value! ["</span> + value + <span class="string">"]"</span>);</span><br><span class="line">        }</span><br><span class="line"></span><br><span class="line">        <span class="comment">// let's login the current user so we can check against roles and permissions:</span></span><br><span class="line">        <span class="keyword">if</span> (!currentUser.isAuthenticated()) {</span><br><span class="line">            UsernamePasswordToken token = <span class="keyword">new</span> UsernamePasswordToken(<span class="string">"lonestarr"</span>, <span class="string">"vespa"</span>);</span><br><span class="line">            token.setRememberMe(<span class="keyword">true</span>);</span><br><span class="line">            <span class="keyword">try</span> {</span><br><span class="line">                currentUser.login(token);</span><br><span class="line">            } <span class="keyword">catch</span> (UnknownAccountException uae) {</span><br><span class="line">                log.info(<span class="string">"There is no user with username of "</span> + token.getPrincipal());</span><br><span class="line">            } <span class="keyword">catch</span> (IncorrectCredentialsException ice) {</span><br><span class="line">                log.info(<span class="string">"Password for account "</span> + token.getPrincipal() + <span class="string">" was incorrect!"</span>);</span><br><span class="line">            } <span class="keyword">catch</span> (LockedAccountException lae) {</span><br><span class="line">                log.info(<span class="string">"The account for username "</span> + token.getPrincipal() + <span class="string">" is locked.  "</span> +</span><br><span class="line">                        <span class="string">"Please contact your administrator to unlock it."</span>);</span><br><span class="line">            }</span><br><span class="line">            <span class="comment">// ... catch more exceptions here (maybe custom ones specific to your application?</span></span><br><span class="line">            <span class="keyword">catch</span> (AuthenticationException ae) {</span><br><span class="line">                <span class="comment">//unexpected condition?  error?</span></span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line"></span><br><span class="line">        <span class="comment">//say who they are:</span></span><br><span class="line">        <span class="comment">//print their identifying principal (in this case, a username):</span></span><br><span class="line">        log.info(<span class="string">"User ["</span> + currentUser.getPrincipal() + <span class="string">"] logged in successfully."</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//test a role:</span></span><br><span class="line">        <span class="keyword">if</span> (currentUser.hasRole(<span class="string">"schwartz"</span>)) {</span><br><span class="line">            log.info(<span class="string">"May the Schwartz be with you!"</span>);</span><br><span class="line">        } <span class="keyword">else</span> {</span><br><span class="line">            log.info(<span class="string">"Hello, mere mortal."</span>);</span><br><span class="line">        }</span><br><span class="line"></span><br><span class="line">        <span class="comment">//test a typed permission (not instance-level)</span></span><br><span class="line">        <span class="keyword">if</span> (currentUser.isPermitted(<span class="string">"lightsaber:wield"</span>)) {</span><br><span class="line">            log.info(<span class="string">"You may use a lightsaber ring.  Use it wisely."</span>);</span><br><span class="line">        } <span class="keyword">else</span> {</span><br><span class="line">            log.info(<span class="string">"Sorry, lightsaber rings are for schwartz masters only."</span>);</span><br><span class="line">        }</span><br><span class="line"></span><br><span class="line">        <span class="comment">//a (very powerful) Instance Level permission:</span></span><br><span class="line">        <span class="keyword">if</span> (currentUser.isPermitted(<span class="string">"winnebago:drive:eagle5"</span>)) {</span><br><span class="line">            log.info(<span class="string">"You are permitted to 'drive' the winnebago with license plate (id) 'eagle5'.  "</span> +</span><br><span class="line">                    <span class="string">"Here are the keys - have fun!"</span>);</span><br><span class="line">        } <span class="keyword">else</span> {</span><br><span class="line">            log.info(<span class="string">"Sorry, you aren't allowed to drive the 'eagle5' winnebago!"</span>);</span><br><span class="line">        }</span><br><span class="line"></span><br><span class="line">        <span class="comment">//all done - log out!</span></span><br><span class="line">        currentUser.logout();</span><br><span class="line"></span><br><span class="line">        System.exit(<span class="number">0</span>);</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> å®‰å…¨ </tag>
            
            <tag> shiro </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>springSecurity</title>
      <link href="2021/07/24/springSecurity/"/>
      <url>2021/07/24/springSecurity/</url>
      
        <content type="html"><![CDATA[<h2 id="spring-security"><a href="#spring-security" class="headerlink" title="spring security"></a>spring security</h2><h3 id="springsSecurityç®€ä»‹"><a href="#springsSecurityç®€ä»‹" class="headerlink" title="springsSecurityç®€ä»‹"></a>springsSecurityç®€ä»‹</h3><p><strong>springSecurityæ˜¯ä»€ä¹ˆ</strong></p><p><a href="https://docs.spring.io/spring-security/site/docs/5.2.11.RELEASE/reference/html/">5.2.11ç‰ˆæœ¬æ–‡æ¡£åœ°å€</a></p><blockquote><p>Spring Security is a powerful and highly customizable authentication and access-control framework. It is the de-facto standard for securing Spring-based applications.</p><p>Spring Security is a framework that focuses on providing both authentication and authorization to Java applications. Like all Spring projects, the real power of Spring Security is found in how easily it can be extended to meet custom requirements</p></blockquote><p><strong>springSecurityèƒ½åšä»€ä¹ˆï¼Ÿ</strong></p><ul><li>èº«ä»½éªŒè¯</li><li>è®¿é—®æ§åˆ¶</li></ul><p>å…¶æ ¸å¿ƒå°±æ˜¯ä¸€ç»„è¿‡æ»¤å™¨é“¾ï¼Œé¡¹ç›®å¯åŠ¨åå°†ä¼šè‡ªåŠ¨é…ç½®ã€‚æœ€æ ¸å¿ƒçš„å°±æ˜¯ Basic Authentication Filter ç”¨æ¥è®¤è¯ç”¨æˆ·çš„èº«ä»½ï¼Œä¸€ä¸ªåœ¨spring securityä¸­ä¸€ç§è¿‡æ»¤å™¨å¤„ç†ä¸€ç§è®¤è¯æ–¹å¼ã€‚</p><p><strong>ç‰¹æ€§</strong></p><blockquote><p>Spring Security provides comprehensive support for authentication, authorization, and protection against <a href="https://docs.spring.io/spring-security/site/docs/5.2.11.RELEASE/reference/html/features.html#exploits">common exploits</a>. It also provides integration with other libraries to simplify its usage.</p></blockquote><p>Spring Security ä¸ºèº«ä»½éªŒè¯ã€æˆæƒå’Œå¸¸è§æ¼æ´åˆ©ç”¨æä¾›å…¨é¢æ”¯æŒã€‚å®ƒè¿˜æä¾›ä¸å…¶ä»–åº“çš„é›†æˆä»¥ç®€åŒ–å…¶ä½¿ç”¨ã€‚</p><p><strong><em>æ¼æ´ä¿æŠ¤</em></strong></p><p>æ¼æ´ä¸¾ä¾‹ï¼š</p><ul><li>Cross Site Request Forgery (CSRF) è·¨ç«™è¯·æ±‚ä¼ªé€ </li><li>Security HTTP Response Headers</li><li>â€¦</li></ul><h3 id="å¼€å§‹ä½¿ç”¨"><a href="#å¼€å§‹ä½¿ç”¨" class="headerlink" title="å¼€å§‹ä½¿ç”¨"></a>å¼€å§‹ä½¿ç”¨</h3><p>spring bootç¯å¢ƒï¼Œmavenä½¿ç”¨</p><figure class="highlight xml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-security<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><blockquote><p>Since Spring Boot provides a Maven BOM to manage dependency versions, you do not need to specify a version. If you wish to override the Spring Security version, you may do so by providing a Maven property, as the following example shows:</p></blockquote><p>ç”±äºspring bootç‰ˆæœ¬ä»²è£ï¼Œå¦‚éœ€æŒ‡å®šç‰ˆæœ¬ï¼Œå¦‚ä¸‹</p><figure class="highlight xml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">properties</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- ... --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">spring-security.version</span>&gt;</span>5.2.11.RELEASE<span class="tag">&lt;/<span class="name">spring-security.version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><blockquote><p>ç”±äº Spring Security ä»…åœ¨ä¸»è¦ç‰ˆæœ¬ä¸­è¿›è¡Œé‡å¤§æ›´æ”¹ï¼Œå› æ­¤åœ¨ Spring Boot ä¸­ä½¿ç”¨è¾ƒæ–°ç‰ˆæœ¬çš„ Spring Security æ˜¯å®‰å…¨çš„ã€‚ä½†æ˜¯ï¼Œæœ‰æ—¶æ‚¨å¯èƒ½è¿˜éœ€è¦æ›´æ–° Spring Framework çš„ç‰ˆæœ¬ã€‚æ‚¨å¯ä»¥é€šè¿‡æ·»åŠ  Maven å±æ€§æ¥å®ç°ï¼Œå¦‚ä»¥ä¸‹ç¤ºä¾‹æ‰€ç¤ºï¼š</p></blockquote><figure class="highlight xml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">properties</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- ... --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">spring.version</span>&gt;</span>5.2.15.RELEASE<span class="tag">&lt;/<span class="name">spring.version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><p><strong>ç¤ºä¾‹</strong></p><p>å‡å®šæˆ‘ä»¬æœ‰ä¸åŒç­‰çº§ç”¨æˆ·ï¼Œå¹¶ä¸”å·²ç»ç¼–å†™å¥½å¯¹åº”controller</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.chen.boot.config;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;</span><br><span class="line"><span class="keyword">import</span> org.springframework.security.config.annotation.web.builders.HttpSecurity;</span><br><span class="line"><span class="keyword">import</span> org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;</span><br><span class="line"><span class="keyword">import</span> org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;</span><br><span class="line"><span class="keyword">import</span> org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;</span><br><span class="line"></span><br><span class="line"><span class="meta">@EnableWebSecurity</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SecurityConfig</span> <span class="keyword">extends</span> <span class="title">WebSecurityConfigurerAdapter</span> </span>{</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">configure</span><span class="params">(HttpSecurity http)</span> <span class="keyword">throws</span> Exception </span>{</span><br><span class="line">        <span class="comment">//åªæœ‰ç›¸åº”ç­‰çº§çš„ç”¨æˆ·æ‰èƒ½è®¿é—®å¯¹åº”ç­‰çº§æ‰èƒ½è®¿é—®çš„é¡µé¢ï¼Œ/è¯·æ±‚æ‰€æœ‰ç”¨æˆ·å¯è®¿é—®</span></span><br><span class="line">        http.authorizeRequests()</span><br><span class="line">                .antMatchers(<span class="string">"/"</span>).permitAll()</span><br><span class="line">                .antMatchers(<span class="string">"/level1/**"</span>).hasRole(<span class="string">"level1"</span>)</span><br><span class="line">                .antMatchers(<span class="string">"/level2/**"</span>).hasRole(<span class="string">"level2"</span>)</span><br><span class="line">                .antMatchers(<span class="string">"/level3/**"</span>).hasRole(<span class="string">"level3"</span>);</span><br><span class="line">        <span class="comment">//æœªç™»å½•è¿”å›åˆ°ç™»é™†é¡µé¢ï¼Œè‡ªå®šä¹‰æˆ‘ä»¬è‡ªå·±å†™çš„/toLoginè¯·æ±‚åˆ°å‰ç«¯é¡µé¢,å¤„ç†ç™»å½•è¯·æ±‚çš„urlé…ç½®ä¸ºè‡ªå·±å†™çš„/login</span></span><br><span class="line">        <span class="comment">//è‡ªå®šä¹‰å‰ç«¯ä¼ é€’çš„ç”¨æˆ·åå¯†ç å‚æ•°åç§°ä¸ºuserå’Œpwdï¼Œé»˜è®¤ä¸ºusernameä¸password</span></span><br><span class="line">        http.formLogin().loginPage(<span class="string">"/toLogin"</span>).passwordParameter(<span class="string">"pwd"</span>)</span><br><span class="line">            .usernameParameter(<span class="string">"user"</span>).loginProcessingUrl(<span class="string">"/login"</span>);</span><br><span class="line">        <span class="comment">//å¼€å¯æ³¨é”€åŠŸèƒ½,æ³¨é”€æˆåŠŸè¿”å›é¦–é¡µ,å‰ç«¯æ³¨é”€æŒ‰é’®é…ç½®/logoutè¯·æ±‚å³å¯</span></span><br><span class="line">        http.logout().logoutSuccessUrl(<span class="string">"/"</span>);</span><br><span class="line">        <span class="comment">//å¼€å¯è®°ä½æˆ‘åŠŸèƒ½,å¹¶ä¸”åœ¨è‡ªå·±çš„ç™»å½•é¡µä¼ é€’rememberå‚æ•°ï¼Œæ§åˆ¶å°èƒ½æŸ¥åˆ°ç›¸åº”cookie</span></span><br><span class="line">        http.rememberMe().rememberMeParameter(<span class="string">"remember"</span>);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">configure</span><span class="params">(AuthenticationManagerBuilder auth)</span> <span class="keyword">throws</span> Exception </span>{</span><br><span class="line">        <span class="comment">//ç”¨æˆ·æœ¬åº”å½“ä»æ•°æ®åº“ä¸­è·å–ï¼Œæ­¤å¤„ç›´æ¥ä»å†…å­˜ä¸­ï¼Œä¾¿äºæµ‹è¯•</span></span><br><span class="line">        <span class="comment">//ç»™rootç”¨æˆ·èµ‹äºˆå…¨éƒ¨è§’è‰²æƒé™ï¼Œæ™®é€šç”¨æˆ·æˆäºˆlevel1è§’è‰²æƒé™</span></span><br><span class="line">        auth.inMemoryAuthentication().passwordEncoder(<span class="keyword">new</span> BCryptPasswordEncoder())</span><br><span class="line">                .withUser(<span class="string">"root"</span>).password(<span class="keyword">new</span>  BCryptPasswordEncoder().encode(<span class="string">"123123"</span>)).roles(<span class="string">"level1"</span>,<span class="string">"level2"</span>,<span class="string">"level3"</span>)</span><br><span class="line">                .and()</span><br><span class="line">                .withUser(<span class="string">"commonUser"</span>).password(<span class="keyword">new</span>  BCryptPasswordEncoder().encode(<span class="string">"123456"</span>)).roles(<span class="string">"level1"</span>);</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>å‰ç«¯ç™»å½•è¡¨å•ç¤ºä¾‹</p><p><img src="https://gitee.com/rain-sky/images/raw/master/20210725111116.png"></p>]]></content>
      
      
      
        <tags>
            
            <tag> springSecurity </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>redisåŸºç¡€</title>
      <link href="2021/07/24/redis%E5%9F%BA%E7%A1%80/"/>
      <url>2021/07/24/redis%E5%9F%BA%E7%A1%80/</url>
      
        <content type="html"><![CDATA[<h2 id="ä¸ºä»€ä¹ˆä½¿ç”¨noSql"><a href="#ä¸ºä»€ä¹ˆä½¿ç”¨noSql" class="headerlink" title="ä¸ºä»€ä¹ˆä½¿ç”¨noSql"></a>ä¸ºä»€ä¹ˆä½¿ç”¨noSql</h2><blockquote><p>noSqlï¼Œä¸ä»…ä»…æ˜¯sql</p></blockquote><h3 id="å•æœºmysqlæ—¶ä»£"><a href="#å•æœºmysqlæ—¶ä»£" class="headerlink" title="å•æœºmysqlæ—¶ä»£"></a>å•æœºmysqlæ—¶ä»£</h3><p>åœ¨90å¹´ä»£ï¼Œä¸€ä¸ªç½‘ç«™çš„è®¿é—®é‡ä¸€èˆ¬éƒ½ä¸å¤§ï¼Œç”¨å•ä¸ªæ•°æ®åº“å®Œå…¨å¯ä»¥è½»æ¾åº”ä»˜ã€‚<br>åœ¨é‚£ä¸ªæ—¶å€™ï¼Œæ›´å¤šçš„éƒ½æ˜¯é™æ€ç½‘é¡µï¼ŒåŠ¨æ€äº¤äº’ç±»å‹çš„ç½‘ç«™ä¸å¤šï¼Œæ— è®ºè¯»å†™éƒ½åœ¨åŒä¸€ä¸ªå®ä¾‹ä¸­å®Œæˆã€‚</p><p><img src="https://gitee.com/rain-sky/images/raw/master/20210726114217.png"></p><ul><li>APP åº”ç”¨ç«¯</li><li>DAL æ•°æ®è®¿é—®å±‚ï¼ˆjdbcï¼Œæˆ–è€…ormæ¡†æ¶å¦‚mybatiesï¼ŒHibernateç­‰ï¼‰</li><li>mysql instance æ•°æ®åº“å®ä¾‹</li></ul><h3 id="Memcached-MySQL-å‚ç›´æ‹†åˆ†"><a href="#Memcached-MySQL-å‚ç›´æ‹†åˆ†" class="headerlink" title="Memcached+MySQL+å‚ç›´æ‹†åˆ†"></a>Memcached+MySQL+å‚ç›´æ‹†åˆ†</h3><p>â€ƒåæ¥ï¼Œéšç€è®¿é—®é‡çš„ä¸Šå‡ï¼Œå‡ ä¹å¤§éƒ¨åˆ†ä½¿ç”¨MySQLæ¶æ„çš„ç½‘ç«™åœ¨æ•°æ®åº“ä¸Šéƒ½å¼€å§‹å‡ºç°äº†æ€§èƒ½é—®é¢˜ï¼Œwebç¨‹åºä¸å†ä»…ä»…ä¸“æ³¨åœ¨åŠŸèƒ½ä¸Šï¼ŒåŒæ—¶ä¹Ÿåœ¨è¿½æ±‚æ€§èƒ½ã€‚ç¨‹åºå‘˜ä»¬å¼€å§‹å¤§é‡çš„ä½¿ç”¨ç¼“å­˜æŠ€æœ¯æ¥ç¼“è§£æ•°æ®åº“çš„å‹åŠ›ï¼Œä¼˜åŒ–æ•°æ®åº“çš„ç»“æ„å’Œç´¢å¼•ã€‚å¼€å§‹æ¯”è¾ƒæµè¡Œçš„æ˜¯é€šè¿‡æ–‡ä»¶ç¼“å­˜æ¥ç¼“è§£æ•°æ®åº“å‹åŠ›ï¼Œä½†æ˜¯å½“è®¿é—®é‡ç»§ç»­å¢å¤§çš„æ—¶å€™ï¼Œå¤šå°webæœºå™¨é€šè¿‡æ–‡ä»¶ç¼“å­˜ä¸èƒ½å…±äº«ï¼Œå¤§é‡çš„å°æ–‡ä»¶ç¼“å­˜ä¹Ÿå¸¦äº†äº†æ¯”è¾ƒé«˜çš„IOå‹åŠ›ã€‚åœ¨è¿™ä¸ªæ—¶å€™ï¼ŒMemcachedå°±è‡ªç„¶çš„æˆä¸ºä¸€ä¸ªéå¸¸æ—¶å°šçš„æŠ€æœ¯äº§å“ã€‚</p><p>â€ƒMemcachedä½œä¸ºä¸€ä¸ªç‹¬ç«‹çš„åˆ†å¸ƒå¼çš„ç¼“å­˜æœåŠ¡å™¨ï¼Œä¸ºå¤šä¸ªwebæœåŠ¡å™¨æä¾›äº†ä¸€ä¸ªå…±äº«çš„é«˜æ€§èƒ½ç¼“å­˜æœåŠ¡ï¼Œåœ¨MemcachedæœåŠ¡å™¨ä¸Šï¼Œåˆå‘å±•äº†æ ¹æ®hashç®—æ³•æ¥è¿›è¡Œå¤šå°Memcachedç¼“å­˜æœåŠ¡çš„æ‰©å±•ï¼Œç„¶ååˆå‡ºç°äº†ä¸€è‡´æ€§hashæ¥è§£å†³å¢åŠ æˆ–å‡å°‘ç¼“å­˜æœåŠ¡å™¨å¯¼è‡´é‡æ–°hashå¸¦æ¥çš„å¤§é‡ç¼“å­˜å¤±æ•ˆçš„å¼Šç«¯ã€‚</p><img src="https://gitee.com/rain-sky/images/raw/master/20210726114531.png" style="zoom:80%;"><h3 id="Mysqlä¸»ä»è¯»å†™åˆ†ç¦»"><a href="#Mysqlä¸»ä»è¯»å†™åˆ†ç¦»" class="headerlink" title="Mysqlä¸»ä»è¯»å†™åˆ†ç¦»"></a>Mysqlä¸»ä»è¯»å†™åˆ†ç¦»</h3><p>ç”±äºæ•°æ®åº“çš„å†™å…¥å‹åŠ›å¢åŠ ï¼ŒMemcachedåªèƒ½ç¼“è§£æ•°æ®åº“çš„è¯»å–å‹åŠ›ã€‚è¯»å†™é›†ä¸­åœ¨ä¸€ä¸ªæ•°æ®åº“ä¸Šè®©æ•°æ®åº“ä¸å ªé‡è´Ÿï¼Œå¤§éƒ¨åˆ†ç½‘ç«™å¼€å§‹ä½¿ç”¨ä¸»ä»å¤åˆ¶æŠ€æœ¯æ¥è¾¾åˆ°è¯»å†™åˆ†ç¦»ï¼Œä»¥æé«˜è¯»å†™æ€§èƒ½å’Œè¯»åº“çš„å¯æ‰©å±•æ€§ã€‚</p><img src="https://gitee.com/rain-sky/images/raw/master/20210726121707.png" style="zoom:80%;"><ul><li>M ä¸»æœåŠ¡å™¨ï¼Œè´Ÿè´£å†™ä¸šåŠ¡</li><li>S ä»æœåŠ¡å™¨ï¼ŒåŒæ­¥Mæ•°æ®</li></ul><h3 id="åˆ†åº“åˆ†è¡¨-æ°´å¹³æ‹†åˆ†-mysqlé›†ç¾¤"><a href="#åˆ†åº“åˆ†è¡¨-æ°´å¹³æ‹†åˆ†-mysqlé›†ç¾¤" class="headerlink" title="åˆ†åº“åˆ†è¡¨+æ°´å¹³æ‹†åˆ†+mysqlé›†ç¾¤"></a>åˆ†åº“åˆ†è¡¨+æ°´å¹³æ‹†åˆ†+mysqlé›†ç¾¤</h3><p>åœ¨Memcachedçš„é«˜é€Ÿç¼“å­˜ï¼ŒMySQLçš„ä¸»ä»å¤åˆ¶ï¼Œè¯»å†™åˆ†ç¦»çš„åŸºç¡€ä¹‹ä¸Šï¼Œè¿™æ—¶MySQLä¸»åº“çš„å†™å‹åŠ›å¼€å§‹å‡ºç°ç“¶é¢ˆï¼Œè€Œæ•°æ®é‡çš„æŒç»­çŒ›å¢ï¼Œç”±äºMyISAMåœ¨å†™æ•°æ®çš„æ—¶å€™ä¼šä½¿ç”¨è¡¨é”ï¼Œåœ¨é«˜å¹¶å‘å†™æ•°æ®çš„æƒ…å†µä¸‹ä¼šå‡ºç°ä¸¥é‡çš„é”é—®é¢˜ï¼Œå¤§é‡çš„é«˜å¹¶å‘MySQLåº”ç”¨å¼€å§‹ä½¿ç”¨InnoDBå¼•æ“ä»£æ›¿MyISAMã€‚</p><ul><li>MyISAM è¡¨é”</li><li>InnoDB è¡Œé”</li></ul><p><img src="https://gitee.com/rain-sky/images/raw/master/20210726122057.png"></p><p><strong>ä¸€ä¸ªç°ä»£äº’è”ç½‘æœåŠ¡æ¶æ„æ¨¡å‹</strong></p><img src="https://gitee.com/rain-sky/images/raw/master/20210726123128.png" style="zoom: 67%;"><p>æœ€å‰é¢çš„æ˜¯ä¼ä¸šçº§é˜²ç«å¢™ï¼Œåé¢é€šè¿‡è´Ÿè½½å‡è¡¡ä¸»æœºï¼ˆè½¯è´Ÿè½½ï¼šNginxï¼Œç¡¬è´Ÿè½½ï¼šF5ï¼‰åœ¨ web æœåŠ¡å™¨é›†ç¾¤ä¹‹é—´è¿›è¡Œè°ƒåº¦ï¼Œå†ç”±å…·ä½“çš„ web æœåŠ¡å™¨ï¼ˆTomcatï¼‰å»è®¿é—®ç¼“å­˜ï¼Œè®¿é—®æ•°æ®åº“ã€‚</p><h3 id="noSqlçš„ä¼˜åŠ¿"><a href="#noSqlçš„ä¼˜åŠ¿" class="headerlink" title="noSqlçš„ä¼˜åŠ¿"></a>noSqlçš„ä¼˜åŠ¿</h3><ul><li><p>æ˜“æ‰©å±•<br> NoSQLæ•°æ®åº“ç§ç±»ç¹å¤šï¼Œä½†æ˜¯ä¸€ä¸ªå…±åŒçš„ç‰¹ç‚¹éƒ½æ˜¯å»æ‰å…³ç³»æ•°æ®åº“çš„å…³ç³»å‹ç‰¹æ€§ã€‚æ•°æ®ä¹‹é—´æ— å…³ç³»ï¼Œè¿™æ ·å°±éå¸¸å®¹æ˜“æ‰©å±•ã€‚ä¹Ÿæ— å½¢ä¹‹é—´ï¼Œåœ¨æ¶æ„çš„å±‚é¢ä¸Šå¸¦æ¥äº†å¯æ‰©å±•çš„èƒ½åŠ›ã€‚</p></li><li><p>å¤§æ•°æ®é‡ï¼Œé«˜æ€§èƒ½<br> NoSQLæ•°æ®åº“éƒ½å…·æœ‰éå¸¸é«˜çš„è¯»å†™æ€§èƒ½ï¼Œå°¤å…¶åœ¨å¤§æ•°æ®é‡ä¸‹ï¼ŒåŒæ ·è¡¨ç°ä¼˜ç§€ã€‚è¿™å¾—ç›Šäºå®ƒçš„æ— å…³ç³»æ€§ï¼Œæ•°æ®åº“çš„ç»“æ„ç®€å•ã€‚ä¸€èˆ¬MySQLä½¿ç”¨Query Cacheï¼Œæ¯æ¬¡è¡¨çš„æ›´æ–°Cacheå°±å¤±æ•ˆï¼Œæ˜¯ä¸€ç§å¤§ç²’åº¦çš„Cacheï¼Œåœ¨é’ˆå¯¹web2.0çš„äº¤äº’é¢‘ç¹çš„åº”ç”¨ï¼ŒCacheæ€§èƒ½ä¸é«˜ã€‚è€ŒNoSQLçš„Cacheæ˜¯è®°å½•çº§çš„ï¼Œæ˜¯ä¸€ç§ç»†ç²’åº¦çš„Cacheï¼Œæ‰€ä»¥NoSQLåœ¨è¿™ä¸ªå±‚é¢ä¸Šæ¥è¯´å°±è¦æ€§èƒ½é«˜å¾ˆå¤šäº†ã€‚</p></li><li><p>çµæ´»çš„æ•°æ®æ¨¡å‹<br> NoSQLæ— éœ€äº‹å…ˆä¸ºè¦å­˜å‚¨çš„æ•°æ®å»ºç«‹å­—æ®µï¼Œéšæ—¶å¯ä»¥å­˜å‚¨è‡ªå®šä¹‰çš„æ•°æ®æ ¼å¼ã€‚è€Œåœ¨å…³ç³»æ•°æ®åº“é‡Œï¼Œå¢åˆ å­—æ®µæ˜¯ä¸€ä»¶éå¸¸éº»çƒ¦çš„äº‹æƒ…ã€‚å¦‚æœæ˜¯éå¸¸å¤§æ•°æ®é‡çš„è¡¨ï¼Œå¢åŠ å­—æ®µç®€ç›´å°±æ˜¯ä¸€ä¸ªå™©æ¢¦ã€‚è¿™ç‚¹åœ¨å¤§æ•°æ®é‡çš„web2.0æ—¶ä»£å°¤å…¶æ˜æ˜¾ã€‚</p></li><li><p>é«˜å¯ç”¨<br> NoSQLåœ¨ä¸å¤ªå½±å“æ€§èƒ½çš„æƒ…å†µï¼Œå°±å¯ä»¥æ–¹ä¾¿çš„å®ç°é«˜å¯ç”¨çš„æ¶æ„ã€‚æ¯”å¦‚Cassandraï¼ŒHBaseæ¨¡å‹ï¼Œé€šè¿‡å¤åˆ¶æ¨¡å‹ä¹Ÿèƒ½å®ç°é«˜å¯ç”¨ã€‚</p></li></ul><p><strong>ä¸€äº›å¸¸ç”¨çš„nosqlä¸¾ä¾‹</strong></p><ul><li>CouchDB ï¼šCouchDBæ˜¯ä¸€ç§<strong>é¢å‘æ–‡æ¡£</strong>(document-oriented)çš„nosqlæ•°æ®åº“ï¼Œæ–‡æ¡£çš„å­˜å‚¨æ ¼å¼é€šè¿‡JSONè¿›è¡Œæè¿°ï¼Œåœ¨ç»“æ„éƒ¨ç½²ä¸Šé‡‡ç”¨çš„æ˜¯peer-basedæ–¹å¼ï¼Œå³æ¯å°æœºå™¨åœ¨åŠŸèƒ½ä¸Šæ¥è®²æ˜¯åŒç­‰é‡è¦çš„ï¼Œæ²¡æœ‰masterå’Œslaveçš„åŒºåˆ†ï¼Œæ‰€å­˜å‚¨çš„æ•°æ®ä¹Ÿéƒ½æ˜¯ç›¸åŒçš„(æ²¡æœ‰åšåˆ°æ•°æ®çš„åˆ†å¸ƒå¼å­˜å‚¨)ï¼Œç±»ä¼¼äºSubversionä¸­ç‰ˆæœ¬åº“å’Œå·¥ä½œæ‹·è´çš„æ¦‚å¿µã€‚</li><li>Redisï¼šRedisæ˜¯ä¸€ç§åŸºäº<strong>key-valueå­˜å‚¨æ ¼å¼</strong>çš„nosqlæ•°æ®åº“ï¼Œåœ¨ç»“æ„éƒ¨ç½²ä¸Šé‡‡ç”¨äº†master/slaveçš„æ–¹å¼ï¼Œå…¶ä¸­slaveèŠ‚ç‚¹èµ·åˆ°å¤‡ä»½çš„ä½œç”¨ï¼Œå½“masterèŠ‚ç‚¹å‡ºç°é—®é¢˜çš„æ—¶å€™ï¼ŒslaveèŠ‚ç‚¹å¯æ›¿æ¢æˆmasterï¼Œä»è€Œç¡®ä¿äº†ç³»ç»Ÿå®‰å…¨ç¨³å®šçš„ç‰¹æ€§ã€‚</li><li>MongoDBï¼šåŒCouchDBä¸€æ ·ï¼ŒMongoDBä¹Ÿæ˜¯ä¸€ç§<strong>é¢å‘æ–‡æ¡£</strong>çš„nosqlæ•°æ®åº“ï¼Œæ‰€ä¸åŒçš„æ˜¯åœ¨å­˜å‚¨æ–¹å¼ä¸Šé‡‡ç”¨çš„æ˜¯åˆ†å¸ƒå¼å­˜å‚¨ï¼Œå…¶éƒ¨ç½²ç»“æ„ä¸Redisç›¸ä¼¼(åŸºäºmaster/slaveæ–¹å¼)ï¼Œåªä¸è¿‡åŠŸèƒ½ç»„ä»¶è¾ƒRedisåˆ’åˆ†çš„æ›´åŠ è¯¦ç»†ã€‚</li></ul><p><strong>å››ç§nosqlå¯¹æ¯”</strong></p><p><img src="https://gitee.com/rain-sky/images/raw/master/20210727145920.png"></p><h2 id="redis-ä»‹ç»"><a href="#redis-ä»‹ç»" class="headerlink" title="redis ä»‹ç»"></a>redis ä»‹ç»</h2><blockquote><p>åŸºäºredis6.xç‰ˆ</p></blockquote><p>Redisæ˜¯ä¸€ä¸ªå¼€æºï¼ˆBSDè®¸å¯ï¼‰ï¼Œå†…å­˜å­˜å‚¨çš„æ•°æ®ç»“æ„æœåŠ¡å™¨ï¼Œå¯ç”¨ä½œæ•°æ®åº“ï¼Œé«˜é€Ÿç¼“å­˜å’Œæ¶ˆæ¯é˜Ÿåˆ—ä»£ç†ã€‚å®ƒæ”¯æŒå­—ç¬¦ä¸²ã€å“ˆå¸Œè¡¨ã€åˆ—è¡¨ã€é›†åˆã€æœ‰åºé›†åˆï¼Œä½å›¾ï¼Œhyperloglogsç­‰æ•°æ®ç±»å‹ã€‚å†…ç½®å¤åˆ¶ã€Luaè„šæœ¬ã€LRUæ”¶å›ã€äº‹åŠ¡ä»¥åŠä¸åŒçº§åˆ«ç£ç›˜æŒä¹…åŒ–åŠŸèƒ½ï¼ŒåŒæ—¶é€šè¿‡Redis Sentinelæä¾›é«˜å¯ç”¨ï¼Œé€šè¿‡Redis Clusteræä¾›è‡ªåŠ¨åˆ†åŒºã€‚</p><p><strong>Redisä¸å…¶ä»–key-valueå­˜å‚¨æœ‰ä»€ä¹ˆä¸åŒï¼Ÿ</strong></p><ul><li>Redisæœ‰ç€æ›´ä¸ºå¤æ‚çš„æ•°æ®ç»“æ„å¹¶ä¸”æä¾›å¯¹ä»–ä»¬çš„åŸå­æ€§æ“ä½œï¼Œè¿™æ˜¯ä¸€ä¸ªä¸åŒäºå…¶ä»–æ•°æ®åº“çš„è¿›åŒ–è·¯å¾„ã€‚Redisçš„æ•°æ®ç±»å‹éƒ½æ˜¯åŸºäºåŸºæœ¬æ•°æ®ç»“æ„çš„åŒæ—¶å¯¹ç¨‹åºå‘˜é€æ˜ï¼Œæ— éœ€è¿›è¡Œé¢å¤–çš„æŠ½è±¡ã€‚</li><li>Redisè¿è¡Œåœ¨å†…å­˜ä¸­ä½†æ˜¯å¯ä»¥æŒä¹…åŒ–åˆ°ç£ç›˜ï¼Œæ‰€ä»¥åœ¨å¯¹ä¸åŒæ•°æ®é›†è¿›è¡Œé«˜é€Ÿè¯»å†™æ—¶éœ€è¦æƒè¡¡å†…å­˜ï¼Œåº”ä¸ºæ•°æ®é‡ä¸èƒ½å¤§äºç¡¬ä»¶å†…å­˜ã€‚åœ¨å†…å­˜æ•°æ®åº“æ–¹é¢çš„å¦ä¸€ä¸ªä¼˜ç‚¹æ˜¯ï¼Œ ç›¸æ¯”åœ¨ç£ç›˜ä¸Šç›¸åŒçš„å¤æ‚çš„æ•°æ®ç»“æ„ï¼Œåœ¨å†…å­˜ä¸­æ“ä½œèµ·æ¥éå¸¸ç®€å•ï¼Œè¿™æ ·Rediså¯ä»¥åšå¾ˆå¤šå†…éƒ¨å¤æ‚æ€§å¾ˆå¼ºçš„äº‹æƒ…ã€‚ åŒæ—¶ï¼Œåœ¨ç£ç›˜æ ¼å¼æ–¹é¢ä»–ä»¬æ˜¯ç´§å‡‘çš„ä»¥è¿½åŠ çš„æ–¹å¼äº§ç”Ÿçš„ï¼Œå› ä¸ºä»–ä»¬å¹¶ä¸éœ€è¦è¿›è¡Œéšæœºè®¿é—®ã€‚</li></ul><h3 id="linuxä¸‹å®‰è£…redis"><a href="#linuxä¸‹å®‰è£…redis" class="headerlink" title="linuxä¸‹å®‰è£…redis"></a>linuxä¸‹å®‰è£…redis</h3><p>å‡†å¤‡å¥½å‹ç¼©åŒ…ä¼ è¾“åˆ°Linuxç›®å½•</p><p><strong>è§£å‹åå¾—åˆ°redis</strong></p><p><img src="https://gitee.com/rain-sky/images/raw/master/20210731174107.png"></p><p>è¿›å…¥è§£å‹åçš„æ–‡ä»¶</p><p>yum install gcc-c++</p><img src="https://gitee.com/rain-sky/images/raw/master/20210731175718.png" style="zoom: 50%;"><p>å®‰è£…redis6.Xä»¥ä¸Šç‰ˆæœ¬å®‰è£…6.0ä»¥ä¸Šç‰ˆæœ¬éœ€è¦å‡çº§gccåˆ°5.3åŠä»¥ä¸Š,å¦‚ä¸‹ï¼š</p><p>è¿è¡Œä¸‹é¢å‘½ä»¤å‡çº§gcc<br>#ç¬¬ä¸€æ­¥<br>sudo yum install centos-release-scl<br>#ç¬¬äºŒæ­¥<br>sudo yum install devtoolset-7-gcc*<br>#ç¬¬ä¸‰æ­¥<br>scl enable devtoolset-7 bash</p><p>æ›´æ–°å®Œæˆgccåæˆ‘ä»¬è¿›å…¥redisç›®å½•ä¸‹ï¼Œæ‰§è¡Œmake</p><img src="https://gitee.com/rain-sky/images/raw/master/20210731180138.png" style="zoom:50%;"><p>è‡³æ­¤redisåŸºæœ¬å®‰è£…å®Œæˆï¼Œé»˜è®¤å®‰è£…åˆ°/usr/local/binç›®å½•ä¸‹</p><p>å¤åˆ¶ä¸€ä»½redisé…ç½®æ–‡ä»¶åˆ°æ­¤ç›®å½•ä¸‹ï¼Œä¿®æ”¹æ­¤é…ç½®æ–‡ä»¶ï¼Œdaemonizeä¿®æ”¹ä¸ºyes,è®©redisåå°å¯åŠ¨</p><p><img src="https://gitee.com/rain-sky/images/raw/master/20210731183404.png"></p><p>æŒ‡å®šé…ç½®æ–‡ä»¶å¯åŠ¨</p><p><img src="https://gitee.com/rain-sky/images/raw/master/20210731183637.png"></p><p>è¿æ¥redisæœåŠ¡</p><p><img src="https://gitee.com/rain-sky/images/raw/master/20210731183754.png"></p><p>æŸ¥çœ‹redisæœåŠ¡æ˜¯å¦å¼€å¯</p><img src="https://gitee.com/rain-sky/images/raw/master/20210731183950.png" style="zoom:67%;"><p>æ–­å¼€redisæœåŠ¡</p><p><img src="https://gitee.com/rain-sky/images/raw/master/20210731184120.png"></p><p>å†æ¬¡æŸ¥çœ‹æœåŠ¡æ˜¯å¦å­˜åœ¨</p><img src="https://gitee.com/rain-sky/images/raw/master/20210731184222.png" style="zoom:67%;"><blockquote><p>redisçš„å®‰è£…ç›¸å…³å°±åˆ°æ­¤æä¸€æ®µè½~ğŸ’ª</p></blockquote><h2 id="åŸºç¡€"><a href="#åŸºç¡€" class="headerlink" title="åŸºç¡€"></a>åŸºç¡€</h2><h3 id="redisæ•°æ®åº“"><a href="#redisæ•°æ®åº“" class="headerlink" title="redisæ•°æ®åº“"></a>redisæ•°æ®åº“</h3><p>redisé»˜è®¤æœ‰16ä¸ªæ•°æ®åº“ï¼Œé…ç½®æ–‡ä»¶ä¸­å¯ä»¥çœ‹åˆ°ï¼Œé»˜è®¤ä½¿ç”¨ç¬¬0ä¸ªï¼Œå¯ä»¥ä½¿ç”¨selectå‘½ä»¤åˆ‡æ¢æ•°æ®åº“ã€‚</p><p>åˆ‡æ¢æ•°æ®åº“ï¼šselect  7</p><p>æ•°æ®åº“å¤§å°ï¼šdbsize</p><p>è¾“å…¥ä¸€ä¸ªé”®å€¼å¯¹ï¼šset keyname value</p><p>å¾—åˆ°ä¸€ä¸ªvalueï¼šget  keyname</p><p>ä¿®æ”¹keyåç§°ï¼šrename key newkey</p><p>æŸ¥è¯¢æ‰€æœ‰çš„keyï¼škey *</p><p>æŸ¥è¯¢æŸä¸ªkeyæ˜¯å¦å­˜åœ¨ï¼šexists keynane</p><p>ç§»é™¤æŸä¸€ä¸ªkeyï¼šmove keyname  2ï¼ˆ2ä»£è¡¨ä»ç¬¬äºŒä¸ªæ•°æ®åº“ä¸­ç§»é™¤ï¼‰</p><p>æŸ¥è¯¢æŸä¸ªkeyè¿˜å‰©å¤šå°‘æ—¶é—´è¿‡æœŸï¼šttl keyname</p><p>è®¾ç½®æŸä¸ªé”®çš„è¿‡æœŸæ—¶é—´ï¼šexpire keyname 10(10såè¿‡æœŸ)</p><p>æŸ¥çœ‹å½“å‰keyçš„ç±»å‹ï¼štype keyname</p><p>æ¸…ç©ºå½“å‰æ•°æ®åº“ï¼šflushdb</p><p>æ¸…ç©ºæ‰€æœ‰æ•°æ®åº“ï¼šflushall</p><p><strong>redisæ˜¯å•çº¿ç¨‹çš„</strong></p><blockquote><p>redisæ˜¯åŸºäºå†…å­˜æ“ä½œï¼Œcpuå¹¶ä¸æ˜¯redisçš„æ€§èƒ½ç“¶é¢ˆï¼Œredisçš„ç“¶é¢ˆæ˜¯æœºå™¨çš„å†…å­˜å’Œç½‘ç»œå¸¦å®½ã€‚</p></blockquote><p>ä¸ºä»€ä¹ˆrediså•çº¿ç¨‹è¿™ä¹ˆå¿«ï¼Ÿ</p><p>è¯¯åŒº1ï¼šé«˜æ€§èƒ½çš„æœåŠ¡å™¨ä¸€å®šæ˜¯å¤šçº¿ç¨‹çš„ï¼Ÿ</p><p>è¯¯åŒº2ï¼šå¤šçº¿ç¨‹ä¸€å®šæ¯”å•çº¿ç¨‹æ•ˆç‡é«˜ï¼Ÿ</p><p>æ ¸å¿ƒï¼šredisæ˜¯å°†æ‰€æœ‰æ•°æ®å­˜æ”¾äºå†…å­˜ä¸­çš„ï¼Œæ‰€ä»¥è¯´redisä½¿ç”¨å•çº¿ç¨‹æ˜¯æœ€å¿«çš„ï¼Œå› ä¸ºæ²¡æœ‰CPUä¸Šä¸‹æ–‡åˆ‡æ¢ï¼Œå¯¹äºå†…å­˜ç³»ç»Ÿæ¥è¯´ï¼Œå¤šæ¬¡è¯»å†™éƒ½æ˜¯åœ¨ä¸€ä¸ªCPUä¸Šçš„ã€‚</p><h3 id="äº”å¤§æ•°æ®ç±»å‹"><a href="#äº”å¤§æ•°æ®ç±»å‹" class="headerlink" title="äº”å¤§æ•°æ®ç±»å‹"></a>äº”å¤§æ•°æ®ç±»å‹</h3><h4 id="Stringå­—ç¬¦ä¸²ç±»å‹"><a href="#Stringå­—ç¬¦ä¸²ç±»å‹" class="headerlink" title="Stringå­—ç¬¦ä¸²ç±»å‹"></a>Stringå­—ç¬¦ä¸²ç±»å‹</h4><hr><p>åŸºæœ¬å‘½ä»¤æ“ä½œï¼š</p><p>set  name  rain è¾“å…¥ä¸€ä¸ªå­—ç¬¦ä¸²ç±»å‹ä¸º rain</p><p>append name sky ç»™åä¸ºnameçš„keyè¿½åŠ å­—ç¬¦skyï¼Œæ‰€ä»¥è¿½åŠ åä¸ºrainskyï¼ˆè‹¥æŒ‡å®škeynameä¸å­˜åœ¨ï¼Œåˆ™ç›¸å½“äºset keyï¼‰</p><p>strlen name è·å–nameçš„é•¿åº¦ï¼Œrainskyå³ä¸º7</p><p>set num 1 è®¾ç½®numåˆå§‹å€¼ä¸º1</p><p>incr numä½¿numè‡ªå¢1.å³ä¸º2</p><p>decr numä½¿numè‡ªå‡1ï¼Œå³ä¸º1</p><p>incrby num 10 ä½¿numè‡ªå¢10</p><p>decrby num 10ä½¿numè‡ªå‡10</p><hr><p>set str â€œhello,world!â€</p><p>getrange str 0 4è·å–str0-4åŒºé—´å†…å®¹ï¼ˆé—­åŒºé—´ï¼‰ï¼Œå³ä¸ºhello</p><p>setrange str 1 xxxxä»æŒ‡å®šä½ç½®å¼€å§‹ç”¨æŒ‡å®šå­—ç¬¦ä¸²ä½œæ›¿æ¢ï¼Œå³ä¸ºhxxxx,world!</p><hr><blockquote><p>setexä¸setnx</p></blockquote><p>SETEX key seconds value</p><p>å«ä¹‰ï¼š</p><p>â€‹     å°†å€¼ value å…³è”åˆ° key ï¼Œå¹¶å°† key çš„ç”Ÿå­˜æ—¶é—´è®¾ä¸º seconds (ä»¥ç§’ä¸ºå•ä½)ã€‚</p><p>â€‹     å¦‚æœ key å·²ç»å­˜åœ¨ï¼Œ SETEX å‘½ä»¤å°†è¦†å†™æ—§å€¼ã€‚</p><p>è¿”å›å€¼ï¼š</p><p>â€‹     è®¾ç½®æˆåŠŸæ—¶è¿”å› OK ã€‚</p><p>â€‹     å½“ seconds å‚æ•°ä¸åˆæ³•æ—¶ï¼Œè¿”å›ä¸€ä¸ªé”™è¯¯ã€‚</p><p>SETNX key valueï¼ˆåˆ†å¸ƒå¼é”å¸¸ç”¨ï¼‰</p><p>å«ä¹‰ï¼š</p><p>â€‹     å°† key çš„å€¼è®¾ä¸º value ï¼Œå½“ä¸”ä»…å½“ key ä¸å­˜åœ¨ã€‚</p><p>â€‹     è‹¥ç»™å®šçš„ key å·²ç»å­˜åœ¨ï¼Œåˆ™ SETNX ä¸åšä»»ä½•åŠ¨ä½œã€‚</p><p>â€‹     SETNX æ˜¯ã€SET if Not eXistsã€(å¦‚æœä¸å­˜åœ¨ï¼Œåˆ™ SET)çš„ç®€å†™ã€‚</p><p>è¿”å›å€¼ï¼š</p><p>â€‹     è®¾ç½®æˆåŠŸï¼Œè¿”å› 1 ã€‚</p><p>â€‹     è®¾ç½®å¤±è´¥ï¼Œè¿”å› 0 ã€‚</p><blockquote><p>msetä¸mgetï¼Œmsetnx</p></blockquote><p>mset k1 v1 k2 v2 k3 v3â€¦ä¸€æ¬¡æ€§è¾“å…¥å¤šä¸ªå€¼</p><p>mget k1 k2 k3 ä¸€æ¬¡æ€§è·å–å¤šä¸ªå€¼</p><p>msetnx k1 v1 k2 v2 â€¦ä¸€æ¬¡æ€§è®¾ç½®å¤šä¸ªå€¼ï¼Œå¦‚æœæœ‰ä¸€ä¸ªkeyå·²ç»å­˜åœ¨ï¼Œåˆ™æ•´ä¸ªå¥å­æ‰§è¡Œå¤±è´¥ï¼ˆåŸå­æ€§ï¼‰</p><blockquote><p>è®¾ç½®ä¸€ä¸ªå¯¹è±¡</p></blockquote><p>å¦‚ï¼šset user:1 {name:rain,age:14}</p><p>å¦ä¸€ç§è®¾è®¡ï¼š</p><p>mset user:1:name rain user:1:age 14</p><blockquote><p>getsetç»„åˆå‘½ä»¤</p></blockquote><p>getset name rainsky å…ˆè·å–å€¼å†é‡æ–°è®¾ç½®å€¼ï¼Œä¸å­˜åœ¨åˆ™è¿”å›nil</p><h4 id="Liståˆ—è¡¨"><a href="#Liståˆ—è¡¨" class="headerlink" title="Liståˆ—è¡¨"></a>Liståˆ—è¡¨</h4><p>Redisåˆ—è¡¨æ˜¯ç®€å•çš„å­—ç¬¦ä¸²åˆ—è¡¨ï¼ŒæŒ‰ç…§æ’å…¥é¡ºåºæ’åºã€‚ä½ å¯ä»¥æ·»åŠ ä¸€ä¸ªå…ƒç´ åˆ°åˆ—è¡¨çš„å¤´éƒ¨ï¼ˆå·¦è¾¹ï¼‰æˆ–è€…å°¾éƒ¨ï¼Œå¯å­˜åœ¨é‡å¤å€¼ã€‚</p><p><strong>åŸºæœ¬ç”¨æ³•</strong></p><p>æ­¤å¤„liståˆ—è¡¨åå³ä¸ºkey</p><p>lpush list cat å¾€åä¸ºlistçš„åˆ—è¡¨å·¦ä¾§æ·»åŠ ä¸€ä¸ªcat</p><p>è‹¥å†ä¸€æ¬¡æ·»åŠ dogï¼Œpigï¼Œåˆ™æ­¤åˆ—è¡¨ä¸­å°±æœ‰ä¸‰ä¸ªå…ƒç´ </p><p>lrange list 0 -1 è¾“å‡ºåˆ—è¡¨ä¸­çš„å…ƒç´ ï¼Œå¦‚ä¸Šçš„è¯åˆ™ä¸ºpig dog cat</p><p>rpush list duck å¾€åˆ—è¡¨å³ä¾§æ·»åŠ ä¸€ä¸ªå…ƒç´ </p><p>lpop listç§»é™¤listé˜Ÿåˆ—å·¦ä¾§ç¬¬ä¸€ä¸ªå…ƒç´ </p><p>rpop listç§»é™¤listå³ä¾§ç¬¬ä¸€ä¸ªå…ƒç´ </p><p>lindex list 1 è·å–listä¸­ä¸‹æ ‡ä¸º1çš„å…ƒç´ </p><p>llen list è·å–åˆ—è¡¨é•¿åº¦</p><p>lrem list 1 cat ç§»é™¤listä¸­ä¸€ä¸ªcat ï¼Œ1ä¸ºç§»é™¤çš„ä¸ªæ•°</p><p>ltrim list n1 n2 é˜¶æ®µlistä¸ºn1,n2ä¸­é—´çš„å…ƒç´ ï¼Œé—­åŒºé—´</p><p>rpoplpush list1  list2 æŠŠlist1ä¸­çš„æœ€å³è¾¹ä¸€ä¸ªå…ƒç´ æ·»åŠ åˆ°list2æœ€å·¦è¾¹</p><p>lset list 0 item å°†liståˆ—è¡¨ä¸­æŒ‡å®šä¸‹æ ‡å¤„çš„å€¼æ›´æ–°ä¸ºæŒ‡å®šå€¼ï¼Œå¦‚æœä¸å­˜åœ¨åˆ—è¡¨æˆ–ä¸‹æ ‡è¶Šç•Œå°†ä¼šæŠ¥é”™</p><p>linsert list before v2 nv å¾€v2çš„å·¦ä¾§æ’å…¥ä¸€ä¸ªnvï¼ŒåŒæ ·ä¹Ÿæœ‰afteræ’å…¥</p><p><strong>ä¸€äº›åº”ç”¨</strong></p><p>æ¶ˆæ¯é˜Ÿåˆ—ï¼Œç”Ÿäº§è€…æ¶ˆè´¹è€…ç­‰</p><h4 id="seté›†åˆ"><a href="#seté›†åˆ" class="headerlink" title="seté›†åˆ"></a>seté›†åˆ</h4><p>Redis çš„ Set æ˜¯ String ç±»å‹çš„æ— åºé›†åˆã€‚é›†åˆæˆå‘˜æ˜¯å”¯ä¸€çš„ï¼Œè¿™å°±æ„å‘³ç€é›†åˆä¸­ä¸èƒ½å‡ºç°é‡å¤çš„æ•°æ®ã€‚é›†åˆå¯¹è±¡çš„ç¼–ç å¯ä»¥æ˜¯ intset æˆ–è€… hashtableã€‚Redis ä¸­é›†åˆæ˜¯é€šè¿‡å“ˆå¸Œè¡¨å®ç°çš„ï¼Œæ‰€ä»¥æ·»åŠ ï¼Œåˆ é™¤ï¼ŒæŸ¥æ‰¾çš„å¤æ‚åº¦éƒ½æ˜¯ O(1)ã€‚</p><p><strong>åŸºæœ¬ç”¨æ³•</strong></p><p>æ­¤å¤„seté›†åˆåå³ä¸ºkeyå€¼</p><p>sadd myset hello å¾€mysetä¸­å­˜å…¥hello</p><p>smembers myset åˆ—å‡ºmysetä¸­æ‰€æœ‰å€¼</p><p>sismember myset hello æŸ¥è¯¢mysetä¸­æ˜¯å¦å«æœ‰helloè¿™ä¸ªå€¼ï¼Œæœ‰è¿”å›1ï¼Œæ— 0</p><p>scard myset è·å–å…ƒç´ ä¸ªæ•°</p><p>srem myset hello åˆ é™¤hello</p><p>spop myset éšæœºåˆ é™¤ä¸€ä¸ªå…ƒç´ </p><p>srandmember  mysetä»æŒ‡å®šé›†åˆä¸­éšæœºæŠ½å–ä¸€ä¸ªå…ƒç´ </p><p>smove myset myset2  â€œhelloâ€ å°†mysetä¸­helloå…ƒç´ ç§»åŠ¨åˆ°myset2ä¸­</p><p>sdiff set1 set2 æŸ¥è¯¢set1ä¸set2çš„å·®é›†</p><p>sinter set1 set2 äº¤é›†(å…±åŒå…³æ³¨<span class="github-emoji"><span>ğŸ˜„</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f604.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span> )</p><p>sunion set1 set2 å¹¶é›†</p><h4 id="Hashå“ˆå¸Œ"><a href="#Hashå“ˆå¸Œ" class="headerlink" title="Hashå“ˆå¸Œ"></a>Hashå“ˆå¸Œ</h4><p>Redis hash æ˜¯ä¸€ä¸ª string ç±»å‹çš„ fieldï¼ˆå­—æ®µï¼‰ å’Œ valueï¼ˆå€¼ï¼‰ çš„æ˜ å°„è¡¨ï¼Œhash ç‰¹åˆ«é€‚åˆç”¨äºå­˜å‚¨å¯¹è±¡ï¼Œå°±åƒmapã€‚</p><p><strong>åŸºæœ¬ç”¨æ³•</strong></p><p>hset myhash name rainskyå°†name-&gt;rainskyé”®å€¼å¯¹ï¼ˆå“ˆå¸Œå€¼ï¼‰å­˜å…¥myhashè¿™ä¸ªå“ˆå¸Œè¡¨</p><p>hget myhash name ä»myhashä¸­è·å–keyä¸ºnameçš„value</p><p>hmset myhash name rainsky age 18 å­˜å…¥å¤šä¸ªå“ˆå¸Œå€¼</p><p>hmget myhash name age è·å–å“ˆå¸Œè¡¨ä¸­å¤šä¸ªkeyå¯¹åº”çš„valueå€¼</p><p>hgetall myhash è·å–æ‰€æœ‰å“ˆå¸Œå€¼ï¼Œç»“æœä»¥keyæ¢è¡Œvalueæ¢è¡Œkeyæ¢è¡Œvalueæ¢è¡Œâ€¦æ˜¾ç¤º</p><p>hdel myhash name åˆ é™¤myhashå“ˆå¸Œè¡¨ä¸­nameå¯¹åº”çš„å“ˆå¸Œå€¼</p><p>hlen myhash è·å–å“ˆå¸Œè¡¨å“ˆå¸Œå€¼ä¸ªæ•°</p><p>exists myhash nameåˆ¤æ–­nameä¸ºkeyçš„å“ˆå¸Œå€¼æ˜¯å¦å­˜åœ¨äºmyhashä¸­</p><p>hkeys myhashè·å–æ‰€æœ‰key</p><p>hvals myhashè·å–æ‰€æœ‰value</p><p>hincrby myhash age  1 è®©ageå¯¹åº”valueè‡ªå¢1</p><p>hsetnx myhash name rain å½“æ­¤å“ˆå¸Œå€¼ä¸å­˜åœ¨æ—¶æ’å…¥æŒ‡å®šå“ˆå¸Œå€¼</p><h4 id="zsetæœ‰åºé›†åˆ"><a href="#zsetæœ‰åºé›†åˆ" class="headerlink" title="zsetæœ‰åºé›†åˆ"></a>zsetæœ‰åºé›†åˆ</h4><p>Redis æœ‰åºé›†åˆå’Œé›†åˆä¸€æ ·ä¹Ÿæ˜¯ string ç±»å‹å…ƒç´ çš„é›†åˆ,ä¸”ä¸å…è®¸é‡å¤çš„æˆå‘˜ã€‚</p><p>ä¸åŒçš„æ˜¯æ¯ä¸ªå…ƒç´ éƒ½ä¼šå…³è”ä¸€ä¸ª double ç±»å‹çš„åˆ†æ•°ã€‚redis æ­£æ˜¯é€šè¿‡åˆ†æ•°æ¥ä¸ºé›†åˆä¸­çš„æˆå‘˜è¿›è¡Œä»å°åˆ°å¤§çš„æ’åºã€‚é›†åˆæ˜¯é€šè¿‡å“ˆå¸Œè¡¨å®ç°çš„ï¼Œæ‰€ä»¥æ·»åŠ ï¼Œåˆ é™¤ï¼ŒæŸ¥æ‰¾çš„å¤æ‚åº¦éƒ½æ˜¯ O(1)ã€‚ é›†åˆä¸­æœ€å¤§çš„æˆå‘˜æ•°ä¸º 232 - 1 (4294967295, æ¯ä¸ªé›†åˆå¯å­˜å‚¨40å¤šäº¿ä¸ªæˆå‘˜)ã€‚</p><p><strong>åŸºæœ¬ç”¨æ³•</strong></p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">redis 127.0.0.1:6379&gt; ZADD runoobkey 1 redis åˆ†æ•°ä¸º1å¤„å…ƒç´ ä¸ºredis</span><br><span class="line">(integer) 1</span><br><span class="line">redis 127.0.0.1:6379&gt; ZADD runoobkey 2 mongodb</span><br><span class="line">(integer) 1</span><br><span class="line">redis 127.0.0.1:6379&gt; ZADD runoobkey 3 mysql</span><br><span class="line">(integer) 1</span><br><span class="line">redis 127.0.0.1:6379&gt; ZADD runoobkey 3 mysql</span><br><span class="line">(integer) 0</span><br><span class="line">redis 127.0.0.1:6379&gt; ZADD runoobkey 4 mysql</span><br><span class="line">(integer) 0</span><br><span class="line">redis 127.0.0.1:6379&gt; ZRANGE runoobkey 0 10 WITHSCORES è¾“å‡ºzsetä¸­scoreå†0-10åŒºé—´çš„å†…å®¹å¹¶æŠŠscoreè¿å¸¦å‡åºè¾“å‡º</span><br><span class="line"></span><br><span class="line">1) "redis"</span><br><span class="line">2) "1"</span><br><span class="line">3) "mongodb"</span><br><span class="line">4) "2"</span><br><span class="line">5) "mysql"</span><br><span class="line">6) "4"</span><br><span class="line"></span><br><span class="line">zrem runoobkey redis ç§»é™¤ä¸€ä¸ªæŒ‡å®šå…ƒç´ </span><br><span class="line">zcard runoobkey æŸ¥çœ‹å…ƒç´ ä¸ªæ•°</span><br><span class="line">zrevrange myzset é™åºæ’åºï¼Œé»˜è®¤æ˜¯å‡åº</span><br><span class="line">zcount myset n1 n2è·å–n1 n2åŒºé—´çš„å…ƒç´ ä¸ªæ•°</span><br><span class="line">zrangebyscore myzset -inf +inf å°†zsetä¸­å…ƒç´ æŒ‰scoreæ’åºï¼ŒscoreèŒƒå›´ä¸º-infåˆ°+inf</span><br></pre></td></tr></tbody></table></figure><p>å¯ä»¥æœ‰ä»€ä¹ˆåº”ç”¨å‘¢ï¼Ÿ</p><p>å­˜å‚¨å¸¦æƒé‡ï¼ˆscoreï¼‰çš„æ•°æ®ï¼Œç„¶åæ’åºï¼Œå¦‚å„ç§æ’è¡Œæ¦œã€‚</p><h3 id="ä¸‰ç§ç‰¹æ®Šæ•°æ®ç±»å‹"><a href="#ä¸‰ç§ç‰¹æ®Šæ•°æ®ç±»å‹" class="headerlink" title="ä¸‰ç§ç‰¹æ®Šæ•°æ®ç±»å‹"></a>ä¸‰ç§ç‰¹æ®Šæ•°æ®ç±»å‹</h3><h4 id="geospatialåœ°ç†ä½ç½®"><a href="#geospatialåœ°ç†ä½ç½®" class="headerlink" title="geospatialåœ°ç†ä½ç½®"></a>geospatialåœ°ç†ä½ç½®</h4><p>å°†æŒ‡å®šçš„åœ°ç†ç©ºé—´ä½ç½®ï¼ˆçº¬åº¦ã€ç»åº¦ã€åç§°ï¼‰æ·»åŠ åˆ°æŒ‡å®šçš„keyä¸­ã€‚è¿™äº›æ•°æ®å°†ä¼šå­˜å‚¨åˆ°sorted setè¿™æ ·çš„ç›®çš„æ˜¯ä¸ºäº†æ–¹ä¾¿ä½¿ç”¨GEORADIUSæˆ–è€…GEORADIUSBYMEMBERå‘½ä»¤å¯¹æ•°æ®è¿›è¡ŒåŠå¾„æŸ¥è¯¢ç­‰æ“ä½œã€‚</p><ul><li>æœ‰æ•ˆçš„ç»åº¦ä»-180åº¦åˆ°180åº¦ã€‚</li><li>æœ‰æ•ˆçš„çº¬åº¦ä»-85.05112878åº¦åˆ°85.05112878åº¦ã€‚</li></ul><p>å½“åæ ‡ä½ç½®è¶…å‡ºä¸Šè¿°æŒ‡å®šèŒƒå›´æ—¶ï¼Œè¯¥å‘½ä»¤å°†ä¼šè¿”å›ä¸€ä¸ªé”™è¯¯ã€‚</p><p><strong>ç›¸å…³æŒ‡ä»¤</strong></p><p>groaddï¼šå°†æŒ‡å®šçš„åœ°ç†ç©ºé—´ä½ç½®ï¼ˆçº¬åº¦ã€ç»åº¦ã€åç§°ï¼‰æ·»åŠ åˆ°æŒ‡å®šçš„keyä¸­ã€‚</p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> å°†åŸå¸‚ä¿¡æ¯æ·»åŠ è¿›cityä¸­ï¼Œä¸¤ä¸ªæ•°å­—åˆ†åˆ«å¯¹åº”ç»´åº¦ï¼Œç»åº¦ï¼Œç¬¬ä¸‰ä¸ªå‚æ•°ä»£è¡¨åç§°</span></span><br><span class="line"><span class="meta">redis&gt;</span><span class="bash"> GEOADD city 13.361389 38.115556 <span class="string">"Palermo"</span> 15.087269 37.502669 <span class="string">"Catania"</span></span></span><br><span class="line">(integer) 2</span><br></pre></td></tr></tbody></table></figure><p>gropopsï¼šä»keyé‡Œè¿”å›æ‰€æœ‰ç»™å®šä½ç½®å…ƒç´ çš„ä½ç½®ï¼ˆç»åº¦å’Œçº¬åº¦ï¼‰ã€‚GEOPOS å‘½ä»¤è¿”å›ä¸€ä¸ªæ•°ç»„ï¼Œ æ•°ç»„ä¸­çš„æ¯ä¸ªé¡¹éƒ½ç”±ä¸¤ä¸ªå…ƒç´ ç»„æˆï¼š ç¬¬ä¸€ä¸ªå…ƒç´ ä¸ºç»™å®šä½ç½®å…ƒç´ çš„ç»åº¦ï¼Œ è€Œç¬¬äºŒä¸ªå…ƒç´ åˆ™ä¸ºç»™å®šä½ç½®å…ƒç´ çš„çº¬åº¦ã€‚</p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="meta">redis&gt;</span><span class="bash"> GEOPOS city Palermo Catania NonExisting</span></span><br><span class="line">1) 1) "13.361389338970184"</span><br><span class="line">   2) "38.115556395496299"</span><br><span class="line">2) 1) "15.087267458438873"</span><br><span class="line">   2) "37.50266842333162"</span><br><span class="line">3) (nil)</span><br><span class="line"><span class="meta">redis&gt;</span><span class="bash"> </span></span><br></pre></td></tr></tbody></table></figure><p>GEODISTï¼šå‘½ä»¤ - è¿”å›ä¸¤ä¸ªç»™å®šä½ç½®ä¹‹é—´çš„è·ç¦»</p><p>æŒ‡å®šå•ä½çš„å‚æ•° unit å¿…é¡»æ˜¯ä»¥ä¸‹å•ä½çš„å…¶ä¸­ä¸€ä¸ªï¼š</p><ul><li><strong>m</strong> è¡¨ç¤ºå•ä½ä¸ºç±³ã€‚</li><li><strong>km</strong> è¡¨ç¤ºå•ä½ä¸ºåƒç±³ã€‚</li><li><strong>mi</strong> è¡¨ç¤ºå•ä½ä¸ºè‹±é‡Œã€‚</li><li><strong>ft</strong> è¡¨ç¤ºå•ä½ä¸ºè‹±å°ºã€‚</li></ul><p>å¦‚æœç”¨æˆ·æ²¡æœ‰æ˜¾å¼åœ°æŒ‡å®šå•ä½å‚æ•°ï¼Œ é‚£ä¹ˆ <code>GEODIST</code> é»˜è®¤ä½¿ç”¨ç±³ä½œä¸ºå•ä½ã€‚</p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">redis&gt;</span><span class="bash"> GEOADD Sicily 13.361389 38.115556 <span class="string">"Palermo"</span> 15.087269 37.502669 <span class="string">"Catania"</span></span></span><br><span class="line">(integer) 2</span><br><span class="line"><span class="meta">redis&gt;</span><span class="bash"> GEODIST Sicily Palermo Catania</span></span><br><span class="line">"166274.15156960039"</span><br><span class="line"><span class="meta">redis&gt;</span><span class="bash"> GEODIST Sicily Palermo Catania km</span></span><br><span class="line">"166.27415156960038"</span><br><span class="line"><span class="meta">redis&gt;</span><span class="bash"> GEODIST Sicily Palermo Catania mi</span></span><br><span class="line">"103.31822459492736"</span><br><span class="line"><span class="meta">redis&gt;</span><span class="bash"> GEODIST Sicily Foo Bar</span></span><br><span class="line">(nil)</span><br><span class="line"><span class="meta">redis&gt;</span><span class="bash"> </span></span><br></pre></td></tr></tbody></table></figure><p>GEORADIUS: å‘½ä»¤ - ä»¥ç»™å®šçš„ç»çº¬åº¦ä¸ºä¸­å¿ƒï¼Œ æ‰¾å‡ºæŸä¸€åŠå¾„å†…çš„å…ƒç´ </p><ul><li><code>WITHDIST</code>: åœ¨è¿”å›ä½ç½®å…ƒç´ çš„åŒæ—¶ï¼Œ å°†ä½ç½®å…ƒç´ ä¸ä¸­å¿ƒä¹‹é—´çš„è·ç¦»ä¹Ÿä¸€å¹¶è¿”å›ã€‚ è·ç¦»çš„å•ä½å’Œç”¨æˆ·ç»™å®šçš„èŒƒå›´å•ä½ä¿æŒä¸€è‡´ã€‚</li><li><code>WITHCOORD</code>: å°†ä½ç½®å…ƒç´ çš„ç»åº¦å’Œç»´åº¦ä¹Ÿä¸€å¹¶è¿”å›ã€‚</li></ul><p>å‘½ä»¤é»˜è®¤è¿”å›æœªæ’åºçš„ä½ç½®å…ƒç´ ã€‚ é€šè¿‡ä»¥ä¸‹ä¸¤ä¸ªå‚æ•°ï¼Œ ç”¨æˆ·å¯ä»¥æŒ‡å®šè¢«è¿”å›ä½ç½®å…ƒç´ çš„æ’åºæ–¹å¼ï¼š</p><ul><li><code>ASC</code>: æ ¹æ®ä¸­å¿ƒçš„ä½ç½®ï¼Œ æŒ‰ç…§ä»è¿‘åˆ°è¿œçš„æ–¹å¼è¿”å›ä½ç½®å…ƒç´ ã€‚</li><li><code>DESC</code>: æ ¹æ®ä¸­å¿ƒçš„ä½ç½®ï¼Œ æŒ‰ç…§ä»è¿œåˆ°è¿‘çš„æ–¹å¼è¿”å›ä½ç½®å…ƒç´ ã€‚</li></ul><p>è¿”å›å€¼<br>åœ¨æ²¡æœ‰ç»™å®šä»»ä½• WITH é€‰é¡¹çš„æƒ…å†µä¸‹ï¼Œ å‘½ä»¤åªä¼šè¿”å›ä¸€ä¸ªåƒ [â€œNew Yorkâ€,â€Milanâ€,â€Parisâ€] è¿™æ ·çš„çº¿æ€§ï¼ˆlinearï¼‰åˆ—è¡¨ã€‚<br>åœ¨æŒ‡å®šäº† WITHCOORD ã€ WITHDIST ã€ WITHHASH ç­‰é€‰é¡¹çš„æƒ…å†µä¸‹ï¼Œ å‘½ä»¤è¿”å›ä¸€ä¸ªäºŒå±‚åµŒå¥—æ•°ç»„ï¼Œ å†…å±‚çš„æ¯ä¸ªå­æ•°ç»„å°±è¡¨ç¤ºä¸€ä¸ªå…ƒç´ ã€‚<br>åœ¨è¿”å›åµŒå¥—æ•°ç»„æ—¶ï¼Œ å­æ•°ç»„çš„ç¬¬ä¸€ä¸ªå…ƒç´ æ€»æ˜¯ä½ç½®å…ƒç´ çš„åå­—ã€‚ è‡³äºé¢å¤–çš„ä¿¡æ¯ï¼Œ åˆ™ä¼šä½œä¸ºå­æ•°ç»„çš„åç»­å…ƒç´ ï¼Œ æŒ‰ç…§ä»¥ä¸‹é¡ºåºè¢«è¿”å›ï¼š</p><p>ä»¥æµ®ç‚¹æ•°æ ¼å¼è¿”å›çš„ä¸­å¿ƒä¸ä½ç½®å…ƒç´ ä¹‹é—´çš„è·ç¦»ï¼Œ å•ä½ä¸ç”¨æˆ·æŒ‡å®šèŒƒå›´æ—¶çš„å•ä½ä¸€è‡´ã€‚<br>geohash æ•´æ•°ã€‚<br>ç”±ä¸¤ä¸ªå…ƒç´ ç»„æˆçš„åæ ‡ï¼Œåˆ†åˆ«ä¸ºç»åº¦å’Œçº¬åº¦ã€‚<br>ä¸¾ä¸ªä¾‹å­ï¼Œ GEORADIUS Sicily 15 37 200 km WITHCOORD WITHDIST è¿™æ ·çš„å‘½ä»¤è¿”å›çš„æ¯ä¸ªå­æ•°ç»„éƒ½æ˜¯ç±»ä¼¼ä»¥ä¸‹æ ¼å¼çš„ï¼š</p><p>[â€œPalermoâ€,â€190.4424â€,[â€œ13.361389338970184â€,â€38.115556395496299â€]]</p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">redis&gt;</span><span class="bash"> GEOADD Sicily 13.361389 38.115556 <span class="string">"Palermo"</span> 15.087269 37.502669 <span class="string">"Catania"</span></span></span><br><span class="line">(integer) 2</span><br><span class="line"><span class="meta">redis&gt;</span><span class="bash"> GEORADIUS Sicily 15 37 200 km WITHDIST</span></span><br><span class="line">1) 1) "Palermo"</span><br><span class="line">   2) "190.4424"</span><br><span class="line">2) 1) "Catania"</span><br><span class="line">   2) "56.4413"</span><br><span class="line"><span class="meta">redis&gt;</span><span class="bash"> GEORADIUS Sicily 15 37 200 km WITHCOORD</span></span><br><span class="line">1) 1) "Palermo"</span><br><span class="line">   2) 1) "13.361389338970184"</span><br><span class="line">      2) "38.115556395496299"</span><br><span class="line">2) 1) "Catania"</span><br><span class="line">   2) 1) "15.087267458438873"</span><br><span class="line">      2) "37.50266842333162"</span><br><span class="line"><span class="meta">redis&gt;</span><span class="bash"> GEORADIUS Sicily 15 37 200 km WITHDIST WITHCOORD</span></span><br><span class="line">1) 1) "Palermo"</span><br><span class="line">   2) "190.4424"</span><br><span class="line">   3) 1) "13.361389338970184"</span><br><span class="line">      2) "38.115556395496299"</span><br><span class="line">2) 1) "Catania"</span><br><span class="line">   2) "56.4413"</span><br><span class="line">   3) 1) "15.087267458438873"</span><br><span class="line">      2) "37.50266842333162"</span><br><span class="line"><span class="meta">redis&gt;</span><span class="bash"> </span></span><br></pre></td></tr></tbody></table></figure><p> GEOHASH å‘½ä»¤ - è¿”å›ä¸€ä¸ªæˆ–å¤šä¸ªä½ç½®å…ƒç´ çš„ Geohash è¡¨ç¤º</p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">redis&gt;</span><span class="bash"> GEOADD Sicily 13.361389 38.115556 <span class="string">"Palermo"</span> 15.087269 37.502669 <span class="string">"Catania"</span></span></span><br><span class="line">(integer) 2</span><br><span class="line"><span class="meta">redis&gt;</span><span class="bash"> GEOHASH Sicily Palermo Catania</span></span><br><span class="line">1) "sqc8b49rny0"</span><br><span class="line">2) "sqdtr74hyu0"</span><br><span class="line"><span class="meta">redis&gt;</span><span class="bash"> </span></span><br></pre></td></tr></tbody></table></figure><p>GEORADIUSBYMEMBER å‘½ä»¤ - æ‰¾å‡ºä½äºæŒ‡å®šèŒƒå›´å†…çš„å…ƒç´ ï¼Œä¸­å¿ƒç‚¹æ˜¯ç”±ç»™å®šçš„ä½ç½®å…ƒç´ å†³å®š</p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">redis&gt;</span><span class="bash"> GEOADD Sicily 13.583333 37.316667 <span class="string">"Agrigento"</span></span></span><br><span class="line">(integer) 1</span><br><span class="line"><span class="meta">redis&gt;</span><span class="bash"> GEOADD Sicily 13.361389 38.115556 <span class="string">"Palermo"</span> 15.087269 37.502669 <span class="string">"Catania"</span></span></span><br><span class="line">(integer) 2</span><br><span class="line"><span class="meta">redis&gt;</span><span class="bash"> GEORADIUSBYMEMBER Sicily Agrigento 100 km</span></span><br><span class="line">1) "Agrigento"</span><br><span class="line">2) "Palermo"</span><br><span class="line"><span class="meta">redis&gt;</span><span class="bash"> </span></span><br></pre></td></tr></tbody></table></figure><blockquote><p>geoåº•å±‚å°±æ˜¯zset</p></blockquote><p>å¯ä»¥çœ‹å‡ºgeoæœªç»™å‡ºç§»é™¤å…ƒç´ apiï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨zremæ¥æ“ä½œ</p><p>å¦‚ï¼šzrange Sicily -inf +inf åˆ—å‡ºæ‰€æœ‰åŸå¸‚åç§°ï¼Œzrem Sicily Palermo åˆ é™¤ä¸€ä¸ªåŸå¸‚</p><h4 id="Hyperloglog"><a href="#Hyperloglog" class="headerlink" title="Hyperloglog"></a>Hyperloglog</h4><p>Redis åœ¨ 2.8.9 ç‰ˆæœ¬æ·»åŠ äº† HyperLogLog ç»“æ„ã€‚</p><p>Redis HyperLogLog æ˜¯ç”¨æ¥åšåŸºæ•°ç»Ÿè®¡çš„ç®—æ³•ï¼ŒHyperLogLog çš„ä¼˜ç‚¹æ˜¯ï¼Œåœ¨è¾“å…¥å…ƒç´ çš„æ•°é‡æˆ–è€…ä½“ç§¯éå¸¸éå¸¸å¤§æ—¶ï¼Œè®¡ç®—åŸºæ•°æ‰€éœ€çš„ç©ºé—´æ€»æ˜¯å›ºå®š çš„ã€å¹¶ä¸”æ˜¯å¾ˆå°çš„ã€‚</p><blockquote><p>ä»€ä¹ˆæ˜¯åŸºæ•°ï¼Ÿ</p></blockquote><p>æ¯”å¦‚æ•°æ®é›† {1, 3, 5, 7, 5, 7, 8}ï¼Œ é‚£ä¹ˆè¿™ä¸ªæ•°æ®é›†çš„åŸºæ•°é›†ä¸º {1, 3, 5 ,7, 8}, åŸºæ•°(ä¸é‡å¤å…ƒç´ )ä¸º5ã€‚ åŸºæ•°ä¼°è®¡å°±æ˜¯åœ¨è¯¯å·®å¯æ¥å—çš„èŒƒå›´å†…ï¼Œå¿«é€Ÿè®¡ç®—åŸºæ•°ã€‚</p><p><strong>åŸºæœ¬ç”¨æ³•</strong><br>pfadd mypf  1 2 3 4 5 6 7åŠ å…¥æ•°æ®é›†</p><p>pfadd yourpf 1 2 4 8 9</p><p>pcount mypf è®¡ç®—åŸºæ•°</p><p>pfmerge  all mypf yourpf å°†mypfï¼Œyourpfåˆå¹¶ä¸ºall</p><h4 id="Bitmaps"><a href="#Bitmaps" class="headerlink" title="Bitmaps"></a>Bitmaps</h4><p>Redisæä¾›çš„Bitmapsè¿™ä¸ªâ€œæ•°æ®ç»“æ„â€å¯ä»¥å®ç°å¯¹ä½çš„æ“ä½œã€‚Bitmapsæœ¬èº«ä¸æ˜¯ä¸€ç§æ•°æ®ç»“æ„ï¼Œå®é™…ä¸Šå°±æ˜¯å­—ç¬¦ä¸²ï¼Œä½†æ˜¯å®ƒå¯ä»¥å¯¹å­—ç¬¦ä¸²çš„ä½è¿›è¡Œæ“ä½œã€‚</p><p>å¯ä»¥æŠŠBitmapsæƒ³è±¡æˆä¸€ä¸ªä»¥ä½ä¸ºå•ä½æ•°ç»„ï¼Œæ•°ç»„ä¸­çš„æ¯ä¸ªå•å…ƒåªèƒ½å­˜0æˆ–è€…1ï¼Œæ•°ç»„çš„ä¸‹æ ‡åœ¨bitmapsä¸­å«åšåç§»é‡ã€‚å•ä¸ªbitmapsçš„æœ€å¤§é•¿åº¦æ˜¯512MBï¼Œå³2^32ä¸ªæ¯”ç‰¹ä½ã€‚<br><strong>åŸºæœ¬æ“ä½œ</strong></p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;</span><span class="bash"> setbit key 10 1</span></span><br><span class="line">(integer) 1</span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> getbit key 10</span></span><br><span class="line">(integer) 1</span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> getbit key 11</span></span><br><span class="line">(integer) 0</span><br><span class="line">-----------------------------</span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> setbit key 0 1</span></span><br><span class="line">(integer) 0</span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> setbit key 100 1</span></span><br><span class="line">(integer) 0</span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> bitcount key</span></span><br><span class="line">(integer) 2</span><br></pre></td></tr></tbody></table></figure><h3 id="redisäº‹åŠ¡"><a href="#redisäº‹åŠ¡" class="headerlink" title="redisäº‹åŠ¡"></a>redisäº‹åŠ¡</h3><p><strong>å¼•è¨€</strong></p><blockquote><p>åœ¨æ•°æ®åº“ç›¸å…³ç†è®ºä¸­ï¼Œä¸€ä¸ªé€»è¾‘å·¥ä½œå•å…ƒæƒ³è¦æˆä¸ºäº‹åŠ¡ï¼Œå°±å¿…é¡»æ»¡è¶³<strong>ACID</strong>ï¼Œå³åŸå­æ€§ã€ä¸€è‡´æ€§ã€éš”ç¦»æ€§å’ŒæŒä¹…æ€§ã€‚</p><ul><li>(1)åŸå­æ€§ï¼šåŸå­æ€§è¿™ä¸ªæ¦‚å¿µå…¶å®å°±æ˜¯æŒ‡ï¼Œä¸€ä¸ªäº‹åŠ¡å†…çš„æ‰€æœ‰SQLæ“ä½œéƒ½æ˜¯ä¸€ä¸ªæ•´ä½“ï¼Œå› æ­¤åªæœ‰æ‰€æœ‰çš„SQLæ“ä½œéƒ½å®Œå…¨æ‰§è¡ŒæˆåŠŸï¼Œè¯¥äº‹åŠ¡æ–¹å¯ä»¥è®¤ä¸ºæäº¤æˆåŠŸã€‚å¦‚æœåœ¨æäº¤äº‹åŠ¡è¿‡ç¨‹ä¸­æŸä¸€æ¡SQLè¯­å¥æ‰§è¡Œå¤±è´¥ï¼Œåˆ™æ•´ä¸ªäº‹åŠ¡å¿…é¡»å›æ»šåˆ°äº‹åŠ¡æäº¤å‰çš„çŠ¶æ€ã€‚</li><li>(2)ä¸€è‡´æ€§ï¼šè€Œä¸€è‡´æ€§è¿™ä¸ªæ¦‚å¿µåˆ™æ˜¯æŒ‡ï¼Œäº‹åŠ¡åœ¨å®Œæˆçš„æ—¶å€™ï¼Œå¿…é¡»è¦ä¿è¯æ‰€æœ‰çš„æ•°æ®éƒ½ä¿æŒä¸€è‡´çš„çŠ¶æ€ï¼Œè€Œè½å®åˆ°æ•°æ®åº“çš„å„ä¸ªç»„æˆéƒ¨åˆ†ä¸Šï¼Œåˆ™è¦æ±‚å¼€å‘äººå‘˜èƒ½å¤Ÿä¿è¯æ•°æ®ã€ç´¢å¼•ã€çº¦æŸã€æ—¥å¿—ç­‰åœ¨äº‹åŠ¡å‰åå…·å¤‡ä¸€è‡´æ€§ã€‚</li><li>(3)éš”ç¦»æ€§ï¼šéš”ç¦»æ€§è¿™ä¸ªæ¦‚å¿µä¸»è¦é’ˆå¯¹å¹¶å‘ï¼Œå…¶æ ¸å¿ƒæ€æƒ³å°±æ˜¯ä¸åŒçš„å¹¶å‘äº‹åŠ¡å¯¹æ•°æ®äº§ç”Ÿçš„ä¿®æ”¹å¿…é¡»æ˜¯ç›¸äº’éš”ç¦»çš„ï¼Œå‡è®¾æœ‰ä¸¤ä¸ªä¸åŒçš„äº‹åŠ¡Aå’ŒBå¹¶å‘æ‰§è¡Œï¼Œé‚£ä¹ˆå¯¹Aæ¥è®²ï¼Œå®ƒåœ¨æ‰§è¡Œå‰çš„çŠ¶æ€åªæœ‰ä¸¤ç§ï¼Œå³Bæ‰§è¡Œå‰å’ŒBæ‰§è¡Œåã€‚åŒç†ï¼Œå¯¹Bæ¥è®²åŒæ ·æ˜¯å¦‚æ­¤ï¼Œè¿™æ ·çš„ç‰¹æ€§æˆ‘ä»¬å°±ç§°ä¸ºéš”ç¦»æ€§ã€‚</li><li>(4)æŒä¹…æ€§ï¼šæŒä¹…æ€§ç›¸å¯¹ç®€å•ï¼Œæ˜¯æŒ‡äº‹åŠ¡å®Œæˆä»¥åå®ƒå¯¹æ•°æ®çš„å½±å“æ˜¯æ°¸ä¹…æ€§çš„ã€‚</li></ul></blockquote><h4 id="redisäº‹åŠ¡å¤„ç†"><a href="#redisäº‹åŠ¡å¤„ç†" class="headerlink" title="redisäº‹åŠ¡å¤„ç†"></a>redisäº‹åŠ¡å¤„ç†</h4><p><strong>redisäº‹åŠ¡ä»‹ç»</strong></p><ol><li>Redis çš„äº‹åŠ¡æ˜¯é€šè¿‡ <strong>MULTIï¼ŒEXECï¼ŒDISCARD å’Œ WATCH</strong> è¿™å››ä¸ªå‘½ä»¤æ¥å®Œæˆçš„ã€‚</li><li>Redis çš„å•ä¸ªå‘½ä»¤éƒ½æ˜¯<strong>åŸå­æ€§</strong>çš„ï¼Œæ‰€ä»¥è¿™é‡Œç¡®ä¿äº‹åŠ¡æ€§çš„å¯¹è±¡æ˜¯<strong>å‘½ä»¤é›†åˆ</strong>ã€‚</li><li>Redis å°†å‘½ä»¤é›†åˆåºåˆ—åŒ–å¹¶ç¡®ä¿å¤„äºåŒä¸€äº‹åŠ¡çš„<strong>å‘½ä»¤é›†åˆè¿ç»­ä¸”ä¸è¢«æ‰“æ–­</strong>çš„æ‰§è¡Œ</li><li>Redisä¸æ”¯æŒå›æ»šæ“ä½œ</li></ol><p>æ€è€ƒï¼šä¸ºä»€ä¹ˆ Redis ä¸æ”¯æŒäº‹åŠ¡å›æ»šï¼Ÿ</p><ul><li>å¤§å¤šæ•°äº‹åŠ¡å¤±è´¥æ˜¯å› ä¸º<strong>è¯­æ³•é”™è¯¯æˆ–è€…ç±»å‹é”™è¯¯</strong>ï¼Œè¿™ä¸¤ç§é”™è¯¯ï¼Œåœ¨å¼€å‘é˜¶æ®µéƒ½æ˜¯å¯ä»¥é¢„è§çš„ã€‚</li><li>Redis ä¸ºäº†<strong>æ€§èƒ½æ–¹é¢</strong>å°±å¿½ç•¥äº†äº‹åŠ¡å›æ»šã€‚</li></ul><blockquote><p>å•ä¸ª Redis å‘½ä»¤çš„æ‰§è¡Œæ˜¯åŸå­æ€§çš„ï¼Œä½† Redis æ²¡æœ‰åœ¨äº‹åŠ¡ä¸Šå¢åŠ ä»»ä½•ç»´æŒåŸå­æ€§çš„æœºåˆ¶ï¼Œæ‰€ä»¥ Redis äº‹åŠ¡çš„æ‰§è¡Œå¹¶ä¸æ˜¯åŸå­æ€§çš„ã€‚</p></blockquote><p><strong>äº‹åŠ¡å¤„ç†å‘½ä»¤</strong></p><p>äº‹åŠ¡å¤„ç†å‘½ä»¤ä¼šåƒéäº‹åŠ¡çŠ¶æ€ä¸‹ä¸€æ ·è¢«ç«‹åˆ»æ‰§è¡Œ</p><p><img src="https://gitee.com/rain-sky/images/raw/master/20210802120751.jpeg"></p><p><strong>äº‹åŠ¡å¤„ç†æµç¨‹</strong></p><p>ä¸€ä¸ªäº‹åŠ¡ä»å¼€å§‹åˆ°æ‰§è¡Œä¼šç»å†ä»¥ä¸‹ä¸‰ä¸ªé˜¶æ®µï¼š</p><ul><li>1ï¼‰å¼€å§‹äº‹åŠ¡ã€‚ï¼ˆéäº‹åŠ¡çŠ¶æ€-&gt;äº‹åŠ¡çŠ¶æ€ï¼‰</li><li>2ï¼‰å‘½ä»¤å…¥é˜Ÿã€‚ï¼ˆå¹¶ä¸æ‰§è¡Œï¼‰</li><li>3ï¼‰æ‰§è¡Œäº‹åŠ¡ã€‚</li></ul><p>ä¸€ä¸ªç®€å•äº‹åŠ¡ç¤ºä¾‹</p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">127.0.0.1:6379&gt; MULTI </span><br><span class="line">OK </span><br><span class="line">127.0.0.1:6379&gt; SET Book_Name "GIt Pro" </span><br><span class="line">QUEUED </span><br><span class="line">127.0.0.1:6379&gt; SADD Program_Language "C++" "C#" "Jave" "Python"  </span><br><span class="line">QUEUED </span><br><span class="line">127.0.0.1:6379&gt; GET Book_Name </span><br><span class="line">QUEUED </span><br><span class="line">127.0.0.1:6379&gt; EXEC</span><br><span class="line">1) OK</span><br><span class="line">2) (integer) 4 </span><br><span class="line">3) "GIt Pro" </span><br></pre></td></tr></tbody></table></figure><h4 id="äº‹åŠ¡å¤„ç†æƒ…å†µç¤ºä¾‹"><a href="#äº‹åŠ¡å¤„ç†æƒ…å†µç¤ºä¾‹" class="headerlink" title="äº‹åŠ¡å¤„ç†æƒ…å†µç¤ºä¾‹"></a>äº‹åŠ¡å¤„ç†æƒ…å†µç¤ºä¾‹</h4><p>æ”¾å¼ƒäº‹åŠ¡</p><p><img src="https://gitee.com/rain-sky/images/raw/master/20210802145006.jpeg"></p><p>å‘½ä»¤æ€§é”™è¯¯ï¼Œæ‰€æœ‰å‘½ä»¤å‡ä¸ä¼šæ‰§è¡Œ</p><p><img src="https://gitee.com/rain-sky/images/raw/master/20210802145320.png"></p><p>è¿è¡Œæ—¶é”™è¯¯ï¼Œå…¶ä»–å‘½ä»¤ä¾ç„¶æ‰§è¡Œ</p><p><img src="https://gitee.com/rain-sky/images/raw/master/20210802145525.png"></p><h4 id="rediså®ç°ä¹è§‚é”"><a href="#rediså®ç°ä¹è§‚é”" class="headerlink" title="rediså®ç°ä¹è§‚é”"></a>rediså®ç°ä¹è§‚é”</h4><p><strong>æ‚²è§‚é”</strong></p><p>æ€»æ˜¯å‡è®¾æœ€åçš„æƒ…å†µï¼Œæ¯æ¬¡å»æ‹¿æ•°æ®çš„æ—¶å€™éƒ½è®¤ä¸ºåˆ«äººä¼šä¿®æ”¹ï¼Œæ‰€ä»¥æ¯æ¬¡åœ¨æ‹¿æ•°æ®çš„æ—¶å€™éƒ½ä¼šä¸Šé”ï¼Œè¿™æ ·åˆ«äººæƒ³æ‹¿è¿™ä¸ªæ•°æ®å°±ä¼šé˜»å¡ç›´åˆ°å®ƒæ‹¿åˆ°é”ï¼ˆ<strong>å…±äº«èµ„æºæ¯æ¬¡åªç»™ä¸€ä¸ªçº¿ç¨‹ä½¿ç”¨ï¼Œå…¶å®ƒçº¿ç¨‹é˜»å¡ï¼Œç”¨å®Œåå†æŠŠèµ„æºè½¬è®©ç»™å…¶å®ƒçº¿ç¨‹</strong>ï¼‰ã€‚ä¼ ç»Ÿçš„å…³ç³»å‹æ•°æ®åº“é‡Œè¾¹å°±ç”¨åˆ°äº†å¾ˆå¤šè¿™ç§é”æœºåˆ¶ï¼Œæ¯”å¦‚è¡Œé”ï¼Œè¡¨é”ç­‰ï¼Œè¯»é”ï¼Œå†™é”ç­‰ï¼Œéƒ½æ˜¯åœ¨åšæ“ä½œä¹‹å‰å…ˆä¸Šé”ã€‚Javaä¸­synchronizedå’ŒReentrantLockç­‰ç‹¬å é”å°±æ˜¯æ‚²è§‚é”æ€æƒ³çš„å®ç°ã€‚</p><p><strong>ä¹è§‚é”</strong></p><p>æ€»æ˜¯å‡è®¾æœ€å¥½çš„æƒ…å†µï¼Œæ¯æ¬¡å»æ‹¿æ•°æ®çš„æ—¶å€™éƒ½è®¤ä¸ºåˆ«äººä¸ä¼šä¿®æ”¹ï¼Œæ‰€ä»¥ä¸ä¼šä¸Šé”ï¼Œä½†æ˜¯åœ¨æ›´æ–°çš„æ—¶å€™ä¼šåˆ¤æ–­ä¸€ä¸‹åœ¨æ­¤æœŸé—´åˆ«äººæœ‰æ²¡æœ‰å»æ›´æ–°è¿™ä¸ªæ•°æ®ï¼Œå¯ä»¥ä½¿ç”¨ç‰ˆæœ¬å·æœºåˆ¶å’ŒCASç®—æ³•å®ç°ã€‚<strong>ä¹è§‚é”é€‚ç”¨äºå¤šè¯»çš„åº”ç”¨ç±»å‹ï¼Œè¿™æ ·å¯ä»¥æé«˜ååé‡</strong>ï¼Œåƒæ•°æ®åº“æä¾›çš„ç±»ä¼¼äº<strong>write_conditionæœºåˆ¶</strong>ï¼Œå…¶å®éƒ½æ˜¯æä¾›çš„ä¹è§‚é”ã€‚åœ¨Javaä¸­java.util.concurrent.atomicåŒ…ä¸‹é¢çš„åŸå­å˜é‡ç±»å°±æ˜¯ä½¿ç”¨äº†ä¹è§‚é”çš„ä¸€ç§å®ç°æ–¹å¼<strong>CAS</strong>å®ç°çš„ã€‚</p><p><strong>rediså®ç°ä¹è§‚é”</strong></p><p>ä½¿ç”¨watchå¯¹æ•°æ®åŠ é”ï¼Œå½“æ‰§è¡Œäº‹åŠ¡æœŸé—´ï¼Œè¢«åŠ é”æ•°æ®æœªèƒŒä¿®æ”¹åˆ™äº‹åŠ¡å¯æˆåŠŸæ‰§è¡Œï¼Œå¦åˆ™æ‰§è¡Œå¤±è´¥</p><p>å…ˆåœ¨ä¸€ä¸ªè¿æ¥ï¼ˆå‡è®¾ä¸ºçº¿ç¨‹1ï¼‰é‡Œç¼–å†™ä¸€ä¸ªäº‹åŠ¡ï¼Œ</p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">set money 100</span><br><span class="line">set out 0</span><br><span class="line">multi</span><br><span class="line">decrby money 10</span><br><span class="line">incrby out 10</span><br></pre></td></tr></tbody></table></figure><p>è¿˜æœªexecæˆ‘ä»¬å¼€å¯å¦å¤–ä¸€ä¸ªè¿æ¥ï¼ˆå‡è®¾ä¸ºçº¿ç¨‹2ï¼‰ï¼Œç›¸å½“äºå¦å¤–ä¸€ä¸ªç”¨æˆ·ï¼Œæ‰§è¡Œä»¥ä¸‹æ“ä½œ</p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">incrby money 100</span><br></pre></td></tr></tbody></table></figure><p>æ‰§è¡Œå®Œæ¯•åæˆ‘ä»¬å›åˆ°çº¿ç¨‹1</p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">set money 100</span><br><span class="line">set out 0</span><br><span class="line">multi</span><br><span class="line">decrby money 10</span><br><span class="line">incrby out 10</span><br><span class="line">exec</span><br></pre></td></tr></tbody></table></figure><p>å½“æˆ‘ä»¬æ‰§è¡Œexecåä¼šæŠ¥é”™ï¼Œå› ä¸ºåœ¨æˆ‘ä»¬æ‰§è¡Œäº‹åŠ¡æœŸé—´ç›‘è§†å€¼moneyå·²ç»è¢«å…¶ä»–çº¿ç¨‹ä¿®æ”¹</p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">unwatch æ”¾å¼ƒç›‘è§†</span><br><span class="line">watch money ç›‘è§†moneyæ­¤æ—¶å·²ç»æ˜¯æœ€æ–°å€¼</span><br></pre></td></tr></tbody></table></figure><blockquote><p>ä¹è§‚é”çš„ä¸€äº›åº”ç”¨ï¼šç§’æ€ç³»ç»Ÿ</p></blockquote><h2 id="jedis"><a href="#jedis" class="headerlink" title="jedis"></a>jedis</h2><p>Rediså®˜æ–¹æ¨èçš„Javaè¿æ¥å¼€å‘å·¥å…·</p><p><a href="https://www.runoob.com/redis/redis-java.html">å‚è€ƒå­¦ä¹ </a></p><p>mavené¡¹ç›®ä½¿ç”¨</p><figure class="highlight xml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>redis.clients<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>jedis<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.6.1<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><p>è¿æ¥åˆ°redis</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> redis.clients.jedis.Jedis;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">RedisJava</span> </span>{</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>{</span><br><span class="line">        <span class="comment">//è¿æ¥æœ¬åœ°çš„ Redis æœåŠ¡</span></span><br><span class="line">        Jedis jedis = <span class="keyword">new</span> Jedis(<span class="string">"localhost"</span>);</span><br><span class="line">        <span class="comment">// å¦‚æœ Redis æœåŠ¡è®¾ç½®äº†å¯†ç ï¼Œéœ€è¦ä¸‹é¢è¿™è¡Œï¼Œæ²¡æœ‰å°±ä¸éœ€è¦</span></span><br><span class="line">        <span class="comment">// jedis.auth("123456"); </span></span><br><span class="line">        System.out.println(<span class="string">"è¿æ¥æˆåŠŸ"</span>);</span><br><span class="line">        <span class="comment">//æŸ¥çœ‹æœåŠ¡æ˜¯å¦è¿è¡Œ</span></span><br><span class="line">        System.out.println(<span class="string">"æœåŠ¡æ­£åœ¨è¿è¡Œ: "</span>+jedis.ping());</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//Stringæ“ä½œ</span></span><br><span class="line">        <span class="comment">//è®¾ç½® redis å­—ç¬¦ä¸²æ•°æ®</span></span><br><span class="line">        jedis.set(<span class="string">"runoobkey"</span>, <span class="string">"www.runoob.com"</span>);</span><br><span class="line">        <span class="comment">// è·å–å­˜å‚¨çš„æ•°æ®å¹¶è¾“å‡º</span></span><br><span class="line">        System.out.println(<span class="string">"redis å­˜å‚¨çš„å­—ç¬¦ä¸²ä¸º: "</span>+ jedis.get(<span class="string">"runoobkey"</span>));</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//Listæ“ä½œ</span></span><br><span class="line">        jedis.lpush(<span class="string">"site-list"</span>, <span class="string">"Runoob"</span>);</span><br><span class="line">        jedis.lpush(<span class="string">"site-list"</span>, <span class="string">"Google"</span>);</span><br><span class="line">        jedis.lpush(<span class="string">"site-list"</span>, <span class="string">"Taobao"</span>);</span><br><span class="line">        <span class="comment">// è·å–å­˜å‚¨çš„æ•°æ®å¹¶è¾“å‡º</span></span><br><span class="line">        List&lt;String&gt; list = jedis.lrange(<span class="string">"site-list"</span>, <span class="number">0</span> ,<span class="number">2</span>);</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;list.size(); i++) {</span><br><span class="line">            System.out.println(<span class="string">"åˆ—è¡¨é¡¹ä¸º: "</span>+list.get(i));</span><br><span class="line">        }</span><br><span class="line">        </span><br><span class="line">        ......</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>ä¸å†èµ˜è¿°ï¼Œæ‰€æœ‰æ“ä½œä¸å‘½ä»¤å‡ç›¸ä¼¼</p><blockquote><p>ä¸€ä¸ªäº‹åŠ¡çš„æ —å­<span class="github-emoji"><span>ğŸ“</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f4dd.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span></p></blockquote><p><img src="https://gitee.com/rain-sky/images/raw/master/20210802155721.png"></p><h2 id="springbootæ•´åˆredis"><a href="#springbootæ•´åˆredis" class="headerlink" title="springbootæ•´åˆredis"></a>springbootæ•´åˆredis</h2><p>springç³»åˆ—ä¸æ•°æ®æ“ä½œç›¸å…³çš„é¡¹ç›®ä¸ºspring-dataï¼Œ<a href="https://spring.io/projects/spring-data-redis">å®˜ç½‘</a></p><img src="https://gitee.com/rain-sky/images/raw/master/20210802160745.png" style="zoom:50%;"><p>åœ¨springboot2.xåï¼Œæ“ä½œredisçš„jedisæ›´æ¢ä¸ºlettuceã€‚</p><p>jedisï¼šé‡‡ç”¨ç›´è¿ï¼Œå¤šä¸ªçº¿ç¨‹æ“ä½œçš„è¯ä¸å®‰å…¨ï¼Œéœ€è¦ä½¿ç”¨Jedis  pool ï¼Œç±»ä¼¼BIOæ¨¡å¼ã€‚</p><p>lettuceï¼šé‡‡ç”¨nettyï¼Œå®ä¾‹å¯ä»¥åœ¨å¤šä¸ªçº¿ç¨‹ä¸­å…±äº«ï¼Œä¸å­˜åœ¨çº¿ç¨‹ä¸å®‰å…¨æƒ…å†µï¼Œç±»ä¼¼NIOæ¨¡å¼ã€‚</p><blockquote><p>ä½¿ç”¨</p></blockquote><p><strong>å¯¼å…¥starter</strong></p><figure class="highlight xml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.data<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-data-redis<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.5.3<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><p><strong>é…ç½®è§£æ</strong></p><p>æ‰¾åˆ°è‡ªåŠ¨é…ç½®ç±»ï¼Œå¯ä»¥çœ‹åˆ°ä¸ºæˆ‘ä»¬æ³¨å…¥äº†ä¸¤ä¸ªå¸¸ç”¨ç±»ï¼Œæ–¹æ³•å‚æ•°ä¸ºä¸€ä¸ªredisè¿æ¥å·¥å‚å¯¹è±¡ï¼Œç‚¹è¿›å»å‘ç°æ˜¯ä¸€ä¸ªæ¥å£ï¼Œè€Œæ­¤æ¥å£çš„å®ç°ç±»æœ‰ä¸¤ä¸ªã€‚</p><p><img src="https://gitee.com/rain-sky/images/raw/master/20210802161509.png"></p><p>å®ç°ç±»</p><p><img src="https://gitee.com/rain-sky/images/raw/master/20210802164132.png"></p><p>çœ‹çœ‹ç»‘å®šçš„é…ç½®ç±»ï¼Œæ‰¾åˆ°é…ç½®ç±»ï¼Œå¯ä»¥çœ‹åˆ°ä¸€äº›é»˜è®¤é…ç½®</p><p><img src="https://gitee.com/rain-sky/images/raw/master/20210802161554.png"></p><p><strong>é…ç½®è¿æ¥ç¤ºä¾‹</strong></p><figure class="highlight yaml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Redisæ•°æ®åº“ç´¢å¼•ï¼ˆé»˜è®¤ä¸º0ï¼‰  </span></span><br><span class="line"><span class="string">spring.redis.database=0</span>  </span><br><span class="line"><span class="comment"># RedisæœåŠ¡å™¨åœ°å€  </span></span><br><span class="line"><span class="string">spring.redis.host=192.168.0.24</span>  </span><br><span class="line"><span class="comment"># RedisæœåŠ¡å™¨è¿æ¥ç«¯å£  </span></span><br><span class="line"><span class="string">spring.redis.port=6379</span>  </span><br><span class="line"><span class="comment"># RedisæœåŠ¡å™¨è¿æ¥å¯†ç ï¼ˆé»˜è®¤ä¸ºç©ºï¼‰  </span></span><br><span class="line"><span class="string">spring.redis.password=</span>  </span><br><span class="line"><span class="comment"># è¿æ¥æ± æœ€å¤§è¿æ¥æ•°ï¼ˆä½¿ç”¨è´Ÿå€¼è¡¨ç¤ºæ²¡æœ‰é™åˆ¶ï¼‰  </span></span><br><span class="line"><span class="string">spring.redis.pool.max-active=200</span>  </span><br><span class="line"><span class="comment"># è¿æ¥æ± æœ€å¤§é˜»å¡ç­‰å¾…æ—¶é—´ï¼ˆä½¿ç”¨è´Ÿå€¼è¡¨ç¤ºæ²¡æœ‰é™åˆ¶ï¼‰  </span></span><br><span class="line"><span class="string">spring.redis.pool.max-wait=-1</span>  </span><br><span class="line"><span class="comment"># è¿æ¥æ± ä¸­çš„æœ€å¤§ç©ºé—²è¿æ¥  </span></span><br><span class="line"><span class="string">spring.redis.pool.max-idle=10</span> </span><br><span class="line"><span class="comment"># è¿æ¥æ± ä¸­çš„æœ€å°ç©ºé—²è¿æ¥  </span></span><br><span class="line"><span class="string">spring.redis.pool.min-idle=0</span>  </span><br><span class="line"><span class="comment"># è¿æ¥è¶…æ—¶æ—¶é—´ï¼ˆæ¯«ç§’ï¼‰  </span></span><br><span class="line"><span class="string">spring.redis.timeout=1000</span> </span><br></pre></td></tr></tbody></table></figure><p><strong>ç®€å•æµ‹è¯•</strong></p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@SpringBootTest</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">SpringbootRedisApplicationTests</span> </span>{</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> RedisTemplate&lt;String,String&gt; redisTemplate;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">contextLoads</span><span class="params">()</span> </span>{</span><br><span class="line">        <span class="comment">//å¯¹Stringç±»å‹çš„æ“ä½œ</span></span><br><span class="line">        redisTemplate.opsForValue().set(<span class="string">"myKey"</span>,<span class="string">"myValue"</span>);</span><br><span class="line">        System.out.println(redisTemplate.opsForValue().get(<span class="string">"myKey"</span>));</span><br><span class="line">        <span class="comment">//å¯¹listçš„æ“ä½œ</span></span><br><span class="line">        redisTemplate.opsForList().leftPush(<span class="string">"hello"</span>,<span class="string">"world!"</span>);</span><br><span class="line">        redisTemplate.opsForList().leftPop(<span class="string">"hello"</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//è·å–è¿æ¥å¯¹è±¡</span></span><br><span class="line">        RedisConnection connection = redisTemplate.getConnectionFactory().getConnection();</span><br><span class="line">        connection.flushAll();</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p><strong>è‡ªå®šä¹‰RedisTemplate</strong></p><p><span class="github-emoji"><span>âš </span><img src="https://github.githubassets.com/images/icons/emoji/unicode/26a0.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span> ç½‘ç»œä¼ è¾“çš„å¯¹è±¡å¿…é¡»åºåˆ—åŒ–</p><p>è‡ªå®šä¹‰åºåˆ—åŒ–æ–¹å¼</p><p><img src="https://gitee.com/rain-sky/images/raw/master/20210803085557.png"></p><p>å¾€å¾€ç»“åˆè‡ªå·±æ³¨å…¥çš„RedisTempalteå†è‡ªå®šä¹‰ä¸€ä¸ªrediså·¥å…·ç±»</p><h2 id="redis-conf"><a href="#redis-conf" class="headerlink" title="redis.conf"></a>redis.conf</h2><p>rediså¯åŠ¨çš„æ—¶å€™å°±æ˜¯é€šè¿‡æŒ‡å®šé…ç½®æ–‡ä»¶æ¥å¯åŠ¨çš„</p><p><span class="github-emoji"><span>1âƒ£</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/0031-20e3.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span> å­˜å‚¨å•ä½å¯é€‰ï¼Œå¤§å°å†™ä¸æ•æ„Ÿ</p><p><img src="https://gitee.com/rain-sky/images/raw/master/20210803100112.png"></p><p><span class="github-emoji"><span>2âƒ£</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/0032-20e3.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span>å¼•å…¥å…¶ä»–é…ç½®æ–‡ä»¶</p><p><img src="https://gitee.com/rain-sky/images/raw/master/20210803100219.png"></p><p><span class="github-emoji"><span>3âƒ£</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/0033-20e3.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span>ç½‘ç»œé…ç½®ï¼Œå‚è§networkéƒ¨åˆ†</p><ul><li>bind 127.0.0.1 ç»‘å®šçš„ä¸»æœºåœ°å€</li></ul><p>å…³äºbindï¼Œè¿™ä¸ªé—®é¢˜æ˜¯ç”±äºå¾ˆå¤šæ–‡æ¡£è§£é‡Šbindè€Œå¯¼è‡´çš„è¯¯ä¼šã€‚å¾ˆå¤šåœ°æ–¹ç¿»è¯‘å¦‚ä¸‹ï¼š</p><blockquote><p>æŒ‡å®šredisåªæ¥æ”¶æ¥è‡ªäºè¯¥IPåœ°å€çš„è¯·æ±‚ï¼Œå¦‚æœä¸è¿›è¡Œè®¾ç½®ï¼Œé‚£ä¹ˆå°†å¤„ç†æ‰€æœ‰è¯·æ±‚ï¼Œåœ¨ç”Ÿäº§ç¯å¢ƒä¸­æœ€å¥½è®¾ç½®è¯¥é¡¹</p></blockquote><p>ä½†æ˜¯ï¼Œå®é™…ä¸Šï¼Œåº”è¯¥bindçš„æ˜¯redisæ‰€åœ¨æœåŠ¡å™¨ç½‘å¡çš„ipã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœä½ çš„redisæœåŠ¡å™¨æœ‰ä¸¤å¼ ç½‘å¡ï¼Œä¸€å¼ æ˜¯ip-1,å¦ä¸€å¼ æ˜¯ip-2ï¼Œå¦‚æœä½ bind ip-1.é‚£ä¹ˆåªæœ‰è¯·æ±‚ip-1çš„è¯·æ±‚ä¼šè¢«å—ç†ã€‚</p><ul><li>port 6379 æŒ‡å®š Redis ç›‘å¬ç«¯å£ï¼Œé»˜è®¤ç«¯å£ä¸º 6379ã€‚</li></ul><p><span class="github-emoji"><span>4âƒ£</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/0034-20e3.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span>é€šå¸¸é…ç½®</p><p>daemonize noï¼šRedis é»˜è®¤ä¸æ˜¯ä»¥å®ˆæŠ¤è¿›ç¨‹çš„æ–¹å¼è¿è¡Œï¼Œå¯ä»¥é€šè¿‡è¯¥é…ç½®é¡¹ä¿®æ”¹ï¼Œä½¿ç”¨ yes å¯ç”¨å®ˆæŠ¤è¿›ç¨‹ã€‚</p><p>pidfile /var/run/redis_6379.pidï¼šä»¥å®ˆæŠ¤è¿›ç¨‹è¿è¡Œç»‘å®šçš„pidæ–‡ä»¶</p><p>loglevel notic ï¼šæŒ‡å®šæ—¥å¿—è®°å½•çº§åˆ«ï¼ŒRedis æ€»å…±æ”¯æŒå››ä¸ªçº§åˆ«ï¼šdebugã€verboseã€noticeã€warningï¼Œé»˜è®¤ä¸º notice</p><p>logfile â€œâ€ ï¼šæ—¥å¿—è®°å½•æ–¹å¼ï¼Œé»˜è®¤ä¸ºæ ‡å‡†è¾“å‡ºï¼Œå¦‚æœé…ç½® Redis ä¸ºå®ˆæŠ¤è¿›ç¨‹æ–¹å¼è¿è¡Œï¼Œè€Œè¿™é‡Œåˆé…ç½®ä¸ºæ—¥å¿—è®°å½•æ–¹å¼ä¸ºæ ‡å‡†è¾“å‡ºï¼Œåˆ™æ—¥å¿—å°†ä¼šå‘é€ç»™ /dev/null</p><p>databases 16 ï¼šæ•°æ®åº“ä¸ªæ•°</p><p>always-show-logo noï¼šæ˜¯å¦æ˜¾ç¤ºredisçš„logo</p><p><span class="github-emoji"><span>5âƒ£</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/0035-20e3.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span>å¿«ç…§SNAPSHOTTING</p><p><img src="https://gitee.com/rain-sky/images/raw/master/20210803103030.png"></p><p>Redis é»˜è®¤é…ç½®æ–‡ä»¶ä¸­æä¾›äº†ä¸‰ä¸ªæ¡ä»¶ï¼š</p><p><strong>save 900 1</strong></p><p><strong>save 300 10</strong></p><p><strong>save 60 10000</strong></p><p>åˆ†åˆ«è¡¨ç¤º 900 ç§’ï¼ˆ15 åˆ†é’Ÿï¼‰å†…æœ‰ 1 ä¸ªæ›´æ”¹ï¼Œ300 ç§’ï¼ˆ5 åˆ†é’Ÿï¼‰å†…æœ‰ 10 ä¸ªæ›´æ”¹ä»¥åŠ 60 ç§’å†…æœ‰ 10000 ä¸ªæ›´æ”¹ã€‚</p><p>æŒ‡å®šåœ¨å¤šé•¿æ—¶é—´å†…ï¼Œæœ‰å¤šå°‘æ¬¡æ›´æ–°æ“ä½œï¼Œå°±å°†æ•°æ®åŒæ­¥åˆ°æ•°æ®æ–‡ä»¶ï¼Œå¯ä»¥å¤šä¸ªæ¡ä»¶é…åˆ</p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">rdbcompression yes <span class="comment">#æ˜¯å¦å‹ç¼©rdbæ–‡ä»¶</span></span><br><span class="line">stop-writes-on-bgsave-error yes  <span class="comment">#åœ¨ä¿å­˜æ•°æ®åº“æ–‡ä»¶æ—¶å‡ºé”™æ˜¯å¦åœæ­¢å†™å…¥</span></span><br><span class="line">rdbcherksum yes <span class="comment">#rdbæ–‡ä»¶ä¿å­˜æ—¶æ˜¯å¦é”™è¯¯æ£€æŸ¥</span></span><br><span class="line">rdbfilename dump.rdb <span class="comment">#æŒ‡å®šrdbæŒä¹…åŒ–æ–‡ä»¶å</span></span><br><span class="line">dir ./ <span class="comment">#rdbæŒä¹…åŒ–æ–‡ä»¶ä¿å­˜çš„ç›®å½•</span></span><br></pre></td></tr></tbody></table></figure><p><span class="github-emoji"><span>6âƒ£</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/0036-20e3.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span>ä¸»ä»å¤åˆ¶REPLICATION</p><p><span class="github-emoji"><span>ğŸš¶</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f6b6.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span></p><p><span class="github-emoji"><span>7âƒ£</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/0037-20e3.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span>å®‰å…¨SECURITY</p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">config <span class="built_in">set</span> requirepass <span class="string">"ä½ çš„å¯†ç "</span></span><br><span class="line">config get requirepass è·å–å¯†ç </span><br><span class="line">auth <span class="string">"ä½ çš„å¯†ç "</span> å¯†ç éªŒè¯</span><br></pre></td></tr></tbody></table></figure><p><img src="https://gitee.com/rain-sky/images/raw/master/20210803110057.png"></p><p><span class="github-emoji"><span>8âƒ£</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/0038-20e3.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span>APPEND ONLY MODE(AOF)</p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#é»˜è®¤ä¸å¼€å¯AOF</span></span><br><span class="line">appendonly no</span><br><span class="line"><span class="comment"># The name of the append only file (default: "appendonly.aof")</span></span><br><span class="line">appendfilename <span class="string">"appendonly.aof"</span></span><br><span class="line"><span class="comment">#æ¯ç§’æ‰§è¡Œä¸€æ¬¡sync</span></span><br><span class="line">appendfsync everysec</span><br><span class="line"><span class="comment">#ä¸æ‰§è¡Œsyncï¼Œæ“ä½œç³»ç»Ÿè‡ªä¸»åŒæ­¥æ•°æ®</span></span><br><span class="line">appendfsync no</span><br><span class="line"><span class="comment">#æ¯æ¬¡ä¿®æ”¹éƒ½ä¼šsyncï¼Œæ¶ˆè€—æ€§èƒ½</span></span><br><span class="line">appendfsync always</span><br></pre></td></tr></tbody></table></figure><h2 id="æŒä¹…åŒ–"><a href="#æŒä¹…åŒ–" class="headerlink" title="æŒä¹…åŒ–"></a>æŒä¹…åŒ–</h2><h3 id="RDB"><a href="#RDB" class="headerlink" title="RDB"></a>RDB</h3><p>äº§ç”Ÿä¸€ä¸ªæ•°æ®å¿«ç…§æ–‡ä»¶</p><p>RDBæ˜¯Redisç”¨æ¥è¿›è¡ŒæŒä¹…åŒ–çš„ä¸€ç§æ–¹å¼ï¼Œåœ¨æŒ‡å®šæ—¶é—´é—´éš”æŠŠå½“å‰å†…å­˜ä¸­çš„æ•°æ®é›†å¿«ç…§å†™å…¥ç£ç›˜ï¼Œä¹Ÿå°±æ˜¯ Snapshot å¿«ç…§ï¼ˆæ•°æ®åº“ä¸­æ‰€æœ‰é”®å€¼å¯¹æ•°æ®ï¼‰ã€‚æ¢å¤æ—¶æ˜¯å°†å¿«ç…§æ–‡ä»¶ç›´æ¥è¯»åˆ°å†…å­˜é‡Œã€‚</p><p><img src="https://gitee.com/rain-sky/images/raw/master/20210803152638.png"></p><p>åœ¨rdbæ–¹å¼ä¸­ï¼Œredisä¼šforkä¸€ä¸ªå­è¿›ç¨‹æ¥å°†å†…å­˜ä¸­çš„æ•°æ®å†™å…¥ä¸€ä¸ªä¸´æ—¶rdbæ–‡ä»¶ä¸­ï¼Œå†™å…¥å®Œæˆåä¼šæ›¿æ¢åŸæœ‰rdbæ–‡ä»¶ï¼Œçˆ¶è¿›ç¨‹ä»ç„¶å¯ä»¥å¤„ç†å®¢æˆ·ç«¯è¯·æ±‚ã€‚</p><p><strong>è§¦å‘è§„åˆ™</strong></p><ul><li>saveè§„åˆ™æ»¡è¶³æ—¶</li><li>flushallæ—¶</li><li>é€€å‡ºredisæ—¶</li></ul><p><strong>æ¢å¤rdbæ–‡ä»¶</strong></p><p>åœ¨config get dirç»“æœç›®å½•ä¸‹å­˜åœ¨rdbæ–‡ä»¶å¯åŠ¨æ—¶ä¾¿ä¼šè‡ªåŠ¨åŠ è½½</p><p><strong>åˆ©å¼Š</strong></p><p>ä¼˜ç‚¹ï¼š</p><ul><li>ç´§å‡‘å‹å¤‡ä»½æ–‡ä»¶ï¼Œå ç”¨å†…å­˜å°</li><li>åœ¨å­è¿›ç¨‹ä¸­å®Œæˆå¤‡ä»½</li><li>æ¢å¤å¤§é‡æ•°æ®é›†æ—¶é€Ÿåº¦å¿«</li><li>å•æ–‡ä»¶æ˜“äºä¼ è¾“</li></ul><p>ç¼ºç‚¹ï¼š</p><ul><li>å¦‚æœæœåŠ¡å™¨å®•æœºä¼šå‡ºç°æ•°æ®ä¸¢å¤±</li><li>æ•°æ®åºå¤§æ—¶ï¼Œforkæ“ä½œè€—æ—¶</li></ul><h3 id="AOF"><a href="#AOF" class="headerlink" title="AOF"></a>AOF</h3><p>Redisçš„å¦å¤–ä¸€ç§æŒä¹…åŒ–æ–¹æ¡ˆå°±æ˜¯AOFï¼ŒAppend Only Fileã€‚AOFç›¸å½“äºä¸€ä¸ªæ“ä½œçš„æ—¥å¿—è®°å½•ï¼Œæ¯æ¬¡å¯¹äºæ•°æ®çš„å˜æ›´ï¼ˆè¯»æ“ä½œä¸è®°å½•ï¼‰éƒ½ä¼šè®°å½•è¿½åŠ åˆ°AOFæ—¥å¿—ã€‚å½“æœåŠ¡å¯åŠ¨çš„æ—¶å€™å°±ä¼šè¯»è¿™äº›æ“ä½œæ—¥å¿—ï¼Œé‡æ–°æ‰§è¡Œä¸€æ¬¡æ“ä½œï¼Œä»è€Œæ¢å¤åŸå§‹æ•°æ®ã€‚</p><p><img src="https://gitee.com/rain-sky/images/raw/master/20210803154830.png"></p><p>åœ¨reids.confä¸­å¯ä»¥çœ‹åˆ°ï¼Œaofæ˜¯é»˜è®¤ä¸å¼€å¯çš„</p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#é»˜è®¤ä¸å¼€å¯AOF</span></span><br><span class="line">appendonly no</span><br><span class="line"><span class="comment"># The name of the append only file (default: "appendonly.aof")</span></span><br><span class="line">appendfilename <span class="string">"appendonly.aof"</span> <span class="comment">#é»˜è®¤äº§ç”Ÿè®°å½•æ–‡ä»¶ï¼Œè‹¥è¯¥æ–‡ä»¶æŸåï¼Œredisæ— æ³•å¯åŠ¨ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨redis-cherk-aofæ¥ä¿®å¤è¯¥æ–‡ä»¶ï¼Œä½†ä¸èƒ½ä¿è¯æ•°æ®ä¸ä¸¢å¤±ï¼Œredis-check-aof --fix appendonly.aof å³å¯</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#æ¯ç§’æ‰§è¡Œä¸€æ¬¡sync</span></span><br><span class="line">appendfsync everysec</span><br><span class="line"><span class="comment">#ä¸æ‰§è¡Œsyncï¼Œæ“ä½œç³»ç»Ÿè‡ªä¸»åŒæ­¥æ•°æ®</span></span><br><span class="line">appendfsync no</span><br><span class="line"><span class="comment">#æ¯æ¬¡ä¿®æ”¹éƒ½ä¼šsyncï¼Œæ¶ˆè€—æ€§èƒ½</span></span><br><span class="line">appendfsync always</span><br><span class="line"></span><br><span class="line">- auto-aof-rewrite-percentage 100 <span class="comment">#å½“æ–‡ä»¶å¢é•¿100%ï¼ˆä¸€å€ï¼‰æ—¶å€™ï¼Œè‡ªåŠ¨é‡å†™ã€‚</span></span><br><span class="line">- auto-aof-rewrite-min-size 64mb <span class="comment">#æ—¥å¿—é‡å†™æœ€å°æ–‡ä»¶å¤§å°ï¼Œå¦‚æœå°äºè¯¥å¤§å°ï¼Œä¸ä¼šè‡ªåŠ¨é‡å†™ã€‚</span></span><br></pre></td></tr></tbody></table></figure><p><strong>ä¼˜ç¼ºç‚¹</strong></p><p>ä¼˜ç‚¹</p><ul><li>é»˜è®¤æ¯ç§’åŒæ­¥ä¸€æ¬¡ï¼Œæ–‡ä»¶å®Œæ•´æ€§æ›´å¥½</li></ul><p>ç¼ºç‚¹ï¼š</p><ul><li>aofæ–‡ä»¶ä½“ç§¯å¤§ï¼Œä¿®å¤é€Ÿåº¦æ…¢</li><li>å¤§é‡å†™å…¥çš„æ—¶å€™aofæ•ˆç‡ä½</li></ul><blockquote><p>å¦‚ä½•é€‰æ‹©</p></blockquote><p>ä»¥ä¸Šå·²ç»åŸºæœ¬äº†è§£è¿‡RDBå’ŒAOFçš„ä½¿ç”¨ã€åŸºæœ¬åŸç†ä»¥åŠå¯¹åº”çš„ä¼˜ç¼ºç‚¹ã€‚é‚£ä¹ˆåœ¨å®é™…å½“ä¸­ï¼Œæˆ‘ä»¬åˆ°åº•æ€ä¹ˆå»é€‰æ‹©ç”¨å“ªç§æŒä¹…åŒ–æ–¹å¼å‘¢ï¼Ÿ</p><p>ä¸€èˆ¬æ¥è¯´ï¼Œä¸è€ƒè™‘ç¡¬ç›˜å¤§å°ï¼Œæœ€å®‰å…¨çš„åšæ³•æ˜¯RDBä¸AOFåŒæ—¶ä½¿ç”¨ï¼Œå³ä½¿AOFæŸåæ— æ³•ä¿®å¤ï¼Œè¿˜å¯ä»¥ç”¨RDBæ¥æ¢å¤æ•°æ®ã€‚</p><p>å¦‚æœRedisçš„æ•°æ®åœ¨ä½ çš„æœåŠ¡ä¸­å¹¶ä¸æ˜¯å¿…è¦çš„æ•°æ®ï¼Œä¾‹å¦‚åªæ˜¯å½“ç®€å•çš„ç¼“å­˜ï¼Œæ²¡æœ‰ç¼“å­˜ä¹Ÿä¸ä¼šé€ æˆç¼“å­˜é›ªå´©ã€‚è¯´æ˜æ•°æ®çš„å®‰å…¨å¯é æ€§å¹¶ä¸æ˜¯é¦–è¦è€ƒè™‘èŒƒå›´å†…ï¼Œé‚£ä¹ˆå•ç‹¬åªä½¿ç”¨RDBå°±å¯ä»¥äº†ã€‚</p><p>ä¸æ¨èå•ç‹¬ä½¿ç”¨AOFï¼Œå› ä¸ºAOFå¯¹äºæ•°æ®çš„æ¢å¤è½½å…¥æ¥è¯´ï¼Œæ¯”RDBæ…¢ã€‚å¹¶ä¸”Rediså®˜æ–¹ä¹Ÿè¯´æ˜äº†ï¼ŒAOFæœ‰ä¸€ä¸ªç½•è§çš„bugã€‚å‡ºäº†é—®é¢˜æ— æ³•å¾ˆå¥½çš„è§£å†³ã€‚æ‰€ä»¥ä½¿ç”¨AOFçš„æ—¶å€™ï¼Œæœ€å¥½è¿˜æ˜¯æœ‰RDBä½œä¸ºæ•°æ®å¤‡ä»½ã€‚</p><h2 id="rediså‘å¸ƒè®¢é˜…"><a href="#rediså‘å¸ƒè®¢é˜…" class="headerlink" title="rediså‘å¸ƒè®¢é˜…"></a>rediså‘å¸ƒè®¢é˜…</h2><p>Pub/Sub ä»å­—é¢ä¸Šç†è§£å°±æ˜¯å‘å¸ƒï¼ˆPublishï¼‰ä¸è®¢é˜…ï¼ˆSubscribeï¼‰ï¼Œåœ¨Redisä¸­ï¼Œä½ å¯ä»¥è®¾å®šå¯¹æŸä¸€ä¸ªkeyå€¼è¿›è¡Œæ¶ˆæ¯å‘å¸ƒåŠæ¶ˆæ¯è®¢é˜…ï¼Œå½“ä¸€ä¸ªkeyå€¼ä¸Šè¿›è¡Œäº†æ¶ˆæ¯å‘å¸ƒåï¼Œæ‰€æœ‰è®¢é˜…å®ƒçš„å®¢æˆ·ç«¯éƒ½ä¼šæ”¶åˆ°ç›¸åº”çš„æ¶ˆæ¯ã€‚</p><p><img src="https://gitee.com/rain-sky/images/raw/master/20210803162718.png"></p><p><strong>ç›¸å…³å‘½ä»¤</strong></p><p>PSUBSCRIBE pattern [pattern1 â€¦.]</p><ul><li>è¯´æ˜ï¼šè®¢é˜…ä¸€ä¸ªæˆ–å¤šä¸ªç¬¦åˆç»™å®šæ¨¡å¼çš„é¢‘é“ï¼Œæ¯ä¸ªæ¨¡å¼ä»¥*ä½œä¸ºåŒ¹é…ç¬¦</li><li>å‚æ•°ï¼špattern(ç»™å®šçš„æ¨¡å¼)</li><li>è¿”å›ï¼šæ¥å—åˆ°çš„ä¿¡æ¯</li></ul><p>PUNSUBSCRIBE pattern [pattern1 â€¦.]</p><ul><li>è¯´æ˜ï¼šç”¨äºé€€è®¢æ‰€æœ‰ç»™å®šæ¨¡å¼çš„é¢‘é“</li><li>å‚æ•°ï¼špattern(ç»™å®šçš„æ¨¡å¼)</li><li>è¿”å›ï¼šè¿™ä¸ªå‘½ä»¤åœ¨ä¸åŒçš„å®¢æˆ·ç«¯ä¸­æœ‰ä¸åŒçš„è¡¨ç°ã€‚</li></ul><p>SUBSCRIBE channel [channel1 â€¦]</p><ul><li>è¯´æ˜ï¼šç”¨äºè®¢é˜…ç»™å®šçš„ä¸€ä¸ªæˆ–å¤šä¸ªé¢‘é“çš„ä¿¡æ¯</li><li>å‚æ•°ï¼šchannel(ç»™å®šçš„é¢‘é“å)</li><li>è¿”å›ï¼šæ¥æ”¶åˆ°çš„ä¿¡æ¯</li></ul><p>UNSUBSCRIBE channel [channel1 â€¦]</p><ul><li>è¯´æ˜ï¼šç”¨äºé€€è®¢ç»™å®šçš„ä¸€ä¸ªæˆ–å¤šä¸ªé¢‘é“çš„ä¿¡æ¯</li><li>å‚æ•°ï¼šchannel(ç»™å®šçš„é¢‘é“å)</li><li>è¿”å›ï¼šè¿™ä¸ªå‘½ä»¤åœ¨ä¸åŒçš„å®¢æˆ·ç«¯ä¸­æœ‰ä¸åŒçš„è¡¨ç°</li></ul><p>PUBLISH channel message</p><ul><li>è¯´æ˜ï¼šç”¨äºå°†ä¿¡æ¯å‘é€åˆ°æŒ‡å®šçš„é¢‘é“</li><li>å‚æ•°ï¼šchannel(é¢‘é“åç§°)ï¼Œmessage(å°†è¦å‘é€çš„ä¿¡æ¯)</li><li>è¿”å›ï¼šæ¥æ”¶åˆ°æ­¤æ¶ˆæ¯çš„è®¢é˜…è€…æ•°é‡</li></ul><p>PUBSUB  &lt; subcommand &gt; argument [argument1 â€¦.]</p><ul><li>è¯´æ˜ï¼šç”¨äºæŸ¥çœ‹è®¢é˜…ä¸å‘å¸ƒç³»ç»ŸçŠ¶æ€ï¼Œå®ƒç”±æ•°ä¸ªä¸åŒæ ¼å¼çš„å­å‘½ä»¤ç»„æˆ</li><li>å‚æ•°ï¼šsubcommand(å­å‘½ä»¤)ï¼Œargument(å­å‘½ä»¤å‚æ•°)</li><li>è¿”å›ï¼šç”±æ´»è·ƒé¢‘é“ç»„æˆçš„åˆ—è¡¨</li><li>å­å‘½ä»¤å¦‚ä¸‹</li></ul><table><thead><tr><th>subcommand</th><th>argument</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>CHANNELS</td><td>[pattern]</td><td>è¿”å›æŒ‡å®šæ¨¡å¼patternçš„æ´»è·ƒçš„é¢‘é“,æŒ‡å®šè¿”å›ç”±SUBSCRIBEè®¢é˜…çš„é¢‘é“</td></tr><tr><td>NUMSUB</td><td>channel channel2 â€¦</td><td>è¿”å›æŒ‡å®šé¢‘é“çš„è®¢é˜…æ•°é‡</td></tr><tr><td>NUMPAT</td><td></td><td>è¿”å›è®¢é˜…æ¨¡å¼çš„æ•°é‡ï¼Œæ³¨æ„ï¼šè¿™ä¸ªå‘½ä»¤è¿”å›çš„ä¸æ˜¯è®¢é˜…æ¨¡å¼çš„å®¢æˆ·ç«¯çš„æ•°é‡ï¼Œ è€Œæ˜¯å®¢æˆ·ç«¯è®¢é˜…çš„æ‰€æœ‰æ¨¡å¼çš„æ•°é‡æ€»å’Œ</td></tr></tbody></table><blockquote><p>ä¸¾ä¸ªæ —å­<span class="github-emoji"><span>ğŸ</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f34e.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span></p></blockquote><p>åœ¨è¿æ¥2ä¸­æˆ‘ä»¬å‘å¸ƒæ¶ˆæ¯</p><p><img src="https://gitee.com/rain-sky/images/raw/master/20210803165009.png"></p><p>åœ¨è¿æ¥1ä¸­æ¥å—è®¢é˜…</p><p><img src="https://gitee.com/rain-sky/images/raw/master/20210803165057.png"></p><blockquote><p>åº”ç”¨</p></blockquote><p>å¦‚å¾®ä¿¡å…¬ä¼—å·ï¼Œå¥½å‹åŠ¨æ€ï¼Œæ—¶äº‹æ¶ˆæ¯ç³»ç»Ÿï¼Œå®æ—¶èŠå¤©å®¤ï¼Œè®¢é˜…å…³æ³¨â€¦</p><h2 id="ä¸»ä»å¤åˆ¶"><a href="#ä¸»ä»å¤åˆ¶" class="headerlink" title="ä¸»ä»å¤åˆ¶"></a>ä¸»ä»å¤åˆ¶</h2><p>ä¸»ä»å¤åˆ¶ï¼Œæ˜¯æŒ‡å°†ä¸€å°RedisæœåŠ¡å™¨ä¸Šçš„æ•°æ®ï¼Œå¤åˆ¶åˆ°å…¶ä»–redisæœåŠ¡å™¨ä¸Šï¼Œå‰è€…ä¸ºmasterä¸»èŠ‚ç‚¹ï¼Œåè€…ä¸ºfollowerä»èŠ‚ç‚¹ï¼Œæ•°æ®å¤åˆ¶æ˜¯å•å‘çš„ï¼Œåªèƒ½ä»ä¸»èŠ‚ç‚¹åˆ°ä»èŠ‚ç‚¹ï¼Œmasterä»¥å†™æ“ä½œä¸ºä¸»ï¼Œä»èŠ‚ç‚¹ä»¥è¯»ä¸ºä¸»ã€‚</p><p><strong>ä¸»ä»å¤åˆ¶çš„ä½œç”¨</strong></p><ol><li><p>æ•°æ®å†—ä½™ï¼šä¸»ä»å¤åˆ¶å®ç°äº†æ•°æ®çš„çƒ­å¤‡ä»½ï¼Œæ˜¯æŒä¹…åŒ–ä¹‹å¤–çš„ä¸€ç§æ•°æ®å†—ä½™æ–¹å¼ã€‚</p></li><li><p>æ•…éšœæ¢å¤ï¼šå½“ä¸»èŠ‚ç‚¹å‡ºç°é—®é¢˜æ—¶ï¼Œå¯ä»¥ç”±ä»èŠ‚ç‚¹æä¾›æœåŠ¡ï¼Œå®ç°å¿«é€Ÿçš„æ•…éšœæ¢å¤ï¼›å®é™…ä¸Šæ˜¯ä¸€ç§æœåŠ¡çš„å†—ä½™ã€‚</p></li><li><p>è´Ÿè½½å‡è¡¡ï¼šåœ¨ä¸»ä»å¤åˆ¶çš„åŸºç¡€ä¸Šï¼Œé…åˆè¯»å†™åˆ†ç¦»ï¼Œå¯ä»¥ç”±ä¸»èŠ‚ç‚¹æä¾›å†™æœåŠ¡ï¼Œç”±ä»èŠ‚ç‚¹æä¾›è¯»æœåŠ¡ï¼ˆå³å†™Redisæ•°æ®æ—¶åº”ç”¨è¿æ¥ä¸»èŠ‚ç‚¹ï¼Œè¯»Redisæ•°æ®æ—¶åº”ç”¨è¿æ¥ä»èŠ‚ç‚¹ï¼‰ï¼Œåˆ†æ‹…æœåŠ¡å™¨è´Ÿè½½ï¼›å°¤å…¶æ˜¯åœ¨å†™å°‘è¯»å¤šçš„åœºæ™¯ä¸‹ï¼Œé€šè¿‡å¤šä¸ªä»èŠ‚ç‚¹åˆ†æ‹…è¯»è´Ÿè½½ï¼Œå¯ä»¥å¤§å¤§æé«˜RedisæœåŠ¡å™¨çš„å¹¶å‘é‡ã€‚</p></li><li><p>è¯»å†™åˆ†ç¦»ï¼šå¯ä»¥ç”¨äºå®ç°è¯»å†™åˆ†ç¦»ï¼Œä¸»åº“å†™ã€ä»åº“è¯»ï¼Œè¯»å†™åˆ†ç¦»ä¸ä»…å¯ä»¥æé«˜æœåŠ¡å™¨çš„è´Ÿè½½èƒ½åŠ›ï¼ŒåŒæ—¶å¯æ ¹æ®éœ€æ±‚çš„å˜åŒ–ï¼Œæ”¹å˜ä»åº“çš„æ•°é‡ï¼›</p></li><li><p>é«˜å¯ç”¨åŸºçŸ³ï¼šé™¤äº†ä¸Šè¿°ä½œç”¨ä»¥å¤–ï¼Œä¸»ä»å¤åˆ¶è¿˜æ˜¯å“¨å…µå’Œé›†ç¾¤èƒ½å¤Ÿå®æ–½çš„åŸºç¡€ï¼Œå› æ­¤è¯´ä¸»ä»å¤åˆ¶æ˜¯Redisé«˜å¯ç”¨çš„åŸºç¡€ã€‚</p></li></ol><p><strong>ä»èŠ‚ç‚¹å¼€å¯ä¸»ä»å¤åˆ¶ï¼Œæœ‰3ç§æ–¹å¼ï¼š</strong></p><ol><li><p>é…ç½®æ–‡ä»¶ï¼š åœ¨ä»æœåŠ¡å™¨çš„é…ç½®æ–‡ä»¶ä¸­åŠ å…¥ï¼šslaveof <masterip> <masterport></masterport></masterip></p></li><li><p>å¯åŠ¨å‘½ä»¤ï¼š redis-serverå¯åŠ¨å‘½ä»¤ååŠ å…¥ â€“slaveof <masterip> <masterport></masterport></masterip></p></li><li><p>å®¢æˆ·ç«¯å‘½ä»¤ï¼š RedisæœåŠ¡å™¨å¯åŠ¨åï¼Œç›´æ¥é€šè¿‡å®¢æˆ·ç«¯æ‰§è¡Œå‘½ä»¤ï¼šslaveof <masterip>  <masterport>ï¼Œåˆ™è¯¥Rediså®ä¾‹æˆä¸ºä»èŠ‚ç‚¹ã€‚</masterport></masterip></p></li></ol><p><img src="https://gitee.com/rain-sky/images/raw/master/20210803213647.jpeg"></p><p>æ¯å°redisæœåŠ¡å™¨éƒ½æ˜¯ä¸»èŠ‚ç‚¹ï¼Œä½†æ¯ä¸€ä¸ªä»èŠ‚ç‚¹åªèƒ½æœ‰ä¸€ä¸ªä¸»èŠ‚ç‚¹</p><blockquote><p>ä»…ä»…ä½¿ç”¨å•å°redisæœåŠ¡å™¨ä¼šé€ æˆçš„é—®é¢˜</p><p>1ï¼Œä»ç»“æ„ä¸Šæ¥è¯´ï¼Œå®¹æ˜“é€ æˆå•ç‚¹æ•…éšœå¹¶ä¸”è¯·æ±‚å‹åŠ›å¤§</p><p>2ï¼Œä»å®¹é‡ä¸Šæ¥è¯´ï¼Œå•ä¸ªredisæœåŠ¡å™¨å†…å­˜å®¹é‡æœ‰é™ï¼Œé€šå¸¸æ¥è¯´ï¼Œå•å°redisæœ€å¤§ä½¿ç”¨å†…å­˜ä¸åº”è¯¥è¶…è¿‡20G</p></blockquote><p><strong>ç›¸å…³æŒ‡ä»¤</strong></p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">info repication <span class="comment">#æŸ¥çœ‹å½“å‰åº“çš„ä¿¡æ¯</span></span><br></pre></td></tr></tbody></table></figure><p><strong>é…ç½®ä¸»ä»å¤åˆ¶ç¯å¢ƒ</strong></p><p>æˆ‘ä»¬å¯ä»¥ä½¿ç”¨å¤šå°ç‰©ç†æœºæ¥å½“ä½œä»æœåŠ¡å™¨ï¼Œå½“ç„¶æˆ‘ä»¬å­¦ä¹ é˜¶æ®µå¯ä»¥ä½¿ç”¨è™šæ‹Ÿæœºè½¯ä»¶å®‰è£…å¤šä¸ªç³»ç»Ÿå½“ä½œä»èŠ‚ç‚¹ï¼Œè¿˜æœ‰ä¸€ä¸ªåŠæ³•å°±æ˜¯åœ¨åŒä¸€ä¸ªç³»ç»Ÿä¸­ï¼Œé…ç½®å¤šä»½é…ç½®æ–‡ä»¶ï¼Œé€šè¿‡ä¸åŒçš„é…ç½®æ–‡ä»¶å¯åŠ¨ä¸åŒçš„å‡ ä¸ªredisæ•°æ®åº“ï¼Œåœ¨åŒä¸€ä¸ªæ“ä½œç³»ç»Ÿä¸‹æ­å»ºé›†ç¾¤ç¯å¢ƒã€‚</p><p>ä¾‹å¦‚ä¸»èŠ‚ç‚¹é€šè¿‡é…ç½®æ–‡ä»¶master.confå¯åŠ¨</p><p>å¤åˆ¶é…ç½®æ–‡ä»¶ï¼Œå¤åˆ¶ä¸‰åˆ†ï¼Œä¸¤ä»½ä¸ºä»èŠ‚ç‚¹ï¼Œä¸€åˆ†ä¸ºä¸»èŠ‚ç‚¹ï¼Œä¿®æ”¹é…ç½®æ–‡ä»¶åç§°åˆ†åˆ«ä¸ºï¼š</p><p>redis6380.conf     redis6381.conf    master.conf è¡¨ç¤ºåœ¨å¦å¤–ä¸‰ä¸ªç«¯å£ç›‘å¬è¯·æ±‚</p><p><img src="https://gitee.com/rain-sky/images/raw/master/20210804092337.png"></p><p><em>åŒæ—¶æˆ‘ä»¬éœ€è¦ä¿®æ”¹è¿™ä¸‰ä»½é…ç½®æ–‡ä»¶å†…éƒ¨çš„rdbæ–‡ä»¶åé¿å…é‡å¤ï¼Œè¿˜æœ‰pidæ–‡ä»¶ï¼Œlogfileæ–‡ä»¶ï¼Œæœ€é‡è¦çš„è¿™ä¸‰ä»½é…ç½®æ–‡ä»¶çš„ç›‘å¬ç«¯å£åˆ†åˆ«ä¿®æ”¹ä¸º6380ï¼Œ6381ï¼Œ6379</em></p><p><span class="github-emoji"><span>ğŸ¥</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f425.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span>æœ€åå¯ä»¥æŸ¥çœ‹ä»¥ä¸‹redisæœåŠ¡ï¼Œå¯ä»¥çœ‹åˆ°å¼€å¯äº†ä¸‰ä¸ªï¼Œåˆ†åˆ«åœ¨ä¸åŒçš„ç«¯å£</p><p><img src="https://gitee.com/rain-sky/images/raw/master/20210804094454.png"></p><p> é‡‡ç”¨å‘½ä»¤æš‚æ—¶é…ç½®ä¸»ä»å…³ç³»ï¼š</p><p>ä¾‹å¦‚æˆ‘ä»¬åœ¨6380ä¸6381ç«¯å£å¤„redisæœåŠ¡ä¸‹æ‰§è¡Œ <strong>slaveof 127.0.0.1 6379</strong> åˆ™ç­‰åŒäºä¸ºè¿™ä¸¤ä¸ªredisæœåŠ¡é…ç½®ä¸»æœºï¼Œå†å»6379å¤„æŸ¥çœ‹ä¸€ä¸‹ï¼Œå¯ä»¥çœ‹åˆ°ä¸¤å°ä»æœº</p><p><img src="https://gitee.com/rain-sky/images/raw/master/20210804104008.png"></p><p>ä¿®æ”¹é…ç½®æ°¸ä¹…é…ç½®ä¸»ä»å…³ç³»ï¼š</p><p><img src="https://gitee.com/rain-sky/images/raw/master/20210804094851.png"></p><p><span class="github-emoji"><span>ğŸ˜ƒ</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f603.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span>åˆ°æ­¤ä¸»ä»å¤åˆ¶åŸºæœ¬ç¯å¢ƒé…ç½®å®Œæˆ</p><blockquote><p>ä¸»ä»å¤åˆ¶ç»†èŠ‚</p></blockquote><p>ä¸»æœºèƒ½è¯»èƒ½å†™ï¼Œä»æœºå°†ä¸èƒ½å†™ï¼Œå¦‚åœ¨ä»æœºä¸Šæ‰§è¡Œset name rainä¼šå¤±è´¥</p><p>ä¸»æœºå†™å®Œåä»æœºå°†ä¼šè‡ªåŠ¨åŒæ­¥ä¸»æœºå†…å®¹ï¼Œå¦‚ä¸»æœº6379 è®¾ç½®äº†ä¸€ä¸ªå€¼ set name rain é‚£ä¹ˆä»æœº6380ï¼Œ6381å¯ä»¥get name å¾—åˆ°nameçš„å€¼ã€‚</p><p>ä¸»æœºæ–­å¼€äº†è¿æ¥ä»æœºä¾ç„¶èƒ½å¤Ÿç‹¬ç«‹å®Œæˆè¯»æ“ä½œè¯·æ±‚ã€‚</p><p>å¦‚æœæ˜¯é…ç½®æš‚æ—¶æ€§ä¸»ä»å…³ç³»ï¼Œä»æœºé‡å¯åä¼šå¤±å»ä¸»ä»å…³ç³»ï¼Œæ— æ³•åŒæ­¥ä¸»æœºæ•°æ®ï¼Œéœ€è¦é‡æ–°é…ç½®ï¼Œä¸€èˆ¬ç”Ÿäº§ç¯å¢ƒä¸­éƒ½é…ç½®æ°¸ä¹…æ€§ä¸»ä»å…³ç³»ã€‚</p><blockquote><p>å¤åˆ¶åŸç†</p></blockquote><p>ä¸»ä»å¤åˆ¶è¿‡ç¨‹å¤§ä½“å¯ä»¥åˆ†ä¸º3ä¸ªé˜¶æ®µï¼šè¿æ¥å»ºç«‹é˜¶æ®µï¼ˆå³å‡†å¤‡é˜¶æ®µï¼‰ã€æ•°æ®åŒæ­¥é˜¶æ®µã€å‘½ä»¤ä¼ æ’­é˜¶æ®µã€‚</p><p><strong>å…¨é‡åŒæ­¥</strong><br>Rediså…¨é‡å¤åˆ¶ä¸€èˆ¬å‘ç”Ÿåœ¨Slaveåˆå§‹åŒ–é˜¶æ®µï¼Œè¿™æ—¶Slaveéœ€è¦å°†Masterä¸Šçš„æ‰€æœ‰æ•°æ®éƒ½å¤åˆ¶ä¸€ä»½ã€‚å…·ä½“æ­¥éª¤å¦‚ä¸‹ï¼š<br>- ä»æœåŠ¡å™¨è¿æ¥ä¸»æœåŠ¡å™¨ï¼Œå‘é€SYNCå‘½ä»¤ï¼›<br>- ä¸»æœåŠ¡å™¨æ¥æ”¶åˆ°SYNCå‘½ååï¼Œå¼€å§‹æ‰§è¡ŒBGSAVEå‘½ä»¤ç”ŸæˆRDBæ–‡ä»¶å¹¶ä½¿ç”¨ç¼“å†²åŒºè®°å½•æ­¤åæ‰§è¡Œçš„æ‰€æœ‰å†™å‘½ä»¤ï¼›<br>- ä¸»æœåŠ¡å™¨BGSAVEæ‰§è¡Œå®Œåï¼Œå‘æ‰€æœ‰ä»æœåŠ¡å™¨å‘é€å¿«ç…§æ–‡ä»¶ï¼Œå¹¶åœ¨å‘é€æœŸé—´ç»§ç»­è®°å½•è¢«æ‰§è¡Œçš„å†™å‘½ä»¤ï¼›<br>- ä»æœåŠ¡å™¨æ”¶åˆ°å¿«ç…§æ–‡ä»¶åä¸¢å¼ƒæ‰€æœ‰æ—§æ•°æ®ï¼Œè½½å…¥æ”¶åˆ°çš„å¿«ç…§ï¼›<br>- ä¸»æœåŠ¡å™¨å¿«ç…§å‘é€å®Œæ¯•åå¼€å§‹å‘ä»æœåŠ¡å™¨å‘é€ç¼“å†²åŒºä¸­çš„å†™å‘½ä»¤ï¼›<br>- ä»æœåŠ¡å™¨å®Œæˆå¯¹å¿«ç…§çš„è½½å…¥ï¼Œå¼€å§‹æ¥æ”¶å‘½ä»¤è¯·æ±‚ï¼Œå¹¶æ‰§è¡Œæ¥è‡ªä¸»æœåŠ¡å™¨ç¼“å†²åŒºçš„å†™å‘½ä»¤ï¼›</p><p><strong>å¢é‡åŒæ­¥</strong><br>Rediså¢é‡å¤åˆ¶æ˜¯æŒ‡Slaveåˆå§‹åŒ–åå¼€å§‹æ­£å¸¸å·¥ä½œæ—¶ä¸»æœåŠ¡å™¨å‘ç”Ÿçš„å†™æ“ä½œåŒæ­¥åˆ°ä»æœåŠ¡å™¨çš„è¿‡ç¨‹ã€‚<br>å¢é‡å¤åˆ¶çš„è¿‡ç¨‹ä¸»è¦æ˜¯ä¸»æœåŠ¡å™¨æ¯æ‰§è¡Œä¸€ä¸ªå†™å‘½ä»¤å°±ä¼šå‘ä»æœåŠ¡å™¨å‘é€ç›¸åŒçš„å†™å‘½ä»¤ï¼Œä»æœåŠ¡å™¨æ¥æ”¶å¹¶æ‰§è¡Œæ”¶åˆ°çš„å†™å‘½ä»¤ã€‚</p><p><strong>Redisä¸»ä»åŒæ­¥ç­–ç•¥</strong><br>ä¸»ä»åˆšåˆšè¿æ¥çš„æ—¶å€™ï¼Œè¿›è¡Œå…¨é‡åŒæ­¥ï¼›å…¨åŒæ­¥ç»“æŸåï¼Œè¿›è¡Œå¢é‡åŒæ­¥ã€‚å½“ç„¶ï¼Œå¦‚æœæœ‰éœ€è¦ï¼Œslave åœ¨ä»»ä½•æ—¶å€™éƒ½å¯ä»¥å‘èµ·å…¨é‡åŒæ­¥ã€‚redis ç­–ç•¥æ˜¯ï¼Œæ— è®ºå¦‚ä½•ï¼Œé¦–å…ˆä¼šå°è¯•è¿›è¡Œå¢é‡åŒæ­¥ï¼Œå¦‚ä¸æˆåŠŸï¼Œè¦æ±‚ä»æœºè¿›è¡Œå…¨é‡åŒæ­¥ã€‚</p><blockquote><p><span class="github-emoji"><span>âš </span><img src="https://github.githubassets.com/images/icons/emoji/unicode/26a0.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span> å®•æœºåä¸»åŠ¨é…ç½®ä¸»æœºï¼Œéå“¨å…µæ¨¡å¼</p></blockquote><p> <img src="https://gitee.com/rain-sky/images/raw/master/20210804111419.png"></p><p>å‡è®¾æ­¤å¤„ä¸»èŠ‚ç‚¹å®•æœºäº†ï¼Œé‚£ä¹ˆä»èŠ‚ç‚¹1ä»ç„¶æ˜¯ä»èŠ‚ç‚¹ç‚¹ï¼Œæ— æ³•å®Œæˆå†™æ“ä½œï¼Œé‚£ä¹ˆæ€ä¹ˆé‡æ–°é€‰ä¸¾ä»–ä¸ºä¸»èŠ‚ç‚¹ï¼Œåœ¨ä»èŠ‚ç‚¹1ä½¿ç”¨å‘½ä»¤slaveof no oneå°†è‡ªå·±é…ç½®ä¸ºä¸»èŠ‚ç‚¹ï¼Œä»èŠ‚ç‚¹1å¯ä»¥å†™æ“ä½œï¼Œä»èŠ‚ç‚¹1çš„ä»èŠ‚ç‚¹ä¾ç„¶ä»ä»–å¤„åŒæ­¥æ•°æ®ä½†åªèƒ½è¯»ï¼Œé‡å¯ä¸»èŠ‚ç‚¹åï¼Œä¸»èŠ‚ç‚¹çš„ä»èŠ‚ç‚¹å°±åªæœ‰ä»èŠ‚ç‚¹2äº†ã€‚</p><h2 id="å“¨å…µæ¨¡å¼"><a href="#å“¨å…µæ¨¡å¼" class="headerlink" title="å“¨å…µæ¨¡å¼"></a>å“¨å…µæ¨¡å¼</h2><h3 id="åŸºæœ¬ä»‹ç»"><a href="#åŸºæœ¬ä»‹ç»" class="headerlink" title="åŸºæœ¬ä»‹ç»"></a>åŸºæœ¬ä»‹ç»</h3><p><span class="github-emoji"><span>âš”</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/2694.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span>è‡ªåŠ¨è°‹æƒç¯¡ä½</p><p>Redis çš„ Sentinel ï¼ˆredis-sentinelç¨‹åºï¼‰ç³»ç»Ÿç”¨äºç®¡ç†å¤šä¸ª Redis æœåŠ¡å™¨ï¼ˆinstanceï¼‰ï¼Œ è¯¥ç³»ç»Ÿæ‰§è¡Œä»¥ä¸‹ä¸‰ä¸ªä»»åŠ¡ï¼š</p><ul><li><strong>ç›‘æ§ï¼ˆMonitoring</strong>ï¼‰ï¼š Sentinel ä¼šä¸æ–­åœ°æ£€æŸ¥ä½ çš„ä¸»æœåŠ¡å™¨å’Œä»æœåŠ¡å™¨æ˜¯å¦è¿ä½œæ­£å¸¸ã€‚</li><li><strong>æé†’ï¼ˆNotificationï¼‰</strong>ï¼š å½“è¢«ç›‘æ§çš„æŸä¸ª Redis æœåŠ¡å™¨å‡ºç°é—®é¢˜æ—¶ï¼Œ Sentinel å¯ä»¥é€šè¿‡ API å‘ç®¡ç†å‘˜æˆ–è€…å…¶ä»–åº”ç”¨ç¨‹åºå‘é€é€šçŸ¥ã€‚</li><li><strong>è‡ªåŠ¨æ•…éšœè¿ç§»ï¼ˆAutomatic failoverï¼‰</strong>ï¼š å½“ä¸€ä¸ªä¸»æœåŠ¡å™¨ä¸èƒ½æ­£å¸¸å·¥ä½œæ—¶ï¼Œ Sentinel ä¼šå¼€å§‹ä¸€æ¬¡è‡ªåŠ¨æ•…éšœè¿ç§»æ“ä½œï¼Œ å®ƒä¼šå°†å¤±æ•ˆä¸»æœåŠ¡å™¨çš„å…¶ä¸­ä¸€ä¸ªä»æœåŠ¡å™¨å‡çº§ä¸ºæ–°çš„ä¸»æœåŠ¡å™¨ï¼Œ å¹¶è®©å¤±æ•ˆä¸»æœåŠ¡å™¨çš„å…¶ä»–ä»æœåŠ¡å™¨æ”¹ä¸ºå¤åˆ¶æ–°çš„ä¸»æœåŠ¡å™¨ï¼› å½“å®¢æˆ·ç«¯è¯•å›¾è¿æ¥å¤±æ•ˆçš„ä¸»æœåŠ¡å™¨æ—¶ï¼Œ é›†ç¾¤ä¹Ÿä¼šå‘å®¢æˆ·ç«¯è¿”å›æ–°ä¸»æœåŠ¡å™¨çš„åœ°å€ï¼Œ ä½¿å¾—é›†ç¾¤å¯ä»¥ä½¿ç”¨æ–°ä¸»æœåŠ¡å™¨ä»£æ›¿å¤±æ•ˆæœåŠ¡å™¨ã€‚</li></ul><p>å“¨å…µæ¨¡å¼ä¸­å“¨å…µæ˜¯ä¸€ä¸ªç‹¬ç«‹çš„è¿›ç¨‹ï¼Œå…¶åŸç†æ˜¯é€šè¿‡å“¨å…µå‘èŠ‚ç‚¹å‘é€å‘½ä»¤ç­‰å¾…redisæœåŠ¡å™¨å“åº”æ¥ç›‘æ§èŠ‚ç‚¹çŠ¶æ€ã€‚</p><p>å“¨å…µçš„ä½œç”¨ï¼š</p><ul><li>å‘é€å‘½ä»¤ç›‘æµ‹èŠ‚ç‚¹å“åº”ä»è€Œç›‘æ§æœåŠ¡å™¨è¿è¡ŒçŠ¶æ€</li><li>ç›‘æµ‹åˆ°masterå®•æœºï¼Œè‡ªåŠ¨å°†slaveåˆ‡æ¢æˆmasterï¼Œç„¶åé€šè¿‡å‘å¸ƒè®¢é˜…æ¨¡å¼é€šçŸ¥å…¶ä½™æœåŠ¡å™¨ä¿®æ”¹é…ç½®æ–‡ä»¶åˆ‡æ¢ä¸»æœºã€‚</li></ul><blockquote><p>å•å“¨å…µ</p></blockquote><p><img src="https://gitee.com/rain-sky/images/raw/master/20210804114247.webp"></p><p>å¦‚æœå“¨å…µè¿›ç¨‹å‡ºç°äº†é—®é¢˜ï¼Œé‚£ä¹ˆå“¨å…µæ¨¡å¼å°†ä¼šå´©åï¼Œä¸ºæ­¤å•ä¸ªå“¨å…µæ˜¯ä¸åˆé€‚çš„ã€‚</p><blockquote><p>å¤šå“¨å…µ</p></blockquote><p><img src="https://gitee.com/rain-sky/images/raw/master/20210804114339.webp"></p><p>ç”¨æ–‡å­—æè¿°ä¸€ä¸‹<strong>æ•…éšœåˆ‡æ¢ï¼ˆfailoverï¼‰</strong>çš„è¿‡ç¨‹ã€‚å‡è®¾ä¸»æœåŠ¡å™¨å®•æœºï¼Œå“¨å…µ1å…ˆæ£€æµ‹åˆ°è¿™ä¸ªç»“æœï¼Œç³»ç»Ÿå¹¶ä¸ä¼šé©¬ä¸Šè¿›è¡Œfailoverè¿‡ç¨‹ï¼Œä»…ä»…æ˜¯å“¨å…µ1ä¸»è§‚çš„è®¤ä¸ºä¸»æœåŠ¡å™¨ä¸å¯ç”¨ï¼Œè¿™ä¸ªç°è±¡æˆä¸º<strong>ä¸»è§‚ä¸‹çº¿</strong>ã€‚å½“åé¢çš„å“¨å…µä¹Ÿæ£€æµ‹åˆ°ä¸»æœåŠ¡å™¨ä¸å¯ç”¨ï¼Œå¹¶ä¸”æ•°é‡è¾¾åˆ°ä¸€å®šå€¼æ—¶ï¼Œé‚£ä¹ˆå“¨å…µä¹‹é—´å°±ä¼šè¿›è¡Œä¸€æ¬¡æŠ•ç¥¨ï¼ŒæŠ•ç¥¨çš„ç»“æœç”±ä¸€ä¸ªå“¨å…µå‘èµ·ï¼Œè¿›è¡Œfailoveræ“ä½œã€‚åˆ‡æ¢æˆåŠŸåï¼Œå°±ä¼šé€šè¿‡å‘å¸ƒè®¢é˜…æ¨¡å¼ï¼Œè®©å„ä¸ªå“¨å…µæŠŠè‡ªå·±ç›‘æ§çš„ä»æœåŠ¡å™¨å®ç°åˆ‡æ¢ä¸»æœºï¼Œè¿™ä¸ªè¿‡ç¨‹ç§°ä¸º<strong>å®¢è§‚ä¸‹çº¿</strong>ã€‚è¿™æ ·å¯¹äºå®¢æˆ·ç«¯è€Œè¨€ï¼Œä¸€åˆ‡éƒ½æ˜¯é€æ˜çš„ã€‚</p><h3 id="redisé…ç½®å“¨å…µæ¨¡å¼"><a href="#redisé…ç½®å“¨å…µæ¨¡å¼" class="headerlink" title="redisé…ç½®å“¨å…µæ¨¡å¼"></a>redisé…ç½®å“¨å…µæ¨¡å¼</h3><p>å…ˆæ­å»ºä¸€ä¸ªé“¾å¼ä¸»ä»é…ç½®</p><p>6379(master)-&gt;6380(slave)-&gt;6381(slave)</p><p><img src="https://gitee.com/rain-sky/images/raw/master/20210804115619.png"></p><p><strong>å“¨å…µæ¨¡å¼é…ç½®æ–‡ä»¶</strong></p><p>ä¾‹å¦‚åœ¨usr/local/bin/myconfig/ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ªsentinel.cofæ–‡ä»¶</p><p>æ ¸å¿ƒé…ç½®ï¼Œé…ç½®è¿œä¸æ­¢æ­¤</p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sentinel monitor master 127.0.0.1 6379 1</span><br></pre></td></tr></tbody></table></figure><p>monitor: ç›‘æ§    master: è¢«ç›‘æ§çš„èŠ‚ç‚¹åç§°   host  port  1ä»£è¡¨ä¸»æœºæŒ‚äº†åä»æœºæŠ•ç¥¨é€‰ä¸¾æ–°ä¸»æœº</p><p>å¯åŠ¨å“¨å…µ</p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">redis-sentinel usr/<span class="built_in">local</span>/bin/myconfig/sentinel.conf</span><br></pre></td></tr></tbody></table></figure><p><img src="https://gitee.com/rain-sky/images/raw/master/20210804122903.png"></p><p>å¯ä»¥çœ‹åˆ°æˆ‘ä»¬çš„masterä¸ä»–çš„slaveä¿¡æ¯ï¼Œç°åœ¨æˆ‘ä»¬å°è¯•å…³é—­masterï¼Œå¯ä»¥çœ‹åˆ°å“¨å…µæ§åˆ¶å°è¾“å‡º</p><p><img src="https://gitee.com/rain-sky/images/raw/master/20210804124954.png"></p><p>æŸ¥çœ‹6380å¤„ä¿¡æ¯ï¼Œå¯ä»¥çœ‹åˆ°6380é€šè¿‡ä¸€ä¸ªæŠ•ç¥¨ç®—æ³•è¢«é€‰ä¸¾ä¸ºæ–°çš„master</p><p><img src="https://gitee.com/rain-sky/images/raw/master/20210804125048.png"></p><p>å½“ä¸»æœºæ¢å¤åå°†ä½œä¸º6380çš„ä»æœº</p><blockquote><p>å°ç»“</p></blockquote><p>æœ‰ç‚¹ï¼š</p><p>1ï¼Œå“¨å…µé›†ç¾¤ï¼ŒåŸºäºä¸»ä»å¤åˆ¶æ¨¡å¼ï¼Œæ‹¥æœ‰æ‰€æœ‰ä¸»ä»é…ç½®æœ‰ç‚¹</p><p>2ï¼Œä¸»ä»å¯ä»¥åˆ‡æ¢ï¼Œæ•…éšœè½¬ç§»ç³»ç»Ÿå¯ç”¨æ€§æ›´å¥½</p><p>3ï¼Œä¸»åŠ¨å®Œæˆ</p><p>ç¼ºç‚¹ï¼š</p><p>1ï¼Œredisä¸é€‚åˆåœ¨çº¿æ‰©å®¹ï¼Œé›†ç¾¤å®¹é‡ä¸€æ—¦è¾¾åˆ°ä¸Šçº¿ï¼Œåœ¨çº¿æ‰©å®¹å°±æ˜¯é—®é¢˜</p><p>2ï¼Œå®ç°å“¨å…µæ¨¡å¼é…ç½®éº»çƒ¦</p><p>é…ç½®æ–‡ä»¶</p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">port 26379 <span class="comment">#é…ç½®ç«¯å£ï¼Œå¦‚æœæœ‰å“¨å…µé›†ç¾¤</span></span><br><span class="line">dir /tmp <span class="comment">#å·¥ä½œç›®å½•</span></span><br><span class="line">sentinel down-after-milliseconfs mater <span class="comment">#æŒ‡å®šå¤šå°‘æ—¶é—´ä¸»èŠ‚ç‚¹æœªåº”ç­”å“¨å…µè®¤ä¸ºä¸»èŠ‚ç‚¹ä¸‹çº¿</span></span><br></pre></td></tr></tbody></table></figure><h2 id="ç¼“å­˜ç©¿é€ä¸é›ªå´©"><a href="#ç¼“å­˜ç©¿é€ä¸é›ªå´©" class="headerlink" title="ç¼“å­˜ç©¿é€ä¸é›ªå´©"></a>ç¼“å­˜ç©¿é€ä¸é›ªå´©</h2><blockquote><p>ç¼“å­˜ç©¿é€</p></blockquote><p>æè¿°ï¼šè®¿é—®ä¸€ä¸ªç¼“å­˜å’Œæ•°æ®åº“éƒ½ä¸å­˜åœ¨çš„ keyï¼Œæ­¤æ—¶ä¼šç›´æ¥æ‰“åˆ°æ•°æ®åº“ä¸Šï¼Œå¹¶ä¸”æŸ¥ä¸åˆ°æ•°æ®ï¼Œæ²¡æ³•å†™ç¼“å­˜ï¼Œæ‰€ä»¥ä¸‹ä¸€æ¬¡åŒæ ·ä¼šæ‰“åˆ°æ•°æ®åº“ä¸Šã€‚</p><p>æ­¤æ—¶ï¼Œç¼“å­˜èµ·ä¸åˆ°ä½œç”¨ï¼Œè¯·æ±‚æ¯æ¬¡éƒ½ä¼šèµ°åˆ°æ•°æ®åº“ï¼Œæµé‡å¤§æ—¶æ•°æ®åº“å¯èƒ½ä¼šè¢«æ‰“æŒ‚ã€‚æ­¤æ—¶ç¼“å­˜å°±å¥½åƒè¢«â€œç©¿é€â€äº†ä¸€æ ·ï¼Œèµ·ä¸åˆ°ä»»ä½•ä½œç”¨ã€‚</p><p>1ã€<strong>æ¥å£æ ¡éªŒã€‚</strong>åœ¨æ­£å¸¸ä¸šåŠ¡æµç¨‹ä¸­å¯èƒ½ä¼šå­˜åœ¨å°‘é‡è®¿é—®ä¸å­˜åœ¨ key çš„æƒ…å†µï¼Œä½†æ˜¯ä¸€èˆ¬ä¸ä¼šå‡ºç°å¤§é‡çš„æƒ…å†µï¼Œæ‰€ä»¥è¿™ç§åœºæ™¯æœ€å¤§çš„å¯èƒ½æ€§æ˜¯é­å—äº†éæ³•æ”»å‡»ã€‚å¯ä»¥åœ¨æœ€å¤–å±‚å…ˆåšä¸€å±‚æ ¡éªŒï¼šç”¨æˆ·é‰´æƒã€æ•°æ®åˆæ³•æ€§æ ¡éªŒç­‰ï¼Œä¾‹å¦‚å•†å“æŸ¥è¯¢ä¸­ï¼Œå•†å“çš„IDæ˜¯æ­£æ•´æ•°ï¼Œåˆ™å¯ä»¥ç›´æ¥å¯¹éæ­£æ•´æ•°ç›´æ¥è¿‡æ»¤ç­‰ç­‰ã€‚</p><p>2ã€<strong>ç¼“å­˜ç©ºå€¼</strong>ã€‚å½“è®¿é—®ç¼“å­˜å’ŒDBéƒ½æ²¡æœ‰æŸ¥è¯¢åˆ°å€¼æ—¶ï¼Œå¯ä»¥å°†ç©ºå€¼å†™è¿›ç¼“å­˜ï¼Œä½†æ˜¯è®¾ç½®è¾ƒçŸ­çš„è¿‡æœŸæ—¶é—´ï¼Œè¯¥æ—¶é—´éœ€è¦æ ¹æ®äº§å“ä¸šåŠ¡ç‰¹æ€§æ¥è®¾ç½®ã€‚</p><p>3ã€<strong>å¸ƒéš†è¿‡æ»¤å™¨</strong>ã€‚ä½¿ç”¨å¸ƒéš†è¿‡æ»¤å™¨å­˜å‚¨æ‰€æœ‰å¯èƒ½è®¿é—®çš„ keyï¼Œä¸å­˜åœ¨çš„ key ç›´æ¥è¢«è¿‡æ»¤ï¼Œå­˜åœ¨çš„ key åˆ™å†è¿›ä¸€æ­¥æŸ¥è¯¢ç¼“å­˜å’Œæ•°æ®åº“ã€‚</p><blockquote><p>ç¼“å­˜å‡»ç©¿</p></blockquote><p>æè¿°ï¼šæŸä¸€ä¸ªçƒ­ç‚¹ keyï¼Œåœ¨ç¼“å­˜è¿‡æœŸçš„ä¸€ç¬é—´ï¼ŒåŒæ—¶æœ‰å¤§é‡çš„è¯·æ±‚æ‰“è¿›æ¥ï¼Œç”±äºæ­¤æ—¶ç¼“å­˜è¿‡æœŸäº†ï¼Œæ‰€ä»¥è¯·æ±‚æœ€ç»ˆéƒ½ä¼šèµ°åˆ°æ•°æ®åº“ï¼Œé€ æˆç¬æ—¶æ•°æ®åº“è¯·æ±‚é‡å¤§ã€å‹åŠ›éª¤å¢ï¼Œç”šè‡³å¯èƒ½æ‰“å®æ•°æ®åº“ã€‚</p><p>è§£å†³æ–¹æ¡ˆï¼š</p><p>1ã€<strong>åŠ äº’æ–¥é”</strong>ã€‚åœ¨å¹¶å‘çš„å¤šä¸ªè¯·æ±‚ä¸­ï¼Œåªæœ‰ç¬¬ä¸€ä¸ªè¯·æ±‚çº¿ç¨‹èƒ½æ‹¿åˆ°é”å¹¶æ‰§è¡Œæ•°æ®åº“æŸ¥è¯¢æ“ä½œï¼Œå…¶ä»–çš„çº¿ç¨‹æ‹¿ä¸åˆ°é”å°±é˜»å¡ç­‰ç€ï¼Œç­‰åˆ°ç¬¬ä¸€ä¸ªçº¿ç¨‹å°†æ•°æ®å†™å…¥ç¼“å­˜åï¼Œç›´æ¥èµ°ç¼“å­˜ã€‚</p><p>å…³äºäº’æ–¥é”çš„é€‰æ‹©ï¼Œç½‘ä¸Šçœ‹åˆ°çš„å¤§éƒ¨åˆ†æ–‡ç« éƒ½æ˜¯é€‰æ‹© Redis åˆ†å¸ƒå¼é”ï¼Œå› ä¸ºè¿™ä¸ªå¯ä»¥ä¿è¯åªæœ‰ä¸€ä¸ªè¯·æ±‚ä¼šèµ°åˆ°æ•°æ®åº“ï¼Œè¿™æ˜¯ä¸€ç§æ€è·¯ã€‚</p><p>ä½†æ˜¯å…¶å®ä»”ç»†æƒ³æƒ³çš„è¯ï¼Œè¿™è¾¹å…¶å®æ²¡æœ‰å¿…è¦ä¿è¯åªæœ‰ä¸€ä¸ªè¯·æ±‚èµ°åˆ°æ•°æ®åº“ï¼Œåªè¦ä¿è¯èµ°åˆ°æ•°æ®åº“çš„è¯·æ±‚èƒ½å¤§å¤§é™ä½å³å¯ï¼Œæ‰€ä»¥è¿˜æœ‰å¦ä¸€ä¸ªæ€è·¯æ˜¯ JVM é”ã€‚</p><p>JVM é”ä¿è¯äº†åœ¨å•å°æœåŠ¡å™¨ä¸Šåªæœ‰ä¸€ä¸ªè¯·æ±‚èµ°åˆ°æ•°æ®åº“ï¼Œé€šå¸¸æ¥è¯´å·²ç»è¶³å¤Ÿä¿è¯æ•°æ®åº“çš„å‹åŠ›å¤§å¤§é™ä½ï¼ŒåŒæ—¶åœ¨æ€§èƒ½ä¸Šæ¯”åˆ†å¸ƒå¼é”æ›´å¥½ã€‚</p><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œæ— è®ºæ˜¯ä½¿ç”¨â€œåˆ†å¸ƒå¼é”â€ï¼Œè¿˜æ˜¯â€œJVM é”â€ï¼ŒåŠ é”æ—¶è¦æŒ‰ key ç»´åº¦å»åŠ é”ã€‚</p><p>æˆ‘çœ‹ç½‘ä¸Šå¾ˆå¤šæ–‡ç« éƒ½æ˜¯ä½¿ç”¨ä¸€ä¸ªâ€œå›ºå®šçš„ keyâ€åŠ é”ï¼Œè¿™æ ·ä¼šå¯¼è‡´ä¸åŒçš„ key ä¹‹é—´ä¹Ÿä¼šäº’ç›¸é˜»å¡ï¼Œé€ æˆæ€§èƒ½ä¸¥é‡æŸè€—ã€‚</p><p>ä½¿ç”¨ redis åˆ†å¸ƒå¼é”çš„ä¼ªä»£ç ï¼Œä»…ä¾›å‚è€ƒï¼š</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> Object <span class="title">getData</span><span class="params">(String key)</span> <span class="keyword">throws</span> InterruptedException </span>{</span><br><span class="line">    Object value = redis.get(key);</span><br><span class="line">    <span class="comment">// ç¼“å­˜å€¼è¿‡æœŸ</span></span><br><span class="line">    <span class="keyword">if</span> (value == <span class="keyword">null</span>) {</span><br><span class="line">        <span class="comment">// lockRedisï¼šä¸“é—¨ç”¨äºåŠ é”çš„redisï¼›</span></span><br><span class="line">        <span class="comment">// "empty"ï¼šåŠ é”çš„å€¼éšä¾¿è®¾ç½®éƒ½å¯ä»¥</span></span><br><span class="line">        <span class="keyword">if</span> (lockRedis.set(key, <span class="string">"empty"</span>, <span class="string">"PX"</span>, lockExpire, <span class="string">"NX"</span>)) {</span><br><span class="line">            <span class="keyword">try</span> {</span><br><span class="line">                <span class="comment">// æŸ¥è¯¢æ•°æ®åº“ï¼Œå¹¶å†™åˆ°ç¼“å­˜ï¼Œè®©å…¶ä»–çº¿ç¨‹å¯ä»¥ç›´æ¥èµ°ç¼“å­˜</span></span><br><span class="line">                value = getDataFromDb(key);</span><br><span class="line">                redis.set(key, value, <span class="string">"PX"</span>, expire);</span><br><span class="line">            } <span class="keyword">catch</span> (Exception e) {</span><br><span class="line">                <span class="comment">// å¼‚å¸¸å¤„ç†</span></span><br><span class="line">            } <span class="keyword">finally</span> {</span><br><span class="line">                <span class="comment">// é‡Šæ”¾é”</span></span><br><span class="line">                lockRedis.delete(key);</span><br><span class="line">            }</span><br><span class="line">        } <span class="keyword">else</span> {</span><br><span class="line">            <span class="comment">// sleep50msåï¼Œè¿›è¡Œé‡è¯•</span></span><br><span class="line">            Thread.sleep(<span class="number">50</span>);</span><br><span class="line">            <span class="keyword">return</span> getData(key);</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">return</span> value;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>2ã€<strong>çƒ­ç‚¹æ•°æ®ä¸è¿‡æœŸ</strong>ã€‚ç›´æ¥å°†ç¼“å­˜è®¾ç½®ä¸ºä¸è¿‡æœŸï¼Œç„¶åç”±å®šæ—¶ä»»åŠ¡å»å¼‚æ­¥åŠ è½½æ•°æ®ï¼Œæ›´æ–°ç¼“å­˜ã€‚</p><p>è¿™ç§æ–¹å¼é€‚ç”¨äºæ¯”è¾ƒæç«¯çš„åœºæ™¯ï¼Œä¾‹å¦‚æµé‡ç‰¹åˆ«ç‰¹åˆ«å¤§çš„åœºæ™¯ï¼Œä½¿ç”¨æ—¶éœ€è¦è€ƒè™‘ä¸šåŠ¡èƒ½æ¥å—æ•°æ®ä¸ä¸€è‡´çš„æ—¶é—´ï¼Œè¿˜æœ‰å°±æ˜¯å¼‚å¸¸æƒ…å†µçš„å¤„ç†ï¼Œä¸è¦åˆ°æ—¶å€™ç¼“å­˜åˆ·æ–°ä¸ä¸Šï¼Œä¸€ç›´æ˜¯è„æ•°æ®ï¼Œé‚£å°±å‡‰äº†ã€‚</p><blockquote><p>ç¼“å­˜é›ªå´©</p></blockquote><p>æè¿°ï¼šå¤§é‡çš„çƒ­ç‚¹ key è®¾ç½®äº†ç›¸åŒçš„è¿‡æœŸæ—¶é—´ï¼Œå¯¼åœ¨ç¼“å­˜åœ¨åŒä¸€æ—¶åˆ»å…¨éƒ¨å¤±æ•ˆï¼Œé€ æˆç¬æ—¶æ•°æ®åº“è¯·æ±‚é‡å¤§ã€å‹åŠ›éª¤å¢ï¼Œå¼•èµ·é›ªå´©ï¼Œç”šè‡³å¯¼è‡´æ•°æ®åº“è¢«æ‰“æŒ‚ã€‚</p><p>ç¼“å­˜é›ªå´©å…¶å®æœ‰ç‚¹åƒâ€œå‡çº§ç‰ˆçš„ç¼“å­˜å‡»ç©¿â€ï¼Œç¼“å­˜å‡»ç©¿æ˜¯ä¸€ä¸ªçƒ­ç‚¹ keyï¼Œç¼“å­˜é›ªå´©æ˜¯ä¸€ç»„çƒ­ç‚¹ keyã€‚</p><p>è§£å†³æ–¹æ¡ˆï¼š</p><p>1ã€<strong>è¿‡æœŸæ—¶é—´æ‰“æ•£</strong>ã€‚æ—¢ç„¶æ˜¯å¤§é‡ç¼“å­˜é›†ä¸­å¤±æ•ˆï¼Œé‚£æœ€å®¹æ˜“æƒ³åˆ°å°±æ˜¯è®©ä»–ä»¬ä¸é›†ä¸­ç”Ÿæ•ˆã€‚å¯ä»¥ç»™ç¼“å­˜çš„è¿‡æœŸæ—¶é—´æ—¶åŠ ä¸Šä¸€ä¸ªéšæœºå€¼æ—¶é—´ï¼Œä½¿å¾—æ¯ä¸ª key çš„è¿‡æœŸæ—¶é—´åˆ†å¸ƒå¼€æ¥ï¼Œä¸ä¼šé›†ä¸­åœ¨åŒä¸€æ—¶åˆ»å¤±æ•ˆã€‚</p><p>2ã€<strong>çƒ­ç‚¹æ•°æ®ä¸è¿‡æœŸ</strong>ã€‚è¯¥æ–¹å¼å’Œç¼“å­˜å‡»ç©¿ä¸€æ ·ï¼Œä¹Ÿæ˜¯è¦ç€é‡è€ƒè™‘åˆ·æ–°çš„æ—¶é—´é—´éš”å’Œæ•°æ®å¼‚å¸¸å¦‚ä½•å¤„ç†çš„æƒ…å†µã€‚</p><p>3ã€<strong>åŠ äº’æ–¥é”</strong>ã€‚è¯¥æ–¹å¼å’Œç¼“å­˜å‡»ç©¿ä¸€æ ·ï¼ŒæŒ‰ key ç»´åº¦åŠ é”ï¼Œå¯¹äºåŒä¸€ä¸ª keyï¼Œåªå…è®¸ä¸€ä¸ªçº¿ç¨‹å»è®¡ç®—ï¼Œå…¶ä»–çº¿ç¨‹åŸåœ°é˜»å¡ç­‰å¾…ç¬¬ä¸€ä¸ªçº¿ç¨‹çš„è®¡ç®—ç»“æœï¼Œç„¶åç›´æ¥èµ°ç¼“å­˜å³å¯ã€‚</p><h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><blockquote><p>redisåŸºç¡€</p></blockquote><ol><li><p>redisæ˜¯ä»€ä¹ˆ</p><ul><li>ä¸€ç§key-valueå‹nosqlå†…å­˜æ•°æ®åº“</li></ul></li><li><p>redisåŸºæœ¬æ•°æ®ç±»å‹</p><ul><li>String</li><li>List</li><li>Set</li><li>Hash</li><li>Zset</li></ul></li><li><p>redisä¸‰ç§ç‰¹æ®Šç±»å‹</p><ul><li>geospatial</li><li>Hyperlog</li><li>Bitmaps</li></ul></li><li><p>redisäº‹åŠ¡</p><ul><li><p>redisäº‹åŠ¡å¼€å¯ï¼Œç»ˆæ­¢å„ç§æƒ…å†µ</p></li><li><p>redisäº‹åŠ¡ä¸ä¿è¯åŸå­æ€§</p></li><li><p>ä¸æ”¯æŒå›æ»šï¼Œä¸ºä»€ä¹ˆï¼Ÿ</p></li></ul></li><li><p>redisæŒä¹…åŒ–</p><ul><li>RDBæ–¹å¼</li><li>AOFæ–¹å¼</li><li>ä¸¤ç§æŒä¹…åŒ–çš„åŸç†ï¼Œè¿‡ç¨‹</li><li>ä¸¤ç§æ–¹å¼çš„ä¼˜ç¼ºç‚¹</li></ul></li><li><p>rediså‘å¸ƒè®¢é˜…</p></li><li><p>redisä¸»ä»å¤åˆ¶</p><ul><li>ä¸»ä»å¤åˆ¶ç¯å¢ƒæ­å»º</li><li>é…ç½®ä¸»ä»å…³ç³»</li><li>ä¸»ä»å¤åˆ¶åŸç†</li></ul></li><li><p>rediså“¨å…µæ¨¡å¼</p><ul><li>é€‰ä¸¾æµç¨‹</li></ul></li><li><p>redisç¼“å­˜</p><ul><li>ç©¿é€</li><li>å‡»ç©¿</li><li>é›ªå´©</li><li>å„ç§é—®é¢˜çš„è§£å†³æ–¹æ¡ˆ</li></ul></li><li><p>redisåˆ†å¸ƒå¼é”</p></li></ol><blockquote><p>é—®é¢˜</p></blockquote><p><strong>Redis</strong></p><ul><li>é¡¹ç›®ä¸­ä½¿ç”¨çš„ Redis ç‰ˆæœ¬</li><li>Redis åœ¨é¡¹ç›®ä¸­çš„ä½¿ç”¨åœºæ™¯</li><li>Redis æ€ä¹ˆä¿è¯é«˜å¯ç”¨</li><li>Redis çš„é€‰ä¸¾æµç¨‹</li><li>Redis å’Œ Memcache çš„åŒºåˆ«</li><li>Redis çš„é›†ç¾¤æ¨¡å¼</li><li>Redis é›†ç¾¤è¦å¢åŠ åˆ†ç‰‡ï¼Œæ§½çš„è¿ç§»æ€ä¹ˆä¿è¯æ— æŸ</li><li>Redis åˆ†å¸ƒå¼é”çš„å®ç°</li><li>Redis åˆ é™¤è¿‡æœŸé”®çš„ç­–ç•¥</li><li>Redis çš„å†…å­˜æ·˜æ±°ç­–ç•¥</li><li>Redis çš„ Hash å¯¹è±¡åº•å±‚ç»“æ„</li><li>Redis ä¸­ Hash å¯¹è±¡çš„æ‰©å®¹æµç¨‹</li><li>Redis çš„ Hash å¯¹è±¡çš„æ‰©å®¹æµç¨‹åœ¨æ•°æ®é‡å¤§çš„æ—¶å€™ä¼šæœ‰ä»€ä¹ˆé—®é¢˜å—</li><li>Redis çš„æŒä¹…åŒ–æœºåˆ¶æœ‰å“ªå‡ ç§</li><li>RDB å’Œ AOF çš„å®ç°åŸç†ã€ä¼˜ç¼ºç‚¹</li><li>AOF é‡å†™çš„è¿‡ç¨‹</li><li>å“¨å…µæ¨¡å¼çš„åŸç†</li><li>ä½¿ç”¨ç¼“å­˜æ—¶ï¼Œå…ˆæ“ä½œæ•°æ®åº“è¿˜æ˜¯å…ˆæ“ä½œç¼“å­˜</li><li>ä¸ºä»€ä¹ˆæ˜¯è®©ç¼“å­˜å¤±æ•ˆï¼Œè€Œä¸æ˜¯æ›´æ–°ç¼“å­˜</li><li>ç¼“å­˜ç©¿é€ã€ç¼“å­˜å‡»ç©¿ã€ç¼“å­˜é›ªå´©</li><li>æ›´æ–°ç¼“å­˜çš„å‡ ç§è®¾è®¡æ¨¡å¼</li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> æ•°æ®åº“ </tag>
            
            <tag> redis </tag>
            
            <tag> noSql </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>springboot</title>
      <link href="2021/07/22/springboot/"/>
      <url>2021/07/22/springboot/</url>
      
        <content type="html"><![CDATA[<h2 id="springbootçš„ç‰¹æ€§"><a href="#springbootçš„ç‰¹æ€§" class="headerlink" title="springbootçš„ç‰¹æ€§"></a>springbootçš„ç‰¹æ€§</h2><h4 id="1-ä¾èµ–ç®¡ç†"><a href="#1-ä¾èµ–ç®¡ç†" class="headerlink" title="1 ä¾èµ–ç®¡ç†"></a>1 ä¾èµ–ç®¡ç†</h4><figure class="highlight xml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">parent</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-parent<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">version</span>&gt;</span>2.3.4.RELEASE<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">parent</span>&gt;</span></span><br><span class="line"></span><br><span class="line">ä¸Šé¢é¡¹ç›®çš„çˆ¶é¡¹ç›®å¦‚ä¸‹ï¼š</span><br><span class="line"><span class="tag">&lt;<span class="name">parent</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-dependencies<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">version</span>&gt;</span>2.3.4.RELEASE<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">parent</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><p><strong>å¼€å‘å¯¼å…¥starteråœºæ™¯å¯åŠ¨å™¨</strong></p><blockquote><p>æ‰€è°“å¯åŠ¨å™¨å°±æ˜¯ä¸€ç»„åº”ç”¨ä¾èµ–é›†</p></blockquote><p>è§åˆ°å¾ˆå¤š spring-boot-starter-* ï¼š *å°±æŸç§åœºæ™¯<br>åªè¦å¼•å…¥starterï¼Œè¿™ä¸ªåœºæ™¯çš„æ‰€æœ‰å¸¸è§„éœ€è¦çš„ä¾èµ–æˆ‘ä»¬éƒ½è‡ªåŠ¨å¼•å…¥<br>æ›´å¤šSpringBootæ‰€æœ‰æ”¯æŒçš„åœºæ™¯<br>è‡ªå®šä¹‰å¯åŠ¨å™¨ï¼Œè§åˆ°çš„ *-spring-boot-starterï¼š ç¬¬ä¸‰æ–¹ä¸ºæˆ‘ä»¬æä¾›çš„ç®€åŒ–å¼€å‘çš„åœºæ™¯å¯åŠ¨å™¨ã€‚<br>æ‰€æœ‰åœºæ™¯å¯åŠ¨å™¨æœ€åº•å±‚çš„ä¾èµ–</p><figure class="highlight xml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">version</span>&gt;</span>2.3.4.RELEASE<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">scope</span>&gt;</span>compile<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><p><strong>æ— éœ€å…³æ³¨ç‰ˆæœ¬å·ï¼Œè‡ªåŠ¨ç‰ˆæœ¬ä»²è£</strong></p><ol><li>å¼•å…¥ä¾èµ–é»˜è®¤éƒ½å¯ä»¥ä¸å†™ç‰ˆæœ¬</li><li>å¼•å…¥éç‰ˆæœ¬ä»²è£çš„jarï¼Œè¦å†™ç‰ˆæœ¬å·ã€‚</li></ol><p><strong>è‡ªå®šä¹‰ä¿®æ”¹ä¾èµ–ç‰ˆæœ¬å·</strong></p><p>1.æŸ¥çœ‹spring-boot-dependenciesé‡Œé¢è§„å®šå½“å‰ä¾èµ–çš„ç‰ˆæœ¬ ç”¨çš„ keyã€‚</p><p>2.åœ¨å½“å‰é¡¹ç›®é‡Œé¢é‡å†™é…ç½®ï¼Œå¦‚ä¸‹é¢çš„ä»£ç ã€‚</p><figure class="highlight xml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">properties</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">mysql.version</span>&gt;</span>5.1.43<span class="tag">&lt;/<span class="name">mysql.version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">properties</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><blockquote><p>ctrl + shift + alt + Uï¼šä»¥å›¾çš„æ–¹å¼æ˜¾ç¤ºé¡¹ç›®ä¸­ä¾èµ–ä¹‹é—´çš„å…³ç³»</p></blockquote><h4 id="2-è‡ªåŠ¨é…ç½®"><a href="#2-è‡ªåŠ¨é…ç½®" class="headerlink" title="2 è‡ªåŠ¨é…ç½®"></a>2 è‡ªåŠ¨é…ç½®</h4><p><strong>è‡ªåŠ¨é…å¥½Tomcat</strong><br>å¼•å…¥Tomcatä¾èµ–ã€‚</p><figure class="highlight xml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-tomcat<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">version</span>&gt;</span>2.3.4.RELEASE<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">scope</span>&gt;</span>compile<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><p><strong>è‡ªåŠ¨é…å¥½SpringMVC</strong></p><ul><li>å¼•å…¥SpringMVCå…¨å¥—ç»„ä»¶</li><li>è‡ªåŠ¨é…å¥½SpringMVCå¸¸ç”¨ç»„ä»¶ï¼ˆåŠŸèƒ½ï¼‰</li><li>è‡ªåŠ¨é…å¥½Webå¸¸è§åŠŸèƒ½ï¼Œå¦‚ï¼šå­—ç¬¦ç¼–ç é—®é¢˜</li></ul><p><strong>é»˜è®¤çš„åŒ…ç»“æ„</strong><br>ä¸»ç¨‹åºæ‰€åœ¨åŒ…åŠå…¶ä¸‹é¢çš„æ‰€æœ‰å­åŒ…é‡Œé¢çš„ç»„ä»¶éƒ½ä¼šè¢«é»˜è®¤æ‰«æè¿›æ¥<br>æ— éœ€ä»¥å‰çš„åŒ…æ‰«æé…ç½®<br>æƒ³è¦æ”¹å˜æ‰«æè·¯å¾„ï¼š</p><ul><li>@SpringBootApplication(scanBasePackages=â€œcom.lunâ€)</li><li>@ComponentScan æŒ‡å®šæ‰«æè·¯å¾„</li></ul><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@SpringBootApplication(scanBasePackages=â€œcom.lunâ€)</span></span><br><span class="line"><span class="meta">@ComponentScan</span> æŒ‡å®šæ‰«æè·¯å¾„</span><br><span class="line"><span class="meta">@SpringBootApplication</span></span><br><span class="line">ç­‰åŒäº</span><br><span class="line"><span class="meta">@SpringBootConfiguration</span></span><br><span class="line"><span class="meta">@EnableAutoConfiguration</span></span><br><span class="line"><span class="meta">@ComponentScan("com.lun")</span></span><br></pre></td></tr></tbody></table></figure><p><strong>å„ç§é…ç½®æ‹¥æœ‰é»˜è®¤å€¼</strong></p><ul><li>é»˜è®¤é…ç½®æœ€ç»ˆéƒ½æ˜¯æ˜ å°„åˆ°æŸä¸ªç±»ä¸Šï¼Œå¦‚ï¼š<code>MultipartProperties</code></li><li>é…ç½®æ–‡ä»¶çš„å€¼æœ€ç»ˆä¼šç»‘å®šæ¯ä¸ªç±»ä¸Šï¼Œè¿™ä¸ªç±»ä¼šåœ¨å®¹å™¨ä¸­åˆ›å»ºå¯¹è±¡</li></ul><p><strong>æŒ‰éœ€åŠ è½½æ‰€æœ‰è‡ªåŠ¨é…ç½®é¡¹</strong></p><ul><li>éå¸¸å¤šçš„starter</li><li>å¼•å…¥äº†å“ªäº›åœºæ™¯è¿™ä¸ªåœºæ™¯çš„è‡ªåŠ¨é…ç½®æ‰ä¼šå¼€å¯</li><li>SpringBootæ‰€æœ‰çš„è‡ªåŠ¨é…ç½®åŠŸèƒ½éƒ½åœ¨ spring-boot-autoconfigure åŒ…é‡Œé¢</li></ul><h2 id="æ³¨è§£åˆ†æ"><a href="#æ³¨è§£åˆ†æ" class="headerlink" title="æ³¨è§£åˆ†æ"></a>æ³¨è§£åˆ†æ</h2><h4 id="Configuration"><a href="#Configuration" class="headerlink" title="@Configuration"></a>@Configuration</h4><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 1ã€é…ç½®ç±»é‡Œé¢ä½¿ç”¨<span class="doctag">@Bean</span>æ ‡æ³¨åœ¨æ–¹æ³•ä¸Šç»™å®¹å™¨æ³¨å†Œç»„ä»¶ï¼Œé»˜è®¤ä¹Ÿæ˜¯å•å®ä¾‹çš„</span></span><br><span class="line"><span class="comment"> * 2ã€é…ç½®ç±»æœ¬èº«ä¹Ÿæ˜¯ç»„ä»¶</span></span><br><span class="line"><span class="comment"> * 3ã€proxyBeanMethodsï¼šä»£ç†beançš„æ–¹æ³•ï¼ˆspringboot2ç›¸å¯¹äº1çš„æ–°å¢ï¼‰</span></span><br><span class="line"><span class="comment"> *      Fullæ¨¡å¼(proxyBeanMethods = true)ï¼ˆä¿è¯æ¯ä¸ª<span class="doctag">@Bean</span>æ–¹æ³•è¢«è°ƒç”¨å¤šå°‘æ¬¡è¿”å›çš„ç»„ä»¶éƒ½æ˜¯å•å®ä¾‹çš„ï¼‰ï¼ˆé»˜è®¤ï¼‰</span></span><br><span class="line"><span class="comment"> *      Liteæ¨¡å¼(proxyBeanMethods = false)ï¼ˆæ¯ä¸ª<span class="doctag">@Bean</span>æ–¹æ³•è¢«è°ƒç”¨å¤šå°‘æ¬¡è¿”å›çš„ç»„ä»¶éƒ½æ˜¯æ–°åˆ›å»ºçš„ï¼‰</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Configuration(proxyBeanMethods = false)</span> <span class="comment">//å‘Šè¯‰SpringBootè¿™æ˜¯ä¸€ä¸ªé…ç½®ç±» == é…ç½®æ–‡ä»¶</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyConfig</span> </span>{</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Full:å¤–éƒ¨æ— è®ºå¯¹é…ç½®ç±»ä¸­çš„è¿™ä¸ªç»„ä»¶æ³¨å†Œæ–¹æ³•è°ƒç”¨å¤šå°‘æ¬¡è·å–çš„éƒ½æ˜¯ä¹‹å‰æ³¨å†Œå®¹å™¨ä¸­çš„å•å®ä¾‹å¯¹è±¡</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Bean</span> <span class="comment">//ç»™å®¹å™¨ä¸­æ·»åŠ ç»„ä»¶ã€‚ä»¥æ–¹æ³•åä½œä¸ºç»„ä»¶çš„idã€‚è¿”å›ç±»å‹å°±æ˜¯ç»„ä»¶ç±»å‹ã€‚è¿”å›çš„å€¼ï¼Œå°±æ˜¯ç»„ä»¶åœ¨å®¹å™¨ä¸­çš„å®ä¾‹</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> User <span class="title">user01</span><span class="params">()</span></span>{</span><br><span class="line">        User user = <span class="keyword">new</span> User(<span class="string">"zhangsan"</span>, <span class="number">18</span>);</span><br><span class="line">        <span class="comment">//userç»„ä»¶ä¾èµ–äº†Petç»„ä»¶</span></span><br><span class="line">        user.setPet(tomcatPet());</span><br><span class="line">        <span class="keyword">return</span> zhangsan;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="comment">//è‡ªå®šä¹‰ç»„ä»¶åâ€œtomâ€</span></span><br><span class="line">    <span class="meta">@Bean("tom")</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Pet <span class="title">tomcatPet</span><span class="params">()</span></span>{</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> Pet(<span class="string">"tomcat"</span>);</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p><strong>æµ‹è¯•</strong></p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@SpringBootConfiguration</span></span><br><span class="line"><span class="meta">@EnableAutoConfiguration</span></span><br><span class="line"><span class="meta">@ComponentScan("com.atguigu.boot")</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MainApplication</span> </span>{</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>{</span><br><span class="line">    <span class="comment">//1ã€è¿”å›æˆ‘ä»¬IOCå®¹å™¨</span></span><br><span class="line">        ConfigurableApplicationContext run = SpringApplication.run(MainApplication.class, args);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//2ã€æŸ¥çœ‹å®¹å™¨é‡Œé¢çš„ç»„ä»¶</span></span><br><span class="line">        String[] names = run.getBeanDefinitionNames();</span><br><span class="line">        <span class="keyword">for</span> (String name : names) {</span><br><span class="line">            System.out.println(name);</span><br><span class="line">        }</span><br><span class="line"></span><br><span class="line">    <span class="comment">//3ã€ä»å®¹å™¨ä¸­è·å–ç»„ä»¶</span></span><br><span class="line">        Pet tom01 = run.getBean(<span class="string">"tom"</span>, Pet.class);</span><br><span class="line">        Pet tom02 = run.getBean(<span class="string">"tom"</span>, Pet.class);</span><br><span class="line">        System.out.println(<span class="string">"ç»„ä»¶ï¼š"</span>+(tom01 == tom02));</span><br><span class="line"></span><br><span class="line">    <span class="comment">//4ã€com.atguigu.boot.config.MyConfig$$EnhancerBySpringCGLIB$$51f1e1ca@1654a892</span></span><br><span class="line">        MyConfig bean = run.getBean(MyConfig.class);</span><br><span class="line">        System.out.println(bean);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//å¦‚æœ@Configuration(proxyBeanMethods = true)ä»£ç†å¯¹è±¡è°ƒç”¨æ–¹æ³•ã€‚SpringBootæ€»ä¼šæ£€æŸ¥è¿™ä¸ªç»„ä»¶æ˜¯å¦åœ¨å®¹å™¨ä¸­æœ‰ã€‚</span></span><br><span class="line">        <span class="comment">//ä¿æŒç»„ä»¶å•å®ä¾‹</span></span><br><span class="line">        User user = bean.user01();</span><br><span class="line">        User user1 = bean.user01();</span><br><span class="line">        System.out.println(user == user1);</span><br><span class="line"></span><br><span class="line">        User user01 = run.getBean(<span class="string">"user01"</span>, User.class);</span><br><span class="line">        Pet tom = run.getBean(<span class="string">"tom"</span>, Pet.class);</span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">"ç”¨æˆ·çš„å® ç‰©ï¼š"</span>+(user01.getPet() == tom));</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><ul><li><p>æœ€ä½³å®æˆ˜</p><ul><li>é…ç½® ç±»ç»„ä»¶ä¹‹é—´<strong>æ— ä¾èµ–å…³ç³»</strong>ç”¨Liteæ¨¡å¼åŠ é€Ÿå®¹å™¨å¯åŠ¨è¿‡ç¨‹ï¼Œå‡å°‘åˆ¤æ–­</li><li>é…ç½® ç±»ç»„ä»¶ä¹‹é—´<strong>æœ‰ä¾èµ–å…³ç³»</strong>ï¼Œæ–¹æ³•ä¼šè¢«è°ƒç”¨å¾—åˆ°ä¹‹å‰å•å®ä¾‹ç»„ä»¶ï¼Œç”¨Fullæ¨¡å¼ï¼ˆé»˜è®¤ï¼‰</li></ul><blockquote><p>å¦‚æœæ˜¯fullæ¨¡å¼ï¼Œæ¯æ¬¡å¯¹ä»£ç†å¯¹è±¡æ–¹æ³•çš„æ‰ç”¨éƒ½è¦å»æ£€æŸ¥æ–¹æ³•è¿”å›ç±»å‹æ˜¯å¦å·²ç»åœ¨å®¹å™¨ä¸­å­˜åœ¨</p></blockquote></li></ul><h4 id="Import"><a href="#Import" class="headerlink" title="@Import"></a>@Import</h4><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Import({User.class, DBHelper.class})</span> <span class="comment">//ç»™å®¹å™¨ä¸­è‡ªåŠ¨åˆ›å»ºå‡ºè¿™ä¸¤ä¸ªç±»å‹çš„ç»„ä»¶ã€é»˜è®¤ç»„ä»¶çš„åå­—å°±æ˜¯å…¨ç±»å</span></span><br><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyConfig</span> </span>{</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h4 id="Conditional"><a href="#Conditional" class="headerlink" title="@Conditional"></a>@Conditional</h4><blockquote><p>æ¡ä»¶è£…é…æ³¨è§£</p></blockquote><p><strong>å¯é€‰é¡¹</strong></p><p><a href="https://gitee.com/rain-sky/images/raw/master/20210715103437.png"><img src="https://gitee.com/rain-sky/images/raw/master/20210715103437.png" alt="img"></a></p><p><strong>ä¸¾ä¾‹</strong></p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Configuration(proxyBeanMethods = false)</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyConfig</span> </span>{</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="meta">@ConditionalOnBean(name = "tom")</span><span class="comment">//åªæœ‰å½“å®¹å™¨ä¸­å­˜åœ¨åç§°ä¸ºtomçš„ç»„ä»¶æ—¶ï¼Œæ‰æ³¨å†Œuser01ç»„ä»¶</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> User <span class="title">user01</span><span class="params">()</span></span>{</span><br><span class="line">        User zhangsan = <span class="keyword">new</span> User(<span class="string">"zhangsan"</span>, <span class="number">18</span>);</span><br><span class="line">        zhangsan.setPet(tomcatPet());</span><br><span class="line">        <span class="keyword">return</span> zhangsan;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="comment">//@Bean("tom")</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Pet <span class="title">tomcatPet</span><span class="params">()</span></span>{</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> Pet(<span class="string">"tomcat"</span>);</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>@ImportResource</p><blockquote><p>é…ç½®èµ„æºå¯¼å…¥</p></blockquote><p><strong>ä½¿ç”¨æ–¹å¼</strong></p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@ImportResource("classpath:beans.xml")</span><span class="comment">//åœ¨ä»»æ„é…ç½®ç±»ä¸Šä¸€æ¬¡ç¼–å†™å³å¯</span></span><br><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyConfig</span> </span>{</span><br><span class="line">...</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h4 id="ConfigurationProperties-é…ç½®ç»‘å®š"><a href="#ConfigurationProperties-é…ç½®ç»‘å®š" class="headerlink" title="@ConfigurationProperties é…ç½®ç»‘å®š"></a>@ConfigurationProperties é…ç½®ç»‘å®š</h4><p><strong>å°†é…ç½®æ–‡ä»¶ç»‘å®šåˆ°JavaBean</strong></p><p>ä¼ ç»Ÿæ–¹å¼</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">getProperties</span> </span>{</span><br><span class="line">     <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> FileNotFoundException, IOException </span>{</span><br><span class="line">         Properties pps = <span class="keyword">new</span> Properties();</span><br><span class="line">         pps.load(<span class="keyword">new</span> FileInputStream(<span class="string">"a.properties"</span>));</span><br><span class="line">         Enumeration enum1 = pps.propertyNames();<span class="comment">//å¾—åˆ°é…ç½®æ–‡ä»¶çš„åå­—</span></span><br><span class="line">         <span class="keyword">while</span>(enum1.hasMoreElements()) {</span><br><span class="line">             String strKey = (String) enum1.nextElement();</span><br><span class="line">             String strValue = pps.getProperty(strKey);</span><br><span class="line">             System.out.println(strKey + <span class="string">"="</span> + strValue);</span><br><span class="line">             <span class="comment">//å°è£…åˆ°JavaBeanã€‚</span></span><br><span class="line">         }</span><br><span class="line">     }</span><br><span class="line"> }</span><br></pre></td></tr></tbody></table></figure><p>springBootçš„é…ç½®ç»‘å®šï¼š</p><p><strong>æ–¹æ³•ä¸€@ConfigurationProperties + @Component</strong></p><p><a href="https://www.jianshu.com/p/7f54da1cb2eb">å…³äºè¯¥æ³¨è§£çš„æ–‡ç« </a></p><blockquote><p>@EnableConfigurationPropertiesæ³¨è§£çš„ä½œç”¨æ˜¯ï¼šä½¿ä½¿ç”¨ @ConfigurationProperties æ³¨è§£çš„ç±»ç”Ÿæ•ˆã€‚</p><p>å¦‚æœä¸€ä¸ªé…ç½®ç±»åªé…ç½®@ConfigurationPropertiesæ³¨è§£ï¼Œè€Œæ²¡æœ‰ä½¿ç”¨@Componentï¼Œé‚£ä¹ˆåœ¨IOCå®¹å™¨ä¸­æ˜¯è·å–ä¸åˆ°properties é…ç½®æ–‡ä»¶è½¬åŒ–çš„beanã€‚è¯´ç™½äº† @EnableConfigurationProperties ç›¸å½“äºæŠŠä½¿ç”¨  @ConfigurationProperties çš„ç±»è¿›è¡Œäº†ä¸€æ¬¡æ³¨å…¥ã€‚</p></blockquote><p>å‡è®¾æœ‰é…ç½®æ–‡ä»¶application.properties</p><figure class="highlight properties"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">mycar.brand</span>=<span class="string">BYD</span></span><br><span class="line"><span class="meta">mycar.price</span>=<span class="string">100000</span></span><br></pre></td></tr></tbody></table></figure><p><strong>ä½¿ç”¨</strong></p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="meta">@ConfigurationProperties(prefix = "mycar")</span><span class="comment">//prefixï¼Œé…ç½®æ–‡ä»¶åŒ¹é…çš„å‰ç¼€</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Car</span> </span>{</span><br><span class="line">        <span class="keyword">private</span> String brand;</span><br><span class="line">        <span class="keyword">private</span> Integer price ;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> String <span class="title">getBrand</span><span class="params">()</span> </span>{</span><br><span class="line">        <span class="keyword">return</span> brand;</span><br><span class="line">        }</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setBrand</span><span class="params">(String brand)</span> </span>{</span><br><span class="line">        <span class="keyword">this</span>.brand = brand;</span><br><span class="line">        }</span><br><span class="line">        <span class="function"><span class="keyword">public</span> Integer <span class="title">getPrice</span><span class="params">()</span> </span>{</span><br><span class="line">        <span class="keyword">return</span> price;</span><br><span class="line">        }</span><br><span class="line">    ...</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p><strong>æ–¹æ³•äºŒ</strong></p><p>@EnableConfigurationProperties + @ConfigurationProperties</p><ul><li>å¼€å¯Caré…ç½®ç»‘å®šåŠŸèƒ½</li><li>æŠŠè¿™ä¸ªCarè¿™ä¸ªç»„ä»¶è‡ªåŠ¨æ³¨å†Œåˆ°å®¹å™¨ä¸­</li></ul><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@EnableConfigurationProperties(Car.class)</span> <span class="comment">//å‘å®¹å™¨æ³¨å…¥Carè¿™ä¸ªé…ç½®ç±»</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyConfig</span> </span>{</span><br><span class="line">...</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">@ConfigurationProperties(prefix = "mycar")</span> <span class="comment">//å£°æ˜è¿™æ˜¯ä¸€ä¸ªé…ç½®ç±»å¹¶ç»‘å®šåˆ°å‰ç¼€ä¸ºmycarçš„å€¼</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Car</span> </span>{</span><br><span class="line">...</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h2 id="è‡ªåŠ¨é…ç½®åŸç†æ¢ç©¶"><a href="#è‡ªåŠ¨é…ç½®åŸç†æ¢ç©¶" class="headerlink" title="è‡ªåŠ¨é…ç½®åŸç†æ¢ç©¶"></a>è‡ªåŠ¨é…ç½®åŸç†æ¢ç©¶</h2><h4 id="å¼•å¯¼åŠ è½½è‡ªåŠ¨é…ç½®ç±»"><a href="#å¼•å¯¼åŠ è½½è‡ªåŠ¨é…ç½®ç±»" class="headerlink" title="å¼•å¯¼åŠ è½½è‡ªåŠ¨é…ç½®ç±»"></a>å¼•å¯¼åŠ è½½è‡ªåŠ¨é…ç½®ç±»</h4><p><strong>ä¸»ç¨‹åºå…¥å£</strong></p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="meta">@SpringBootApplication</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MainApplication</span> </span>{</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>{</span><br><span class="line">        SpringApplication.run(MainApplication.class, args);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p><strong>@SpringBootApplication</strong></p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="meta">@Target(ElementType.TYPE)</span></span><br><span class="line"><span class="meta">@Retention(RetentionPolicy.RUNTIME)</span></span><br><span class="line"><span class="meta">@Documented</span></span><br><span class="line"><span class="meta">@Inherited</span></span><br><span class="line"><span class="meta">@SpringBootConfiguration</span></span><br><span class="line"><span class="meta">@EnableAutoConfiguration</span></span><br><span class="line"><span class="meta">@ComponentScan(</span></span><br><span class="line"><span class="meta">    excludeFilters = {@Filter(</span></span><br><span class="line"><span class="meta">    type = FilterType.CUSTOM,</span></span><br><span class="line"><span class="meta">    classes = {TypeExcludeFilter.class}</span></span><br><span class="line"><span class="meta">), @Filter(</span></span><br><span class="line"><span class="meta">    type = FilterType.CUSTOM,</span></span><br><span class="line"><span class="meta">    classes = {AutoConfigurationExcludeFilter.class}</span></span><br><span class="line"><span class="meta">)}</span></span><br><span class="line"><span class="meta">)</span></span><br><span class="line"><span class="keyword">public</span> <span class="meta">@interface</span> SpringBootApplication {</span><br><span class="line">    ...</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><blockquote><p>å¯çŸ¥@springBootApplication æ˜¯ä»¥ä¸‹ä¸‰ä¸ªæ³¨è§£çš„åˆæˆæ³¨è§£</p><p>@SpringBootConfiguration ç”±æºç å¯çŸ¥æ­¤æ³¨è§£è¡¨æ˜è¯¥ç±»ä¸ºä¸€ä¸ªé…ç½®ç±»</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Target(ElementType.TYPE)</span></span><br><span class="line"><span class="meta">@Retention(RetentionPolicy.RUNTIME)</span></span><br><span class="line"><span class="meta">@Documented</span></span><br><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="meta">@interface</span> SpringBootConfiguration {</span><br><span class="line">    <span class="meta">@AliasFor(</span></span><br><span class="line"><span class="meta">        annotation = Configuration.class</span></span><br><span class="line"><span class="meta">    )</span></span><br><span class="line">    <span class="function"><span class="keyword">boolean</span> <span class="title">proxyBeanMethods</span><span class="params">()</span> <span class="keyword">default</span> <span class="keyword">true</span></span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>@ComponentScan æ‰«æ</p><p>@EnableAutoConfiguration</p></blockquote><p><strong>@EnableAutoConfigurationæ¢ç©¶</strong></p><p><strong>æºç ï¼Œå¯çŸ¥è¯¥æ³¨è§£ä¹Ÿæ˜¯ä¸€ä¸ªåˆæˆæ³¨è§£</strong></p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Target({ElementType.TYPE})</span></span><br><span class="line"><span class="meta">@Retention(RetentionPolicy.RUNTIME)</span></span><br><span class="line"><span class="meta">@Documented</span></span><br><span class="line"><span class="meta">@Inherited</span></span><br><span class="line"><span class="meta">@AutoConfigurationPackage</span></span><br><span class="line"><span class="meta">@Import({AutoConfigurationImportSelector.class})</span></span><br><span class="line"><span class="keyword">public</span> <span class="meta">@interface</span> EnableAutoConfiguration {</span><br><span class="line">    String ENABLED_OVERRIDE_PROPERTY = <span class="string">"spring.boot.enableautoconfiguration"</span>;</span><br><span class="line"></span><br><span class="line">    Class&lt;?&gt;[] exclude() <span class="keyword">default</span> {};</span><br><span class="line"></span><br><span class="line">    String[] excludeName() <span class="keyword">default</span> {};</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p><strong>è®©æˆ‘ä»¬æ¥çœ‹çœ‹@AutoConfigurationPackageæ˜¯ä¸ªå•¥</strong></p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Target(ElementType.TYPE)</span></span><br><span class="line"><span class="meta">@Retention(RetentionPolicy.RUNTIME)</span></span><br><span class="line"><span class="meta">@Documented</span></span><br><span class="line"><span class="meta">@Inherited</span></span><br><span class="line"><span class="meta">@Import(AutoConfigurationPackages.Registrar.class)</span></span><br><span class="line"><span class="keyword">public</span> <span class="meta">@interface</span> AutoConfigurationPackage {</span><br><span class="line"></span><br><span class="line">String[] basePackages() <span class="keyword">default</span> {};</span><br><span class="line"></span><br><span class="line">Class&lt;?&gt;[] basePackageClasses() <span class="keyword">default</span> {};</span><br><span class="line"></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>ç”±æºç å¯ä»¥çœ‹åˆ°ï¼Œè¯¥æ³¨è§£ä½¿ç”¨@Import(AutoConfigurationPackages.Registrar.class)å¯¼å…¥äº†ä¸€ä¸ªRegistrar.classç»„ä»¶,ç‚¹è¿›å»åº·åº·</p><p><strong>Registrarå®ƒå¹²äº†å•¥ï¼Ÿ</strong></p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">Registrar</span> <span class="keyword">implements</span> <span class="title">ImportBeanDefinitionRegistrar</span>, <span class="title">DeterminableImports</span> </span>{</span><br><span class="line"></span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">registerBeanDefinitions</span><span class="params">(AnnotationMetadata metadata, BeanDefinitionRegistry registry)</span> </span>{</span><br><span class="line">register(registry, <span class="keyword">new</span> PackageImports(metadata).getPackageNames().toArray(<span class="keyword">new</span> String[<span class="number">0</span>]));</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> Set&lt;Object&gt; <span class="title">determineImports</span><span class="params">(AnnotationMetadata metadata)</span> </span>{</span><br><span class="line"><span class="keyword">return</span> Collections.singleton(<span class="keyword">new</span> PackageImports(metadata));</span><br><span class="line">}</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><blockquote><p>æ‰“ä¸ªæ–­ç‚¹çœ‹ä¸€çœ‹</p></blockquote><p><a href="https://gitee.com/rain-sky/images/raw/master/20210715113622.png"><img src="https://gitee.com/rain-sky/images/raw/master/20210715113622.png" alt="img"></a></p><blockquote><p>æˆ‘ä»¬å¯ä»¥çœ‹åˆ°æ³¨è§£ä¿¡æ¯ä¸­è¡¨ç¤ºè¯¥æ³¨è§£ä½ç½®ä¸ºä¸»å¯åŠ¨ç±»ï¼Œæ ¹æ®æ–¹æ³•å¤§æ¦‚çŒœæµ‹ï¼šæ‹¿åˆ°ä¸€ä¸ªåŒ…åï¼Œç„¶åå°†è¯¥åŒ…ä¸‹ç»„ä»¶æ‰¹é‡æ³¨å†Œï¼Œè®©æˆ‘ä»¬è®¡ç®—è¯•ä¸€è¯•ï¼Œçœ‹çœ‹ç»“æœ</p></blockquote><p><a href="https://gitee.com/rain-sky/images/raw/master/20210715113944.png"><img src="https://gitee.com/rain-sky/images/raw/master/20210715113944.png" alt="img"></a></p><p>å¯ä»¥çœ‹åˆ°è®¡ç®—ç»“æœå°±æ˜¯æˆ‘ä»¬ä¸»å¯åŠ¨ç±»æ‰€åœ¨åŒ…</p><ul><li>åˆ©ç”¨Registrarç»™å®¹å™¨ä¸­å¯¼å…¥ä¸€ç³»åˆ—ç»„ä»¶</li><li>å°†æŒ‡å®šçš„ä¸€ä¸ªåŒ…ä¸‹çš„æ‰€æœ‰ç»„ä»¶å¯¼å…¥è¿›MainApplicationæ‰€åœ¨åŒ…ä¸‹ã€‚</li></ul><p><strong>@Import(AutoConfigurationImportSelector.class)</strong></p><ul><li>åˆ©ç”¨getAutoConfigurationEntry(annotationMetadata);ç»™å®¹å™¨ä¸­æ‰¹é‡å¯¼å…¥ä¸€äº›ç»„ä»¶</li><li>è°ƒç”¨List<string> configurations = getCandidateConfigurations(annotationMetadata, attributes)è·å–åˆ°æ‰€æœ‰éœ€è¦å¯¼å…¥åˆ°å®¹å™¨ä¸­çš„é…ç½®ç±»</string></li><li>åˆ©ç”¨å·¥å‚åŠ è½½ Map&lt;String, List<string>&gt; loadSpringFactories(@Nullable ClassLoader classLoader);å¾—åˆ°æ‰€æœ‰çš„ç»„ä»¶</string></li><li>ä»META-INF/spring.factoriesä½ç½®æ¥åŠ è½½ä¸€ä¸ªæ–‡ä»¶ã€‚<ul><li>é»˜è®¤æ‰«ææˆ‘ä»¬å½“å‰ç³»ç»Ÿé‡Œé¢æ‰€æœ‰META-INF/spring.factoriesä½ç½®çš„æ–‡ä»¶</li><li>spring-boot-autoconfigure-2.3.4.RELEASE.jaråŒ…é‡Œé¢ä¹Ÿæœ‰META-INF/spring.factories</li></ul></li></ul><p><strong>ä¸€äº›å®è·µ</strong></p><p>ä½¿ç”¨dev-tools</p><figure class="highlight xml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-devtools<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">optional</span>&gt;</span>true<span class="tag">&lt;/<span class="name">optional</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><h2 id="Webåœºæ™¯"><a href="#Webåœºæ™¯" class="headerlink" title="Webåœºæ™¯"></a>Webåœºæ™¯</h2><h4 id="YAMLè¯­æ³•"><a href="#YAMLè¯­æ³•" class="headerlink" title="YAMLè¯­æ³•"></a>YAMLè¯­æ³•</h4><p>åŸºæœ¬è¯­æ³•</p><ul><li>key: valueï¼›kvä¹‹é—´æœ‰ç©ºæ ¼</li><li>å¤§å°å†™æ•æ„Ÿ</li><li>ä½¿ç”¨ç¼©è¿›è¡¨ç¤ºå±‚çº§å…³ç³»</li><li>ç¼©è¿›ä¸å…è®¸ä½¿ç”¨tabï¼Œåªå…è®¸ç©ºæ ¼</li><li>ç¼©è¿›çš„ç©ºæ ¼æ•°ä¸é‡è¦ï¼Œåªè¦ç›¸åŒå±‚çº§çš„å…ƒç´ å·¦å¯¹é½å³å¯</li><li>â€˜#â€™è¡¨ç¤ºæ³¨é‡Š</li><li>å­—ç¬¦ä¸²æ— éœ€åŠ å¼•å·ï¼Œå¦‚æœè¦åŠ ï¼Œå•å¼•å·â€™â€™ã€åŒå¼•å·â€â€è¡¨ç¤ºå­—ç¬¦ä¸²å†…å®¹ä¼šè¢« è½¬ä¹‰ã€ä¸è½¬ä¹‰</li></ul><p>æ•°æ®ç±»å‹</p><ul><li>å­—é¢é‡ï¼šå•ä¸ªçš„ã€ä¸å¯å†åˆ†çš„å€¼ã€‚dateã€booleanã€stringã€numberã€null</li></ul><figure class="highlight yaml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#è¡Œå†…å†™æ³•ï¼š  </span></span><br><span class="line"><span class="attr">k:</span> {<span class="string">k1:v1</span>,<span class="string">k2:v2</span>,<span class="string">k3:v3</span>}</span><br><span class="line"><span class="comment">#æˆ–</span></span><br><span class="line"><span class="attr">k:</span> </span><br><span class="line">  <span class="attr">k1:</span> <span class="string">v1</span></span><br><span class="line">  <span class="attr">k2:</span> <span class="string">v2</span></span><br><span class="line">  <span class="attr">k3:</span> <span class="string">v3</span></span><br></pre></td></tr></tbody></table></figure><p><strong>å®ä¾‹</strong></p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>{</span><br><span class="line">    <span class="keyword">private</span> String userName;</span><br><span class="line">    <span class="keyword">private</span> Boolean boss;</span><br><span class="line">    <span class="keyword">private</span> Date birth;</span><br><span class="line">    <span class="keyword">private</span> Integer age;</span><br><span class="line">    <span class="keyword">private</span> Pet pet;</span><br><span class="line">    <span class="keyword">private</span> String[] interests;</span><br><span class="line">    <span class="keyword">private</span> List&lt;String&gt; animal;</span><br><span class="line">    <span class="keyword">private</span> Map&lt;String, Object&gt; score;</span><br><span class="line">    <span class="keyword">private</span> Set&lt;Double&gt; salarys;</span><br><span class="line">    <span class="keyword">private</span> Map&lt;String, List&lt;Pet&gt;&gt; allPets;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Pet</span> </span>{</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> Double weight;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><figure class="highlight yaml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">person:</span></span><br><span class="line">  <span class="attr">userName:</span> <span class="string">zhangsan</span></span><br><span class="line">  <span class="attr">boss:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">birth:</span> <span class="number">2019</span><span class="string">/12/12</span> <span class="number">20</span><span class="string">:12:33</span></span><br><span class="line">  <span class="attr">age:</span> <span class="number">18</span></span><br><span class="line">  <span class="attr">pet:</span> </span><br><span class="line">    <span class="attr">name:</span> <span class="string">tomcat</span></span><br><span class="line">    <span class="attr">weight:</span> <span class="number">23.4</span></span><br><span class="line">  <span class="attr">interests:</span> [<span class="string">ç¯®çƒ</span>,<span class="string">æ¸¸æ³³</span>]</span><br><span class="line">  <span class="attr">animal:</span> </span><br><span class="line">    <span class="bullet">-</span> <span class="string">jerry</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">mario</span></span><br><span class="line">  <span class="attr">score:</span></span><br><span class="line">    <span class="attr">english:</span> </span><br><span class="line">      <span class="attr">first:</span> <span class="number">30</span></span><br><span class="line">      <span class="attr">second:</span> <span class="number">40</span></span><br><span class="line">      <span class="attr">third:</span> <span class="number">50</span></span><br><span class="line">    <span class="attr">math:</span> [<span class="number">131</span>,<span class="number">140</span>,<span class="number">148</span>]</span><br><span class="line">    <span class="attr">chinese:</span> {<span class="attr">first:</span> <span class="number">128</span>,<span class="attr">second:</span> <span class="number">136</span>}</span><br><span class="line">  <span class="attr">salarys:</span> [<span class="number">3999</span>,<span class="number">4999.98</span>,<span class="number">5999.99</span>]</span><br><span class="line">  <span class="attr">allPets:</span></span><br><span class="line">    <span class="attr">sick:</span></span><br><span class="line">      <span class="bullet">-</span> {<span class="attr">name:</span> <span class="string">tom</span>}</span><br><span class="line">      <span class="bullet">-</span> {<span class="attr">name:</span> <span class="string">jerry</span>,<span class="attr">weight:</span> <span class="number">47</span>}</span><br><span class="line">    <span class="attr">health:</span> [{<span class="attr">name:</span> <span class="string">mario</span>,<span class="attr">weight:</span> <span class="number">47</span>}]</span><br></pre></td></tr></tbody></table></figure><h4 id="è‡ªå®šä¹‰ç±»ç»‘å®šçš„é…ç½®æç¤º"><a href="#è‡ªå®šä¹‰ç±»ç»‘å®šçš„é…ç½®æç¤º" class="headerlink" title="è‡ªå®šä¹‰ç±»ç»‘å®šçš„é…ç½®æç¤º"></a>è‡ªå®šä¹‰ç±»ç»‘å®šçš„é…ç½®æç¤º</h4><p>è‡ªå®šä¹‰çš„ç±»å’Œé…ç½®æ–‡ä»¶ç»‘å®šä¸€èˆ¬æ²¡æœ‰æç¤ºã€‚è‹¥è¦æç¤ºï¼Œæ·»åŠ å¦‚ä¸‹ä¾èµ–ï¼š</p><figure class="highlight xml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-configuration-processor<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">optional</span>&gt;</span>true<span class="tag">&lt;/<span class="name">optional</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- ä¸‹é¢æ’ä»¶ä½œç”¨æ˜¯å·¥ç¨‹æ‰“åŒ…æ—¶ï¼Œä¸å°†spring-boot-configuration-processoræ‰“è¿›åŒ…å†…ï¼Œè®©å…¶åªåœ¨ç¼–ç çš„æ—¶å€™æœ‰ç”¨ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">build</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">plugins</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-maven-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">excludes</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">exclude</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-configuration-processor<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">exclude</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">excludes</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">plugins</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">build</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><h4 id="é™æ€èµ„æºè§„åˆ™ä¸å®šåˆ¶åŒ–"><a href="#é™æ€èµ„æºè§„åˆ™ä¸å®šåˆ¶åŒ–" class="headerlink" title="é™æ€èµ„æºè§„åˆ™ä¸å®šåˆ¶åŒ–"></a>é™æ€èµ„æºè§„åˆ™ä¸å®šåˆ¶åŒ–</h4><p>åªè¦é™æ€èµ„æºæ”¾åœ¨ç±»è·¯å¾„ä¸‹ï¼š /static (or /public or /resources or /META-INF/resources</p><p>è®¿é—® ï¼š å½“å‰é¡¹ç›®æ ¹è·¯å¾„/ + é™æ€èµ„æºå</p><p>åŸç†ï¼š é™æ€æ˜ å°„/**ã€‚</p><p>è¯·æ±‚è¿›æ¥ï¼Œå…ˆå»æ‰¾Controllerçœ‹èƒ½ä¸èƒ½å¤„ç†ã€‚ä¸èƒ½å¤„ç†çš„æ‰€æœ‰è¯·æ±‚åˆéƒ½äº¤ç»™é™æ€èµ„æºå¤„ç†å™¨ã€‚é™æ€èµ„æºä¹Ÿæ‰¾ä¸åˆ°åˆ™å“åº”404é¡µé¢ã€‚<br><strong>æ”¹å˜é»˜è®¤çš„é™æ€èµ„æºè·¯å¾„</strong></p><figure class="highlight yaml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">resources:</span></span><br><span class="line">  <span class="attr">static-locations:</span> [<span class="string">classpath:/haha/</span>]</span><br></pre></td></tr></tbody></table></figure><p><strong>æ·»åŠ è®¿é—®å‰ç¼€</strong></p><figure class="highlight yaml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">spring:</span></span><br><span class="line">  <span class="attr">mvc:</span></span><br><span class="line">    <span class="attr">static-path-pattern:</span> <span class="string">/res/**</span></span><br></pre></td></tr></tbody></table></figure><h4 id="welcomeä¸faviconåŠŸèƒ½"><a href="#welcomeä¸faviconåŠŸèƒ½" class="headerlink" title="welcomeä¸faviconåŠŸèƒ½"></a>welcomeä¸faviconåŠŸèƒ½</h4><p><strong>æ¬¢è¿é¡µæ”¯æŒ</strong></p><ul><li>é™æ€èµ„æºè·¯å¾„ä¸‹ index.htmlã€‚<ul><li>å¯ä»¥é…ç½®é™æ€èµ„æºè·¯å¾„</li><li>ä½†æ˜¯ä¸å¯ä»¥é…ç½®é™æ€èµ„æºçš„è®¿é—®å‰ç¼€ã€‚å¦åˆ™å¯¼è‡´ index.htmlä¸èƒ½è¢«é»˜è®¤è®¿é—®</li></ul></li></ul><figure class="highlight yaml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">spring:</span></span><br><span class="line"><span class="comment">#  mvc:</span></span><br><span class="line"><span class="comment">#    static-path-pattern: /res/**   è¿™ä¸ªä¼šå¯¼è‡´welcome pageåŠŸèƒ½å¤±æ•ˆ</span></span><br><span class="line">  <span class="attr">resources:</span></span><br><span class="line">    <span class="attr">static-locations:</span> [<span class="string">classpath:/haha/</span>]</span><br></pre></td></tr></tbody></table></figure><p><strong>è‡ªå®šä¹‰Favicon</strong></p><p>favicon.ico æ”¾åœ¨é™æ€èµ„æºç›®å½•ä¸‹å³å¯ã€‚</p><figure class="highlight yaml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">spring:</span></span><br><span class="line"><span class="comment">#  mvc:</span></span><br><span class="line"><span class="comment">#    static-path-pattern: /res/**   è¿™ä¸ªä¼šå¯¼è‡´ Favicon åŠŸèƒ½å¤±æ•ˆ</span></span><br></pre></td></tr></tbody></table></figure><h4 id="é™æ€èµ„æºè®¿é—®åŸç†"><a href="#é™æ€èµ„æºè®¿é—®åŸç†" class="headerlink" title="é™æ€èµ„æºè®¿é—®åŸç†"></a>é™æ€èµ„æºè®¿é—®åŸç†</h4><ul><li>SpringBootå¯åŠ¨é»˜è®¤åŠ è½½ xxxAutoConfiguration ç±»ï¼ˆè‡ªåŠ¨é…ç½®ç±»ï¼‰</li><li>SpringMVCåŠŸèƒ½çš„è‡ªåŠ¨é…ç½®ç±»<code>WebMvcAutoConfiguration</code>ï¼Œç”Ÿæ•ˆ</li></ul><p><strong>WebMvcAutoConfiguration</strong></p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Configuration(proxyBeanMethods = false)</span></span><br><span class="line"><span class="meta">@ConditionalOnWebApplication(type = Type.SERVLET)</span></span><br><span class="line"><span class="meta">@ConditionalOnClass({ Servlet.class, DispatcherServlet.class, WebMvcConfigurer.class })</span></span><br><span class="line"><span class="meta">@ConditionalOnMissingBean(WebMvcConfigurationSupport.class)</span></span><br><span class="line"><span class="meta">@AutoConfigureOrder(Ordered.HIGHEST_PRECEDENCE + 10)</span></span><br><span class="line"><span class="meta">@AutoConfigureAfter({ DispatcherServletAutoConfiguration.class, TaskExecutionAutoConfiguration.class,</span></span><br><span class="line"><span class="meta">ValidationAutoConfiguration.class })</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">WebMvcAutoConfiguration</span> </span>{</span><br><span class="line">    ...</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><ul><li>ç»™å®¹å™¨ä¸­é…äº†ä»€ä¹ˆã€‚</li></ul><p><strong>WebMvcAutoConfigurationçš„é™æ€å†…éƒ¨ç±»WebMvcAutoConfigurationAdapter</strong></p><p>é…ç½®æ–‡ä»¶çš„ç›¸å…³å±æ€§çš„ç»‘å®šï¼šWebMvcProperties==<strong>spring.mvc</strong>ã€ResourceProperties==<strong>spring.resources</strong></p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Configuration(proxyBeanMethods = false)</span></span><br><span class="line"><span class="meta">@Import(EnableWebMvcConfiguration.class)</span></span><br><span class="line"><span class="meta">@EnableConfigurationProperties({ WebMvcProperties.class, ResourceProperties.class })</span></span><br><span class="line"><span class="meta">@Order(0)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">WebMvcAutoConfigurationAdapter</span> <span class="keyword">implements</span> <span class="title">WebMvcConfigurer</span> </span>{</span><br><span class="line">    ...</span><br><span class="line">        </span><br><span class="line">    <span class="comment">//æ„é€ å‡½æ•°ï¼Œå½“åªæœ‰ä¸€ä¸ªæœ‰å‚æ„é€ å‡½æ•°æ—¶ï¼Œæ‰€æœ‰å‚æ•°ä»IOCå®¹å™¨æ‰¾</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">WebMvcAutoConfigurationAdapter</span><span class="params">(</span></span></span><br><span class="line"><span class="function"><span class="params">org.springframework.boot.autoconfigure.web.ResourceProperties resourceProperties,</span></span></span><br><span class="line"><span class="function"><span class="params">WebProperties webProperties, WebMvcProperties mvcProperties, ListableBeanFactory beanFactory,</span></span></span><br><span class="line"><span class="function"><span class="params">ObjectProvider&lt;HttpMessageConverters&gt; messageConvertersProvider,</span></span></span><br><span class="line"><span class="function"><span class="params">ObjectProvider&lt;ResourceHandlerRegistrationCustomizer&gt; resourceHandlerRegistrationCustomizerProvider,</span></span></span><br><span class="line"><span class="function"><span class="params">ObjectProvider&lt;DispatcherServletPath&gt; dispatcherServletPath,</span></span></span><br><span class="line"><span class="function"><span class="params">ObjectProvider&lt;ServletRegistrationBean&lt;?&gt;&gt; servletRegistrations)</span> </span>{</span><br><span class="line"><span class="keyword">this</span>.resourceProperties = resourceProperties.hasBeenCustomized() ? resourceProperties</span><br><span class="line">: webProperties.getResources();</span><br><span class="line"><span class="keyword">this</span>.mvcProperties = mvcProperties;</span><br><span class="line"><span class="keyword">this</span>.beanFactory = beanFactory;</span><br><span class="line"><span class="keyword">this</span>.messageConvertersProvider = messageConvertersProvider;</span><br><span class="line"><span class="keyword">this</span>.resourceHandlerRegistrationCustomizer = resourceHandlerRegistrationCustomizerProvider.getIfAvailable();</span><br><span class="line"><span class="keyword">this</span>.dispatcherServletPath = dispatcherServletPath;</span><br><span class="line"><span class="keyword">this</span>.servletRegistrations = servletRegistrations;</span><br><span class="line"><span class="keyword">this</span>.mvcProperties.checkConfiguration();</span><br><span class="line">}    </span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>å‚æ•°è§£é‡Šï¼š</p><ul><li>ResourceProperties resourcePropertiesï¼›è·å–å’Œspring.resourcesç»‘å®šçš„æ‰€æœ‰çš„å€¼çš„å¯¹è±¡</li><li>WebMvcProperties mvcProperties è·å–å’Œspring.mvcç»‘å®šçš„æ‰€æœ‰çš„å€¼çš„å¯¹è±¡</li><li>ListableBeanFactory beanFactory Springçš„beanFactory</li><li>HttpMessageConverters æ‰¾åˆ°æ‰€æœ‰çš„HttpMessageConverters</li><li>ResourceHandlerRegistrationCustomizer æ‰¾åˆ° èµ„æºå¤„ç†å™¨çš„è‡ªå®šä¹‰å™¨ã€‚</li><li>DispatcherServletPath</li><li>ServletRegistrationBean ç»™åº”ç”¨æ³¨å†ŒServletã€Filterâ€¦</li></ul><h4 id="èµ„æºé»˜è®¤å¤„ç†è§„åˆ™"><a href="#èµ„æºé»˜è®¤å¤„ç†è§„åˆ™" class="headerlink" title="èµ„æºé»˜è®¤å¤„ç†è§„åˆ™"></a>èµ„æºé»˜è®¤å¤„ç†è§„åˆ™</h4><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">WebMvcAutoConfiguration</span> </span>{</span><br><span class="line">    ...</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">EnableWebMvcConfiguration</span> <span class="keyword">extends</span> <span class="title">DelegatingWebMvcConfiguration</span> <span class="keyword">implements</span> <span class="title">ResourceLoaderAware</span> </span>{</span><br><span class="line">        ...</span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">addResourceHandlers</span><span class="params">(ResourceHandlerRegistry registry)</span> </span>{</span><br><span class="line"><span class="keyword">super</span>.addResourceHandlers(registry);</span><br><span class="line"><span class="keyword">if</span> (!<span class="keyword">this</span>.resourceProperties.isAddMappings()) {</span><br><span class="line">logger.debug(<span class="string">"Default resource handling disabled"</span>);</span><br><span class="line"><span class="keyword">return</span>;</span><br><span class="line">}</span><br><span class="line">ServletContext servletContext = getServletContext();</span><br><span class="line">addResourceHandler(registry, <span class="string">"/webjars/**"</span>, <span class="string">"classpath:/META-INF/resources/webjars/"</span>);</span><br><span class="line">addResourceHandler(registry, <span class="keyword">this</span>.mvcProperties.getStaticPathPattern(), (registration) -&gt; {</span><br><span class="line">registration.addResourceLocations(<span class="keyword">this</span>.resourceProperties.getStaticLocations());</span><br><span class="line"><span class="keyword">if</span> (servletContext != <span class="keyword">null</span>) {</span><br><span class="line">registration.addResourceLocations(<span class="keyword">new</span> ServletContextResource(servletContext, SERVLET_LOCATION));</span><br><span class="line">}</span><br><span class="line">});</span><br><span class="line">}</span><br><span class="line">        ...</span><br><span class="line">        </span><br><span class="line">    }</span><br><span class="line">    ...</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p><strong>é™æ€èµ„æºè§„åˆ™</strong></p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@ConfigurationProperties(prefix = "spring.resources", ignoreUnknownFields = false)</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ResourceProperties</span> </span>{</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> String[] CLASSPATH_RESOURCE_LOCATIONS = { <span class="string">"classpath:/META-INF/resources/"</span>,</span><br><span class="line">            <span class="string">"classpath:/resources/"</span>, <span class="string">"classpath:/static/"</span>, <span class="string">"classpath:/public/"</span> };</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Locations of static resources. Defaults to classpath:[/META-INF/resources/,</span></span><br><span class="line"><span class="comment">     * /resources/, /static/, /public/].</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> String[] staticLocations = CLASSPATH_RESOURCE_LOCATIONS;</span><br><span class="line">    ...</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>é…ç½®å¤„ç†è§„åˆ™</p><figure class="highlight yaml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">spring:</span></span><br><span class="line">  <span class="attr">resources:</span></span><br><span class="line">    <span class="attr">add-mappings:</span> <span class="literal">false</span>   <span class="comment">#ç¦ç”¨æ‰€æœ‰é™æ€èµ„æºè§„åˆ™</span></span><br></pre></td></tr></tbody></table></figure><p><strong>æ¬¢è¿é¡µå¤„ç†è§„åˆ™</strong></p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">WebMvcAutoConfiguration</span> </span>{</span><br><span class="line">    ...</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">EnableWebMvcConfiguration</span> <span class="keyword">extends</span> <span class="title">DelegatingWebMvcConfiguration</span> <span class="keyword">implements</span> <span class="title">ResourceLoaderAware</span> </span>{</span><br><span class="line">        ...</span><br><span class="line"><span class="meta">@Bean</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> WelcomePageHandlerMapping <span class="title">welcomePageHandlerMapping</span><span class="params">(ApplicationContext applicationContext,</span></span></span><br><span class="line"><span class="function"><span class="params">FormattingConversionService mvcConversionService, ResourceUrlProvider mvcResourceUrlProvider)</span> </span>{</span><br><span class="line">WelcomePageHandlerMapping welcomePageHandlerMapping = <span class="keyword">new</span> WelcomePageHandlerMapping(</span><br><span class="line"><span class="keyword">new</span> TemplateAvailabilityProviders(applicationContext), applicationContext, getWelcomePage(),</span><br><span class="line"><span class="keyword">this</span>.mvcProperties.getStaticPathPattern());</span><br><span class="line">welcomePageHandlerMapping.setInterceptors(getInterceptors(mvcConversionService, mvcResourceUrlProvider));</span><br><span class="line">welcomePageHandlerMapping.setCorsConfigurations(getCorsConfigurations());</span><br><span class="line"><span class="keyword">return</span> welcomePageHandlerMapping;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p><strong>çœ‹çœ‹WelcomePageHandlerMapping</strong></p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">WelcomePageHandlerMapping(TemplateAvailabilityProviders templateAvailabilityProviders,</span><br><span class="line">                          ApplicationContext applicationContext, Resource welcomePage, String staticPathPattern) {</span><br><span class="line">    <span class="keyword">if</span> (welcomePage != <span class="keyword">null</span> &amp;&amp; <span class="string">"/**"</span>.equals(staticPathPattern)) {</span><br><span class="line">        <span class="comment">//è¦ç”¨æ¬¢è¿é¡µåŠŸèƒ½ï¼Œå¿…é¡»æ˜¯/**</span></span><br><span class="line">        logger.info(<span class="string">"Adding welcome page: "</span> + welcomePage);</span><br><span class="line">        setRootViewName(<span class="string">"forward:index.html"</span>);</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (welcomeTemplateExists(templateAvailabilityProviders, applicationContext)) {</span><br><span class="line">        <span class="comment">//è°ƒç”¨Controller /index</span></span><br><span class="line">        logger.info(<span class="string">"Adding welcome page template: index"</span>);</span><br><span class="line">        setRootViewName(<span class="string">"index"</span>);</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h4 id="è¯·æ±‚å¤„ç†"><a href="#è¯·æ±‚å¤„ç†" class="headerlink" title="è¯·æ±‚å¤„ç†"></a>è¯·æ±‚å¤„ç†</h4><p>@xxxMapping;</p><ul><li>@GetMapping</li><li>@PostMapping</li><li>@PutMapping</li><li>@DeleteMapping<br>Resté£æ ¼æ”¯æŒï¼ˆä½¿ç”¨HTTPè¯·æ±‚æ–¹å¼åŠ¨è¯æ¥è¡¨ç¤ºå¯¹èµ„æºçš„æ“ä½œï¼‰</li></ul><p>æ ¸å¿ƒFilterï¼šHiddenHttpMethodFilter</p><ul><li><strong>ç”¨æ³•</strong><ul><li>å¼€å¯é¡µé¢è¡¨å•çš„ReståŠŸèƒ½</li><li>é¡µé¢ formçš„å±æ€§method=postï¼Œéšè—åŸŸ _method=putã€deleteç­‰ï¼ˆå¦‚æœç›´æ¥getæˆ–postï¼Œæ— éœ€éšè—åŸŸï¼‰</li><li>ç¼–å†™è¯·æ±‚æ˜ å°„</li></ul></li></ul><figure class="highlight yaml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">spring:</span></span><br><span class="line">  <span class="attr">mvc:</span></span><br><span class="line">    <span class="attr">hiddenmethod:</span></span><br><span class="line">      <span class="attr">filter:</span></span><br><span class="line">        <span class="attr">enabled:</span> <span class="literal">true</span>   <span class="comment">#å¼€å¯é¡µé¢è¡¨å•çš„ReståŠŸèƒ½</span></span><br></pre></td></tr></tbody></table></figure><p><strong>å®ä¾‹</strong></p><p>é¡µé¢</p><figure class="highlight html"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">"/user"</span> <span class="attr">method</span>=<span class="string">"get"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">value</span>=<span class="string">"REST-GETæäº¤"</span> <span class="attr">type</span>=<span class="string">"submit"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">"/user"</span> <span class="attr">method</span>=<span class="string">"post"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">value</span>=<span class="string">"REST-POSTæäº¤"</span> <span class="attr">type</span>=<span class="string">"submit"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">"/user"</span> <span class="attr">method</span>=<span class="string">"post"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">name</span>=<span class="string">"_method"</span> <span class="attr">type</span>=<span class="string">"hidden"</span> <span class="attr">value</span>=<span class="string">"DELETE"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">value</span>=<span class="string">"REST-DELETE æäº¤"</span> <span class="attr">type</span>=<span class="string">"submit"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">"/user"</span> <span class="attr">method</span>=<span class="string">"post"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">name</span>=<span class="string">"_method"</span> <span class="attr">type</span>=<span class="string">"hidden"</span> <span class="attr">value</span>=<span class="string">"PUT"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">value</span>=<span class="string">"REST-PUTæäº¤"</span><span class="attr">type</span>=<span class="string">"submit"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">form</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><p>åå°</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@GetMapping("/user")</span></span><br><span class="line"><span class="comment">//@RequestMapping(value = "/user",method = RequestMethod.GET)</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">getUser</span><span class="params">()</span></span>{</span><br><span class="line">    <span class="keyword">return</span> <span class="string">"GET-å¼ ä¸‰"</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="meta">@PostMapping("/user")</span></span><br><span class="line"><span class="comment">//@RequestMapping(value = "/user",method = RequestMethod.POST)</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">saveUser</span><span class="params">()</span></span>{</span><br><span class="line">    <span class="keyword">return</span> <span class="string">"POST-å¼ ä¸‰"</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="meta">@PutMapping("/user")</span></span><br><span class="line"><span class="comment">//@RequestMapping(value = "/user",method = RequestMethod.PUT)</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">putUser</span><span class="params">()</span></span>{</span><br><span class="line">    <span class="keyword">return</span> <span class="string">"PUT-å¼ ä¸‰"</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="meta">@DeleteMapping("/user")</span></span><br><span class="line"><span class="comment">//@RequestMapping(value = "/user",method = RequestMethod.DELETE)</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">deleteUser</span><span class="params">()</span></span>{</span><br><span class="line">    <span class="keyword">return</span> <span class="string">"DELETE-å¼ ä¸‰"</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p><strong>ReståŸç†ï¼ˆè¡¨å•æäº¤è¦ä½¿ç”¨RESTçš„æ—¶å€™)</strong><br>è¡¨å•æäº¤ä¼šå¸¦ä¸Š_method=PUT<br>è¯·æ±‚è¿‡æ¥è¢«HiddenHttpMethodFilteræ‹¦æˆª<br>è¯·æ±‚æ˜¯å¦æ­£å¸¸ï¼Œå¹¶ä¸”æ˜¯POST<br>è·å–åˆ°_methodçš„å€¼ã€‚<br>å…¼å®¹ä»¥ä¸‹è¯·æ±‚ï¼›PUT.DELETE.PATCH<br>åŸç”Ÿrequestï¼ˆpostï¼‰ï¼ŒåŒ…è£…æ¨¡å¼requesWrapperé‡å†™äº†getMethodæ–¹æ³•ï¼Œè¿”å›çš„æ˜¯ä¼ å…¥çš„å€¼ã€‚<br>è¿‡æ»¤å™¨é“¾æ”¾è¡Œçš„æ—¶å€™ç”¨wrapperã€‚ä»¥åçš„æ–¹æ³•è°ƒç”¨getMethodæ˜¯è°ƒç”¨requesWrapperçš„ã€‚<br><strong>HiddenHttpMethodFilter</strong></p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">HiddenHttpMethodFilter</span> <span class="keyword">extends</span> <span class="title">OncePerRequestFilter</span> </span>{</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> List&lt;String&gt; ALLOWED_METHODS =</span><br><span class="line">Collections.unmodifiableList(Arrays.asList(HttpMethod.PUT.name(),</span><br><span class="line">HttpMethod.DELETE.name(), HttpMethod.PATCH.name()));</span><br><span class="line"></span><br><span class="line"><span class="comment">/** Default method parameter: {<span class="doctag">@code</span> _method}. */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> String DEFAULT_METHOD_PARAM = <span class="string">"_method"</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> String methodParam = DEFAULT_METHOD_PARAM;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Set the parameter name to look for HTTP methods.</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@see</span> #DEFAULT_METHOD_PARAM</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setMethodParam</span><span class="params">(String methodParam)</span> </span>{</span><br><span class="line">Assert.hasText(methodParam, <span class="string">"'methodParam' must not be empty"</span>);</span><br><span class="line"><span class="keyword">this</span>.methodParam = methodParam;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">doFilterInternal</span><span class="params">(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain)</span></span></span><br><span class="line"><span class="function"><span class="keyword">throws</span> ServletException, IOException </span>{</span><br><span class="line"></span><br><span class="line">HttpServletRequest requestToUse = request;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (<span class="string">"POST"</span>.equals(request.getMethod()) &amp;&amp; request.getAttribute(WebUtils.ERROR_EXCEPTION_ATTRIBUTE) == <span class="keyword">null</span>) {</span><br><span class="line">String paramValue = request.getParameter(<span class="keyword">this</span>.methodParam);</span><br><span class="line"><span class="keyword">if</span> (StringUtils.hasLength(paramValue)) {</span><br><span class="line">String method = paramValue.toUpperCase(Locale.ENGLISH);</span><br><span class="line"><span class="keyword">if</span> (ALLOWED_METHODS.contains(method)) {</span><br><span class="line">requestToUse = <span class="keyword">new</span> HttpMethodRequestWrapper(request, method);</span><br><span class="line">}</span><br><span class="line">}</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">filterChain.doFilter(requestToUse, response);</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Simple {<span class="doctag">@link</span> HttpServletRequest} wrapper that returns the supplied method for</span></span><br><span class="line"><span class="comment"> * {<span class="doctag">@link</span> HttpServletRequest#getMethod()}.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">HttpMethodRequestWrapper</span> <span class="keyword">extends</span> <span class="title">HttpServletRequestWrapper</span> </span>{</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">final</span> String method;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">HttpMethodRequestWrapper</span><span class="params">(HttpServletRequest request, String method)</span> </span>{</span><br><span class="line"><span class="keyword">super</span>(request);</span><br><span class="line"><span class="keyword">this</span>.method = method;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">getMethod</span><span class="params">()</span> </span>{</span><br><span class="line"><span class="keyword">return</span> <span class="keyword">this</span>.method;</span><br><span class="line">}</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h4 id="è¯·æ±‚æ˜ å°„åŸç†"><a href="#è¯·æ±‚æ˜ å°„åŸç†" class="headerlink" title="è¯·æ±‚æ˜ å°„åŸç†"></a>è¯·æ±‚æ˜ å°„åŸç†</h4><p><img src="https://gitee.com/rain-sky/images/raw/master/20210716161538.png"></p><p>SpringMVCåŠŸèƒ½åˆ†æéƒ½ä» <code>org.springframework.web.servlet.DispatcherServlet</code> -&gt; <code>doDispatch()</code>å¼€å§‹</p><p><strong>doDispatch</strong></p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">doDispatch</span><span class="params">(HttpServletRequest request, HttpServletResponse response)</span> <span class="keyword">throws</span> Exception </span>{</span><br><span class="line">    HttpServletRequest processedRequest = request;</span><br><span class="line">    HandlerExecutionChain mappedHandler = <span class="keyword">null</span>;</span><br><span class="line">    <span class="keyword">boolean</span> multipartRequestParsed = <span class="keyword">false</span>;</span><br><span class="line"></span><br><span class="line">    WebAsyncManager asyncManager = WebAsyncUtils.getAsyncManager(request);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">try</span> {</span><br><span class="line">        ModelAndView mv = <span class="keyword">null</span>;</span><br><span class="line">        Exception dispatchException = <span class="keyword">null</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">try</span> {</span><br><span class="line">            processedRequest = checkMultipart(request);</span><br><span class="line">            multipartRequestParsed = (processedRequest != request);</span><br><span class="line"></span><br><span class="line">            <span class="comment">// æ‰¾åˆ°å½“å‰è¯·æ±‚ä½¿ç”¨å“ªä¸ªHandlerï¼ˆControllerçš„æ–¹æ³•ï¼‰å¤„ç†</span></span><br><span class="line">            mappedHandler = getHandler(processedRequest);</span><br><span class="line"></span><br><span class="line">            <span class="comment">//HandlerMappingï¼šå¤„ç†å™¨æ˜ å°„ã€‚/xxx-&gt;&gt;xxxx</span></span><br><span class="line">    ...</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p><strong>getHandler(processedRequest)</strong></p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Nullable</span></span><br><span class="line"><span class="function"><span class="keyword">protected</span> HandlerExecutionChain <span class="title">getHandler</span><span class="params">(HttpServletRequest request)</span> <span class="keyword">throws</span> Exception </span>{</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">this</span>.handlerMappings != <span class="keyword">null</span>) {</span><br><span class="line">        <span class="keyword">for</span> (HandlerMapping mapping : <span class="keyword">this</span>.handlerMappings) {</span><br><span class="line">            HandlerExecutionChain handler = mapping.getHandler(request);</span><br><span class="line">            <span class="keyword">if</span> (handler != <span class="keyword">null</span>) {</span><br><span class="line">                <span class="keyword">return</span> handler;</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p><code>this.handlerMappings</code>åœ¨Debugæ¨¡å¼ä¸‹å±•ç°çš„å†…å®¹ï¼š</p><p><img src="https://gitee.com/rain-sky/images/raw/master/20210717095547.png"></p><p><strong>RequestMappingHandlerMapping</strong>ï¼šä¿å­˜äº†æ‰€æœ‰@RequestMapping å’Œhandlerçš„æ˜ å°„è§„åˆ™ã€‚</p><p><img src="https://cdn.nlark.com/yuque/0/2020/png/1354552/1603181662070-9e526de8-fd78-4a02-9410-728f059d6aef.png?x-oss-process=image/watermark,type_d3F5LW1pY3JvaGVp,size_14,text_YXRndWlndS5jb20g5bCa56GF6LC3,color_FFFFFF,shadow_50,t_80,g_se,x_10,y_10"></p><p>æ‰€æœ‰çš„è¯·æ±‚æ˜ å°„éƒ½åœ¨HandlerMappingä¸­ï¼š</p><ul><li><p>SpringBootè‡ªåŠ¨é…ç½®æ¬¢è¿é¡µçš„ WelcomePageHandlerMapping ã€‚è®¿é—® /èƒ½è®¿é—®åˆ°index.htmlï¼›</p></li><li><p>SpringBootè‡ªåŠ¨é…ç½®äº†é»˜è®¤ çš„ RequestMappingHandlerMapping</p></li><li><p>è¯·æ±‚è¿›æ¥ï¼ŒæŒ¨ä¸ªå°è¯•æ‰€æœ‰çš„HandlerMappingçœ‹æ˜¯å¦æœ‰è¯·æ±‚ä¿¡æ¯ã€‚</p><ul><li>å¦‚æœæœ‰å°±æ‰¾åˆ°è¿™ä¸ªè¯·æ±‚å¯¹åº”çš„handler</li><li>å¦‚æœæ²¡æœ‰å°±æ˜¯ä¸‹ä¸€ä¸ª HandlerMapping</li></ul></li></ul><blockquote><p>IDEAå¿«æ·é”®ï¼š</p></blockquote><ul><li>Ctrl + Alt + U : ä»¥UMLçš„ç±»å›¾å±•ç°ç±»æœ‰å“ªäº›ç»§æ‰¿ç±»ï¼Œæ´¾ç”Ÿç±»ä»¥åŠå®ç°å“ªäº›æ¥å£ã€‚</li><li>Crtl + Alt + Shift + U : åŒä¸Šï¼ŒåŒºåˆ«åœ¨äºä¸Šæ¡å¿«æ·é”®ç»“æœåœ¨æ–°é¡µå±•ç°ï¼Œè€Œæœ¬æ¡å¿«æ·é”®ç»“æœåœ¨å¼¹çª—å±•ç°ã€‚</li><li>Ctrl + H : ä»¥æ ‘å½¢æ–¹å¼å±•ç°ç±»å±‚æ¬¡ç»“æ„å›¾ã€‚</li></ul><h4 id="æ™®é€šå‚æ•°ä¸åŸºæœ¬æ³¨è§£"><a href="#æ™®é€šå‚æ•°ä¸åŸºæœ¬æ³¨è§£" class="headerlink" title="æ™®é€šå‚æ•°ä¸åŸºæœ¬æ³¨è§£"></a>æ™®é€šå‚æ•°ä¸åŸºæœ¬æ³¨è§£</h4><p>@PathVariable è·¯å¾„å˜é‡<br>@RequestHeader è·å–è¯·æ±‚å¤´<br>@RequestParam è·å–è¯·æ±‚å‚æ•°ï¼ˆæŒ‡é—®å·åçš„å‚æ•°ï¼Œurl?a=1&amp;b=2ï¼‰<br>@CookieValue è·å–Cookieå€¼<br>@RequestAttribute è·å–requeståŸŸå±æ€§<br>@RequestBody è·å–è¯·æ±‚ä½“[POST]<br>@MatrixVariable çŸ©é˜µå˜é‡<br>@ModelAttribute</p><hr><p><strong>å®ä¾‹</strong></p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ParameterTestController</span> </span>{</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//  car/2/owner/zhangsan</span></span><br><span class="line">    <span class="meta">@GetMapping("/car/{id}/owner/{username}")</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Map&lt;String,Object&gt; <span class="title">getCar</span><span class="params">(<span class="meta">@PathVariable("id")</span> Integer id,</span></span></span><br><span class="line"><span class="function"><span class="params">                                     //è·å–è·¯å¾„å˜é‡</span></span></span><br><span class="line"><span class="function"><span class="params">                                     <span class="meta">@PathVariable("username")</span> String name,</span></span></span><br><span class="line"><span class="function"><span class="params">                                     //å°†è·¯å¾„å˜é‡å°è£…ä¸ºMap</span></span></span><br><span class="line"><span class="function"><span class="params">                                     <span class="meta">@PathVariable</span> Map&lt;String,String&gt; pv,</span></span></span><br><span class="line"><span class="function"><span class="params">                                     //è·å–è¯·æ±‚å¤´</span></span></span><br><span class="line"><span class="function"><span class="params">                                     <span class="meta">@RequestHeader("User-Agent")</span> String userAgent,</span></span></span><br><span class="line"><span class="function"><span class="params">                                     <span class="meta">@RequestHeader</span> Map&lt;String,String&gt; header,</span></span></span><br><span class="line"><span class="function"><span class="params">                                     //è·å–è¯·æ±‚åŸŸå‚æ•°</span></span></span><br><span class="line"><span class="function"><span class="params">                                     <span class="meta">@RequestParam("age")</span> Integer age,</span></span></span><br><span class="line"><span class="function"><span class="params">                                     <span class="meta">@RequestParam("inters")</span> List&lt;String&gt; inters,</span></span></span><br><span class="line"><span class="function"><span class="params">                                     //å°è£…è¯·æ±‚åŸŸå‚æ•°ä¸ºä¸€ä¸ªMap</span></span></span><br><span class="line"><span class="function"><span class="params">                                     <span class="meta">@RequestParam</span> Map&lt;String,String&gt; params,</span></span></span><br><span class="line"><span class="function"><span class="params">                                     //è·å–cookie</span></span></span><br><span class="line"><span class="function"><span class="params">                                     <span class="meta">@CookieValue("_ga")</span> String _ga,</span></span></span><br><span class="line"><span class="function"><span class="params">                                     <span class="meta">@CookieValue("_ga")</span> Cookie cookie)</span></span>{</span><br><span class="line"></span><br><span class="line">        Map&lt;String,Object&gt; map = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line"><span class="comment">//        map.put("id",id);</span></span><br><span class="line"><span class="comment">//        map.put("name",name);</span></span><br><span class="line"><span class="comment">//        map.put("pv",pv);</span></span><br><span class="line"><span class="comment">//        map.put("userAgent",userAgent);</span></span><br><span class="line"><span class="comment">//        map.put("headers",header);</span></span><br><span class="line">        map.put(<span class="string">"age"</span>,age);</span><br><span class="line">        map.put(<span class="string">"inters"</span>,inters);</span><br><span class="line">        map.put(<span class="string">"params"</span>,params);</span><br><span class="line">        map.put(<span class="string">"_ga"</span>,_ga);</span><br><span class="line">        System.out.println(cookie.getName()+<span class="string">"===&gt;"</span>+cookie.getValue());</span><br><span class="line">        <span class="keyword">return</span> map;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="meta">@PostMapping("/save")</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Map <span class="title">postMethod</span><span class="params">(<span class="meta">@RequestBody</span> String content)</span></span>{</span><br><span class="line">        Map&lt;String,Object&gt; map = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">        map.put(<span class="string">"content"</span>,content);</span><br><span class="line">        <span class="keyword">return</span> map;</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p><strong>@RequestAttribute</strong></p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Controller</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">RequestController</span> </span>{</span><br><span class="line"></span><br><span class="line">    <span class="meta">@GetMapping("/goto")</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">goToPage</span><span class="params">(HttpServletRequest request)</span></span>{</span><br><span class="line"></span><br><span class="line">        request.setAttribute(<span class="string">"msg"</span>,<span class="string">"æˆåŠŸäº†..."</span>);</span><br><span class="line">        request.setAttribute(<span class="string">"code"</span>,<span class="number">200</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"forward:/success"</span>;  <span class="comment">//è½¬å‘åˆ°  /successè¯·æ±‚</span></span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">///&lt;-----------------ä¸»è§’@RequestAttributeåœ¨è¿™ä¸ªæ–¹æ³•</span></span><br><span class="line">    <span class="meta">@ResponseBody</span></span><br><span class="line">    <span class="meta">@GetMapping("/success")</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Map <span class="title">success</span><span class="params">(<span class="meta">@RequestAttribute(value = "msg",required = false)</span> String msg,</span></span></span><br><span class="line"><span class="function"><span class="params">                       <span class="meta">@RequestAttribute(value = "code",required = false)</span>Integer code,</span></span></span><br><span class="line"><span class="function"><span class="params">                       HttpServletRequest request)</span></span>{</span><br><span class="line"></span><br><span class="line">        Map&lt;String,Object&gt; map = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">        map.put(<span class="string">"reqMethod_msg"</span>,msg);</span><br><span class="line">        map.put(<span class="string">"annotation_msg"</span>,code);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> map;</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h4 id="å¤æ‚å‚æ•°"><a href="#å¤æ‚å‚æ•°" class="headerlink" title="å¤æ‚å‚æ•°"></a>å¤æ‚å‚æ•°</h4><p>å¤æ‚å‚æ•°ï¼š</p><p>Map</p><p>Modelï¼ˆmapã€modelé‡Œé¢çš„æ•°æ®ä¼šè¢«æ”¾åœ¨requestçš„è¯·æ±‚åŸŸ request.setAttributeï¼‰</p><p>Errors/BindingResult</p><p>RedirectAttributesï¼ˆ é‡å®šå‘æºå¸¦æ•°æ®ï¼‰</p><p>ServletResponseï¼ˆresponseï¼‰</p><p>SessionStatus</p><p>UriComponentsBuilder</p><p>ServletUriComponentsBuilder</p><p><strong>å®ä¾‹</strong></p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@GetMapping("/params")</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">testParam</span><span class="params">(Map&lt;String,Object&gt; map,</span></span></span><br><span class="line"><span class="function"><span class="params">                        Model model,</span></span></span><br><span class="line"><span class="function"><span class="params">                        HttpServletRequest request,</span></span></span><br><span class="line"><span class="function"><span class="params">                        HttpServletResponse response)</span></span>{</span><br><span class="line">    <span class="comment">//ä¸‹é¢ä¸‰ä½éƒ½æ˜¯å¯ä»¥ç»™requeståŸŸä¸­æ”¾æ•°æ®</span></span><br><span class="line">    map.put(<span class="string">"hello"</span>,<span class="string">"world666"</span>);</span><br><span class="line">    model.addAttribute(<span class="string">"world"</span>,<span class="string">"hello666"</span>);</span><br><span class="line">    request.setAttribute(<span class="string">"message"</span>,<span class="string">"HelloWorld"</span>);</span><br><span class="line"></span><br><span class="line">    Cookie cookie = <span class="keyword">new</span> Cookie(<span class="string">"c1"</span>,<span class="string">"v1"</span>);</span><br><span class="line">    response.addCookie(cookie);</span><br><span class="line">    <span class="keyword">return</span> <span class="string">"forward:/success"</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="meta">@ResponseBody</span></span><br><span class="line"><span class="meta">@GetMapping("/success")</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> Map <span class="title">success</span><span class="params">(<span class="meta">@RequestAttribute(value = "msg",required = false)</span> String msg,</span></span></span><br><span class="line"><span class="function"><span class="params">                   <span class="meta">@RequestAttribute(value = "code",required = false)</span>Integer code,</span></span></span><br><span class="line"><span class="function"><span class="params">                   HttpServletRequest request)</span></span>{</span><br><span class="line">    Object msg1 = request.getAttribute(<span class="string">"msg"</span>);</span><br><span class="line"></span><br><span class="line">    Map&lt;String,Object&gt; map = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">    Object hello = request.getAttribute(<span class="string">"hello"</span>);<span class="comment">//å¾—å‡ºtestParamæ–¹æ³•èµ‹äºˆçš„å€¼ world666</span></span><br><span class="line">    Object world = request.getAttribute(<span class="string">"world"</span>);<span class="comment">//å¾—å‡ºtestParamæ–¹æ³•èµ‹äºˆçš„å€¼ hello666</span></span><br><span class="line">    Object message = request.getAttribute(<span class="string">"message"</span>);<span class="comment">//å¾—å‡ºtestParamæ–¹æ³•èµ‹äºˆçš„å€¼ HelloWorld</span></span><br><span class="line"></span><br><span class="line">    map.put(<span class="string">"reqMethod_msg"</span>,msg1);</span><br><span class="line">    map.put(<span class="string">"annotation_msg"</span>,msg);</span><br><span class="line">    map.put(<span class="string">"hello"</span>,hello);</span><br><span class="line">    map.put(<span class="string">"world"</span>,world);</span><br><span class="line">    map.put(<span class="string">"message"</span>,message);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> map;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><ul><li><code>Map&lt;String,Object&gt; map</code></li><li><code>Model model</code></li><li><code>HttpServletRequest request</code></li></ul><p>åœ¨conrolleræ–¹æ³•è¿”å›ç»“æœä¹‹å‰ï¼Œå¤„ç†è¿”å›ç»“æœä¸­ä¼šå°†modelï¼Œmapä¸­çš„æ•°æ®å¹¶å…¥è¯·æ±‚åŸŸ</p><p>ä¸Šé¢ä¸‰ä½éƒ½æ˜¯å¯ä»¥ç»™requeståŸŸä¸­æ”¾æ•°æ®ï¼Œç”¨<code>request.getAttribute()</code>è·å–</p><h4 id="å†…å®¹åå•†"><a href="#å†…å®¹åå•†" class="headerlink" title="å†…å®¹åå•†"></a>å†…å®¹åå•†</h4><p><strong>å¼€å¯æµè§ˆå™¨è¯·æ±‚å†…å®¹åå•†</strong></p><figure class="highlight yaml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">spring:</span></span><br><span class="line">  <span class="attr">mvc:</span></span><br><span class="line">    <span class="attr">contentnegotiation:</span></span><br><span class="line">      <span class="attr">favor-parameter:</span> <span class="literal">true</span>  <span class="comment">#å¼€å¯è¯·æ±‚å‚æ•°å†…å®¹åå•†æ¨¡å¼</span></span><br></pre></td></tr></tbody></table></figure><p>â€¦â€¦</p><h4 id="thymeleaf"><a href="#thymeleaf" class="headerlink" title="thymeleaf"></a>thymeleaf</h4><p><a href="https://www.thymeleaf.org/documentation.html">å®˜æ–¹æ–‡æ¡£</a></p><p>å¼•å…¥</p><figure class="highlight xml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-thymeleaf<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><p>è‡ªåŠ¨é…ç½®</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Configuration(proxyBeanMethods = false)</span></span><br><span class="line"><span class="meta">@EnableConfigurationProperties(ThymeleafProperties.class)</span></span><br><span class="line"><span class="meta">@ConditionalOnClass({ TemplateMode.class, SpringTemplateEngine.class })</span></span><br><span class="line"><span class="meta">@AutoConfigureAfter({ WebMvcAutoConfiguration.class, WebFluxAutoConfiguration.class })</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ThymeleafAutoConfiguration</span> </span>{</span><br><span class="line">    ...</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><figure class="highlight properties"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">public</span> <span class="string">static final String DEFAULT_PREFIX = "classpath:/templates/";//æ¨¡æ¿æ”¾ç½®å¤„</span></span><br><span class="line"><span class="attr">public</span> <span class="string">static final String DEFAULT_SUFFIX = ".html";//æ–‡ä»¶çš„åç¼€å</span></span><br></pre></td></tr></tbody></table></figure><p><strong>è¡¨è¾¾å¼è¯­æ³•</strong></p><table><thead><tr><th>è¡¨è¾¾å¼åå­—</th><th>è¯­æ³•</th><th>ç”¨é€”</th></tr></thead><tbody><tr><td>å˜é‡å–å€¼</td><td>${â€¦}</td><td>è·å–è¯·æ±‚åŸŸã€sessionåŸŸã€å¯¹è±¡ç­‰å€¼</td></tr><tr><td>é€‰æ‹©å˜é‡</td><td>*{â€¦}</td><td>è·å–ä¸Šä¸‹æ–‡å¯¹è±¡å€¼</td></tr><tr><td>æ¶ˆæ¯</td><td>#{â€¦}</td><td>è·å–å›½é™…åŒ–ç­‰å€¼</td></tr><tr><td>é“¾æ¥</td><td>@{â€¦}</td><td>ç”Ÿæˆé“¾æ¥</td></tr><tr><td>ç‰‡æ®µè¡¨è¾¾å¼</td><td>~{â€¦}</td><td>jsp:include ä½œç”¨ï¼Œå¼•å…¥å…¬å…±é¡µé¢ç‰‡æ®µ</td></tr></tbody></table><p><strong>å­—é¢é‡</strong></p><ul><li>æ–‡æœ¬å€¼: <strong>â€˜one textâ€™</strong> <strong>,</strong> <strong>â€˜Another one!â€™</strong> <strong>,â€¦</strong></li><li>æ•°å­—: <strong>0</strong> <strong>,</strong> <strong>34</strong> <strong>,</strong> <strong>3.0</strong> <strong>,</strong> <strong>12.3</strong> <strong>,â€¦</strong></li><li>å¸ƒå°”å€¼: <strong>true</strong> <strong>,</strong> <strong>false</strong></li><li>ç©ºå€¼: <strong>null</strong></li><li>å˜é‡ï¼š oneï¼Œtwoï¼Œâ€¦ å˜é‡ä¸èƒ½æœ‰ç©ºæ ¼</li></ul><p><strong>æ–‡æœ¬æ“ä½œ</strong></p><ul><li>å­—ç¬¦ä¸²æ‹¼æ¥: +</li><li>å˜é‡æ›¿æ¢: |The name is ${name}|</li></ul><p><strong>æ•°å­¦è¿ç®—</strong></p><ul><li>è¿ç®—ç¬¦: + , - , * , / , %</li></ul><p><strong>å¸ƒå°”è¿ç®—</strong></p><ul><li>è¿ç®—ç¬¦: and , or</li><li>ä¸€å…ƒè¿ç®—: ! , not</li></ul><p><strong>æ¯”è¾ƒè¿ç®—</strong></p><ul><li>æ¯”è¾ƒ: &gt; , &lt; , &gt;= , &lt;= ( gt , lt , ge , le )</li><li>ç­‰å¼: == , != ( eq , ne )</li></ul><p><strong>æ¡ä»¶è¿ç®—</strong></p><ul><li>If-then: (if) ? (then)</li><li>If-then-else: (if) ? (then) : (else)</li></ul><p><strong>è®¾ç½®å±æ€§å€¼-th:attr</strong></p><p>å•ä¸ªå€¼</p><figure class="highlight html"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">"subscribe.html"</span> <span class="attr">th:attr</span>=<span class="string">"action=@{/subscribe}"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">fieldset</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">name</span>=<span class="string">"email"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"submit"</span> <span class="attr">value</span>=<span class="string">"Subscribe!"</span> <span class="attr">th:attr</span>=<span class="string">"value=#{subscribe.submit}"</span>/&gt;</span></span><br><span class="line">     <span class="comment">&lt;!-- æ›¿ä»£å†™æ³• --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"submit"</span> <span class="attr">value</span>=<span class="string">"Subscribe!"</span> <span class="attr">th:value</span>=<span class="string">"${subscribe.submit}"</span>/&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">fieldset</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><p>å¤šä¸ªå€¼</p><figure class="highlight html"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"../../images/gtvglogo.png"</span>  </span></span><br><span class="line"><span class="tag">     <span class="attr">th:attr</span>=<span class="string">"src=@{/images/gtvglogo.png},title=#{logo},alt=#{logo}"</span> /&gt;</span></span><br></pre></td></tr></tbody></table></figure><p><strong>è¿­ä»£</strong></p><figure class="highlight html"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">tr</span> <span class="attr">th:each</span>=<span class="string">"prod : ${prods}"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">td</span> <span class="attr">th:text</span>=<span class="string">"${prod.name}"</span>&gt;</span>Onions<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">td</span> <span class="attr">th:text</span>=<span class="string">"${prod.price}"</span>&gt;</span>2.41<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">td</span> <span class="attr">th:text</span>=<span class="string">"${prod.inStock}? #{true} : #{false}"</span>&gt;</span>yes<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">tr</span> <span class="attr">th:each</span>=<span class="string">"prod,iterStat : ${prods}"</span> <span class="attr">th:class</span>=<span class="string">"${iterStat.odd}? 'odd'"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">td</span> <span class="attr">th:text</span>=<span class="string">"${prod.name}"</span>&gt;</span>Onions<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">td</span> <span class="attr">th:text</span>=<span class="string">"${prod.price}"</span>&gt;</span>2.41<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">td</span> <span class="attr">th:text</span>=<span class="string">"${prod.inStock}? #{true} : #{false}"</span>&gt;</span>yes<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><p><strong>æ¡ä»¶è¿ç®—</strong></p><figure class="highlight html"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"comments.html"</span></span></span><br><span class="line"><span class="tag"><span class="attr">th:href</span>=<span class="string">"@{/product/comments(prodId=${prod.id})}"</span></span></span><br><span class="line"><span class="tag"><span class="attr">th:if</span>=<span class="string">"${not #lists.isEmpty(prod.comments)}"</span>&gt;</span>view<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">th:switch</span>=<span class="string">"${user.role}"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">p</span> <span class="attr">th:case</span>=<span class="string">"'admin'"</span>&gt;</span>User is an administrator<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">p</span> <span class="attr">th:case</span>=<span class="string">"#{roles.manager}"</span>&gt;</span>User is a manager<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">p</span> <span class="attr">th:case</span>=<span class="string">"*"</span>&gt;</span>User is some other thing<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><h4 id="è§†å›¾è§£æ"><a href="#è§†å›¾è§£æ" class="headerlink" title="è§†å›¾è§£æ"></a>è§†å›¾è§£æ</h4><p>è§†å›¾è§£æåŸç†æµç¨‹ï¼š</p><ul><li>ç›®æ ‡æ–¹æ³•å¤„ç†çš„è¿‡ç¨‹ä¸­ï¼ˆé˜…è¯»DispatcherServletæºç ï¼‰ï¼Œæ‰€æœ‰æ•°æ®éƒ½ä¼šè¢«æ”¾åœ¨ ModelAndViewContainer é‡Œé¢ï¼Œå…¶ä¸­åŒ…æ‹¬æ•°æ®å’Œè§†å›¾åœ°å€ã€‚</li><li>æ–¹æ³•çš„å‚æ•°æ˜¯ä¸€ä¸ªè‡ªå®šä¹‰ç±»å‹å¯¹è±¡ï¼ˆä»è¯·æ±‚å‚æ•°ä¸­ç¡®å®šçš„ï¼‰ï¼ŒæŠŠä»–é‡æ–°æ”¾åœ¨ ModelAndViewContainer ã€‚<br>ä»»ä½•ç›®æ ‡æ–¹æ³•æ‰§è¡Œå®Œæˆä»¥åéƒ½ä¼šè¿”å›ModelAndViewï¼ˆæ•°æ®å’Œè§†å›¾åœ°å€ï¼‰ã€‚</li><li>processDispatchResult()å¤„ç†æ´¾å‘ç»“æœï¼ˆé¡µé¢æ”¹å¦‚ä½•å“åº”ï¼‰<ul><li>render(mv, request, response); è¿›è¡Œé¡µé¢æ¸²æŸ“é€»è¾‘<ul><li>æ ¹æ®æ–¹æ³•çš„Stringè¿”å›å€¼å¾—åˆ° View å¯¹è±¡ã€å®šä¹‰äº†é¡µé¢çš„æ¸²æŸ“é€»è¾‘ã€‘<ul><li>æ‰€æœ‰çš„è§†å›¾è§£æå™¨å°è¯•æ˜¯å¦èƒ½æ ¹æ®å½“å‰è¿”å›å€¼å¾—åˆ°Viewå¯¹è±¡</li><li>å¾—åˆ°äº† redirect:/main.html â€“&gt; Thymeleaf new RedirectView()ã€‚</li><li>ContentNegotiationViewResolver é‡Œé¢åŒ…å«äº†ä¸‹é¢æ‰€æœ‰çš„è§†å›¾è§£æå™¨ï¼Œå†…éƒ¨è¿˜æ˜¯åˆ©ç”¨ä¸‹é¢æ‰€æœ‰è§†å›¾è§£æå™¨å¾—åˆ°è§†å›¾å¯¹è±¡ã€‚</li><li>view.render(mv.getModelInternal(), request, response); è§†å›¾å¯¹è±¡è°ƒç”¨è‡ªå®šä¹‰çš„renderè¿›è¡Œé¡µé¢æ¸²æŸ“å·¥ä½œã€‚<ul><li>RedirectView å¦‚ä½•æ¸²æŸ“ã€é‡å®šå‘åˆ°ä¸€ä¸ªé¡µé¢ã€‘</li><li>è·å–ç›®æ ‡urlåœ°å€</li><li>response.sendRedirect(encodedURL);</li></ul></li></ul></li></ul></li></ul></li></ul><p><strong>è§†å›¾è§£æï¼š</strong></p><ul><li><p><strong>è¿”å›å€¼ä»¥ forward: å¼€å§‹ï¼š new InternalResourceView(forwardUrl); â€“&gt;  è½¬å‘**</strong>request.getRequestDispatcher(path).forward(request, response);** </p></li><li><p><strong>è¿”å›å€¼ä»¥</strong> <strong>redirect: å¼€å§‹ï¼š</strong> <strong>new RedirectView() â€“ã€‹ renderå°±æ˜¯é‡å®šå‘</strong> </p></li><li><p><strong>è¿”å›å€¼æ˜¯æ™®é€šå­—ç¬¦ä¸²ï¼š new ThymeleafViewï¼ˆï¼‰â€”&gt;</strong> </p></li></ul><h4 id="æ‹¦æˆªå™¨"><a href="#æ‹¦æˆªå™¨" class="headerlink" title="æ‹¦æˆªå™¨"></a>æ‹¦æˆªå™¨</h4><p><span class="github-emoji"><span>1âƒ£</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/0031-20e3.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span> <strong>å®ç°HandlerInterceptoræ¥å£</strong></p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * ç™»é™†æ£€æŸ¥æ‹¦æˆªå™¨</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">LoginInterceptor</span> <span class="keyword">implements</span> <span class="title">HandlerInterceptor</span> </span>{</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">preHandle</span><span class="params">(HttpServletRequest request, HttpServletResponse response, Object handler)</span> <span class="keyword">throws</span> Exception </span>{</span><br><span class="line">        System.out.println(<span class="string">"=====å‰ç½®ç™»å½•æ‹¦æˆªå¼€å§‹====="</span>);</span><br><span class="line">        Object loginUser = request.getSession().getAttribute(<span class="string">"loginUser"</span>);</span><br><span class="line">        <span class="keyword">if</span>(loginUser!=<span class="keyword">null</span>)<span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">        request.setAttribute(<span class="string">"msg"</span>,<span class="string">"è¯·å…ˆç™»å½•"</span>);</span><br><span class="line">        request.getRequestDispatcher(<span class="string">"/"</span>).forward(request,response);</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">postHandle</span><span class="params">(HttpServletRequest request, HttpServletResponse response, Object handler, ModelAndView modelAndView)</span> <span class="keyword">throws</span> Exception </span>{</span><br><span class="line">        System.out.println(<span class="string">"=====å¤„ç†ç™»å½•æ‹¦æˆªå¼€å§‹====="</span>);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">afterCompletion</span><span class="params">(HttpServletRequest request, HttpServletResponse response, Object handler, Exception ex)</span> <span class="keyword">throws</span> Exception </span>{</span><br><span class="line">        System.out.println(<span class="string">"=====åç½®ç™»å½•æ‹¦æˆªå¼€å§‹====="</span>);</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p><span class="github-emoji"><span>2âƒ£</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/0032-20e3.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span>  <strong>æ‹¦æˆªå™¨æ³¨å†Œåˆ°å®¹å™¨ä¸­ &amp;&amp; æŒ‡å®šæ‹¦æˆªè§„åˆ™</strong></p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">AdminWebConfig</span> <span class="keyword">implements</span> <span class="title">WebMvcConfigurer</span></span>{</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">addInterceptors</span><span class="params">(InterceptorRegistry registry)</span> </span>{</span><br><span class="line">        <span class="comment">//æ‹¦æˆªå™¨æ³¨å†Œåˆ°å®¹å™¨ä¸­</span></span><br><span class="line">        registry.addInterceptor(<span class="keyword">new</span> LoginInterceptor())</span><br><span class="line">                .addPathPatterns(<span class="string">"/**"</span>)  <span class="comment">//æ‰€æœ‰è¯·æ±‚éƒ½è¢«æ‹¦æˆªåŒ…æ‹¬é™æ€èµ„æº</span></span><br><span class="line">                .excludePathPatterns(<span class="string">"/"</span>,<span class="string">"/login"</span>,<span class="string">"/css/**"</span>,<span class="string">"/fonts/**"</span>,<span class="string">"/images/**"</span>,</span><br><span class="line">                        <span class="string">"/js/**"</span>,<span class="string">"/aa/**"</span>); <span class="comment">//æ”¾è¡Œçš„è¯·æ±‚</span></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h4 id="æ–‡ä»¶ä¸Šä¼ "><a href="#æ–‡ä»¶ä¸Šä¼ " class="headerlink" title="æ–‡ä»¶ä¸Šä¼ "></a>æ–‡ä»¶ä¸Šä¼ </h4><p>é¡µé¢</p><figure class="highlight html"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">role</span>=<span class="string">"form"</span> <span class="attr">th:action</span>=<span class="string">"@{/upload}"</span> <span class="attr">method</span>=<span class="string">"post"</span> <span class="attr">enctype</span>=<span class="string">"multipart/form-data"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"form-group"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">"exampleInputFile"</span>&gt;</span>å¤´åƒ<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"file"</span> <span class="attr">name</span>=<span class="string">"headerImg"</span> <span class="attr">id</span>=<span class="string">"exampleInputFile"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    </span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"form-group"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">"exampleInputFile"</span>&gt;</span>ç”Ÿæ´»ç…§<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- multipleè¡¨æ˜å¤šæ–‡ä»¶ä¸Šä¼ --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"file"</span> <span class="attr">name</span>=<span class="string">"photos"</span> <span class="attr">multiple</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    </span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"checkbox"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">label</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"checkbox"</span>&gt;</span> Check me out</span><br><span class="line">        <span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> <span class="attr">type</span>=<span class="string">"submit"</span> <span class="attr">class</span>=<span class="string">"btn btn-primary"</span>&gt;</span>æäº¤<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><p>åå°</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * è¡¨å•æ§åˆ¶</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Controller</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">FormController</span> </span>{</span><br><span class="line">    <span class="comment">//æ–‡ä»¶ä¸Šä¼ æµ‹è¯•</span></span><br><span class="line">    <span class="meta">@PostMapping("/upload")</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">fileUpload</span><span class="params">(String email, String password, <span class="meta">@RequestPart</span> MultipartFile headImage,</span></span></span><br><span class="line"><span class="function"><span class="params">                             <span class="meta">@RequestPart</span> MultipartFile[] photos)</span> <span class="keyword">throws</span> IOException </span>{</span><br><span class="line">        <span class="comment">//å¦‚æœæŒ‰é»˜è®¤æ–‡ä»¶ä¸Šä¼ é…ç½®ï¼Œæ–‡ä»¶è¿‡å¤§ä¼šä¸Šä¼ å¤±è´¥ï¼Œä¸ºæ­¤æˆ‘ä»¬ä¿®æ”¹é…ç½®</span></span><br><span class="line">        <span class="keyword">if</span>(!headImage.isEmpty()){</span><br><span class="line">            String originalFilename = headImage.getOriginalFilename();</span><br><span class="line">            headImage.transferTo(<span class="keyword">new</span> File(<span class="string">"D:\\images\\"</span>+originalFilename));</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">if</span> (photos.length&gt;<span class="number">0</span>){</span><br><span class="line">            <span class="keyword">for</span> (MultipartFile photo : photos) {</span><br><span class="line">                photo.transferTo(<span class="keyword">new</span> File(<span class="string">"D:\\images\\"</span>+photo.getOriginalFilename()));</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"redirect:/main.html"</span>;</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure><p>é…ç½®æ–‡ä»¶ä¸Šä¼ é¢„è®¾å‚æ•°</p><figure class="highlight properties"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">spring.servlet.multipart.max-file-size</span>=<span class="string">10MB</span></span><br><span class="line"><span class="meta">spring.servlet.multipart.max-request-size</span>=<span class="string">100MB</span></span><br></pre></td></tr></tbody></table></figure><h4 id="é”™è¯¯å¤„ç†æœºåˆ¶"><a href="#é”™è¯¯å¤„ç†æœºåˆ¶" class="headerlink" title="é”™è¯¯å¤„ç†æœºåˆ¶"></a>é”™è¯¯å¤„ç†æœºåˆ¶</h4><h4 id="åŸç”Ÿç»„ä»¶æ³¨å…¥"><a href="#åŸç”Ÿç»„ä»¶æ³¨å…¥" class="headerlink" title="åŸç”Ÿç»„ä»¶æ³¨å…¥"></a>åŸç”Ÿç»„ä»¶æ³¨å…¥</h4><h4 id="åµŒå…¥å¼Servletå®¹å™¨-åˆ‡æ¢webæœåŠ¡å™¨ä¸å®šåˆ¶åŒ–"><a href="#åµŒå…¥å¼Servletå®¹å™¨-åˆ‡æ¢webæœåŠ¡å™¨ä¸å®šåˆ¶åŒ–" class="headerlink" title="åµŒå…¥å¼Servletå®¹å™¨-åˆ‡æ¢webæœåŠ¡å™¨ä¸å®šåˆ¶åŒ–"></a>åµŒå…¥å¼Servletå®¹å™¨-åˆ‡æ¢webæœåŠ¡å™¨ä¸å®šåˆ¶åŒ–</h4><h2 id="æ•´åˆ"><a href="#æ•´åˆ" class="headerlink" title="æ•´åˆ"></a>æ•´åˆ</h2><h4 id="æ•°æ®è®¿é—®"><a href="#æ•°æ®è®¿é—®" class="headerlink" title="æ•°æ®è®¿é—®"></a>æ•°æ®è®¿é—®</h4><p><strong>å¯¼å…¥jdbcåœºæ™¯</strong></p><figure class="highlight xml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-data-jdbc<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><p>ä»–ä¼šç»™æˆ‘ä»¬å¯¼å…¥æ•°æ®åº“è¿æ¥æ± ï¼Œäº‹åŠ¡ç®¡ç†ç­‰ç»„ä»¶ï¼Œä½†ä¸å¯¼å…¥æ•°æ®åº“é©±åŠ¨ï¼Œå› ä¸ºspringbootæ— æ³•çŸ¥é“ä½ ç”¨ä½•ç§æ•°æ®åº“ï¼Œmysql? or Oracleï¼Ÿ</p><p><strong>å¯¼å…¥æ•°æ®åº“é©±åŠ¨</strong></p><figure class="highlight xml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--é»˜è®¤ç‰ˆæœ¬ï¼š--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">mysql.version</span>&gt;</span>8.0.22<span class="tag">&lt;/<span class="name">mysql.version</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>mysql<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mysql-connector-java<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--&lt;version&gt;5.1.49&lt;/version&gt;--&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">æƒ³è¦ä¿®æ”¹ç‰ˆæœ¬</span></span><br><span class="line"><span class="comment">1ã€ç›´æ¥ä¾èµ–å¼•å…¥å…·ä½“ç‰ˆæœ¬ï¼ˆmavençš„å°±è¿‘ä¾èµ–åŸåˆ™ï¼‰</span></span><br><span class="line"><span class="comment">2ã€é‡æ–°å£°æ˜ç‰ˆæœ¬ï¼ˆmavençš„å±æ€§çš„å°±è¿‘ä¼˜å…ˆåŸåˆ™ï¼‰</span></span><br><span class="line"><span class="comment">--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">properties</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">java.version</span>&gt;</span>1.8<span class="tag">&lt;/<span class="name">java.version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">mysql.version</span>&gt;</span>5.1.49<span class="tag">&lt;/<span class="name">mysql.version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">properties</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><p><strong>ç›¸å…³æ•°æ®æºé…ç½®ç±»</strong></p><ul><li><p>DataSourceAutoConfiguration ï¼š æ•°æ®æºçš„è‡ªåŠ¨é…ç½®ã€‚</p><p>ä¿®æ”¹æ•°æ®æºç›¸å…³çš„é…ç½®ï¼šspring.datasourceã€‚<br>æ•°æ®åº“è¿æ¥æ± çš„é…ç½®ï¼Œæ˜¯è‡ªå·±å®¹å™¨ä¸­æ²¡æœ‰DataSourceæ‰è‡ªåŠ¨é…ç½®çš„ã€‚<br>åº•å±‚é…ç½®å¥½çš„è¿æ¥æ± æ˜¯ï¼šHikariDataSourceã€‚</p></li><li><p>DataSourceTransactionManagerAutoConfigurationï¼š äº‹åŠ¡ç®¡ç†å™¨çš„è‡ªåŠ¨é…ç½®ã€‚</p></li><li><p>JdbcTemplateAutoConfigurationï¼š JdbcTemplateçš„è‡ªåŠ¨é…ç½®ï¼Œå¯ä»¥æ¥å¯¹æ•°æ®åº“è¿›è¡ŒCRUDã€‚</p><p>å¯ä»¥ä¿®æ”¹å‰ç¼€ä¸ºspring.jdbcçš„é…ç½®é¡¹æ¥ä¿®æ”¹JdbcTemplateã€‚<br>@Bean @Primary JdbcTemplateï¼šSpringå®¹å™¨ä¸­æœ‰è¿™ä¸ªJdbcTemplateç»„ä»¶ï¼Œä½¿ç”¨@Autowiredã€‚</p></li><li><p>JndiDataSourceAutoConfigurationï¼š JNDIçš„è‡ªåŠ¨é…ç½®ã€‚</p></li><li><p>XADataSourceAutoConfigurationï¼š åˆ†å¸ƒå¼äº‹åŠ¡ç›¸å…³çš„ã€‚</p></li></ul><p><strong>ä¿®æ”¹é…ç½®é¡¹</strong></p><figure class="highlight yaml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">spring:</span></span><br><span class="line">  <span class="attr">datasource:</span></span><br><span class="line">    <span class="attr">url:</span> <span class="string">jdbc:mysql://localhost:3306/db_account</span></span><br><span class="line">    <span class="attr">username:</span> <span class="string">root</span></span><br><span class="line">    <span class="attr">password:</span> <span class="number">123456</span></span><br><span class="line">    <span class="attr">driver-class-name:</span> <span class="string">com.mysql.jdbc.Driver</span></span><br></pre></td></tr></tbody></table></figure><h4 id="Druidæ•´åˆ"><a href="#Druidæ•´åˆ" class="headerlink" title="Druidæ•´åˆ"></a>Druidæ•´åˆ</h4><p><a href="https://github.com/alibaba/druid">Druidå®˜æ–¹GitHubåœ°å€</a></p><p><a href="https://github.com/alibaba/druid/wiki/Druid%E8%BF%9E%E6%8E%A5%E6%B1%A0%E4%BB%8B%E7%BB%8D">ä»‹ç»</a></p><p><strong>è‡ªå®šä¹‰æ–¹å¼æ•´åˆ</strong></p><p>æ·»åŠ ä¾èµ–</p><figure class="highlight xml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.alibaba<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>druid<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.1.17<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><p>é…ç½®æ•°æ®æº</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyConfig</span> </span>{</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="meta">@ConfigurationProperties("spring.datasource")</span><span class="comment">//å¤ç”¨é…ç½®æ–‡ä»¶çš„æ•°æ®æºé…ç½®,å¯ä»¥åœ¨é…ç½®æ–‡ä»¶ä¸­é…ç½®</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> DataSource <span class="title">dataSource</span><span class="params">()</span> <span class="keyword">throws</span> SQLException </span>{</span><br><span class="line">        DruidDataSource druidDataSource = <span class="keyword">new</span> DruidDataSource();</span><br><span class="line"><span class="comment">//        druidDataSource.setUrl();</span></span><br><span class="line"><span class="comment">//        druidDataSource.setUsername();</span></span><br><span class="line"><span class="comment">//        druidDataSource.setPassword();</span></span><br><span class="line">        <span class="keyword">return</span> druidDataSource;</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><blockquote><p><a href="https://github.com/alibaba/druid/wiki/DruidDataSource%E9%85%8D%E7%BD%AE">æ›´å¤šé…ç½®å‚ç…§</a></p></blockquote><ul><li><p>Druidçš„ç›‘æ§é¡µåŠŸèƒ½ï¼š</p><p>Druidå†…ç½®æä¾›äº†ä¸€ä¸ªStatViewServletç”¨äºå±•ç¤ºDruidçš„ç»Ÿè®¡ä¿¡æ¯ã€‚å®˜æ–¹æ–‡æ¡£ - é…ç½®_StatViewServleté…ç½®ã€‚è¿™ä¸ªStatViewServletçš„ç”¨é€”åŒ…æ‹¬ï¼š</p><p>æä¾›ç›‘æ§ä¿¡æ¯å±•ç¤ºçš„htmlé¡µé¢<br>æä¾›ç›‘æ§ä¿¡æ¯çš„JSON API</p><p>uidå†…ç½®æä¾›ä¸€ä¸ªStatFilterï¼Œç”¨äºç»Ÿè®¡ç›‘æ§ä¿¡æ¯ã€‚å®˜æ–¹æ–‡æ¡£ - é…ç½®_StatFilter</p></li><li><p>bStatFilterç”¨äºé‡‡é›†web-jdbcå…³è”ç›‘æ§çš„æ•°æ®ï¼Œå¦‚SQLç›‘æ§ã€URIç›‘æ§ã€‚å®˜æ–¹æ–‡æ¡£ - é…ç½®_é…ç½®WebStatFilter</p></li><li><p>uidæä¾›äº†WallFilterï¼Œå®ƒæ˜¯åŸºäºSQLè¯­ä¹‰åˆ†ææ¥å®ç°é˜²å¾¡SQLæ³¨å…¥æ”»å‡»çš„ã€‚å®˜æ–¹æ–‡æ¡£ - é…ç½® wallfilter</p></li></ul><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyConfig</span> </span>{</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="meta">@ConfigurationProperties("spring.datasource")</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> DataSource <span class="title">dataSource</span><span class="params">()</span> <span class="keyword">throws</span> SQLException </span>{</span><br><span class="line">        DruidDataSource druidDataSource = <span class="keyword">new</span> DruidDataSource();</span><br><span class="line">        <span class="comment">//åŠ å…¥ç›‘æ§å’Œé˜²ç«å¢™åŠŸèƒ½åŠŸèƒ½</span></span><br><span class="line">        druidDataSource.setFilters(<span class="string">"stat,wall"</span>);</span><br><span class="line">        <span class="keyword">return</span> druidDataSource;</span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * é…ç½® druidçš„ç›‘æ§é¡µåŠŸèƒ½</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> ServletRegistrationBean <span class="title">statViewServlet</span><span class="params">()</span></span>{</span><br><span class="line">        StatViewServlet statViewServlet = <span class="keyword">new</span> StatViewServlet();</span><br><span class="line">        ServletRegistrationBean&lt;StatViewServlet&gt; registrationBean = </span><br><span class="line">            <span class="keyword">new</span> ServletRegistrationBean&lt;&gt;(statViewServlet, <span class="string">"/druid/*"</span>);</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//ç›‘æ§é¡µè´¦å·å¯†ç ï¼š</span></span><br><span class="line">        registrationBean.addInitParameter(<span class="string">"loginUsername"</span>,<span class="string">"admin"</span>);</span><br><span class="line">        registrationBean.addInitParameter(<span class="string">"loginPassword"</span>,<span class="string">"123456"</span>);</span><br><span class="line">        <span class="keyword">return</span> registrationBean;</span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line">     <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * WebStatFilter ç”¨äºé‡‡é›†web-jdbcå…³è”ç›‘æ§çš„æ•°æ®ã€‚</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> FilterRegistrationBean <span class="title">webStatFilter</span><span class="params">()</span></span>{</span><br><span class="line">        WebStatFilter webStatFilter = <span class="keyword">new</span> WebStatFilter();</span><br><span class="line"></span><br><span class="line">        FilterRegistrationBean&lt;WebStatFilter&gt; filterRegistrationBean = <span class="keyword">new</span> FilterRegistrationBean&lt;&gt;(webStatFilter);</span><br><span class="line">        filterRegistrationBean.setUrlPatterns(Arrays.asList(<span class="string">"/*"</span>));</span><br><span class="line">        filterRegistrationBean.addInitParameter(<span class="string">"exclusions"</span>,<span class="string">"*.js,*.gif,*.jpg,*.png,*.css,*.ico,/druid/*"</span>);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> filterRegistrationBean;</span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p><strong>starteræ•´åˆæ–¹å¼</strong></p><p><a href="https://github.com/alibaba/druid/tree/master/druid-spring-boot-starter">å®˜æ–¹æ–‡æ¡£</a></p><p>ä¾èµ–å¼•å…¥</p><figure class="highlight xml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.alibaba<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>druid-spring-boot-starter<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.1.17<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><p>è‡ªåŠ¨é…ç½®</p><ul><li>é…ç½®é¡¹ spring.datasource.druid</li><li>è‡ªåŠ¨é…ç½®ç±»DruidDataSourceAutoConfigure</li><li>DruidSpringAopConfiguration.class, ç›‘æ§SpringBeançš„ï¼›é…ç½®é¡¹ï¼šspring.datasource.druid.aop-patterns</li><li>DruidStatViewServletConfiguration.class, ç›‘æ§é¡µçš„é…ç½®ã€‚spring.datasource.druid.stat-view-servleté»˜è®¤å¼€å¯ã€‚</li><li>DruidWebStatFilterConfiguration.classï¼Œwebç›‘æ§é…ç½®ã€‚spring.datasource.druid.web-stat-filteré»˜è®¤å¼€å¯ã€‚</li><li>DruidFilterConfiguration.classæ‰€æœ‰Druidçš„filterçš„é…ç½®</li></ul><p>ä¸€ä¸ªå®ä¾‹</p><figure class="highlight yaml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">spring:</span></span><br><span class="line">  <span class="attr">datasource:</span></span><br><span class="line">    <span class="attr">url:</span> <span class="string">jdbc:mysql://localhost:3306/db_account</span></span><br><span class="line">    <span class="attr">username:</span> <span class="string">root</span></span><br><span class="line">    <span class="attr">password:</span> <span class="number">123456</span></span><br><span class="line">    <span class="attr">driver-class-name:</span> <span class="string">com.mysql.jdbc.Driver</span></span><br><span class="line"></span><br><span class="line">    <span class="attr">druid:</span></span><br><span class="line">      <span class="attr">aop-patterns:</span> <span class="string">com.atguigu.admin.*</span>  <span class="comment">#ç›‘æ§SpringBean</span></span><br><span class="line">      <span class="attr">filters:</span> <span class="string">stat,wall</span>     <span class="comment"># åº•å±‚å¼€å¯åŠŸèƒ½ï¼Œstatï¼ˆsqlç›‘æ§ï¼‰ï¼Œwallï¼ˆé˜²ç«å¢™ï¼‰</span></span><br><span class="line"></span><br><span class="line">      <span class="attr">stat-view-servlet:</span>   <span class="comment"># é…ç½®ç›‘æ§é¡µåŠŸèƒ½</span></span><br><span class="line">        <span class="attr">enabled:</span> <span class="literal">true</span></span><br><span class="line">        <span class="attr">login-username:</span> <span class="string">admin</span></span><br><span class="line">        <span class="attr">login-password:</span> <span class="string">admin</span></span><br><span class="line">        <span class="attr">resetEnable:</span> <span class="literal">false</span></span><br><span class="line"></span><br><span class="line">      <span class="attr">web-stat-filter:</span>  <span class="comment"># ç›‘æ§web</span></span><br><span class="line">        <span class="attr">enabled:</span> <span class="literal">true</span></span><br><span class="line">        <span class="attr">urlPattern:</span> <span class="string">/*</span></span><br><span class="line">        <span class="attr">exclusions:</span> <span class="string">'*.js,*.gif,*.jpg,*.png,*.css,*.ico,/druid/*'</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">      <span class="attr">filter:</span></span><br><span class="line">        <span class="attr">stat:</span>    <span class="comment"># å¯¹ä¸Šé¢filtersé‡Œé¢çš„statçš„è¯¦ç»†é…ç½®</span></span><br><span class="line">          <span class="attr">slow-sql-millis:</span> <span class="number">1000</span></span><br><span class="line">          <span class="attr">logSlowSql:</span> <span class="literal">true</span></span><br><span class="line">          <span class="attr">enabled:</span> <span class="literal">true</span></span><br><span class="line">        <span class="attr">wall:</span></span><br><span class="line">          <span class="attr">enabled:</span> <span class="literal">true</span></span><br><span class="line">          <span class="attr">config:</span></span><br><span class="line">            <span class="attr">drop-table-allow:</span> <span class="literal">false</span></span><br></pre></td></tr></tbody></table></figure><h4 id="mybatisæ•´åˆ"><a href="#mybatisæ•´åˆ" class="headerlink" title="mybatisæ•´åˆ"></a>mybatisæ•´åˆ</h4><p><a href="https://github.com/mybatis">å®˜æ–¹ä»“åº“</a></p><p>ä¾èµ–å¼•å…¥</p><figure class="highlight xml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.mybatis.spring.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mybatis-spring-boot-starter<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.1.4<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><p>é…ç½®æ¨¡å¼:</p><ul><li>é…ç½®æ–‡ä»¶</li><li>SqlSessionFactoryï¼šè‡ªåŠ¨é…ç½®å¥½äº†</li><li>SqlSessionï¼šè‡ªåŠ¨é…ç½®äº†SqlSessionTemplate ç»„åˆäº†SqlSession</li><li>@Import(AutoConfiguredMapperScannerRegistrar.class)</li><li>Mapperï¼š åªè¦æˆ‘ä»¬å†™çš„æ“ä½œMyBatisçš„æ¥å£æ ‡å‡†äº†@Mapperå°±ä¼šè¢«è‡ªåŠ¨æ‰«æè¿›æ¥</li></ul><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@EnableConfigurationProperties(MybatisProperties.class)</span> <span class="comment">// MyBatisé…ç½®é¡¹ç»‘å®šç±»ã€‚</span></span><br><span class="line"><span class="meta">@AutoConfigureAfter({ DataSourceAutoConfiguration.class, MybatisLanguageDriverAutoConfiguration.class })</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MybatisAutoConfiguration</span></span>{</span><br><span class="line">    ...</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="meta">@ConfigurationProperties(prefix = "mybatis")</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MybatisProperties</span></span>{</span><br><span class="line">    ...</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>è‡ªå®šä¹‰é…ç½®</p><figure class="highlight yaml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">spring:</span></span><br><span class="line">  <span class="attr">datasource:</span></span><br><span class="line">    <span class="attr">username:</span> <span class="string">root</span></span><br><span class="line">    <span class="attr">password:</span> <span class="number">1234</span></span><br><span class="line">    <span class="attr">url:</span> <span class="string">jdbc:mysql://localhost:3306/my</span></span><br><span class="line">    <span class="attr">driver-class-name:</span> <span class="string">com.mysql.jdbc.Driver</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># é…ç½®mybatisè§„åˆ™</span></span><br><span class="line"><span class="attr">mybatis:</span></span><br><span class="line">  <span class="attr">config-location:</span> <span class="string">classpath:mybatis/mybatis-config.xml</span>  <span class="comment">#å…¨å±€é…ç½®æ–‡ä»¶ä½ç½®</span></span><br><span class="line">  <span class="attr">mapper-locations:</span> <span class="string">classpath:mybatis/*.xml</span>  <span class="comment">#sqlæ˜ å°„æ–‡ä»¶ä½ç½®</span></span><br></pre></td></tr></tbody></table></figure><p>å…¨å±€é…ç½®æ–‡ä»¶</p><figure class="highlight xml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="UTF-8" ?&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">configuration</span></span></span><br><span class="line"><span class="meta">  <span class="meta-keyword">PUBLIC</span> <span class="meta-string">"-//mybatis.org//DTD Config 3.0//EN"</span></span></span><br><span class="line"><span class="meta">  <span class="meta-string">"http://mybatis.org/dtd/mybatis-3-config.dtd"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><p>mapperæ¥å£</p><figure class="highlight xml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="UTF-8" ?&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">mapper</span></span></span><br><span class="line"><span class="meta">        <span class="meta-keyword">PUBLIC</span> <span class="meta-string">"-//mybatis.org//DTD Mapper 3.0//EN"</span></span></span><br><span class="line"><span class="meta">        <span class="meta-string">"http://mybatis.org/dtd/mybatis-3-mapper.dtd"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">mapper</span> <span class="attr">namespace</span>=<span class="string">"com.lun.boot.mapper.UserMapper"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">"getUser"</span> <span class="attr">resultType</span>=<span class="string">"com.lun.boot.bean.User"</span>&gt;</span></span><br><span class="line">        select * from user where id=#{id}</span><br><span class="line">    <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">mapper</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> com.lun.boot.bean.User;</span><br><span class="line"><span class="keyword">import</span> org.apache.ibatis.annotations.Mapper;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Mapper</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">UserMapper</span> </span>{</span><br><span class="line">    <span class="function"><span class="keyword">public</span> User <span class="title">getUser</span><span class="params">(Integer id)</span></span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>ä¸éœ€è¦å…¨å±€é…ç½®æ–‡ä»¶çš„æ–¹å¼</p><figure class="highlight yaml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># é…ç½®mybatisè§„åˆ™</span></span><br><span class="line"><span class="attr">mybatis:</span></span><br><span class="line">  <span class="attr">mapper-locations:</span> <span class="string">classpath:mybatis/mapper/*.xml</span></span><br><span class="line">  <span class="comment"># å¯ä»¥ä¸å†™å…¨å±€é…ç½®æ–‡ä»¶ï¼Œæ‰€æœ‰å…¨å±€é…ç½®æ–‡ä»¶çš„é…ç½®éƒ½æ”¾åœ¨configurationé…ç½®é¡¹ä¸­äº†ã€‚</span></span><br><span class="line">  <span class="comment"># config-location: classpath:mybatis/mybatis-config.xml</span></span><br><span class="line">  <span class="attr">configuration:</span></span><br><span class="line">    <span class="attr">map-underscore-to-camel-case:</span> <span class="literal">true</span></span><br></pre></td></tr></tbody></table></figure><h4 id="mybatis-plusæ•´åˆ"><a href="#mybatis-plusæ•´åˆ" class="headerlink" title="mybatis-plusæ•´åˆ"></a>mybatis-plusæ•´åˆ</h4><h2 id="æ‰©å±•"><a href="#æ‰©å±•" class="headerlink" title="æ‰©å±•"></a>æ‰©å±•</h2><h3 id="å¼‚æ­¥ä»»åŠ¡"><a href="#å¼‚æ­¥ä»»åŠ¡" class="headerlink" title="å¼‚æ­¥ä»»åŠ¡"></a>å¼‚æ­¥ä»»åŠ¡</h3><p><span class="github-emoji"><span>ğŸ’‡</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f487.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span> ä¸¾ä¸ªæ —å­</p><p>æˆ‘ä»¬æœ‰ä¸€ä¸ªæœåŠ¡ï¼Œservice</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">OurService</span> </span>{</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Async</span><span class="comment">//å£°æ˜è¿™æ˜¯ä¸€ä¸ªå¼‚æ­¥æ–¹æ³•ï¼Œå¹¶åœ¨å¯åŠ¨ç±»ä¸Šä½¿ç”¨@EnableAsync</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">async</span><span class="params">()</span> <span class="keyword">throws</span> InterruptedException </span>{</span><br><span class="line">        <span class="comment">//å‡è®¾è¿™æ˜¯ä¸€ä¸ªä¸šåŠ¡ï¼Œéœ€è¦å¼€å¯ä¸€ä¸ªçº¿ç¨‹å¤„ç†ï¼Œå¤„ç†å®Œæˆä»–éœ€è¦ä¸€å®šçš„æ—¶é—´</span></span><br><span class="line">        System.out.println(<span class="string">"ä»»åŠ¡å¤„ç†ä¸­"</span>);</span><br><span class="line">        Thread.sleep(<span class="number">5000</span>);<span class="comment">//æ¨¡æ‹Ÿä»»åŠ¡å¤„ç†è€—æ—¶</span></span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>ä¸€ä¸ªcontroller</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyController</span> </span>{</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> OurService service;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@RequestMapping("/hello")</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String  <span class="title">asyncTest</span><span class="params">()</span> <span class="keyword">throws</span> InterruptedException </span>{</span><br><span class="line">         <span class="comment">//æ¨¡æ‹Ÿå¼€å¯ä¸€ä¸ªè€—æ—¶äº”ç§’çš„ä¸šåŠ¡ã€‚å½“å¼€å¯å¼‚æ­¥ä»»åŠ¡åï¼Œä¼šåœ¨åå°æ‰§è¡Œæ­¤æ–¹æ³•async()ï¼Œ</span></span><br><span class="line">        <span class="comment">//ç›´æ¥è¿”å›æ–¹æ³•ç»“æœï¼Œç”¨æˆ·ä¸å¿…ç­‰å¾…</span></span><br><span class="line">        service.async();</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"OK"</span>;</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>å¦‚æœä¸å£°æ˜anyncä¸ºä¸€ä¸ªå¼‚æ­¥æ–¹æ³•ï¼Œé‚£ä¹ˆå½“ç”¨æˆ·è®¿é—®/helloæ—¶ï¼Œéœ€è¦ç­‰å¾…(è½¬åœˆåœˆ)äº”ç§’æ‰èƒ½å¾—åˆ°ç»“æœï¼Œè¿™ä¸æ˜¯æˆ‘ä»¬æƒ³è¦çš„</p><h3 id="é‚®ä»¶ä»»åŠ¡"><a href="#é‚®ä»¶ä»»åŠ¡" class="headerlink" title="é‚®ä»¶ä»»åŠ¡"></a>é‚®ä»¶ä»»åŠ¡</h3><p>åœ¨springbootä¸­ä½¿ç”¨é‚®ä»¶ä»»åŠ¡</p><figure class="highlight xml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-mail<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><p>å¯ä»¥çœ‹ä¸€ä¸‹æ­¤ä¾èµ–ä¸‹çš„ä¾èµ–é¡¹</p><figure class="highlight xml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.2.5.RELEASE<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">scope</span>&gt;</span>compile<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-context-support<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>5.2.4.RELEASE<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">scope</span>&gt;</span>compile<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.sun.mail<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>jakarta.mail<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.6.4<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">scope</span>&gt;</span>compile<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><p>æŸ¥çœ‹è‡ªåŠ¨é…ç½®ç±»</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Configuration(</span></span><br><span class="line"><span class="meta">    proxyBeanMethods = false</span></span><br><span class="line"><span class="meta">)</span></span><br><span class="line"><span class="meta">@ConditionalOnClass({MimeMessage.class, MimeType.class, MailSender.class})</span></span><br><span class="line"><span class="meta">@ConditionalOnMissingBean({MailSender.class})</span></span><br><span class="line"><span class="meta">@Conditional({MailSenderAutoConfiguration.MailSenderCondition.class})</span></span><br><span class="line"><span class="meta">@EnableConfigurationProperties({MailProperties.class})</span><span class="comment">//é…ç½®ç»‘å®šç±»</span></span><br><span class="line"><span class="meta">@Import({MailSenderJndiConfiguration.class, MailSenderPropertiesConfiguration.class})</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MailSenderAutoConfiguration</span> </span>{</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">MailSenderAutoConfiguration</span><span class="params">()</span> </span>{</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">MailSenderCondition</span> <span class="keyword">extends</span> <span class="title">AnyNestedCondition</span> </span>{</span><br><span class="line">        MailSenderCondition() {</span><br><span class="line">            <span class="keyword">super</span>(ConfigurationPhase.PARSE_CONFIGURATION);</span><br><span class="line">        }</span><br><span class="line"></span><br><span class="line">        <span class="meta">@ConditionalOnProperty(</span></span><br><span class="line"><span class="meta">            prefix = "spring.mail",</span></span><br><span class="line"><span class="meta">            name = {"jndi-name"}</span></span><br><span class="line"><span class="meta">        )</span></span><br><span class="line">        <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">JndiNameProperty</span> </span>{</span><br><span class="line">            JndiNameProperty() {</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line"></span><br><span class="line">        <span class="meta">@ConditionalOnProperty(</span></span><br><span class="line"><span class="meta">            prefix = "spring.mail",</span></span><br><span class="line"><span class="meta">            name = {"host"}</span></span><br><span class="line"><span class="meta">        )</span></span><br><span class="line">        <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">HostProperty</span> </span>{</span><br><span class="line">            HostProperty() {</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>æŸ¥çœ‹é…ç½®é¡¹MailProperties</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@ConfigurationProperties(</span></span><br><span class="line"><span class="meta">    prefix = "spring.mail"</span></span><br><span class="line"><span class="meta">)</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MailProperties</span> </span>{</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> Charset DEFAULT_CHARSET;</span><br><span class="line">    <span class="keyword">private</span> String host;</span><br><span class="line">    <span class="keyword">private</span> Integer port;</span><br><span class="line">    <span class="keyword">private</span> String username;</span><br><span class="line">    <span class="keyword">private</span> String password;</span><br><span class="line">    <span class="keyword">private</span> String protocol = <span class="string">"smtp"</span>;</span><br><span class="line">    <span class="keyword">private</span> Charset defaultEncoding;</span><br><span class="line">    <span class="keyword">private</span> Map&lt;String, String&gt; properties;</span><br><span class="line">    <span class="keyword">private</span> String jndiName;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">MailProperties</span><span class="params">()</span> </span>{</span><br><span class="line">        <span class="keyword">this</span>.defaultEncoding = DEFAULT_CHARSET;</span><br><span class="line">        <span class="keyword">this</span>.properties = <span class="keyword">new</span> HashMap();</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getHost</span><span class="params">()</span> </span>{</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.host;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setHost</span><span class="params">(String host)</span> </span>{</span><br><span class="line">        <span class="keyword">this</span>.host = host;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    ......</span><br><span class="line"></span><br><span class="line">    <span class="keyword">static</span> {</span><br><span class="line">        DEFAULT_CHARSET = StandardCharsets.UTF_8;</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure><p>ä»é…ç½®ç»‘å®šé¡¹ä¸­æˆ‘ä»¬ä¹Ÿå¯ä»¥çœ‹å‡ºé»˜è®¤ä½¿ç”¨çš„æ˜¯SMTPåè®®</p><p><strong>é…ç½®QQé‚®ç®±</strong></p><p>è·å–ç¬¬ä¸‰æ–¹ç™»å½•æˆæƒç </p><p><img src="https://gitee.com/rain-sky/images/raw/master/20210806121418.png"></p><figure class="highlight properties"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">spring.mail.username</span>=<span class="string">1816046297@qq.com</span></span><br><span class="line"><span class="meta">spring.mail.password</span>=<span class="string">ä¿å¯†å“Ÿ</span></span><br><span class="line"><span class="meta">spring.mail.host</span>=<span class="string">smtp.qq.com</span></span><br><span class="line"><span class="comment"># ä½¿ç”¨QQé‚®ç®±éœ€è¦å¼€å¯å®‰å…¨éªŒè¯</span></span><br><span class="line"><span class="meta">spring.mail.properties.mail.smtp.ssl.enable</span>=<span class="string">true</span></span><br></pre></td></tr></tbody></table></figure><p><span class="github-emoji"><span>ğŸ</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f410.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span>OKï¼Œç®€å•é…ç½®ä¸€ä¸‹ï¼Œè®©æˆ‘ä»¬è‡ªå·±è¯•ç€ç»™è‡ªå·±å‘é€ä¸€å°å¤æ‚é‚®ä»¶å§~</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">sendMail</span><span class="params">()</span> <span class="keyword">throws</span> MessagingException, IOException </span>{</span><br><span class="line">    MimeMessage mimeMessage = mailSender.createMimeMessage();</span><br><span class="line">    MimeMessageHelper helper = <span class="keyword">new</span> MimeMessageHelper(mimeMessage, <span class="keyword">true</span>);</span><br><span class="line">    helper.setSubject(<span class="string">"rainï¼Œä½ å¥½"</span>);</span><br><span class="line">    helper.setText(<span class="string">"äºåŒ—äº¬æ—¶é—´ï¼š"</span>+ <span class="keyword">new</span> SimpleDateFormat(<span class="string">"YYYY-mm-dd hh-mm-ss"</span>).format(<span class="keyword">new</span> Date())+<span class="string">"å‘é€"</span>);</span><br><span class="line">    helper.addAttachment(<span class="string">"song.mp3"</span>,<span class="keyword">new</span> File(<span class="string">"E:\\CloudMusic\\ã‚¢ãƒãƒ¢ãƒãƒªã‚¢ - å·£ç«‹ã¡ã®æ­Œ.mp3"</span>));</span><br><span class="line">    helper.setFrom(<span class="string">"1816046297@qq.com"</span>);</span><br><span class="line">    helper.setTo(<span class="string">"1816046297@qq.com"</span>);</span><br><span class="line">    mailSender.send(mimeMessage);</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><blockquote><p>emmmmï¼ŒOKäº†(ã¥ï¿£ 3ï¿£)ã¥</p></blockquote><img src="https://gitee.com/rain-sky/images/raw/master/20210806162702.png" style="zoom: 67%;"><blockquote><p>æ¥ä¸ªå°å°çš„å®ç°å§(â—â€™â—¡â€™â—)~</p></blockquote><p>é¦–å…ˆç”¨ä¸€ä¸ªç®€å•çš„è¡¨å•æ¨¡æ‹Ÿå¯Œæ–‡æœ¬ç¼–è¾‘å™¨ï¼Œå¦‚æ˜¯å†™é“</p><figure class="highlight html"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"col-lg-6"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">section</span> <span class="attr">class</span>=<span class="string">"panel"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">header</span> <span class="attr">class</span>=<span class="string">"panel-heading"</span>&gt;</span></span><br><span class="line">            å¤æ‚é‚®ä»¶å‘é€æµ‹è¯•ç”¨</span><br><span class="line">        <span class="tag">&lt;/<span class="name">header</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"panel-body"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">form</span> <span class="attr">role</span>=<span class="string">"form"</span> <span class="attr">method</span>=<span class="string">"post"</span> <span class="attr">th:action</span>=<span class="string">"@{/mailsend}"</span> <span class="attr">enctype</span>=<span class="string">"multipart/form-data"</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"form-group"</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">"exampleInputEmail1"</span>&gt;</span>ä¸»é¢˜<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">name</span>=<span class="string">"theme"</span> <span class="attr">class</span>=<span class="string">"form-control"</span> <span class="attr">id</span>=<span class="string">"exampleInputEmail1"</span> <span class="attr">placeholder</span>=<span class="string">"Enter theme"</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"form-group"</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">"mytext"</span>&gt;</span>å†…å®¹<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">textarea</span> <span class="attr">name</span>=<span class="string">"text"</span> <span class="attr">id</span>=<span class="string">"mytext"</span> <span class="attr">cols</span>=<span class="string">"30"</span> <span class="attr">rows</span>=<span class="string">"10"</span>&gt;</span><span class="tag">&lt;/<span class="name">textarea</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">                <span class="comment">&lt;!--                            å¤šæ–‡ä»¶ä¸Šä¼ --&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"form-group"</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">"InputFile"</span> &gt;</span>æˆ‘çš„ç›¸å†Œ<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"file"</span> <span class="attr">id</span>=<span class="string">"InputFile"</span> <span class="attr">name</span>=<span class="string">"photos"</span> <span class="attr">multiple</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"checkbox"</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">label</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"checkbox"</span>&gt;</span> ç‚¹å‡»ç¡®è®¤</span><br><span class="line">                    <span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">button</span> <span class="attr">type</span>=<span class="string">"submit"</span> <span class="attr">class</span>=<span class="string">"btn btn-primary"</span>&gt;</span>æäº¤<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">section</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><p>å†™ä¸ªè¯·æ±‚å¤„ç†ï¼Œä¾ç„¶è‡ªå·±å‘ç»™è‡ªå·±<span class="github-emoji"><span>âœ‰</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/2709.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span></p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@PostMapping("/mailsend")</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">sendMail</span><span class="params">(String theme,String text,<span class="meta">@RequestPart</span> MultipartFile[] photos)</span> <span class="keyword">throws</span> MessagingException, FileNotFoundException </span>{</span><br><span class="line">    MimeMessage mimeMessage = mailSender.createMimeMessage();</span><br><span class="line">    MimeMessageHelper helper = <span class="keyword">new</span> MimeMessageHelper(mimeMessage, <span class="keyword">true</span>);</span><br><span class="line">    helper.setSubject(theme);</span><br><span class="line">    helper.setText(<span class="string">"äºåŒ—äº¬æ—¶é—´ï¼š"</span>+ <span class="keyword">new</span> SimpleDateFormat(<span class="string">"YYYY-mm-dd hh-mm-ss"</span>).format(<span class="keyword">new</span> Date())+<span class="string">"å‘é€"</span>+text);</span><br><span class="line">    <span class="keyword">if</span> (photos.length&gt;<span class="number">0</span>){</span><br><span class="line">        <span class="keyword">for</span> (MultipartFile photo : photos) {</span><br><span class="line">            <span class="comment">//MultipartFileç»§æ‰¿äº†InputStreamResource</span></span><br><span class="line">            helper.addAttachment(photo.getOriginalFilename(),photo,photo.getContentType());</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">    helper.setFrom(<span class="string">"1816046297@qq.com"</span>);</span><br><span class="line">    helper.setTo(<span class="string">"1816046297@qq.com"</span>);</span><br><span class="line">    mailSender.send(mimeMessage);</span><br><span class="line">    <span class="keyword">return</span> <span class="string">"redirect:/main.html"</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>å‘é€ä¸€ä¸ªé‚®ä»¶ç»™è‡ªå·±ç©ä¸€ç©ï¼Œâˆ‘( å£ || OMGï¼Œå½“æˆ‘ç‚¹å‡»æäº¤ä»¥åæ²¡æœ‰ç«‹åˆ»è·³è½¬åˆ°main.htmlï¼Œè€Œæ˜¯ä¸€ç›´åœ¨è½¬åœˆåœˆæ€ä¹ˆè‚¥å››</p><img src="https://gitee.com/rain-sky/images/raw/master/20210806174404.png" style="zoom: 67%;"><p>(ãƒ»âˆ€ãƒ»(ãƒ»âˆ€ãƒ»(ãƒ»âˆ€ãƒ»*)ï¼Œå¤„ç†é‚®ä»¶å‘é€éœ€è¦çš„æ—¶é—´ä¸çŸ­ï¼Œè¿™æ ·ç»™ç”¨æˆ·é€ æˆçš„ä½“éªŒä¼šéå¸¸å·®ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°†é‚®ä»¶å‘é€å°è£…æˆä¸€ä¸ªå¼‚æ­¥ä»»åŠ¡æ–¹æ³•ï¼Œå†æ¬¡æ”¹é€ ä»£ç </p><p>å¤„ç†å¼‚æ­¥è¯·æ±‚çš„service</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MailService</span> </span>{</span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    JavaMailSenderImpl mailSender;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Async</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">mailSend</span><span class="params">(String theme, String text, MultipartFile[] files)</span> <span class="keyword">throws</span> MessagingException </span>{</span><br><span class="line">        MimeMessage mimeMessage = mailSender.createMimeMessage();</span><br><span class="line">        MimeMessageHelper helper = <span class="keyword">new</span> MimeMessageHelper(mimeMessage, <span class="keyword">true</span>);</span><br><span class="line">        helper.setSubject(theme);</span><br><span class="line">        helper.setText(text+<span class="string">"\näºåŒ—äº¬æ—¶é—´ï¼š"</span>+ <span class="keyword">new</span> SimpleDateFormat(<span class="string">"YYYY-mm-dd hh-mm-ss"</span>).format(<span class="keyword">new</span> Date())+<span class="string">"å‘é€"</span>);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (files.length&gt;<span class="number">0</span>){</span><br><span class="line">            <span class="keyword">for</span> (MultipartFile file : files) {</span><br><span class="line">                helper.addAttachment(file.getOriginalFilename(),file,file.getContentType());</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">        helper.setFrom(<span class="string">"1816046297@qq.com"</span>);</span><br><span class="line">        helper.setTo(<span class="string">"1816046297@qq.com"</span>);</span><br><span class="line">        mailSender.send(mimeMessage);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>æˆ‘ä»¬çš„controller</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Controller</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">FormController</span> </span>{</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    MailService mailService;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@PostMapping("/mailsend")</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">sendMail</span><span class="params">(String theme,String text,<span class="meta">@RequestPart</span> MultipartFile[] photos)</span> <span class="keyword">throws</span> MessagingException, FileNotFoundException </span>{</span><br><span class="line">        mailService.mailSend(theme, text, photos);</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"redirect:/main.html"</span>;</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p><span class="github-emoji"><span>ğŸ˜ƒ</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f603.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span>å†æ¬¡æµ‹è¯•ï¼Œè¿™æ¬¡å°±æ²¡æœ‰è½¬åœˆåœˆäº†ï¼Œä½†æ˜¯åå¤ªæŠ¥é”™ï¼Œåœ¨æ‰§è¡Œæ­¤æ–¹æ³•æ—¶mailSender.send(mimeMessage);ãƒ½(âœ¿ï¾Ÿâ–½ï¾Ÿ)ãƒ</p><p>æ¢ä¸€ä¸ªæ–¹å¼ï¼Œæ–°å¼€ä¸€ä¸ªå†…éƒ¨ç±»å®ç°Runableæ¥å£ï¼Œé€šè¿‡æ„é€ å‡½æ•°ä¼ å‚ï¼Œç„¶åæ–°å¼€çº¿ç¨‹æ‰§è¡Œä¸Šè¿°ä¸šåŠ¡ï¼Œä¾ç„¶æŠ¥é”™ï¼Œé”™è¯¯ä¾ç„¶å‡ºåœ¨mailSender.send(mimeMessage);ä¸Š</p><p><span class="github-emoji"><span>âš </span><img src="https://github.githubassets.com/images/icons/emoji/unicode/26a0.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span>å¦‚æœä¸ä¼ è¾“é™„ä»¶åˆ™ä¸ä¼šå‡ºç°æ­¤é—®é¢˜ï¼Œè¯´æ˜æ˜¯IOçš„é—®é¢˜~</p><p><span class="github-emoji"><span>âš </span><img src="https://github.githubassets.com/images/icons/emoji/unicode/26a0.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span> æ­¤é—®é¢˜æœªè§£å†³ï¼Œå¾…ç»­~</p><h3 id="å®šæ—¶ä»»åŠ¡"><a href="#å®šæ—¶ä»»åŠ¡" class="headerlink" title="å®šæ—¶ä»»åŠ¡"></a>å®šæ—¶ä»»åŠ¡</h3><p>springbootå®šæ—¶ä»»åŠ¡æ ¸å¿ƒï¼š</p><p>TaskSchedulerï¼šä»»åŠ¡è°ƒåº¦å™¨</p><p>TaskExecutorï¼šä»»åŠ¡æ‰§è¡Œå™¨</p><p>@EnableSchedulingï¼šå¼€å¯å®šæ—¶ä»»åŠ¡</p><p>@Scheduledï¼šå£°æ˜å®šæ—¶ä»»åŠ¡</p><blockquote><p>ä¸»å¯åŠ¨ç±»å¼€å¯å®šæ—¶ä»»åŠ¡</p></blockquote><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">OurService</span> </span>{</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Scheduled(cron = "0 0 6 * * 5")</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">scheduledTask</span><span class="params">()</span></span>{</span><br><span class="line">        System.out.println(<span class="string">"æ¯ä¸ªæœˆçš„å‘¨äº”ä¸Šåˆå…­ç‚¹æ‰§è¡Œè¯¥ä»»åŠ¡~"</span>);</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure><p><strong>Cronè¡¨è¾¾å¼</strong></p><p><a href="https://www.cnblogs.com/junrong624/p/4239517.html">æ–‡ç« æ¨è</a></p><h2 id="åˆ†å¸ƒå¼"><a href="#åˆ†å¸ƒå¼" class="headerlink" title="åˆ†å¸ƒå¼"></a>åˆ†å¸ƒå¼</h2><h3 id="åˆ†å¸ƒå¼ç³»ç»Ÿç†è®º"><a href="#åˆ†å¸ƒå¼ç³»ç»Ÿç†è®º" class="headerlink" title="åˆ†å¸ƒå¼ç³»ç»Ÿç†è®º"></a>åˆ†å¸ƒå¼ç³»ç»Ÿç†è®º</h3><p>åœ¨ä¸€ä¸ªåˆ†å¸ƒå¼ç³»ç»Ÿä¸­ï¼Œä¸€ç»„ç‹¬ç«‹çš„è®¡ç®—æœºå±•ç°ç»™ç”¨æˆ·çš„æ˜¯ä¸€ä¸ªç»Ÿä¸€çš„æ•´ä½“ï¼Œå°±å¥½åƒæ˜¯ä¸€ä¸ªç³»ç»Ÿä¼¼çš„ã€‚</p><p><span class="github-emoji"><span>ğŸ’‡</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f487.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span> ä¸¾ä¸ªæ —å­</p><p>åœ¨ORMå•ä½“åº”ç”¨æ—¶ä»£ï¼Œå½“ä¸€ä¸ªç½‘ç«™çš„æµé‡è¶³å¤Ÿå¤§çš„æ—¶å€™ï¼Œæˆ‘ä»¬å¯èƒ½ä¼šä½œå‚ç›´å¤„ç†ï¼Œå‚ç›´æ‰©å±•å¤šå°æœåŠ¡å™¨ï¼Œä¹Ÿè®¸ç”¨nginxå»ä½œè´Ÿè½½å‡è¡¡ï¼Œä½†æ˜¯å½“ä¸šåŠ¡è¶³ã€‚åºå¤§ä¸”å¤æ‚æ—¶ï¼Œåœ¨å•ä½“ä¸­å¤„ç†æ‰€æœ‰ä¸šåŠ¡æ˜¯æ•ˆç‡ä½ä¸‹çš„ï¼Œä¹Ÿè®¸æˆ‘ä»¬èŠ±å¤§èµ„é‡‘å»å‡çº§è®¾å¤‡ç¡¬ä»¶ï¼Œä½†è¿™ä»£ä»·å¤ªå¤§ï¼Œåœ¨ä¸€ä¸ªåº”ç”¨ä¸­ï¼Œæ¯ä¸ªæœåŠ¡å¯¹ç¡¬ä»¶çš„è¦æ±‚ä¸ä¸€æ ·ï¼Œä¸ºæ­¤æˆ‘ä»¬ä¼šå°†ä¸šåŠ¡æ‹†åˆ†ç‹¬ç«‹å‡ºæ¥ï¼Œç®€å•çš„ä¸šåŠ¡åˆ†é…æ›´å°‘çš„æœåŠ¡å™¨èµ„æºï¼Œå¤æ‚æœåŠ¡ç»™äºˆæ›´å¤šèµ„æºã€‚</p><p><strong>RPC</strong></p><p><a href="https://www.zhihu.com/search?type=content&amp;q=RPC">å‚è€ƒæ–‡ç« </a></p><p>RPC(Remote Procedure Call)ï¼šè¿œç¨‹è¿‡ç¨‹è°ƒç”¨ï¼Œå®ƒæ˜¯ä¸€ç§é€šè¿‡ç½‘ç»œä»è¿œç¨‹è®¡ç®—æœºç¨‹åºä¸Šè¯·æ±‚æœåŠ¡ï¼ŒRPC æ˜¯ä¸€ç§æŠ€æœ¯æ€æƒ³è€Œéä¸€ç§è§„èŒƒæˆ–åè®®ã€‚</p><p><img src="https://gitee.com/rain-sky/images/raw/master/20210807144742.jpeg"></p><p>ï¼ˆå›¾ç‰‡æ¥æºï¼š<a href="https://link.zhihu.com/?target=https://www.cs.rutgers.edu/~pxk/417/notes/03-rpc.html">https://www.cs.rutgers.edu/~pxk/417/notes/03-rpc.html</a>ï¼‰</p><p>ä¸ºä»€ä¹ˆRPCå‘¢ï¼Ÿå°±æ˜¯æ— æ³•åœ¨ä¸€ä¸ªè¿›ç¨‹å†…ï¼Œç”šè‡³ä¸€ä¸ªè®¡ç®—æœºå†…é€šè¿‡æœ¬åœ°è°ƒç”¨çš„æ–¹å¼å®Œæˆçš„éœ€æ±‚ï¼Œæ¯”å¦‚æ¯”å¦‚ä¸åŒçš„ç³»ç»Ÿé—´çš„é€šè®¯ï¼Œç”šè‡³ä¸åŒçš„ç»„ç»‡é—´çš„é€šè®¯ã€‚ç”±äºè®¡ç®—èƒ½åŠ›éœ€è¦æ¨ªå‘æ‰©å±•ï¼Œéœ€è¦åœ¨å¤šå°æœºå™¨ç»„æˆçš„é›†ç¾¤ä¸Šéƒ¨ç½²åº”ç”¨ï¼Œ</p><p>RPCçš„åè®®æœ‰å¾ˆå¤šï¼Œæ¯”å¦‚æœ€æ—©çš„CORBAï¼ŒJava RMIï¼ŒWeb Serviceçš„RPCé£æ ¼ï¼ŒHessianï¼ŒThriftï¼Œç”šè‡³Rest APIã€‚</p><p><strong>åºåˆ—åŒ–å’Œååºåˆ—åŒ–</strong><br>å®¢æˆ·ç«¯æ€ä¹ˆæŠŠå‚æ•°å€¼ä¼ ç»™è¿œç¨‹çš„å‡½æ•°å‘¢?åœ¨æœ¬åœ°è°ƒç”¨ä¸­ï¼Œæˆ‘ä»¬åªéœ€è¦æŠŠå‚æ•°å‹åˆ°æ ˆé‡Œï¼Œç„¶åè®©å‡½æ•°è‡ªå·±å»æ ˆé‡Œè¯»å°±è¡Œã€‚<br>ä½†æ˜¯åœ¨è¿œç¨‹è¿‡ç¨‹è°ƒç”¨æ—¶ï¼Œå®¢æˆ·ç«¯è·ŸæœåŠ¡ç«¯æ˜¯ä¸åŒçš„è¿›ç¨‹ï¼Œä¸èƒ½é€šè¿‡å†…å­˜æ¥ä¼ é€’å‚æ•°ã€‚<br>è¿™æ—¶å€™å°±éœ€è¦å®¢æˆ·ç«¯æŠŠå‚æ•°å…ˆè½¬æˆä¸€ä¸ªå­—èŠ‚æµï¼Œä¼ ç»™æœåŠ¡ç«¯åï¼Œå†æŠŠå­—èŠ‚æµè½¬æˆè‡ªå·±èƒ½è¯»å–çš„æ ¼å¼ã€‚<br>åªæœ‰äºŒè¿›åˆ¶æ•°æ®æ‰èƒ½åœ¨ç½‘ç»œä¸­ä¼ è¾“ï¼Œåºåˆ—åŒ–å’Œååºåˆ—åŒ–çš„å®šä¹‰æ˜¯ï¼š</p><ul><li>å°†å¯¹è±¡è½¬æ¢æˆäºŒè¿›åˆ¶æµçš„è¿‡ç¨‹å«åšåºåˆ—åŒ–</li><li>å°†äºŒè¿›åˆ¶æµè½¬æ¢æˆå¯¹è±¡çš„è¿‡ç¨‹å«åšååºåˆ—åŒ–</li></ul><h3 id="dubbo"><a href="#dubbo" class="headerlink" title="dubbo"></a>dubbo</h3><p><strong>ç®€ä»‹ï¼ŒåŸºäºdubbo3</strong></p><p><a href="https://dubbo.apache.org/zh/docs/introduction/">dubbo3å®˜æ–¹æ–‡æ¡£</a></p><p>å¦‚éœ€äº†è§£å‘å±•èƒŒæ™¯ï¼Œäº’è”ç½‘åº”ç”¨æ¶æ„å‘å±•è¯·å‚è€ƒ<a href="https://dubbo.apache.org/zh/docsv2.7/user/preface/background/">dubbo2å®˜æ–¹æ–‡æ¡£</a></p><p>Apache Dubbo æ˜¯ä¸€æ¬¾å¾®æœåŠ¡å¼€å‘æ¡†æ¶ï¼Œå®ƒæä¾›äº† RPCé€šä¿¡ ä¸ å¾®æœåŠ¡æ²»ç† ä¸¤å¤§å…³é”®èƒ½åŠ›ã€‚è¿™æ„å‘³ç€ï¼Œä½¿ç”¨ Dubbo å¼€å‘çš„å¾®æœåŠ¡ï¼Œå°†å…·å¤‡ç›¸äº’ä¹‹é—´çš„è¿œç¨‹å‘ç°ä¸é€šä¿¡èƒ½åŠ›ï¼Œ åŒæ—¶åˆ©ç”¨ Dubbo æä¾›çš„ä¸°å¯ŒæœåŠ¡æ²»ç†èƒ½åŠ›ï¼Œå¯ä»¥å®ç°è¯¸å¦‚æœåŠ¡å‘ç°ã€è´Ÿè½½å‡è¡¡ã€æµé‡è°ƒåº¦ç­‰æœåŠ¡æ²»ç†è¯‰æ±‚ã€‚åŒæ—¶ Dubbo æ˜¯é«˜åº¦å¯æ‰©å±•çš„ï¼Œç”¨æˆ·å‡ ä¹å¯ä»¥åœ¨ä»»æ„åŠŸèƒ½ç‚¹å»å®šåˆ¶è‡ªå·±çš„å®ç°ï¼Œä»¥æ”¹å˜æ¡†æ¶çš„é»˜è®¤è¡Œä¸ºæ¥æ»¡è¶³è‡ªå·±çš„ä¸šåŠ¡éœ€æ±‚ã€‚</p><p>Dubbo3 åŸºäº Dubbo2 æ¼”è¿›è€Œæ¥ï¼Œåœ¨ä¿æŒåŸæœ‰æ ¸å¿ƒåŠŸèƒ½ç‰¹æ€§çš„åŒæ—¶ï¼Œ Dubbo3 åœ¨æ˜“ç”¨æ€§ã€è¶…å¤§è§„æ¨¡å¾®æœåŠ¡å®è·µã€äº‘åŸç”ŸåŸºç¡€è®¾æ–½é€‚é…ç­‰å‡ å¤§æ–¹å‘ä¸Šè¿›è¡Œäº†å…¨é¢å‡çº§ã€‚</p><p>Apache Dubboæä¾›äº†å…­å¤§æ ¸å¿ƒèƒ½åŠ›ï¼šé¢å‘æ¥å£ä»£ç†çš„é«˜æ€§èƒ½RPCè°ƒç”¨ï¼Œæ™ºèƒ½å®¹é”™å’Œè´Ÿè½½å‡è¡¡ï¼ŒæœåŠ¡è‡ªåŠ¨æ³¨å†Œå’Œå‘ç°ï¼Œé«˜åº¦å¯æ‰©å±•èƒ½åŠ›ï¼Œè¿è¡ŒæœŸæµé‡è°ƒåº¦ï¼Œå¯è§†åŒ–çš„æœåŠ¡æ²»ç†ä¸è¿ç»´ã€‚</p><p><strong>èƒŒæ™¯</strong></p><p><img src="https://gitee.com/rain-sky/images/raw/master/20210807113250.jpeg"></p><p><span class="github-emoji"><span>1âƒ£</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/0031-20e3.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span> å•ä¸€åº”ç”¨æ¶æ„</p><p>å½“ç½‘ç«™æµé‡å¾ˆå°æ—¶ï¼Œåªéœ€ä¸€ä¸ªåº”ç”¨ï¼Œå°†æ‰€æœ‰åŠŸèƒ½éƒ½éƒ¨ç½²åœ¨ä¸€èµ·ï¼Œä»¥å‡å°‘éƒ¨ç½²èŠ‚ç‚¹å’Œæˆæœ¬ã€‚æ­¤æ—¶ï¼Œç”¨äºç®€åŒ–å¢åˆ æ”¹æŸ¥å·¥ä½œé‡çš„æ•°æ®è®¿é—®æ¡†æ¶(ORM)æ˜¯å…³é”®ã€‚</p><p><span class="github-emoji"><span>2âƒ£</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/0032-20e3.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span> å‚ç›´åº”ç”¨æ¶æ„</p><p>å½“è®¿é—®é‡é€æ¸å¢å¤§ï¼Œå•ä¸€åº”ç”¨å¢åŠ æœºå™¨å¸¦æ¥çš„åŠ é€Ÿåº¦è¶Šæ¥è¶Šå°ï¼Œæå‡æ•ˆç‡çš„æ–¹æ³•ä¹‹ä¸€æ˜¯å°†åº”ç”¨æ‹†æˆäº’ä¸ç›¸å¹²çš„å‡ ä¸ªåº”ç”¨ï¼Œä»¥æå‡æ•ˆç‡ã€‚æ­¤æ—¶ï¼Œç”¨äºåŠ é€Ÿå‰ç«¯é¡µé¢å¼€å‘çš„Webæ¡†æ¶(MVC)æ˜¯å…³é”®ã€‚</p><p><span class="github-emoji"><span>3âƒ£</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/0033-20e3.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span> åˆ†å¸ƒå¼æœåŠ¡æ¶æ„</p><p>å½“å‚ç›´åº”ç”¨è¶Šæ¥è¶Šå¤šï¼Œåº”ç”¨ä¹‹é—´äº¤äº’ä¸å¯é¿å…ï¼Œå°†æ ¸å¿ƒä¸šåŠ¡æŠ½å–å‡ºæ¥ï¼Œä½œä¸ºç‹¬ç«‹çš„æœåŠ¡ï¼Œé€æ¸å½¢æˆç¨³å®šçš„æœåŠ¡ä¸­å¿ƒï¼Œä½¿å‰ç«¯åº”ç”¨èƒ½æ›´å¿«é€Ÿçš„å“åº”å¤šå˜çš„å¸‚åœºéœ€æ±‚ã€‚æ­¤æ—¶ï¼Œç”¨äºæé«˜ä¸šåŠ¡å¤ç”¨åŠæ•´åˆçš„åˆ†å¸ƒå¼æœåŠ¡æ¡†æ¶(RPC)æ˜¯å…³é”®ã€‚</p><p><span class="github-emoji"><span>4âƒ£</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/0034-20e3.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span> æµåŠ¨è®¡ç®—æ¶æ„</p><p>å½“æœåŠ¡è¶Šæ¥è¶Šå¤šï¼Œå®¹é‡çš„è¯„ä¼°ï¼Œå°æœåŠ¡èµ„æºçš„æµªè´¹ç­‰é—®é¢˜é€æ¸æ˜¾ç°ï¼Œæ­¤æ—¶éœ€å¢åŠ ä¸€ä¸ªè°ƒåº¦ä¸­å¿ƒåŸºäºè®¿é—®å‹åŠ›å®æ—¶ç®¡ç†é›†ç¾¤å®¹é‡ï¼Œæé«˜é›†ç¾¤åˆ©ç”¨ç‡ã€‚æ­¤æ—¶ï¼Œç”¨äºæé«˜æœºå™¨åˆ©ç”¨ç‡çš„èµ„æºè°ƒåº¦å’Œæ²»ç†ä¸­å¿ƒ(SOA)æ˜¯å…³é”®ã€‚</p><h3 id="zookeeper"><a href="#zookeeper" class="headerlink" title="zookeeper"></a>zookeeper</h3><p><a href="http://archive.apache.org/dist/zookeeper/">ä¸‹è½½åœ°å€</a></p><p>ä¸‹è½½å¹¶è§£å‹</p>]]></content>
      
      
      
        <tags>
            
            <tag> springboot </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>é“¾è¡¨</title>
      <link href="2021/07/11/%E9%93%BE%E8%A1%A8/"/>
      <url>2021/07/11/%E9%93%BE%E8%A1%A8/</url>
      
        <content type="html"><![CDATA[<h4 id="å•å¾ªç¯é“¾è¡¨"><a href="#å•å¾ªç¯é“¾è¡¨" class="headerlink" title="å•å¾ªç¯é“¾è¡¨"></a>å•å¾ªç¯é“¾è¡¨</h4><p>è¦å®ç°å•å¾ªç¯é“¾è¡¨å¾ˆç®€å•ï¼Œåªéœ€è¦åœ¨å•é“¾è¡¨çš„åŸºç¡€ä¸Šå°†å°¾éƒ¨èŠ‚ç‚¹æŒ‡å‘å¤´èŠ‚ç‚¹ï¼Œå•å¾ªç¯é“¾è¡¨ç›¸å¯¹äºå•é“¾è¡¨æ¥è¯´ä»ä»»ä½•ä¸€ä¸ªèŠ‚ç‚¹å‡ºå‘éƒ½èƒ½å¤Ÿéå†å®Œæ•´ä¸ªé“¾è¡¨ã€‚</p><p><strong>ç»“æ„ç¤ºæ„</strong></p><p><img src="https://gitee.com/rain-sky/images/raw/master/20210711170521.png"></p><p><strong>æ·»åŠ æ“ä½œ</strong></p><p><img src="https://gitee.com/rain-sky/images/raw/master/20210711170917.png"></p><p><strong>Javaå®ç°</strong></p><p>é“¾è¡¨ç±»</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyCircleLinkedList</span> </span>{</span><br><span class="line">    <span class="keyword">private</span> Node head;<span class="comment">//å¤´ç»“ç‚¹, ä¸å­˜æ•°æ®</span></span><br><span class="line">    <span class="keyword">private</span> Node tail;<span class="comment">//å°¾ç»“ç‚¹, æŒ‡å‘é“¾è¡¨çš„æœ€åä¸€ä¸ªèŠ‚ç‚¹</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> size;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">MyCircleLinkedList</span><span class="params">()</span> </span>{</span><br><span class="line">        head = <span class="keyword">new</span> Node(Integer.MIN_VALUE, <span class="keyword">null</span>);</span><br><span class="line">        head.next = head;</span><br><span class="line">        tail = head;</span><br><span class="line">        size = <span class="number">0</span>;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æ·»åŠ åˆ°é“¾è¡¨å°¾éƒ¨</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> item</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">add</span><span class="params">(<span class="keyword">int</span> item)</span> </span>{</span><br><span class="line">        Node no = <span class="keyword">new</span> Node(item,<span class="keyword">this</span>.head);</span><br><span class="line">        tail.next = no;</span><br><span class="line">        tail = no;</span><br><span class="line">        size++;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * éå†é“¾è¡¨å¹¶è¾“å‡ºå…ƒç´ </span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">output</span><span class="params">()</span> </span>{</span><br><span class="line">        Node now = head.next;</span><br><span class="line">        <span class="keyword">while</span>(now!=head){</span><br><span class="line">            System.out.println(now.item);</span><br><span class="line">            now = now.next;</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isEmpty</span><span class="params">()</span> </span>{</span><br><span class="line">        <span class="keyword">return</span> head.next == head;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">size</span><span class="params">()</span> </span>{</span><br><span class="line">        <span class="keyword">return</span> size;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="comment">//ç»“ç‚¹å†…éƒ¨ç±»</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">Node</span> </span>{</span><br><span class="line">        <span class="keyword">int</span> item;</span><br><span class="line">        Node next;</span><br><span class="line">        Node(<span class="keyword">int</span> item, Node next) {</span><br><span class="line">            <span class="keyword">this</span>.item = item;</span><br><span class="line">            <span class="keyword">this</span>.next = next;</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure><p>æµ‹è¯•ç±»</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.Scanner;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyCircleLinkedListTest</span> </span>{</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>{</span><br><span class="line">        MyCircleLinkedList list = <span class="keyword">new</span> MyCircleLinkedList();</span><br><span class="line">        Scanner in = <span class="keyword">new</span> Scanner(System.in);</span><br><span class="line">        <span class="keyword">while</span> (in.hasNext()) {</span><br><span class="line">            <span class="keyword">int</span> item = in.nextInt();</span><br><span class="line">            list.add(item);</span><br><span class="line">        }</span><br><span class="line">        list.output();</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> æ•°æ®ç»“æ„ </tag>
            
            <tag> é“¾è¡¨ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>linuxå¸¸ç”¨å‘½ä»¤</title>
      <link href="2021/07/11/linux%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/"/>
      <url>2021/07/11/linux%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/</url>
      
        <content type="html"><![CDATA[<h5 id="Linuxç›®å½•ç»“æ„ä»‹ç»"><a href="#Linuxç›®å½•ç»“æ„ä»‹ç»" class="headerlink" title="Linuxç›®å½•ç»“æ„ä»‹ç»"></a>Linuxç›®å½•ç»“æ„ä»‹ç»</h5><p>å¯¹<code>Linux</code>æ–‡ä»¶ç³»ç»Ÿç›®å½•ç»“æ„çš„äº†è§£æ˜¯å­¦ä¹ å’ŒæŒæ¡<code>Linux</code>ç³»ç»Ÿçš„åŸºç¡€ã€‚<code>Linux</code> æ–‡ä»¶ç³»ç»Ÿæ˜¯æ ‘å½¢å±‚æ¬¡ç»“æ„ï¼Œå…·ä½“å¦‚ä¸‹å›¾æ‰€ç¤ºã€‚</p><p><img src="https://gitee.com/rain-sky/images/raw/master/20210711160900.png"></p><h6 id="pwdå‘½ä»¤"><a href="#pwdå‘½ä»¤" class="headerlink" title="pwdå‘½ä»¤"></a>pwdå‘½ä»¤</h6><p><code>pwd(Print Working Directory )</code>ï¼šæ˜¾ç¤ºå½“å‰æ‰€åœ¨ç›®å½•ã€‚</p><h6 id="cdå‘½ä»¤"><a href="#cdå‘½ä»¤" class="headerlink" title="cdå‘½ä»¤"></a>cdå‘½ä»¤</h6><p><code>cd(Change Directory)</code>: åˆ‡æ¢å½“å‰ç›®å½•ã€‚</p><p>å¸¸ç”¨ç‰¹æ®Šç›®å½•è¡¨ç¤ºï¼š</p><ul><li>cd è¿›å…¥ç”¨æˆ·ä¸»ç›®å½•ï¼›</li><li>cd ~ è¿›å…¥ç”¨æˆ·ä¸»ç›®å½•ï¼›</li><li>cd - è¿”å›è¿›å…¥æ­¤ç›®å½•ä¹‹å‰æ‰€åœ¨çš„ç›®å½•ï¼›</li><li>cd .. è¿”å›ä¸Šçº§ç›®å½•(è‹¥å½“å‰ç›®å½•ä¸ºâ€/â€œï¼Œåˆ™æ‰§è¡Œå®Œåè¿˜åœ¨â€/â€œï¼›â€..â€ä¸ºä¸Šçº§ç›®å½•çš„æ„æ€)ï¼›</li><li>cd ../.. è¿”å›ä¸Šä¸¤çº§ç›®å½•ï¼›</li><li>cd !$ æŠŠä¸Šä¸ªå‘½ä»¤çš„å‚æ•°ä½œä¸º<code>cd</code>å‚æ•°ä½¿ç”¨ã€‚</li></ul><h6 id="lså‘½ä»¤"><a href="#lså‘½ä»¤" class="headerlink" title="lså‘½ä»¤"></a>lså‘½ä»¤</h6><p><code>ls(list)</code>: åˆ—å‡ºæŒ‡å®šç›®å½•åˆ—è¡¨ä¿¡æ¯ï¼Œå¦‚æœæ²¡æœ‰å‚æ•°é»˜è®¤åˆ—å‡ºå½“å‰ç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶å’Œæ–‡ä»¶å¤¹(éšè—æ–‡ä»¶å’Œæ–‡ä»¶å¤¹é™¤å¤–)ã€‚</p><p>å¸¸è§<code>ls</code>å‘½ä»¤é€‰é¡¹:</p><ul><li>-lï¼šä»¥é•¿æ ¼å¼æ˜¾ç¤ºç›®å½•ä¸‹çš„å†…å®¹åˆ—è¡¨ã€‚è¾“å‡ºçš„ä¿¡æ¯ä»å·¦åˆ°å³ä¾æ¬¡åŒ…æ‹¬æ–‡ä»¶åï¼Œæ–‡ä»¶ç±»å‹ã€æƒé™æ¨¡å¼ã€ç¡¬è¿æ¥æ•°ã€æ‰€æœ‰è€…ã€ç»„ã€æ–‡ä»¶å¤§å°å’Œæ–‡ä»¶çš„æœ€åä¿®æ”¹æ—¶é—´ç­‰ï¼›</li><li>-aï¼šæ˜¾ç¤ºæ‰€æœ‰æ–‡ä»¶å’Œæ–‡ä»¶å¤¹(åŒ…æ‹¬éšè—æ–‡ä»¶/æ–‡ä»¶å¤¹)ã€‚</li></ul><p><img src="https://gitee.com/rain-sky/images/raw/master/20210711161208.png"></p><h6 id="åˆ›å»ºæ–‡ä»¶"><a href="#åˆ›å»ºæ–‡ä»¶" class="headerlink" title="åˆ›å»ºæ–‡ä»¶"></a>åˆ›å»ºæ–‡ä»¶</h6><p>linuxä¸­åˆ›å»ºæ–‡ä»¶çš„å¸¸ç”¨å‘½ä»¤æ˜¯<code>touch</code>ï¼Œå‘½ä»¤æ ¼å¼å¦‚ä¸‹:</p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">touch filename</span><br></pre></td></tr></tbody></table></figure><p>å¦‚æœæƒ³åŒæ—¶åˆ›å»ºå¤šä¸ªæ–‡ä»¶ä¹Ÿå¯ä»¥ä½¿ç”¨<code>touch</code>å‘½ä»¤å®Œæˆï¼Œå…·ä½“æ ¼å¼å¦‚ä¸‹ï¼š</p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">touch file1 file2 ...</span><br></pre></td></tr></tbody></table></figure><p>åªéœ€å°†ä¸åŒçš„æ–‡ä»¶åç”¨ç©ºæ ¼åˆ†éš”å³å¯å®Œæˆåˆ›å»ºå¤šä¸ªæ–‡ä»¶ã€‚</p><h6 id="åˆ é™¤æ–‡ä»¶"><a href="#åˆ é™¤æ–‡ä»¶" class="headerlink" title="åˆ é™¤æ–‡ä»¶"></a>åˆ é™¤æ–‡ä»¶</h6><p><code>Linux</code>ä¸­å¸¸ç”¨çš„åˆ é™¤æ–‡ä»¶çš„å‘½ä»¤æ˜¯<code>rm</code>ï¼Œä½¿ç”¨æ ¼å¼å¦‚ä¸‹ï¼š</p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rm [å‘½ä»¤é€‰é¡¹] filename</span><br></pre></td></tr></tbody></table></figure><p>å¸¸ç”¨å‘½ä»¤é€‰é¡¹ï¼š</p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">-fï¼šå¼ºåˆ¶åˆ é™¤æ–‡ä»¶æˆ–ç›®å½•ï¼›</span><br><span class="line">-ræˆ–-Rï¼šé€’å½’å¤„ç†ï¼Œå°†æŒ‡å®šç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶ä¸å­ç›®å½•ä¸€å¹¶å¤„ç†ï¼›</span><br><span class="line">-iï¼šåˆ é™¤å·²æœ‰æ–‡ä»¶æˆ–ç›®å½•ä¹‹å‰å…ˆè¯¢é—®ç”¨æˆ·ã€‚</span><br></pre></td></tr></tbody></table></figure><p>ä¾‹å¦‚ï¼Œåˆ é™¤æˆ‘ä»¬åˆšåˆšåˆ›å»ºçš„æ–‡ä»¶<code>testfile</code>å¯ä»¥ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤ã€‚</p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rm -f testfilesh</span><br></pre></td></tr></tbody></table></figure><h6 id="åˆ›å»ºæ–‡ä»¶å¤¹"><a href="#åˆ›å»ºæ–‡ä»¶å¤¹" class="headerlink" title="åˆ›å»ºæ–‡ä»¶å¤¹"></a>åˆ›å»ºæ–‡ä»¶å¤¹</h6><p><code>Linux</code>ä¸­åˆ›å»ºæ–‡ä»¶å¤¹å‘½ä»¤æ˜¯<code>mkdir</code>ï¼Œå‘½ä»¤æ ¼å¼å¦‚ä¸‹ï¼š</p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mkdir [å‘½ä»¤é€‰é¡¹] dirname</span><br></pre></td></tr></tbody></table></figure><p>å¸¸ç”¨å‘½ä»¤é€‰é¡¹ï¼š <code>-pæˆ–--parents</code> è‹¥æ‰€è¦å»ºç«‹ç›®å½•çš„ä¸Šå±‚ç›®å½•ç›®å‰å°šæœªå»ºç«‹ï¼Œåˆ™ä¼šä¸€å¹¶å»ºç«‹ä¸Šå±‚ç›®å½•ï¼›</p><p>ä¾‹å¦‚ï¼šæˆ‘ä»¬æ–°åˆ›å»ºä¸€ä¸ªæ–‡ä»¶å¤¹<code>testdir</code>å¯ä»¥ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤ã€‚</p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mkdir testdir</span><br></pre></td></tr></tbody></table></figure><h6 id="åˆ é™¤æ–‡ä»¶å¤¹"><a href="#åˆ é™¤æ–‡ä»¶å¤¹" class="headerlink" title="åˆ é™¤æ–‡ä»¶å¤¹"></a>åˆ é™¤æ–‡ä»¶å¤¹</h6><p><code>Linux</code>ä¸­åˆ é™¤æ–‡ä»¶å¤¹çš„å‘½ä»¤æ˜¯<code>rmdir</code>æˆ–è€…<code>rm -r</code>ï¼Œå‘½ä»¤æ ¼å¼å¦‚ä¸‹ï¼š</p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rmdir [å‘½ä»¤é€‰é¡¹] dirname</span><br></pre></td></tr></tbody></table></figure><p>å¸¸ç”¨å‘½ä»¤é€‰é¡¹ï¼š-pæˆ–â€“parentsï¼šåˆ é™¤æŒ‡å®šç›®å½•åï¼Œè‹¥è¯¥ç›®å½•çš„ä¸Šå±‚ç›®å½•å·²å˜æˆç©ºç›®å½•ï¼Œåˆ™å°†å…¶ä¸€å¹¶åˆ é™¤ï¼›</p><p>ä¾‹å¦‚ï¼šå°†åˆšåˆšæ–°åˆ›å»ºçš„æ–‡ä»¶å¤¹<code>testdir</code>åˆ é™¤å¯ä»¥ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤ã€‚</p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rmdir testdir</span><br></pre></td></tr></tbody></table></figure><h6 id="Linuxæ–‡ä»¶å’Œæ–‡ä»¶å¤¹æ‹·è´"><a href="#Linuxæ–‡ä»¶å’Œæ–‡ä»¶å¤¹æ‹·è´" class="headerlink" title="Linuxæ–‡ä»¶å’Œæ–‡ä»¶å¤¹æ‹·è´"></a>Linuxæ–‡ä»¶å’Œæ–‡ä»¶å¤¹æ‹·è´</h6><p><code>Linux</code>ä½¿ç”¨<code>cp</code>å‘½ä»¤ç”¨æ¥å°†ä¸€ä¸ªæˆ–å¤šä¸ªæºæ–‡ä»¶æˆ–è€…ç›®å½•å¤åˆ¶åˆ°æŒ‡å®šçš„ç›®å½•ä¸­ï¼Œå‘½ä»¤æ ¼å¼å¦‚ä¸‹ï¼š</p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cp [å‘½ä»¤é€‰é¡¹] æºæ–‡ä»¶ ç›®çš„æ–‡ä»¶</span><br></pre></td></tr></tbody></table></figure><p>å¸¸ç”¨å‘½ä»¤é€‰é¡¹ï¼š</p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">-fï¼šå¼ºè¡Œå¤åˆ¶æ–‡ä»¶æˆ–ç›®å½•ï¼Œä¸è®ºç›®æ ‡æ–‡ä»¶æˆ–ç›®å½•æ˜¯å¦å·²å­˜åœ¨ï¼›-iï¼š</span><br><span class="line">è¦†ç›–æ—¢æœ‰æ–‡ä»¶ä¹‹å‰å…ˆè¯¢é—®ç”¨æˆ·ï¼›</span><br><span class="line">-pï¼šä¿ç•™æºæ–‡ä»¶æˆ–ç›®å½•çš„å±æ€§ï¼›</span><br><span class="line">-R/rï¼šé€’å½’å¤„ç†ï¼Œå°†æŒ‡å®šç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶ä¸å­ç›®å½•ä¸€å¹¶å¤„ç†ã€‚</span><br></pre></td></tr></tbody></table></figure><p>ä¾‹å¦‚ï¼šæ–°å»ºä¸€ä¸ªæ–‡ä»¶<code>newfile</code>å’Œä¸€ä¸ªæ–‡ä»¶å¤¹<code>newdir</code>ï¼Œå°†<code>newfile</code>å¤åˆ¶åˆ°<code>newdir</code>ç›®å½•ä¸‹ã€‚å…·ä½“å‘½ä»¤å¦‚ä¸‹ã€‚</p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">touch newfile</span><br><span class="line">mkdir newdir</span><br><span class="line">cp newfile newdir</span><br></pre></td></tr></tbody></table></figure><h6 id="Linuxæ–‡ä»¶å’Œæ–‡ä»¶å¤¹ç§»åŠ¨-é‡å‘½å"><a href="#Linuxæ–‡ä»¶å’Œæ–‡ä»¶å¤¹ç§»åŠ¨-é‡å‘½å" class="headerlink" title="Linuxæ–‡ä»¶å’Œæ–‡ä»¶å¤¹ç§»åŠ¨/é‡å‘½å"></a>Linuxæ–‡ä»¶å’Œæ–‡ä»¶å¤¹ç§»åŠ¨/é‡å‘½å</h6><p>Linuxä½¿ç”¨<code>mv</code>å‘½ä»¤ç”¨æ¥å¯¹æ–‡ä»¶æˆ–ç›®å½•é‡æ–°å‘½åï¼Œæˆ–è€…å°†æ–‡ä»¶ä»ä¸€ä¸ªç›®å½•ç§»åˆ°å¦ä¸€ä¸ªç›®å½•ä¸­ï¼Œå‘½ä»¤æ ¼å¼å¦‚ä¸‹ï¼š</p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mv [å‘½ä»¤é€‰é¡¹] æºæ–‡ä»¶ ç›®æ ‡æ–‡ä»¶</span><br></pre></td></tr></tbody></table></figure><p>å¸¸ç”¨å‘½ä»¤é€‰é¡¹ï¼š</p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">-fï¼šå¼ºè¡Œå¤åˆ¶æ–‡ä»¶æˆ–ç›®å½•ï¼Œä¸è®ºç›®æ ‡æ–‡ä»¶æˆ–ç›®å½•æ˜¯å¦å·²å­˜åœ¨ï¼›</span><br><span class="line">-iï¼šè¦†ç›–æ—¢æœ‰æ–‡ä»¶ä¹‹å‰å…ˆè¯¢é—®ç”¨æˆ·ï¼›</span><br><span class="line">-pï¼šä¿ç•™æºæ–‡ä»¶æˆ–ç›®å½•çš„å±æ€§ï¼›</span><br><span class="line">-R/rï¼šé€’å½’å¤„ç†ï¼Œå°†æŒ‡å®šç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶ä¸å­ç›®å½•ä¸€å¹¶å¤„ç†'ã€‚</span><br></pre></td></tr></tbody></table></figure><p>ä¾‹å¦‚ï¼šæ–°å»ºä¸€ä¸ªæ–‡ä»¶<code>newfile</code>å’Œä¸€ä¸ªæ–‡ä»¶å¤¹<code>newdir</code>ï¼Œå°†<code>newfile</code>å‰ªåˆ‡åˆ°<code>newdir</code>ç›®å½•ä¸‹ï¼Œå¹¶é‡æ–°å‘½åä¸º<code>newfileCpy</code>ã€‚å…·ä½“å‘½ä»¤å¦‚ä¸‹ã€‚</p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">touch newfile</span><br><span class="line">mkdir newdir</span><br><span class="line">mv newfile newdir/newfileCpy</span><br></pre></td></tr></tbody></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>leetcodeåˆ·é¢˜ç¬”è®°</title>
      <link href="2021/07/03/leetcode%E5%88%B7%E9%A2%98%E7%AC%94%E8%AE%B0/"/>
      <url>2021/07/03/leetcode%E5%88%B7%E9%A2%98%E7%AC%94%E8%AE%B0/</url>
      
        <content type="html"><![CDATA[<h2 id="æ•°ç»„"><a href="#æ•°ç»„" class="headerlink" title="æ•°ç»„"></a>æ•°ç»„</h2><h3 id="1-ä¸¤æ•°ä¹‹å’Œ"><a href="#1-ä¸¤æ•°ä¹‹å’Œ" class="headerlink" title="1 ä¸¤æ•°ä¹‹å’Œ"></a>1 ä¸¤æ•°ä¹‹å’Œ</h3><p><strong>é¢˜ç›®å¤§æ„</strong></p><p>ç»™å®šä¸€ä¸ªæ•´æ•°æ•°ç»„ nums å’Œä¸€ä¸ªæ•´æ•°ç›®æ ‡å€¼ targetï¼Œè¯·ä½ åœ¨è¯¥æ•°ç»„ä¸­æ‰¾å‡º å’Œä¸ºç›®æ ‡å€¼ target  çš„é‚£ ä¸¤ä¸ª æ•´æ•°ï¼Œå¹¶è¿”å›å®ƒä»¬çš„æ•°ç»„ä¸‹æ ‡ã€‚</p><p>ä½ å¯ä»¥å‡è®¾æ¯ç§è¾“å…¥åªä¼šå¯¹åº”ä¸€ä¸ªç­”æ¡ˆã€‚ä½†æ˜¯ï¼Œæ•°ç»„ä¸­åŒä¸€ä¸ªå…ƒç´ åœ¨ç­”æ¡ˆé‡Œä¸èƒ½é‡å¤å‡ºç°ã€‚</p><p>ä½ å¯ä»¥æŒ‰ä»»æ„é¡ºåºè¿”å›ç­”æ¡ˆã€‚</p><p>ç¤ºä¾‹ 1ï¼š</p><p>è¾“å…¥ï¼šnums = [2,7,11,15], target = 9<br>è¾“å‡ºï¼š[0,1]<br>è§£é‡Šï¼šå› ä¸º nums[0] + nums[1] == 9 ï¼Œè¿”å› [0, 1] ã€‚</p><p><strong>æš´åŠ›æ³•</strong></p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>{</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">int</span>[] twoSum(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> target) {</span><br><span class="line">        <span class="keyword">int</span> i, j;</span><br><span class="line">        <span class="keyword">int</span> [] a = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">2</span>];</span><br><span class="line">        <span class="keyword">for</span>(i = <span class="number">0</span>; i &lt; nums.length - <span class="number">1</span>; i++ ){</span><br><span class="line">            <span class="keyword">for</span>( j = i + <span class="number">1</span>; j &lt; nums.length ;j++){</span><br><span class="line">                <span class="keyword">if</span>(nums[i] + nums[j] == target ){</span><br><span class="line">                    a[<span class="number">0</span>] = i;</span><br><span class="line">                    a[<span class="number">1</span>] = j;</span><br><span class="line">                    <span class="keyword">return</span> a;</span><br><span class="line">                }</span><br><span class="line">            }</span><br><span class="line">        } </span><br><span class="line">        <span class="keyword">return</span> a ;</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p><strong>å“ˆå¸Œè¡¨æ³•</strong></p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>{</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">int</span>[] twoSum(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> target) {</span><br><span class="line">       HashMap&lt;Integer,Integer&gt; map = <span class="keyword">new</span> HashMap&lt;Integer,Integer&gt;();</span><br><span class="line">       <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>;i&lt;nums.length;i++){</span><br><span class="line">           <span class="keyword">if</span>(map.containsKey(target-nums[i])){</span><br><span class="line">               <span class="keyword">return</span> <span class="keyword">new</span> <span class="keyword">int</span>[]{map.get(target-nums[i]),i};</span><br><span class="line">           }</span><br><span class="line">           map.put(nums[i],i);</span><br><span class="line">       }</span><br><span class="line">       <span class="keyword">return</span> <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">0</span>];</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p><strong>æ‰§è¡Œæ•ˆç‡å¯¹æ¯”</strong></p><table><thead><tr><th>å“ˆå¸Œè¡¨æ³•</th><th>3 ms</th><th>40.8 MB</th><th>Java</th><th>2020/02/29 14:58</th><th>æ·»åŠ å¤‡æ³¨</th></tr></thead><tbody><tr><td>æš´åŠ›æ³•</td><td>65 ms</td><td>38.2 MB</td><td>Java</td><td>2020/02/28 19:57</td><td>æ·»åŠ å¤‡æ³¨</td></tr></tbody></table><h2 id="å­—ç¬¦ä¸²"><a href="#å­—ç¬¦ä¸²" class="headerlink" title="å­—ç¬¦ä¸²"></a>å­—ç¬¦ä¸²</h2><h3 id="1-é¢è¯•é¢˜-01-01-åˆ¤å®šå­—ç¬¦æ˜¯å¦å”¯ä¸€"><a href="#1-é¢è¯•é¢˜-01-01-åˆ¤å®šå­—ç¬¦æ˜¯å¦å”¯ä¸€" class="headerlink" title="1 é¢è¯•é¢˜ 01.01. åˆ¤å®šå­—ç¬¦æ˜¯å¦å”¯ä¸€"></a>1 é¢è¯•é¢˜ 01.01. åˆ¤å®šå­—ç¬¦æ˜¯å¦å”¯ä¸€</h3><p><strong>é—®é¢˜æè¿°</strong></p><p>å®ç°ä¸€ä¸ªç®—æ³•ï¼Œç¡®å®šä¸€ä¸ªå­—ç¬¦ä¸² s çš„æ‰€æœ‰å­—ç¬¦æ˜¯å¦å…¨éƒ½ä¸åŒã€‚</p><p><strong>ç¤ºä¾‹ 1ï¼š</strong></p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥: s = "leetcode"</span><br><span class="line">è¾“å‡º: false </span><br></pre></td></tr></tbody></table></figure><p><strong>Java è§£æ³•</strong></p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>{</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isUnique</span><span class="params">(String astr)</span> </span>{</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;astr.length();i++){</span><br><span class="line">        <span class="keyword">if</span>(astr.lastIndexOf(astr.charAt(i))!=i){</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h3 id="2-é¢è¯•é¢˜-01-02-åˆ¤å®šæ˜¯å¦äº’ä¸ºå­—ç¬¦é‡æ’"><a href="#2-é¢è¯•é¢˜-01-02-åˆ¤å®šæ˜¯å¦äº’ä¸ºå­—ç¬¦é‡æ’" class="headerlink" title="2 é¢è¯•é¢˜ 01.02. åˆ¤å®šæ˜¯å¦äº’ä¸ºå­—ç¬¦é‡æ’"></a>2 é¢è¯•é¢˜ 01.02. åˆ¤å®šæ˜¯å¦äº’ä¸ºå­—ç¬¦é‡æ’</h3><p><strong>é—®é¢˜æè¿°</strong></p><p>ç»™å®šä¸¤ä¸ªå­—ç¬¦ä¸² s1 å’Œ s2ï¼Œè¯·ç¼–å†™ä¸€ä¸ªç¨‹åºï¼Œç¡®å®šå…¶ä¸­ä¸€ä¸ªå­—ç¬¦ä¸²çš„å­—ç¬¦é‡æ–°æ’åˆ—åï¼Œèƒ½å¦å˜æˆå¦ä¸€ä¸ªå­—ç¬¦ä¸²ã€‚</p><p>ç¤ºä¾‹ 1ï¼š</p><p>è¾“å…¥: s1 = â€œabcâ€, s2 = â€œbcaâ€<br>è¾“å‡º: true<br>ç¤ºä¾‹ 2ï¼š</p><p>è¾“å…¥: s1 = â€œabcâ€, s2 = â€œbadâ€<br>è¾“å‡º: false</p><p><strong>Javaè§£æ³•</strong></p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>{</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">CheckPermutation</span><span class="params">(String s1, String s2)</span> </span>{</span><br><span class="line">        <span class="keyword">char</span>[] chs1 = s1.toCharArray();</span><br><span class="line">        Arrays.sort(chs1);</span><br><span class="line">        <span class="keyword">char</span>[] chs2 = s2.toCharArray();</span><br><span class="line">        Arrays.sort(chs2);</span><br><span class="line">        <span class="keyword">return</span> Arrays.toString(chs1).equals(Arrays.toString(chs2));</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h3 id="3-æ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²"><a href="#3-æ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²" class="headerlink" title="3 æ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²"></a>3 æ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²</h3><p><strong>å½’ç±»ï¼š</strong><code>æ»‘åŠ¨çª—å£</code></p><p><strong>é¢˜ç›®æè¿°</strong></p><p>ç»™å®šä¸€ä¸ªå­—ç¬¦ä¸² s ï¼Œè¯·ä½ æ‰¾å‡ºå…¶ä¸­ä¸å«æœ‰é‡å¤å­—ç¬¦çš„ æœ€é•¿å­ä¸² çš„é•¿åº¦ã€‚</p><p>ç¤ºä¾‹ 1:</p><p>è¾“å…¥: s = â€œabcabcbbâ€<br>è¾“å‡º: 3<br>è§£é‡Š: å› ä¸ºæ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²æ˜¯ â€œabcâ€ï¼Œæ‰€ä»¥å…¶é•¿åº¦ä¸º 3ã€‚<br>ç¤ºä¾‹ 2:</p><p>è¾“å…¥: s = â€œbbbbbâ€<br>è¾“å‡º: 1<br>è§£é‡Š: å› ä¸ºæ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²æ˜¯ â€œbâ€ï¼Œæ‰€ä»¥å…¶é•¿åº¦ä¸º 1ã€‚<br>ç¤ºä¾‹ 3:</p><p>è¾“å…¥: s = â€œpwwkewâ€<br>è¾“å‡º: 3<br>è§£é‡Š: å› ä¸ºæ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²æ˜¯ â€œwkeâ€ï¼Œæ‰€ä»¥å…¶é•¿åº¦ä¸º 3ã€‚<br>è¯·æ³¨æ„ï¼Œä½ çš„ç­”æ¡ˆå¿…é¡»æ˜¯ å­ä¸² çš„é•¿åº¦ï¼Œâ€pwkeâ€ æ˜¯ä¸€ä¸ªå­åºåˆ—ï¼Œä¸æ˜¯å­ä¸²ã€‚<br>ç¤ºä¾‹ 4:</p><p>è¾“å…¥: s = â€œâ€<br>è¾“å‡º: 0</p><p><strong>è‡ªå·±å†™çš„ç¬¨æ–¹æ³•,æš´åŠ›æ³•æ±‚è§£ï¼Œéå†æ³•æ±‚è§£å­ä¸²</strong></p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>{</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">lengthOfLongestSubstring</span><span class="params">(String s)</span> </span>{</span><br><span class="line">        <span class="keyword">if</span>(s.equals(<span class="string">""</span>))<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> count = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> max = <span class="number">0</span>;</span><br><span class="line">        Set&lt;Character&gt; set = <span class="keyword">new</span> HashSet&lt;Character&gt;();</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i&lt;s.length(); i++){</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j = i; j&lt;s.length(); j++){</span><br><span class="line">                <span class="keyword">if</span>(set.contains(s.charAt(j))){</span><br><span class="line">                    set.clear();</span><br><span class="line">                    <span class="keyword">if</span>(count&gt;max)max = count;</span><br><span class="line">                    count = <span class="number">0</span>;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                }<span class="keyword">else</span>{</span><br><span class="line">                    set.add(s.charAt(j));</span><br><span class="line">                    count++;</span><br><span class="line">                }</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">if</span>(count&gt;max)max = count;</span><br><span class="line">        <span class="keyword">return</span> max;</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>æ‰§è¡Œç”¨æ—¶ï¼š73 ms, åœ¨æ‰€æœ‰ Java æäº¤ä¸­å‡»è´¥äº†14.95%çš„ç”¨æˆ·</p><p>å†…å­˜æ¶ˆè€—ï¼š39.1 MB, åœ¨æ‰€æœ‰ Java æäº¤ä¸­å‡»è´¥äº†12.41%çš„ç”¨æˆ·</p><p><strong>å®˜æ–¹é¢˜è§£ï¼Œæ”¹è¿›æ–¹æ³•ï¼Œæ»‘åŠ¨çª—å£</strong></p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>{</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">lengthOfLongestSubstring</span><span class="params">(String s)</span> </span>{</span><br><span class="line">        <span class="comment">// å“ˆå¸Œé›†åˆï¼Œè®°å½•æ¯ä¸ªå­—ç¬¦æ˜¯å¦å‡ºç°è¿‡</span></span><br><span class="line">        Set&lt;Character&gt; occ = <span class="keyword">new</span> HashSet&lt;Character&gt;();</span><br><span class="line">        <span class="keyword">int</span> n = s.length();</span><br><span class="line">        <span class="comment">// å³æŒ‡é’ˆï¼Œåˆå§‹å€¼ä¸º -1ï¼Œç›¸å½“äºæˆ‘ä»¬åœ¨å­—ç¬¦ä¸²çš„å·¦è¾¹ç•Œçš„å·¦ä¾§ï¼Œè¿˜æ²¡æœ‰å¼€å§‹ç§»åŠ¨</span></span><br><span class="line">        <span class="keyword">int</span> rk = -<span class="number">1</span>, ans = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; ++i) {</span><br><span class="line">            <span class="keyword">if</span> (i != <span class="number">0</span>) {</span><br><span class="line">                <span class="comment">// å·¦æŒ‡é’ˆå‘å³ç§»åŠ¨ä¸€æ ¼ï¼Œç§»é™¤ä¸€ä¸ªå­—ç¬¦,ç›®çš„æ˜¯ä¸ºäº†å°†ç¬¬ä¸€ä¸ªé‡å¤å­—ç¬¦ç¬¬ä¸€æ¬¡å‡ºç°ä½ç½®ä¹‹å‰çš„å­—ç¬¦å…¨éƒ¨åˆ é™¤</span></span><br><span class="line">                occ.remove(s.charAt(i - <span class="number">1</span>));</span><br><span class="line">            }</span><br><span class="line">            <span class="keyword">while</span> (rk + <span class="number">1</span> &lt; n &amp;&amp; !occ.contains(s.charAt(rk + <span class="number">1</span>))) {</span><br><span class="line">                <span class="comment">// ä¸æ–­åœ°ç§»åŠ¨å³æŒ‡é’ˆ</span></span><br><span class="line">                occ.add(s.charAt(rk + <span class="number">1</span>));</span><br><span class="line">                ++rk;</span><br><span class="line">            }</span><br><span class="line">            <span class="comment">// ç¬¬ i åˆ° rk ä¸ªå­—ç¬¦æ˜¯ä¸€ä¸ªæé•¿çš„æ— é‡å¤å­—ç¬¦å­ä¸²</span></span><br><span class="line">            ans = Math.max(ans, rk - i + <span class="number">1</span>);</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p><strong>ä¸€ç‚¹ç‚¹æ€»ç»“</strong></p><blockquote><p>çœ‹è§å‡ºç°æ¬¡æ•°ï¼šè”æƒ³åˆ°æ•£åˆ—è¡¨</p><p>æ¶‰åŠå­ä¸²ï¼šè”æƒ³åˆ°æ»‘åŠ¨çª—å£</p></blockquote><h3 id="4-å­—ç¬¦ä¸²ç›¸åŠ "><a href="#4-å­—ç¬¦ä¸²ç›¸åŠ " class="headerlink" title="4 å­—ç¬¦ä¸²ç›¸åŠ "></a>4 å­—ç¬¦ä¸²ç›¸åŠ </h3><p><strong>é¢˜ç›®æè¿°</strong></p><p>ç»™å®šä¸¤ä¸ªå­—ç¬¦ä¸²å½¢å¼çš„éè´Ÿæ•´æ•° <code>num1</code> å’Œ<code>num2</code> ï¼Œè®¡ç®—å®ƒä»¬çš„å’Œã€‚</p><p><strong>è‡ªå·±å†™çš„ä½æ•ˆç‡ä»£ç ï¼ŒJavaå®ç°</strong></p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>{</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">addStrings</span><span class="params">(String num1, String num2)</span> </span>{</span><br><span class="line">        StringBuffer s1 = <span class="keyword">new</span> StringBuffer(num1);</span><br><span class="line">        StringBuffer s2 = <span class="keyword">new</span> StringBuffer(num2);</span><br><span class="line">        StringBuffer ans = <span class="keyword">new</span> StringBuffer(<span class="string">""</span>);</span><br><span class="line">        <span class="keyword">int</span> len = s2.length()-s1.length()&gt;<span class="number">0</span>?s2.length()-s1.length():</span><br><span class="line">        s1.length()-s2.length();</span><br><span class="line">        <span class="comment">//å¤„ç†ä¸¤ä¸ªå­—ç¬¦ç©¿ä½æ•°ä¸åŒçš„æƒ…å†µ</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; len; i++) {</span><br><span class="line">             <span class="keyword">if</span> (s1.length()&gt;s2.length()){</span><br><span class="line">                 s2.insert(<span class="number">0</span>,<span class="string">'0'</span>);</span><br><span class="line">             }<span class="keyword">else</span>{</span><br><span class="line">                 s1.insert(<span class="number">0</span>,<span class="string">'0'</span>);</span><br><span class="line">             }</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">int</span> carry = <span class="number">0</span>,num;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = s1.length()-<span class="number">1</span>; i &gt;=<span class="number">0</span>; i--) {</span><br><span class="line">            num = s1.charAt(i)+s2.charAt(i)+carry-<span class="number">96</span>;</span><br><span class="line">            ans.insert(<span class="number">0</span>,(<span class="keyword">char</span>)(num%<span class="number">10</span>+<span class="number">48</span>));</span><br><span class="line">            carry = num/<span class="number">10</span>;</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">if</span>(carry&gt;<span class="number">0</span>)ans.insert(<span class="number">0</span>,(<span class="keyword">char</span>)(carry+<span class="number">48</span>));</span><br><span class="line">        <span class="keyword">return</span> ans.toString();</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p><strong>æ”¹è¿›å†™æ³•ï¼ŒåŒæŒ‡é’ˆ</strong></p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>{</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">addStrings</span><span class="params">(String num1, String num2)</span> </span>{</span><br><span class="line">        StringBuffer ans = <span class="keyword">new</span> StringBuffer(<span class="string">""</span>);</span><br><span class="line">        <span class="comment">//å®šä¹‰ä¸¤ä¸ªæŒ‡é’ˆæŒ‡å‘å­—ç¬¦ç©¿æœ«å°¾</span></span><br><span class="line">        <span class="keyword">int</span> i = num1.length()-<span class="number">1</span>,j = num2.length()-<span class="number">1</span>,add = <span class="number">0</span>;</span><br><span class="line">        <span class="comment">//add!=0ï¼Œæœ€åä¸€æ¬¡è‹¥addè¿›ä½ä¸ä¸ºé›¶ï¼Œä¼šå¤šå¢åŠ ä¸€ä½</span></span><br><span class="line">        <span class="keyword">while</span>(i&gt;=<span class="number">0</span> || j&gt;=<span class="number">0</span> || add!=<span class="number">0</span>){</span><br><span class="line">            <span class="keyword">int</span> a = i &gt;= <span class="number">0</span>?num1.charAt(i) - <span class="string">'0'</span>:<span class="number">0</span>;</span><br><span class="line">            <span class="keyword">int</span> b = j &gt;= <span class="number">0</span>?num2.charAt(j) - <span class="string">'0'</span>:<span class="number">0</span>;</span><br><span class="line">            <span class="keyword">int</span> res = a + b + add;</span><br><span class="line">            ans.insert(<span class="number">0</span>,(<span class="keyword">char</span>)(res%<span class="number">10</span>+<span class="number">48</span>));</span><br><span class="line">            add = res/<span class="number">10</span>;</span><br><span class="line">            --i;</span><br><span class="line">            --j;</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">return</span> ans.toString();</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><blockquote><p>å¯¹æ¯”é“¾è¡¨é¢˜ä¸­çš„ â€œä¸¤æ•°ç›¸åŠ â€</p></blockquote><h2 id="é“¾è¡¨"><a href="#é“¾è¡¨" class="headerlink" title="é“¾è¡¨"></a>é“¾è¡¨</h2><h3 id="1-ä¸¤æ•°ç›¸åŠ "><a href="#1-ä¸¤æ•°ç›¸åŠ " class="headerlink" title="1 ä¸¤æ•°ç›¸åŠ "></a>1 ä¸¤æ•°ç›¸åŠ </h3><p><strong>é¢˜ç›®æè¿°</strong></p><p>ç»™ä½ ä¸¤ä¸ª éç©º çš„é“¾è¡¨ï¼Œè¡¨ç¤ºä¸¤ä¸ªéè´Ÿçš„æ•´æ•°ã€‚å®ƒä»¬æ¯ä½æ•°å­—éƒ½æ˜¯æŒ‰ç…§ é€†åº çš„æ–¹å¼å­˜å‚¨çš„ï¼Œå¹¶ä¸”æ¯ä¸ªèŠ‚ç‚¹åªèƒ½å­˜å‚¨ ä¸€ä½ æ•°å­—ã€‚</p><p>è¯·ä½ å°†ä¸¤ä¸ªæ•°ç›¸åŠ ï¼Œå¹¶ä»¥ç›¸åŒå½¢å¼è¿”å›ä¸€ä¸ªè¡¨ç¤ºå’Œçš„é“¾è¡¨ã€‚</p><p>ä½ å¯ä»¥å‡è®¾é™¤äº†æ•°å­— 0 ä¹‹å¤–ï¼Œè¿™ä¸¤ä¸ªæ•°éƒ½ä¸ä¼šä»¥ 0 å¼€å¤´ã€‚</p><p> <img src="https://gitee.com/rain-sky/images/raw/master/20210712174531.png"></p><p>ç¤ºä¾‹ 1ï¼š</p><p>è¾“å…¥ï¼šl1 = [2,4,3], l2 = [5,6,4]<br>è¾“å‡ºï¼š[7,0,8]<br>è§£é‡Šï¼š342 + 465 = 807.</p><p><strong>Javaè§£ç­”</strong></p><p>è‡ªå·±å†™çš„åˆ†æƒ…å†µè®¨è®ºæ³•ï¼Œå°šä¸ç¾è§‚çš„ä»£ç ï¼Œä»£ç é‡å¤åº¦è¿‡é«˜</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>{</span><br><span class="line">    <span class="function"><span class="keyword">public</span> ListNode <span class="title">addTwoNumbers</span><span class="params">(ListNode l1, ListNode l2)</span> </span>{</span><br><span class="line">        ListNode head = <span class="keyword">null</span>, tail = <span class="keyword">null</span>;</span><br><span class="line">        <span class="keyword">int</span> carry = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> vals = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span> (l1 != <span class="keyword">null</span> || l2 != <span class="keyword">null</span>) {</span><br><span class="line">            <span class="keyword">if</span> ( head == <span class="keyword">null</span>){</span><br><span class="line">                vals = (l1.val+l2.val+carry)%<span class="number">10</span>;</span><br><span class="line">                carry = (l1.val+l2.val+carry)/<span class="number">10</span>;</span><br><span class="line">                head = tail = <span class="keyword">new</span> ListNode(vals);</span><br><span class="line">            }</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span>(l1 != <span class="keyword">null</span> &amp;&amp; l2 != <span class="keyword">null</span>){</span><br><span class="line">                vals = (l1.val+l2.val + carry)%<span class="number">10</span>;</span><br><span class="line">                carry = (l1.val+l2.val + carry)/<span class="number">10</span>;</span><br><span class="line">                tail.next = <span class="keyword">new</span> ListNode(vals);</span><br><span class="line">                tail = tail.next;</span><br><span class="line">            }</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span>(l1 != <span class="keyword">null</span> &amp;&amp; l2 == <span class="keyword">null</span>){</span><br><span class="line">                vals = (l1.val + carry)%<span class="number">10</span>;</span><br><span class="line">                carry = (l1.val+carry)/<span class="number">10</span>;</span><br><span class="line">                tail.next = <span class="keyword">new</span> ListNode(vals);</span><br><span class="line">                tail = tail.next;</span><br><span class="line">            }</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span>(l1 == <span class="keyword">null</span> &amp;&amp; l2 != <span class="keyword">null</span>){</span><br><span class="line">                vals = (l2.val + carry)%<span class="number">10</span>;</span><br><span class="line">                carry = (l2.val+carry)/<span class="number">10</span>;</span><br><span class="line">                tail.next = <span class="keyword">new</span> ListNode(vals);</span><br><span class="line">                tail = tail.next;</span><br><span class="line">            }</span><br><span class="line">            <span class="keyword">if</span>(l1!=<span class="keyword">null</span>)l1 = l1.next;</span><br><span class="line">            <span class="keyword">if</span>(l2!=<span class="keyword">null</span>)l2 = l2.next;</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">if</span> (carry &gt; <span class="number">0</span>) {</span><br><span class="line">            tail.next = <span class="keyword">new</span> ListNode(carry);</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">return</span> head;</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><blockquote><p>æ‰§è¡Œæ•ˆç‡ï¼š</p></blockquote><p>æ‰§è¡Œç”¨æ—¶ï¼š2 ms, åœ¨æ‰€æœ‰ Java æäº¤ä¸­å‡»è´¥äº†99.77%çš„ç”¨æˆ·</p><p>å†…å­˜æ¶ˆè€—ï¼š38.6 MB, åœ¨æ‰€æœ‰ Java æäº¤ä¸­å‡»è´¥äº†76.85%çš„ç”¨æˆ·</p><p><strong>ä¼˜åŒ–ç‰ˆ</strong></p><p>ä»£ç é‡å¤åº¦é™ä½</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>{</span><br><span class="line">    <span class="function"><span class="keyword">public</span> ListNode <span class="title">addTwoNumbers</span><span class="params">(ListNode l1, ListNode l2)</span> </span>{</span><br><span class="line">        ListNode head = <span class="keyword">null</span>, tail = <span class="keyword">null</span>;</span><br><span class="line">        <span class="keyword">int</span> carry = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span> (l1 != <span class="keyword">null</span> || l2 != <span class="keyword">null</span>) {</span><br><span class="line">            <span class="keyword">int</span> n1 = l1 != <span class="keyword">null</span> ? l1.val : <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">int</span> n2 = l2 != <span class="keyword">null</span> ? l2.val : <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">int</span> sum = n1 + n2 + carry;</span><br><span class="line">            <span class="keyword">if</span> (head == <span class="keyword">null</span>) {</span><br><span class="line">                head = tail = <span class="keyword">new</span> ListNode(sum % <span class="number">10</span>);</span><br><span class="line">            } <span class="keyword">else</span> {</span><br><span class="line">                tail.next = <span class="keyword">new</span> ListNode(sum % <span class="number">10</span>);</span><br><span class="line">                tail = tail.next;</span><br><span class="line">            }</span><br><span class="line">            carry = sum / <span class="number">10</span>;</span><br><span class="line">            <span class="keyword">if</span> (l1 != <span class="keyword">null</span>) l1 = l1.next;</span><br><span class="line">            <span class="keyword">if</span> (l2 != <span class="keyword">null</span>) l2 = l2.next;</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">if</span> (carry &gt; <span class="number">0</span>) {</span><br><span class="line">            tail.next = <span class="keyword">new</span> ListNode(carry);</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">return</span> head;</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h3 id="2-åˆ¤æ–­å›æ–‡é“¾è¡¨"><a href="#2-åˆ¤æ–­å›æ–‡é“¾è¡¨" class="headerlink" title="2 åˆ¤æ–­å›æ–‡é“¾è¡¨"></a>2 åˆ¤æ–­å›æ–‡é“¾è¡¨</h3><p><strong>é¢˜ç›®æè¿°</strong></p><p>è¯·åˆ¤æ–­ä¸€ä¸ªé“¾è¡¨æ˜¯å¦ä¸ºå›æ–‡é“¾è¡¨ã€‚</p><p><strong>ç¤ºä¾‹ 1:</strong></p><figure class="highlight c"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥: <span class="number">1</span>-&gt;<span class="number">2</span></span><br><span class="line">è¾“å‡º: <span class="literal">false</span></span><br></pre></td></tr></tbody></table></figure><p><strong>ç¤ºä¾‹ 2:</strong></p><figure class="highlight c"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥: <span class="number">1</span>-&gt;<span class="number">2</span>-&gt;<span class="number">2</span>-&gt;<span class="number">1</span></span><br><span class="line">è¾“å‡º: <span class="literal">true</span></span><br></pre></td></tr></tbody></table></figure><p><strong>Javaåˆ©ç”¨å †æ ˆè§£ç­”</strong></p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>{</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isPalindrome</span><span class="params">(ListNode head)</span> </span>{</span><br><span class="line">        LinkedList&lt;Integer&gt; stack = <span class="keyword">new</span> LinkedList&lt;Integer&gt;();</span><br><span class="line">        ListNode tmp = head;</span><br><span class="line">        <span class="keyword">while</span>(tmp!=<span class="keyword">null</span>){</span><br><span class="line">            stack.push(tmp.val);</span><br><span class="line">            tmp = tmp.next;</span><br><span class="line">        }</span><br><span class="line">        tmp = head;</span><br><span class="line">        <span class="keyword">while</span>(tmp!=<span class="keyword">null</span>){</span><br><span class="line">            <span class="keyword">if</span>(tmp.val!=stack.pop().intValue()){</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">            }</span><br><span class="line">            tmp=tmp.next;</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p><strong>Javaæ•°ç»„è§£ç­”</strong></p><h2 id="åŠ¨æ€è§„åˆ’"><a href="#åŠ¨æ€è§„åˆ’" class="headerlink" title="åŠ¨æ€è§„åˆ’"></a>åŠ¨æ€è§„åˆ’</h2><h3 id=""><a href="#" class="headerlink" title=""></a></h3><p><strong>é¢˜ç›®æè¿°</strong></p><p>ç»™å®š <em>n</em> ä¸ªéè´Ÿæ•´æ•°è¡¨ç¤ºæ¯ä¸ªå®½åº¦ä¸º 1 çš„æŸ±å­çš„é«˜åº¦å›¾ï¼Œè®¡ç®—æŒ‰æ­¤æ’åˆ—çš„æŸ±å­ï¼Œä¸‹é›¨ä¹‹åèƒ½æ¥å¤šå°‘é›¨æ°´ã€‚è¾“å…¥ï¼šheight = [0,1,0,2,1,0,1,3,2,1,2,1]<br>è¾“å‡ºï¼š6<br>è§£é‡Šï¼šä¸Šé¢æ˜¯ç”±æ•°ç»„ [0,1,0,2,1,0,1,3,2,1,2,1] è¡¨ç¤ºçš„é«˜åº¦å›¾ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå¯ä»¥æ¥ 6 ä¸ªå•ä½çš„é›¨æ°´ï¼ˆè“è‰²éƒ¨åˆ†è¡¨ç¤ºé›¨æ°´ï¼‰ã€‚ </p><p><strong>Cè§£æ³•</strong></p><figure class="highlight c"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">trap</span><span class="params">(<span class="keyword">int</span>* height, <span class="keyword">int</span> heightSize)</span></span>{</span><br><span class="line">    <span class="keyword">if</span>(heightSize==<span class="number">0</span>)<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> left[heightSize];</span><br><span class="line">    <span class="keyword">int</span> right[heightSize];</span><br><span class="line">    left[<span class="number">0</span>] = height[<span class="number">0</span>],right[heightSize<span class="number">-1</span>] = height[heightSize<span class="number">-1</span>];</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; heightSize;i++){</span><br><span class="line">        left[i] = fmax(left[i - <span class="number">1</span>], height[i]);</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> j = heightSize - <span class="number">2</span>; j&gt;=<span class="number">0</span>; j--){</span><br><span class="line">        right[j] = fmax(right[j + <span class="number">1</span>],height[j]);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> sum = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> k = <span class="number">0</span>; k&lt;heightSize; k++){</span><br><span class="line">        sum+=fmin(left[k], right[k]) - height[k];</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">return</span> sum;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h2 id="äºŒåˆ†æœç´¢"><a href="#äºŒåˆ†æœç´¢" class="headerlink" title="äºŒåˆ†æœç´¢"></a>äºŒåˆ†æœç´¢</h2><h3 id="704-äºŒåˆ†æŸ¥æ‰¾"><a href="#704-äºŒåˆ†æŸ¥æ‰¾" class="headerlink" title="704. äºŒåˆ†æŸ¥æ‰¾"></a><a href="https://leetcode-cn.com/problems/binary-search/">704. äºŒåˆ†æŸ¥æ‰¾</a></h3><p>ç»™å®šä¸€ä¸ª n ä¸ªå…ƒç´ æœ‰åºçš„ï¼ˆå‡åºï¼‰æ•´å‹æ•°ç»„ nums å’Œä¸€ä¸ªç›®æ ‡å€¼ target  ï¼Œå†™ä¸€ä¸ªå‡½æ•°æœç´¢ nums ä¸­çš„ targetï¼Œå¦‚æœç›®æ ‡å€¼å­˜åœ¨è¿”å›ä¸‹æ ‡ï¼Œå¦åˆ™è¿”å› -1ã€‚</p><p>è¾“å…¥: nums = [-1,0,3,5,9,12], target = 9<br>è¾“å‡º: 4</p><p>è¾“å…¥: nums = [-1,0,3,5,9,12], target = 2<br>è¾“å‡º: -1<br>è§£é‡Š: 2 ä¸å­˜åœ¨ nums ä¸­å› æ­¤è¿”å› -1</p><p><strong>Javaè§£æ³•</strong></p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>{</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">search</span><span class="params">(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> target)</span> </span>{</span><br><span class="line">        <span class="keyword">int</span> head = <span class="number">0</span>,p;</span><br><span class="line">        <span class="keyword">int</span> end = nums.length - <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">while</span>(head&lt;=end){</span><br><span class="line">            p = (head+end)/<span class="number">2</span>;</span><br><span class="line">            <span class="keyword">if</span>(target&lt;nums[p]){</span><br><span class="line">                end = p-<span class="number">1</span>;</span><br><span class="line">            }<span class="keyword">if</span>(target&gt;nums[p]){</span><br><span class="line">                head = p+<span class="number">1</span>;</span><br><span class="line">            }<span class="keyword">if</span>(target==nums[p]){</span><br><span class="line">            <span class="keyword">return</span> p;</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> ç®—æ³• </tag>
            
            <tag> leetcode </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å…¨å¹²å·¥ç¨‹å¸ˆè¿›é˜¶-Vue</title>
      <link href="2021/06/24/%E5%85%A8%E5%B9%B2%E5%B7%A5%E7%A8%8B%E5%B8%88%E8%BF%9B%E9%98%B6-Vue/"/>
      <url>2021/06/24/%E5%85%A8%E5%B9%B2%E5%B7%A5%E7%A8%8B%E5%B8%88%E8%BF%9B%E9%98%B6-Vue/</url>
      
        <content type="html"><![CDATA[<blockquote><p>ç›¸å…³é“¾æ¥</p><p>Vue: <a href="https://vuejs.org/">https://vuejs.org/</a></p><p>webpackï¼š<a href="https://webpack.docschina.org/">https://webpack.docschina.org/</a></p><p>Vueä¸­æ–‡ï¼š<a href="https://cn.vuejs.org/">https://cn.vuejs.org/</a></p><p>Axios: <a href="http://www.axios-js.com/">http://www.axios-js.com/</a></p><p>ElementUI : <a href="https://element-plus.gitee.io/#/zh-CN">https://element-plus.gitee.io/#/zh-CN</a> </p><p>vue-element-admin: <a href="https://panjiachen.github.io/vue-element-admin-site/zh/">https://panjiachen.github.io/vue-element-admin-site/zh/</a></p></blockquote><h2 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h2><h3 id="CDN"><a href="#CDN" class="headerlink" title="CDN"></a><a href="https://cn.vuejs.org/v2/guide/installation.html#CDN">CDN</a></h3><p>å¯¹äºåˆ¶ä½œåŸå‹æˆ–å­¦ä¹ ï¼Œä½ å¯ä»¥è¿™æ ·ä½¿ç”¨æœ€æ–°ç‰ˆæœ¬ï¼š</p><figure class="highlight html"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"https://cdn.jsdelivr.net/npm/vue@2.6.14/dist/vue.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><h3 id="NPM"><a href="#NPM" class="headerlink" title="NPM"></a><a href="https://cn.vuejs.org/v2/guide/installation.html#NPM">NPM</a></h3><p>åœ¨ç”¨ Vue æ„å»ºå¤§å‹åº”ç”¨æ—¶æ¨èä½¿ç”¨ NPM å®‰è£…[<a href="https://cn.vuejs.org/v2/guide/installation.html#footnote-1">1]</a>ã€‚NPM èƒ½å¾ˆå¥½åœ°å’Œè¯¸å¦‚ <a href="https://webpack.js.org/">webpack</a> æˆ– <a href="http://browserify.org/">Browserify</a> æ¨¡å—æ‰“åŒ…å™¨é…åˆä½¿ç”¨ã€‚åŒæ—¶ Vue ä¹Ÿæä¾›é…å¥—å·¥å…·æ¥å¼€å‘<a href="https://cn.vuejs.org/v2/guide/single-file-components.html">å•æ–‡ä»¶ç»„ä»¶</a>ã€‚</p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> æœ€æ–°ç¨³å®šç‰ˆ</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> npm install vue</span></span><br></pre></td></tr></tbody></table></figure><h3 id="å¯¹ä¸åŒæ„å»ºç‰ˆæœ¬çš„è§£é‡Š"><a href="#å¯¹ä¸åŒæ„å»ºç‰ˆæœ¬çš„è§£é‡Š" class="headerlink" title="å¯¹ä¸åŒæ„å»ºç‰ˆæœ¬çš„è§£é‡Š"></a><a href="https://cn.vuejs.org/v2/guide/installation.html#%E5%AF%B9%E4%B8%8D%E5%90%8C%E6%9E%84%E5%BB%BA%E7%89%88%E6%9C%AC%E7%9A%84%E8%A7%A3%E9%87%8A">å¯¹ä¸åŒæ„å»ºç‰ˆæœ¬çš„è§£é‡Š</a></h3><p>åœ¨ <a href="https://cdn.jsdelivr.net/npm/vue@2.6.14/dist/">NPM åŒ…çš„ <code>dist/</code> ç›®å½•</a>ä½ å°†ä¼šæ‰¾åˆ°å¾ˆå¤šä¸åŒçš„ Vue.js æ„å»ºç‰ˆæœ¬ã€‚è¿™é‡Œåˆ—å‡ºäº†å®ƒä»¬ä¹‹é—´çš„å·®åˆ«ï¼š</p><table><thead><tr><th align="left"></th><th align="left">UMD</th><th align="left">CommonJS</th><th align="left">ES Module (åŸºäºæ„å»ºå·¥å…·ä½¿ç”¨)</th><th align="left">ES Module (ç›´æ¥ç”¨äºæµè§ˆå™¨)</th></tr></thead><tbody><tr><td align="left"><strong>å®Œæ•´ç‰ˆ</strong></td><td align="left">vue.js</td><td align="left">vue.common.js</td><td align="left">vue.esm.js</td><td align="left">vue.esm.browser.js</td></tr><tr><td align="left"><strong>åªåŒ…å«è¿è¡Œæ—¶ç‰ˆ</strong></td><td align="left">vue.runtime.js</td><td align="left">vue.runtime.common.js</td><td align="left">vue.runtime.esm.js</td><td align="left">-</td></tr><tr><td align="left"><strong>å®Œæ•´ç‰ˆ (ç”Ÿäº§ç¯å¢ƒ)</strong></td><td align="left">vue.min.js</td><td align="left">-</td><td align="left">-</td><td align="left">vue.esm.browser.min.js</td></tr><tr><td align="left"><strong>åªåŒ…å«è¿è¡Œæ—¶ç‰ˆ (ç”Ÿäº§ç¯å¢ƒ)</strong></td><td align="left">vue.runtime.min.js</td><td align="left">-</td><td align="left">-</td><td align="left">-</td></tr></tbody></table><h3 id="æœ¯è¯­"><a href="#æœ¯è¯­" class="headerlink" title="æœ¯è¯­"></a><a href="https://cn.vuejs.org/v2/guide/installation.html#%E6%9C%AF%E8%AF%AD">æœ¯è¯­</a></h3><ul><li><strong>å®Œæ•´ç‰ˆ</strong>ï¼šåŒæ—¶åŒ…å«ç¼–è¯‘å™¨å’Œè¿è¡Œæ—¶çš„ç‰ˆæœ¬ã€‚</li><li><strong>ç¼–è¯‘å™¨</strong>ï¼šç”¨æ¥å°†æ¨¡æ¿å­—ç¬¦ä¸²ç¼–è¯‘æˆä¸º JavaScript æ¸²æŸ“å‡½æ•°çš„ä»£ç ã€‚</li><li><strong>è¿è¡Œæ—¶</strong>ï¼šç”¨æ¥åˆ›å»º Vue å®ä¾‹ã€æ¸²æŸ“å¹¶å¤„ç†è™šæ‹Ÿ DOM ç­‰çš„ä»£ç ã€‚åŸºæœ¬ä¸Šå°±æ˜¯é™¤å»ç¼–è¯‘å™¨çš„å…¶å®ƒä¸€åˆ‡ã€‚</li></ul><blockquote><p>å­¦ä¹ å‚ç…§å®˜æ–¹æ–‡æ¡£:<a href="https://vuejs.org/">https://vuejs.org/</a></p></blockquote><h2 id="æ¡ä»¶æ¸²æŸ“"><a href="#æ¡ä»¶æ¸²æŸ“" class="headerlink" title="æ¡ä»¶æ¸²æŸ“"></a>æ¡ä»¶æ¸²æŸ“</h2><p><strong>v-if</strong></p><p>v-ifæŒ‡ä»¤ç”¨äºæ¡ä»¶æ€§åœ°æ¸²æŸ“ä¸€å—å†…å®¹ã€‚è¿™å—å†…å®¹åªä¼šåœ¨æŒ‡ä»¤çš„è¡¨è¾¾å¼è¿”å› truthy å€¼çš„æ—¶å€™è¢«æ¸²æŸ“ã€‚</p><figure class="highlight html"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">h1</span> <span class="attr">v-if</span>=<span class="string">"awesome"</span>&gt;</span>Vue is awesome!<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><p>ä¹Ÿå¯ä»¥ç”¨ v-else æ·»åŠ ä¸€ä¸ªâ€œelse å—â€ï¼š</p><figure class="highlight html"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">h1</span> <span class="attr">v-if</span>=<span class="string">"awesome"</span>&gt;</span>Vue is awesome!<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h1</span> <span class="attr">v-else</span>&gt;</span>Oh no ğŸ˜¢<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><blockquote><p>v-eles å¿…é¡»è·Ÿåœ¨v-if ä¹‹åï¼Œå¦åˆ™ä¸è¢«è¯†åˆ«</p></blockquote><p>åœ¨ templateå…ƒç´ ä¸Šä½¿ç”¨ v-if æ¡ä»¶æ¸²æŸ“åˆ†ç»„</p><p>å› ä¸º <code>v-if</code> æ˜¯ä¸€ä¸ªæŒ‡ä»¤ï¼Œæ‰€ä»¥å¿…é¡»å°†å®ƒæ·»åŠ åˆ°ä¸€ä¸ªå…ƒç´ ä¸Šã€‚ä½†æ˜¯å¦‚æœæƒ³åˆ‡æ¢å¤šä¸ªå…ƒç´ å‘¢ï¼Ÿæ­¤æ—¶å¯ä»¥æŠŠä¸€ä¸ª <code>&lt;template&gt;</code> å…ƒç´ å½“åšä¸å¯è§çš„åŒ…è£¹å…ƒç´ ï¼Œå¹¶åœ¨ä¸Šé¢ä½¿ç”¨ <code>v-if</code>ã€‚æœ€ç»ˆçš„æ¸²æŸ“ç»“æœå°†ä¸åŒ…å« <code>&lt;template&gt;</code> å…ƒç´ ã€‚</p><figure class="highlight html"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span> <span class="attr">v-if</span>=<span class="string">"ok"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h1</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span>Paragraph 1<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span>Paragraph 2<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><p><strong>v-show</strong></p><p>å¦ä¸€ä¸ªç”¨äºæ ¹æ®æ¡ä»¶å±•ç¤ºå…ƒç´ çš„é€‰é¡¹æ˜¯ v-showæŒ‡ä»¤ã€‚ç”¨æ³•å¤§è‡´ä¸€æ ·ï¼š</p><figure class="highlight html"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">h1</span> <span class="attr">v-show</span>=<span class="string">"ok"</span>&gt;</span>Hello!<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><p>ä¸åŒçš„æ˜¯å¸¦æœ‰ v-show çš„å…ƒç´ å§‹ç»ˆä¼šè¢«æ¸²æŸ“å¹¶ä¿ç•™åœ¨ DOM ä¸­ã€‚v-showåªæ˜¯ç®€å•åœ°åˆ‡æ¢å…ƒç´ çš„ CSS property displayã€‚</p><p><strong>v-show vs v-if</strong></p><p><code>v-if</code> æ˜¯â€œçœŸæ­£â€çš„æ¡ä»¶æ¸²æŸ“ï¼Œå› ä¸ºå®ƒä¼šç¡®ä¿åœ¨åˆ‡æ¢è¿‡ç¨‹ä¸­æ¡ä»¶å—å†…çš„äº‹ä»¶ç›‘å¬å™¨å’Œå­ç»„ä»¶é€‚å½“åœ°è¢«é”€æ¯å’Œé‡å»ºã€‚</p><p><code>v-if</code> ä¹Ÿæ˜¯<strong>æƒ°æ€§çš„</strong>ï¼šå¦‚æœåœ¨åˆå§‹æ¸²æŸ“æ—¶æ¡ä»¶ä¸ºå‡ï¼Œåˆ™ä»€ä¹ˆä¹Ÿä¸åšâ€”â€”ç›´åˆ°æ¡ä»¶ç¬¬ä¸€æ¬¡å˜ä¸ºçœŸæ—¶ï¼Œæ‰ä¼šå¼€å§‹æ¸²æŸ“æ¡ä»¶å—ã€‚</p><p>ç›¸æ¯”ä¹‹ä¸‹ï¼Œ<code>v-show</code> å°±ç®€å•å¾—å¤šâ€”â€”ä¸ç®¡åˆå§‹æ¡ä»¶æ˜¯ä»€ä¹ˆï¼Œå…ƒç´ æ€»æ˜¯ä¼šè¢«æ¸²æŸ“ï¼Œå¹¶ä¸”åªæ˜¯ç®€å•åœ°åŸºäº CSS è¿›è¡Œåˆ‡æ¢ã€‚</p><p>ä¸€èˆ¬æ¥è¯´ï¼Œ<code>v-if</code> æœ‰æ›´é«˜çš„åˆ‡æ¢å¼€é”€ï¼Œè€Œ <code>v-show</code> æœ‰æ›´é«˜çš„åˆå§‹æ¸²æŸ“å¼€é”€ã€‚å› æ­¤ï¼Œå¦‚æœéœ€è¦éå¸¸é¢‘ç¹åœ°åˆ‡æ¢ï¼Œåˆ™ä½¿ç”¨ <code>v-show</code> è¾ƒå¥½ï¼›å¦‚æœåœ¨è¿è¡Œæ—¶æ¡ä»¶å¾ˆå°‘æ”¹å˜ï¼Œåˆ™ä½¿ç”¨ <code>v-if</code> è¾ƒå¥½ã€‚</p><h2 id="åˆ—è¡¨æ¸²æŸ“"><a href="#åˆ—è¡¨æ¸²æŸ“" class="headerlink" title="åˆ—è¡¨æ¸²æŸ“"></a>åˆ—è¡¨æ¸²æŸ“</h2><p><strong>ä½¿ç”¨v-for æŠŠæ•°ç»„å¯¹åº”ä¸ºä¸€ç»„å…ƒç´ è¿›è¡Œæ¸²æŸ“</strong></p><figure class="highlight html"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!doctype <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"zh-CN"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"app"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">ol</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span> <span class="attr">v-for</span>=<span class="string">"(item, index) in items"</span> <span class="attr">:key</span>=<span class="string">"index"</span>&gt;</span></span><br><span class="line">              {{item.message}}</span><br><span class="line">            <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">ol</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"https://cdn.jsdelivr.net/npm/vue@2.5.21/dist/vue.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> vm = <span class="keyword">new</span> Vue({</span></span><br><span class="line"><span class="javascript">            el:<span class="string">"#app"</span>,</span></span><br><span class="line">            data:{</span><br><span class="line">                items:[</span><br><span class="line"><span class="javascript">                    {<span class="attr">message</span>:<span class="string">"ä½ å¥½ä¸–ç•Œ"</span>},</span></span><br><span class="line"><span class="javascript">                    {<span class="attr">message</span>:<span class="string">"æ¨±èŠ±åº„çš„å® ç‰©å¥³å­©"</span>},</span></span><br><span class="line"><span class="javascript">                    {<span class="attr">message</span>:<span class="string">"é’å‡ºäºè“"</span>}</span></span><br><span class="line">                ]</span><br><span class="line">            }</span><br><span class="line">        })</span><br><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><h2 id="ç»„ä»¶"><a href="#ç»„ä»¶" class="headerlink" title="ç»„ä»¶"></a>ç»„ä»¶</h2><h3 id="ç»„ä»¶åŸºç¡€"><a href="#ç»„ä»¶åŸºç¡€" class="headerlink" title="ç»„ä»¶åŸºç¡€"></a>ç»„ä»¶åŸºç¡€</h3><h4 id="ä¸€ä¸ªç»„ä»¶çš„å®ä¾‹"><a href="#ä¸€ä¸ªç»„ä»¶çš„å®ä¾‹" class="headerlink" title="ä¸€ä¸ªç»„ä»¶çš„å®ä¾‹"></a>ä¸€ä¸ªç»„ä»¶çš„å®ä¾‹</h4><figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å®šä¹‰ä¸€ä¸ªåä¸º button-counter çš„æ–°ç»„ä»¶</span></span><br><span class="line">Vue.component(<span class="string">'button-counter'</span>, {</span><br><span class="line">  data: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{</span><br><span class="line">    <span class="keyword">return</span> {</span><br><span class="line">      count: <span class="number">0</span></span><br><span class="line">    }</span><br><span class="line">  },</span><br><span class="line">  template: <span class="string">'&lt;button v-on:click="count++"&gt;You clicked me {{ count }} times.&lt;/button&gt;'</span></span><br><span class="line">})</span><br></pre></td></tr></tbody></table></figure><blockquote><p>ç»„ä»¶æ˜¯å¯å¤ç”¨çš„ Vue å®ä¾‹ï¼Œä¸”å¸¦æœ‰ä¸€ä¸ªåå­—ï¼šåœ¨è¿™ä¸ªä¾‹å­ä¸­æ˜¯ <button-counter>ã€‚æˆ‘ä»¬å¯ä»¥åœ¨ä¸€ä¸ªé€šè¿‡ new Vue`åˆ›å»ºçš„ Vue æ ¹å®ä¾‹ä¸­ï¼ŒæŠŠè¿™ä¸ªç»„ä»¶ä½œä¸ºè‡ªå®šä¹‰å…ƒç´ æ¥ä½¿ç”¨.</button-counter></p><figure class="highlight html"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&gt;<span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"components-demo"</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">button-counter</span>&gt;</span><span class="tag">&lt;/<span class="name">button-counter</span>&gt;</span></span><br><span class="line">&gt;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><p>å› ä¸ºç»„ä»¶æ˜¯å¯å¤ç”¨çš„ Vue å®ä¾‹ï¼Œæ‰€ä»¥å®ƒä»¬ä¸ new Vue æ¥æ”¶ç›¸åŒçš„é€‰é¡¹ï¼Œä¾‹å¦‚ <code>data</code>ã€<code>computed</code>ã€<code>watch</code>ã€<code>methods</code> ä»¥åŠç”Ÿå‘½å‘¨æœŸé’©å­ç­‰ã€‚ä»…æœ‰çš„ä¾‹å¤–æ˜¯åƒ <code>el</code> è¿™æ ·æ ¹å®ä¾‹ç‰¹æœ‰çš„é€‰é¡¹ã€‚</p></blockquote><h4 id="dataå¿…é¡»æ˜¯ä¸€ä¸ªå‡½æ•°"><a href="#dataå¿…é¡»æ˜¯ä¸€ä¸ªå‡½æ•°" class="headerlink" title="dataå¿…é¡»æ˜¯ä¸€ä¸ªå‡½æ•°"></a>dataå¿…é¡»æ˜¯ä¸€ä¸ªå‡½æ•°</h4><p>å½“æˆ‘ä»¬å®šä¹‰è¿™ä¸ª <code>&lt;button-counter&gt;</code> ç»„ä»¶æ—¶ï¼Œä½ å¯èƒ½ä¼šå‘ç°å®ƒçš„ <code>data</code> å¹¶ä¸æ˜¯åƒè¿™æ ·ç›´æ¥æä¾›ä¸€ä¸ªå¯¹è±¡ï¼š</p><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">data: {</span><br><span class="line">  count: <span class="number">0</span></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>å–è€Œä»£ä¹‹çš„æ˜¯ï¼Œ<strong>ä¸€ä¸ªç»„ä»¶çš„ <code>data</code> é€‰é¡¹å¿…é¡»æ˜¯ä¸€ä¸ªå‡½æ•°</strong>ï¼Œå› æ­¤æ¯ä¸ªå®ä¾‹å¯ä»¥ç»´æŠ¤ä¸€ä»½è¢«è¿”å›å¯¹è±¡çš„ç‹¬ç«‹çš„æ‹·è´ï¼š</p><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">data: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{</span><br><span class="line">  <span class="keyword">return</span> {</span><br><span class="line">    count: <span class="number">0</span></span><br><span class="line">  }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h4 id="é€šè¿‡propå‘å­ç»„ä»¶ä¼ é€’æ•°æ®"><a href="#é€šè¿‡propå‘å­ç»„ä»¶ä¼ é€’æ•°æ®" class="headerlink" title="é€šè¿‡propå‘å­ç»„ä»¶ä¼ é€’æ•°æ®"></a>é€šè¿‡propå‘å­ç»„ä»¶ä¼ é€’æ•°æ®</h4><p>å¦‚åˆ›å»ºä¸€ä¸ªåšæ–‡ç»„ä»¶ä¸ºä¾‹ï¼Œéœ€è¦å‘å­ç»„ä»¶ä¼ é€’åšæ–‡ä¿¡æ¯,propsä¸­å±æ€§æ— ä¸Šé™</p><figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Vue.component(<span class="string">'blog-post'</span>, {</span><br><span class="line">  props: [<span class="string">'title'</span>],</span><br><span class="line">  template: <span class="string">'&lt;h3&gt;{{ title }}&lt;/h3&gt;'</span></span><br><span class="line">})</span><br></pre></td></tr></tbody></table></figure><p>ä¸€ä¸ª prop è¢«æ³¨å†Œä¹‹åï¼Œä½ å°±å¯ä»¥åƒè¿™æ ·æŠŠæ•°æ®ä½œä¸ºä¸€ä¸ªè‡ªå®šä¹‰ attribute ä¼ é€’è¿›æ¥ï¼š</p><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;blog-post title=<span class="string">"My journey with Vue"</span>&gt;&lt;/blog-post&gt;</span><br></pre></td></tr></tbody></table></figure><p>ç„¶è€Œåœ¨ä¸€ä¸ªå…¸å‹çš„åº”ç”¨ä¸­ï¼Œä½ å¯èƒ½åœ¨ <code>data</code> é‡Œæœ‰ä¸€ä¸ªåšæ–‡çš„æ•°ç»„ï¼š</p><figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> Vue({</span><br><span class="line">  el: <span class="string">'#blog-post-demo'</span>,</span><br><span class="line">  data: {</span><br><span class="line">    posts: [</span><br><span class="line">      { <span class="attr">id</span>: <span class="number">1</span>, <span class="attr">title</span>: <span class="string">'My journey with Vue'</span> },</span><br><span class="line">      { <span class="attr">id</span>: <span class="number">2</span>, <span class="attr">title</span>: <span class="string">'Blogging with Vue'</span> },</span><br><span class="line">      { <span class="attr">id</span>: <span class="number">3</span>, <span class="attr">title</span>: <span class="string">'Why Vue is so fun'</span> }</span><br><span class="line">    ]</span><br><span class="line">  }</span><br><span class="line">})</span><br></pre></td></tr></tbody></table></figure><p>å¹¶æƒ³è¦ä¸ºæ¯ç¯‡åšæ–‡æ¸²æŸ“ä¸€ä¸ªç»„ä»¶ï¼š</p><figure class="highlight html"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;blog-post</span><br><span class="line">  v-for="post in posts"</span><br><span class="line">  v-bind:key="post.id"</span><br><span class="line">  v-bind:title="post.title"</span><br><span class="line">&gt;<span class="tag">&lt;/<span class="name">blog-post</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><p>å¦‚ä¸Šæ‰€ç¤ºï¼Œä½ ä¼šå‘ç°æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ <code>v-bind</code> æ¥åŠ¨æ€ä¼ é€’ propã€‚è¿™åœ¨ä½ ä¸€å¼€å§‹ä¸æ¸…æ¥šè¦æ¸²æŸ“çš„å…·ä½“å†…å®¹ï¼Œæ¯”å¦‚<a href="https://codesandbox.io/s/github/vuejs/vuejs.org/tree/master/src/v2/examples/vue-20-component-blog-post-example">ä»ä¸€ä¸ª API è·å–åšæ–‡åˆ—è¡¨</a>çš„æ—¶å€™ï¼Œæ˜¯éå¸¸æœ‰ç”¨çš„ã€‚</p><h4 id="ç›‘å¬å­ç»„ä»¶äº‹ä»¶"><a href="#ç›‘å¬å­ç»„ä»¶äº‹ä»¶" class="headerlink" title="ç›‘å¬å­ç»„ä»¶äº‹ä»¶"></a>ç›‘å¬å­ç»„ä»¶äº‹ä»¶</h4><p>å¦‚ä¸‹ä¾‹å­:</p><p>åœ¨æˆ‘ä»¬å¼€å‘ <blog-post> ç»„ä»¶æ—¶ï¼Œå®ƒçš„ä¸€äº›åŠŸèƒ½å¯èƒ½è¦æ±‚æˆ‘ä»¬å’Œçˆ¶çº§ç»„ä»¶è¿›è¡Œæ²Ÿé€šã€‚ä¾‹å¦‚æˆ‘ä»¬å¯èƒ½ä¼šå¼•å…¥ä¸€ä¸ªè¾…åŠ©åŠŸèƒ½æ¥æ”¾å¤§åšæ–‡çš„å­—å·ï¼ŒåŒæ—¶è®©é¡µé¢çš„å…¶å®ƒéƒ¨åˆ†ä¿æŒé»˜è®¤çš„å­—å·ã€‚</blog-post></p><figure class="highlight html"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!doctype <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"zh-CN"</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">title</span>&gt;</span>Vueæ’æ§½,è‡ªå®šä¹‰äº‹ä»¶<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- å‰ç«¯ï¼Œ --&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- ç”±äºç»„ä»¶æ— æ³•è®¿é—®åˆ°Vueå®ä¾‹ä¸­çš„æ–¹æ³•ï¼Œè§£å†³åŠæ³•ï¼Œè‡ªå®šä¹‰äº‹ä»¶ --&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- åœ¨è§†å›¾ä¸­è‡ªå®šä¹‰äº‹ä»¶ç»‘å®šåˆ°ç»„ä»¶ä¸­çš„æ–¹æ³•ï¼Œå¹¶æŠŠè‡ªå®šä¹‰äº‹ä»¶èµ‹å€¼ä¸ºVueå®ä¾‹ä¸­çš„æ–¹æ³• --&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- å­ç»„ä»¶å¯ä»¥é€šè¿‡è°ƒç”¨å†…å»ºçš„ $emit æ–¹æ³•å¹¶ä¼ å…¥äº‹ä»¶åç§°æ¥è§¦å‘ä¸€ä¸ªäº‹ä»¶ --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"blog-posts-events-demo"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">:style</span>=<span class="string">"{ fontSize: postFontSize + 'em' }"</span>&gt;</span></span><br><span class="line">      <span class="comment">&lt;!-- è®©æˆ‘ä»¬æ¥è‡ªå®šä¹‰ä¸€ä¸ªenlarge-textäº‹ä»¶ --&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">blog-post</span> <span class="attr">v-for</span>=<span class="string">"post in posts"</span> <span class="attr">v-bind:key</span>=<span class="string">"post.id"</span> <span class="attr">v-bind:post</span>=<span class="string">"post"</span> <span class="attr">v-on:enlarge-text</span>=<span class="string">"postFontSize += 0.1"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">blog-post</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"https://cdn.jsdelivr.net/npm/vue@2.5.21/dist/vue.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">    Vue.component(<span class="string">'blog-post'</span>, {</span></span><br><span class="line"><span class="javascript">      props: [<span class="string">'post'</span>],</span></span><br><span class="line">      template: `</span><br><span class="line"><span class="javascript">                &lt;div <span class="class"><span class="keyword">class</span></span>=<span class="string">"blog-post"</span>&gt;</span></span><br><span class="line"><span class="handlebars"><span class="xml">                <span class="tag">&lt;<span class="name">h3</span>&gt;</span></span><span class="template-variable">{{ <span class="name">post.title</span> }}</span><span class="xml"><span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span></span></span><br><span class="line"><span class="handlebars"><span class="xml">                <span class="tag">&lt;<span class="name">button</span> <span class="attr">v-on:click</span>=<span class="string">"$emit('enlarge-text')"</span>&gt;</span></span></span></span><br><span class="line">                    Enlarge text</span><br><span class="line"><span class="handlebars"><span class="xml">                <span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span></span><br><span class="line"><span class="handlebars"><span class="xml">                <span class="tag">&lt;<span class="name">div</span> <span class="attr">v-html</span>=<span class="string">"post.content"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span></span><br><span class="line"><span class="handlebars"><span class="xml">                <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span></span><br><span class="line">                `</span><br><span class="line">    })</span><br><span class="line"><span class="javascript">    <span class="keyword">var</span> vm = <span class="keyword">new</span> Vue({</span></span><br><span class="line"><span class="javascript">      el: <span class="string">'#blog-posts-events-demo'</span>,</span></span><br><span class="line">      data: {</span><br><span class="line">        posts: [</span><br><span class="line"><span class="javascript">          { <span class="attr">id</span>: <span class="number">1001</span>, <span class="string">'title'</span>: <span class="string">"æœ‰æ‰‹ä½ å°±è¡Œ"</span>, <span class="attr">content</span>: <span class="string">"å¥½å§ï¼Œæœ‰æ‰‹ï¼Œä½†è¿˜æ˜¯ä¸å¤ªè¡Œå‘¢~"</span> }</span></span><br><span class="line">        ],</span><br><span class="line">        postFontSize: 1</span><br><span class="line">      },</span><br><span class="line">    })</span><br><span class="line">  <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><h4 id="ä½¿ç”¨äº‹ä»¶æŠ›å‡ºä¸€ä¸ªå€¼"><a href="#ä½¿ç”¨äº‹ä»¶æŠ›å‡ºä¸€ä¸ªå€¼" class="headerlink" title="ä½¿ç”¨äº‹ä»¶æŠ›å‡ºä¸€ä¸ªå€¼"></a>ä½¿ç”¨äº‹ä»¶æŠ›å‡ºä¸€ä¸ªå€¼</h4><p>æœ‰çš„æ—¶å€™ç”¨ä¸€ä¸ªäº‹ä»¶æ¥æŠ›å‡ºä¸€ä¸ªç‰¹å®šçš„å€¼æ˜¯éå¸¸æœ‰ç”¨çš„ã€‚ä¾‹å¦‚æˆ‘ä»¬å¯èƒ½æƒ³è®© <code>&lt;blog-post&gt;</code> ç»„ä»¶å†³å®šå®ƒçš„æ–‡æœ¬è¦æ”¾å¤§å¤šå°‘ã€‚è¿™æ—¶å¯ä»¥ä½¿ç”¨ <code>$emit</code> çš„ç¬¬äºŒä¸ªå‚æ•°æ¥æä¾›è¿™ä¸ªå€¼ï¼š</p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;button v-on:click="$emit('enlarge-text', 0.1)"&gt;</span><br><span class="line">  Enlarge text</span><br><span class="line">&lt;/button&gt;</span><br></pre></td></tr></tbody></table></figure><p>ç„¶åå½“åœ¨çˆ¶çº§ç»„ä»¶ç›‘å¬è¿™ä¸ªäº‹ä»¶çš„æ—¶å€™ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ <code>$event</code> è®¿é—®åˆ°è¢«æŠ›å‡ºçš„è¿™ä¸ªå€¼ï¼š</p><figure class="highlight html"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;blog-post</span><br><span class="line">  ...</span><br><span class="line">  v-on:enlarge-text="postFontSize += $event"</span><br><span class="line">&gt;<span class="tag">&lt;/<span class="name">blog-post</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><p>å½“è¿™ä¸ªæ˜¯ä¸ªå‡½æ•°çš„æ—¶å€™</p><figure class="highlight html"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;blog-post</span><br><span class="line">  ...</span><br><span class="line">  v-on:enlarge-text="onEnlargeText"</span><br><span class="line">&gt;<span class="tag">&lt;/<span class="name">blog-post</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><p>é‚£ä¹ˆè¿™ä¸ªå€¼å°†ä¼šä½œä¸ºç¬¬ä¸€ä¸ªå‚æ•°ä¼ å…¥è¿™ä¸ªæ–¹æ³•ï¼š</p><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">methods: {</span><br><span class="line">  onEnlargeText: <span class="function"><span class="keyword">function</span> (<span class="params">enlargeAmount</span>) </span>{</span><br><span class="line">    <span class="built_in">this</span>.postFontSize += enlargeAmount</span><br><span class="line">  }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h4 id="åœ¨ç»„ä»¶ä¸Šä½¿ç”¨v-model"><a href="#åœ¨ç»„ä»¶ä¸Šä½¿ç”¨v-model" class="headerlink" title="åœ¨ç»„ä»¶ä¸Šä½¿ç”¨v-model"></a>åœ¨ç»„ä»¶ä¸Šä½¿ç”¨v-model</h4><p>è‡ªå®šä¹‰äº‹ä»¶ä¹Ÿå¯ä»¥ç”¨äºåˆ›å»ºæ”¯æŒ <code>v-model</code> çš„è‡ªå®šä¹‰è¾“å…¥ç»„ä»¶ã€‚</p><figure class="highlight html"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">v-model</span>=<span class="string">"searchText"</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><p>ç­‰ä»·äº</p><figure class="highlight html"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;input</span><br><span class="line">  v-bind:value="searchText"</span><br><span class="line">  v-on:input="searchText = $event.target.value"</span><br><span class="line">&gt;</span><br></pre></td></tr></tbody></table></figure><h2 id="è®¡ç®—å±æ€§"><a href="#è®¡ç®—å±æ€§" class="headerlink" title="è®¡ç®—å±æ€§"></a>è®¡ç®—å±æ€§</h2><p>æ¨¡æ¿å†…çš„è¡¨è¾¾å¼éå¸¸ä¾¿åˆ©ï¼Œä½†æ˜¯è®¾è®¡å®ƒä»¬çš„åˆè¡·æ˜¯ç”¨äºç®€å•è¿ç®—çš„ã€‚åœ¨æ¨¡æ¿ä¸­æ”¾å…¥å¤ªå¤šçš„é€»è¾‘ä¼šè®©æ¨¡æ¿è¿‡é‡ä¸”éš¾ä»¥ç»´æŠ¤ã€‚ä¾‹å¦‚ï¼š</p><figure class="highlight html"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"example"</span>&gt;</span></span><br><span class="line">  {{ message.split('').reverse().join('') }}</span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><p>åœ¨è¿™ä¸ªåœ°æ–¹ï¼Œæ¨¡æ¿ä¸å†æ˜¯ç®€å•çš„å£°æ˜å¼é€»è¾‘ã€‚ä½ å¿…é¡»çœ‹ä¸€æ®µæ—¶é—´æ‰èƒ½æ„è¯†åˆ°ï¼Œè¿™é‡Œæ˜¯æƒ³è¦æ˜¾ç¤ºå˜é‡ message çš„ç¿»è½¬å­—ç¬¦ä¸²ã€‚å½“ä½ æƒ³è¦åœ¨æ¨¡æ¿ä¸­çš„å¤šå¤„åŒ…å«æ­¤ç¿»è½¬å­—ç¬¦ä¸²æ—¶ï¼Œå°±ä¼šæ›´åŠ éš¾ä»¥å¤„ç†ã€‚æ‰€ä»¥ï¼Œå¯¹äºä»»ä½•å¤æ‚é€»è¾‘ï¼Œä½ éƒ½åº”å½“ä½¿ç”¨<strong>è®¡ç®—å±æ€§</strong>ã€‚</p><p>For example</p><figure class="highlight html"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!doctype <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"zh-CN"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>vueè®¡ç®—å±æ€§<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"app"</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- methodsä¸­çš„æ˜¯æ–¹æ³• --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span>&gt;</span>methodsä¸­çš„nowTime1: {{nowTime1()}}<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- è®¡ç®—å±æ€§ï¼Œé‡ç‚¹åœ¨äºå±æ€§ --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span>&gt;</span>computedä¸­çš„nowTime2: {{nowTime2}}<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"https://cdn.jsdelivr.net/npm/vue@2.5.21/dist/vue.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> vm = <span class="keyword">new</span> Vue({</span></span><br><span class="line"><span class="javascript">            el:<span class="string">"#app"</span>,</span></span><br><span class="line"><span class="javascript">            <span class="comment">// Model</span></span></span><br><span class="line">            data:{</span><br><span class="line"><span class="javascript">                message:<span class="string">"hello world"</span>,</span></span><br><span class="line">            },</span><br><span class="line">            methods: {</span><br><span class="line"><span class="javascript">                nowTime1:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>{</span></span><br><span class="line"><span class="javascript">                    <span class="keyword">return</span> <span class="built_in">Date</span>.now();</span></span><br><span class="line">                }</span><br><span class="line">            },</span><br><span class="line">            computed:{</span><br><span class="line"><span class="javascript">                <span class="comment">// å½“è®¡ç®—å±æ€§ä¸­æœ‰æ”¹å˜æ‰ä¼šé‡æ–°è®¡ç®—ï¼Œç›¸å½“äºç¼“å­˜</span></span></span><br><span class="line"><span class="javascript">                nowTime2:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>{</span></span><br><span class="line"><span class="javascript">                    <span class="built_in">this</span>.message;</span></span><br><span class="line"><span class="javascript">                    <span class="keyword">return</span> <span class="built_in">Date</span>.now();</span></span><br><span class="line">                }</span><br><span class="line">            }</span><br><span class="line">        })</span><br><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><h3 id="è®¡ç®—å±æ€§ç¼“å­˜-vs-æ–¹æ³•"><a href="#è®¡ç®—å±æ€§ç¼“å­˜-vs-æ–¹æ³•" class="headerlink" title="è®¡ç®—å±æ€§ç¼“å­˜ vs æ–¹æ³•"></a><a href="https://cn.vuejs.org/v2/guide/computed.html#%E8%AE%A1%E7%AE%97%E5%B1%9E%E6%80%A7%E7%BC%93%E5%AD%98-vs-%E6%96%B9%E6%B3%95">è®¡ç®—å±æ€§ç¼“å­˜ vs æ–¹æ³•</a></h3><p>ä½ å¯èƒ½å·²ç»æ³¨æ„åˆ°æˆ‘ä»¬å¯ä»¥é€šè¿‡åœ¨è¡¨è¾¾å¼ä¸­è°ƒç”¨æ–¹æ³•æ¥è¾¾åˆ°åŒæ ·çš„æ•ˆæœï¼š</p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;p&gt;Reversed message: "{{ reversedMessage() }}"&lt;/p&gt;</span><br><span class="line">// åœ¨ç»„ä»¶ä¸­</span><br><span class="line">methods: {</span><br><span class="line">  reversedMessage: function () {</span><br><span class="line">    return this.message.split('').reverse().join('')</span><br><span class="line">  }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>æˆ‘ä»¬å¯ä»¥å°†åŒä¸€å‡½æ•°å®šä¹‰ä¸ºä¸€ä¸ªæ–¹æ³•è€Œä¸æ˜¯ä¸€ä¸ªè®¡ç®—å±æ€§ã€‚ä¸¤ç§æ–¹å¼çš„æœ€ç»ˆç»“æœç¡®å®æ˜¯å®Œå…¨ç›¸åŒçš„ã€‚ç„¶è€Œï¼Œä¸åŒçš„æ˜¯<strong>è®¡ç®—å±æ€§æ˜¯åŸºäºå®ƒä»¬çš„å“åº”å¼ä¾èµ–è¿›è¡Œç¼“å­˜çš„</strong>ã€‚åªåœ¨ç›¸å…³å“åº”å¼ä¾èµ–å‘ç”Ÿæ”¹å˜æ—¶å®ƒä»¬æ‰ä¼šé‡æ–°æ±‚å€¼ã€‚è¿™å°±æ„å‘³ç€åªè¦ <code>message</code> è¿˜æ²¡æœ‰å‘ç”Ÿæ”¹å˜ï¼Œå¤šæ¬¡è®¿é—® <code>reversedMessage</code> è®¡ç®—å±æ€§ä¼šç«‹å³è¿”å›ä¹‹å‰çš„è®¡ç®—ç»“æœï¼Œè€Œä¸å¿…å†æ¬¡æ‰§è¡Œå‡½æ•°ã€‚</p><p>è¿™ä¹ŸåŒæ ·æ„å‘³ç€ä¸‹é¢çš„è®¡ç®—å±æ€§å°†ä¸å†æ›´æ–°ï¼Œå› ä¸º <code>Date.now()</code> ä¸æ˜¯å“åº”å¼ä¾èµ–ï¼š</p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">computed: {</span><br><span class="line">  now: function () {</span><br><span class="line">    return Date.now()</span><br><span class="line">  }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>ç›¸æ¯”ä¹‹ä¸‹ï¼Œæ¯å½“è§¦å‘é‡æ–°æ¸²æŸ“æ—¶ï¼Œè°ƒç”¨æ–¹æ³•å°†<strong>æ€»ä¼š</strong>å†æ¬¡æ‰§è¡Œå‡½æ•°ã€‚</p><h3 id="ä¸ºä»€ä¹ˆè¦ä½¿ç”¨è®¡ç®—å±æ€§å‘¢"><a href="#ä¸ºä»€ä¹ˆè¦ä½¿ç”¨è®¡ç®—å±æ€§å‘¢" class="headerlink" title="ä¸ºä»€ä¹ˆè¦ä½¿ç”¨è®¡ç®—å±æ€§å‘¢"></a>ä¸ºä»€ä¹ˆè¦ä½¿ç”¨è®¡ç®—å±æ€§å‘¢</h3><blockquote><p>æˆ‘ä»¬ä¸ºä»€ä¹ˆéœ€è¦ç¼“å­˜ï¼Ÿå‡è®¾æˆ‘ä»¬æœ‰ä¸€ä¸ªæ€§èƒ½å¼€é”€æ¯”è¾ƒå¤§çš„è®¡ç®—å±æ€§ <strong>A</strong>ï¼Œå®ƒéœ€è¦éå†ä¸€ä¸ªå·¨å¤§çš„æ•°ç»„å¹¶åšå¤§é‡çš„è®¡ç®—ã€‚ç„¶åæˆ‘ä»¬å¯èƒ½æœ‰å…¶ä»–çš„è®¡ç®—å±æ€§ä¾èµ–äº <strong>A</strong>ã€‚å¦‚æœæ²¡æœ‰ç¼“å­˜ï¼Œæˆ‘ä»¬å°†ä¸å¯é¿å…çš„å¤šæ¬¡æ‰§è¡Œ <strong>A</strong> çš„ getterï¼å¦‚æœä½ ä¸å¸Œæœ›æœ‰ç¼“å­˜ï¼Œè¯·ç”¨æ–¹æ³•æ¥æ›¿ä»£ã€‚</p></blockquote><h2 id="Class-ä¸-Style-ç»‘å®š"><a href="#Class-ä¸-Style-ç»‘å®š" class="headerlink" title="Class ä¸ Style ç»‘å®š"></a>Class ä¸ Style ç»‘å®š</h2><h3 id="å¯¹è±¡è¯­æ³•"><a href="#å¯¹è±¡è¯­æ³•" class="headerlink" title="å¯¹è±¡è¯­æ³•"></a><a href="https://cn.vuejs.org/v2/guide/class-and-style.html#%E5%AF%B9%E8%B1%A1%E8%AF%AD%E6%B3%95">å¯¹è±¡è¯­æ³•</a></h3><p>æˆ‘ä»¬å¯ä»¥ä¼ ç»™ v-bind:class ä¸€ä¸ªå¯¹è±¡ï¼Œä»¥åŠ¨æ€åœ°åˆ‡æ¢ classï¼š</p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;div v-bind:class="{ active: isActive }"&gt;&lt;/div&gt;</span><br></pre></td></tr></tbody></table></figure><p>ä¸Šé¢çš„è¯­æ³•è¡¨ç¤ºactive è¿™ä¸ª class å­˜åœ¨ä¸å¦å°†å–å†³äºæ•°æ® property isActive çš„ <a href="https://developer.mozilla.org/zh-CN/docs/Glossary/Truthy">truthiness</a>ã€‚</p><p>ä½ å¯ä»¥åœ¨å¯¹è±¡ä¸­ä¼ å…¥æ›´å¤šå­—æ®µæ¥åŠ¨æ€åˆ‡æ¢å¤šä¸ª classã€‚æ­¤å¤–ï¼Œv-bind:class æŒ‡ä»¤ä¹Ÿå¯ä»¥ä¸æ™®é€šçš„ class attribute å…±å­˜ã€‚å½“æœ‰å¦‚ä¸‹æ¨¡æ¿ï¼š</p><figure class="highlight html"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;div</span><br><span class="line">  class="static"</span><br><span class="line">  v-bind:class="{ active: isActive, 'text-danger': hasError }"</span><br><span class="line">&gt;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><p>å’Œå¦‚ä¸‹ dataï¼š</p><figure class="highlight html"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">data: {</span><br><span class="line">  isActive: true,</span><br><span class="line">  hasError: false</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>ç»“æœæ¸²æŸ“ä¸ºï¼š</p><figure class="highlight html"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"static active"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><p>å½“ isActiveæˆ–è€… hasError å˜åŒ–æ—¶ï¼Œclass åˆ—è¡¨å°†ç›¸åº”åœ°æ›´æ–°ã€‚ä¾‹å¦‚ï¼Œå¦‚æœ hasErrorçš„å€¼ä¸º trueï¼Œclass åˆ—è¡¨å°†å˜ä¸º â€œstatic active text-dangerâ€ã€‚</p><hr><h2 id="vueæ’æ§½ä¸è‡ªå®šä¹‰äº‹ä»¶"><a href="#vueæ’æ§½ä¸è‡ªå®šä¹‰äº‹ä»¶" class="headerlink" title="vueæ’æ§½ä¸è‡ªå®šä¹‰äº‹ä»¶"></a>vueæ’æ§½ä¸è‡ªå®šä¹‰äº‹ä»¶</h2><blockquote><p>For Example</p></blockquote><figure class="highlight html"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!doctype <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"zh-CN"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Vueæ’æ§½,è‡ªå®šä¹‰äº‹ä»¶<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- å‰ç«¯ï¼Œçº¯è§†å›¾ --&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- ç”±äºç»„ä»¶æ— æ³•è®¿é—®åˆ°Vueå®ä¾‹ä¸­çš„æ–¹æ³•ï¼Œè§£å†³åŠæ³•ï¼Œè‡ªå®šä¹‰äº‹ä»¶ --&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- åœ¨è§†å›¾ä¸­è‡ªå®šä¹‰äº‹ä»¶ç»‘å®šåˆ°ç»„ä»¶ä¸­çš„æ–¹æ³•ï¼Œå¹¶æŠŠè‡ªå®šä¹‰äº‹ä»¶èµ‹å€¼ä¸ºVueå®ä¾‹ä¸­çš„æ–¹æ³• --&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- v-onå¯ç¼©å†™ä¸º@ï¼Œv-bindï¼šå¯ç¼©å†™ä¸º: --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"app"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">todo</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">todo-title</span> <span class="attr">slot</span>=<span class="string">"todo-title"</span> <span class="attr">v-bind:title</span>=<span class="string">"title"</span>&gt;</span><span class="tag">&lt;/<span class="name">todo-title</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">todo-items</span> <span class="attr">slot</span>=<span class="string">"todo-items"</span> <span class="attr">v-for</span>=<span class="string">"(item,index) in items"</span> <span class="attr">v-on:remove</span>=<span class="string">"removeItem(index)"</span> <span class="attr">v-bind:item</span>=<span class="string">"item"</span> <span class="attr">v-bind:index</span>=<span class="string">"index"</span>&gt;</span><span class="tag">&lt;/<span class="name">todo-items</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">todo</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"https://cdn.jsdelivr.net/npm/vue@2.5.21/dist/vue.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="javascript">        Vue.component(<span class="string">"todo"</span>, {</span></span><br><span class="line"><span class="handlebars"><span class="xml">            template:'<span class="tag">&lt;<span class="name">div</span>&gt;</span>\</span></span></span><br><span class="line"><span class="handlebars"><span class="xml">            <span class="tag">&lt;<span class="name">slot</span> <span class="attr">name</span>=<span class="string">"todo-title"</span> &gt;</span><span class="tag">&lt;/<span class="name">slot</span>&gt;</span>\</span></span></span><br><span class="line"><span class="handlebars"><span class="xml">            <span class="tag">&lt;<span class="name">ul</span>&gt;</span>\</span></span></span><br><span class="line"><span class="handlebars"><span class="xml">            <span class="tag">&lt;<span class="name">slot</span> <span class="attr">name</span>=<span class="string">"todo-items"</span> &gt;</span><span class="tag">&lt;/<span class="name">slot</span>&gt;</span>\</span></span></span><br><span class="line"><span class="handlebars"><span class="xml">            <span class="tag">&lt;/<span class="name">ul</span>&gt;</span>\</span></span></span><br><span class="line"><span class="handlebars"><span class="xml">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span>'</span></span></span><br><span class="line">        });</span><br><span class="line"></span><br><span class="line"><span class="javascript">        Vue.component(<span class="string">"todo-title"</span>, {</span></span><br><span class="line"><span class="javascript">            props:[<span class="string">'title'</span>],</span></span><br><span class="line"><span class="handlebars"><span class="xml">            template:'<span class="tag">&lt;<span class="name">div</span>&gt;</span></span><span class="template-variable">{{<span class="name">title</span>}}</span><span class="xml"><span class="tag">&lt;/<span class="name">div</span>&gt;</span>'</span></span></span><br><span class="line">        });</span><br><span class="line"></span><br><span class="line"><span class="javascript">        Vue.component(<span class="string">"todo-items"</span>,{</span></span><br><span class="line"><span class="javascript">            props:[<span class="string">'item'</span>,<span class="string">'index'</span>],</span></span><br><span class="line"><span class="javascript">            <span class="comment">// æ— æ³•åœ¨ç»„ä»¶é‡Œæ‰ç”¨åˆ°ä¸‹é¢vmçš„removeæ–¹æ³•ï¼Œæ€ä¹ˆåŠï¼Œé€šè¿‡å‰ç«¯è‡ªå®šä¹‰äº‹ä»¶æ­æ¡¥</span></span></span><br><span class="line"><span class="handlebars"><span class="xml">            template:'<span class="tag">&lt;<span class="name">li</span>&gt;</span></span><span class="template-variable">{{<span class="name">index</span>}}</span><span class="xml">ï¼š</span><span class="template-variable">{{<span class="name">item</span>}}</span><span class="xml"><span class="tag">&lt;<span class="name">button</span> <span class="attr">v-on:click</span>=<span class="string">"remove"</span>&gt;</span>åˆ é™¤<span class="tag">&lt;/<span class="name">button</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span>',</span></span></span><br><span class="line">            methods:{</span><br><span class="line"><span class="javascript">                remove:<span class="function"><span class="keyword">function</span>(<span class="params">index</span>)</span>{</span></span><br><span class="line"><span class="javascript">                    <span class="comment">// removeItem(idnex)ï¼Œå†™æ³•é”™è¯¯ï¼Œæ‰ç”¨ä¸åˆ°vmå®ä¾‹ä¸­çš„æ–¹æ³•</span></span></span><br><span class="line"><span class="javascript">                    <span class="built_in">this</span>.$emit(<span class="string">"remove"</span>,index);</span></span><br><span class="line">                }</span><br><span class="line">            }</span><br><span class="line">        });</span><br><span class="line"></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> vm = <span class="keyword">new</span> Vue({</span></span><br><span class="line"><span class="javascript">            el:<span class="string">"#app"</span>,</span></span><br><span class="line">            data:{</span><br><span class="line"><span class="javascript">                title:<span class="string">"ç•ªå‰§"</span>,</span></span><br><span class="line">                items:[</span><br><span class="line"><span class="javascript">                    <span class="string">"ä½ å¥½ä¸–ç•Œ"</span>,</span></span><br><span class="line"><span class="javascript">                    <span class="string">"æ¨±èŠ±åº„çš„å® ç‰©å¥³å­©"</span>,</span></span><br><span class="line"><span class="javascript">                    <span class="string">"é’å‡ºäºè“"</span></span></span><br><span class="line">                ]</span><br><span class="line">            },</span><br><span class="line">            methods: {</span><br><span class="line"><span class="javascript">                removeItem:<span class="function"><span class="keyword">function</span>(<span class="params">index</span>)</span>{</span></span><br><span class="line"><span class="javascript">                    <span class="built_in">this</span>.items.splice(index,<span class="number">1</span>);</span></span><br><span class="line">                }</span><br><span class="line">            },</span><br><span class="line">        })</span><br><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><h2 id="vue-router"><a href="#vue-router" class="headerlink" title="vue router"></a>vue router</h2><h2 id="vue-cli"><a href="#vue-cli" class="headerlink" title="vue-cli"></a>vue-cli</h2><p>å¼€å§‹ä½ çš„ç¬¬ä¸€ä¸ªvue-cliå¼€å‘</p><blockquote><ul><li><p>å…¨å±€å®‰è£…æ·˜å®é•œåƒåŠ é€Ÿå™¨ npm install cnpm -g</p></li><li><p>å®‰è£…vue-cli    cnpm install vue-cli -g (vue3.0åä¸ºnpm install -g @vue/cli)</p></li><li><p>åˆå§‹åŒ–ä¸€ä¸ª vueé¡¹ç›®ï¼š vue init webpack appname(vue3.0åä¸º vue create appname)</p></li><li><p>å¦‚æœä½¿ç”¨çš„ä¸º3.0ç‰ˆæœ¬çš„ vue-cli ï¼šæ¥ä¸‹æ¥ç›´æ¥ cd appnameç„¶ånpm run server</p></li><li><p>å¦‚æœä½¿ç”¨çš„ä¸º2.0ç‰ˆæœ¬çš„ vue-cli è¿˜éœ€è¦è¿›å…¥é¡¹ç›®ç›®å½•ä¸‹ä»¥åè¿è¡Œ npm installï¼ˆ3.0ç‰ˆæœ¬ä¾èµ–è‡ªåŠ¨ä¸‹è½½node_modulesï¼‰ç„¶å npm run dev</p></li></ul></blockquote><h2 id="Axioså¼‚æ­¥é€šä¿¡"><a href="#Axioså¼‚æ­¥é€šä¿¡" class="headerlink" title="Axioså¼‚æ­¥é€šä¿¡"></a>Axioså¼‚æ­¥é€šä¿¡</h2><p>Axios æ˜¯ä¸€ä¸ªåŸºäº promise çš„ HTTP åº“ï¼Œå¯ä»¥ç”¨åœ¨æµè§ˆå™¨å’Œ node.js ä¸­ï¼Œä¸»è¦ä½œç”¨ç”¨äºå®ç°Ajaxå¼‚æ­¥é€šä¿¡ã€‚</p><blockquote><p>VueåšæŒå…³æ³¨åº¦åˆ†ç¦»åŸåˆ™ï¼Œåªå…³æ³¨äºè§†å›¾å±‚ï¼Œå› æ­¤å¹¶ä¸æä¾›ç½‘ç»œé€šä¿¡åŠŸèƒ½ï¼Œå®˜æ–¹æ¨èä½¿ç”¨Axiosï¼Œå‡å°‘ä½¿ç”¨jqueryï¼Œå› ä¸ºjQueryæ“ä½œDomé¢‘ç¹ã€‚</p></blockquote><h3 id="ç‰¹æ€§"><a href="#ç‰¹æ€§" class="headerlink" title="ç‰¹æ€§"></a>ç‰¹æ€§</h3><ul><li>ä»æµè§ˆå™¨ä¸­åˆ›å»º <a href="https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest">XMLHttpRequests</a></li><li>ä» node.js åˆ›å»º <a href="http://nodejs.org/api/http.html">http</a> è¯·æ±‚</li><li>æ”¯æŒ <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a> API</li><li>æ‹¦æˆªè¯·æ±‚å’Œå“åº”</li><li>è½¬æ¢è¯·æ±‚æ•°æ®å’Œå“åº”æ•°æ®</li><li>å–æ¶ˆè¯·æ±‚</li><li>è‡ªåŠ¨è½¬æ¢ JSON æ•°æ®</li><li>å®¢æˆ·ç«¯æ”¯æŒé˜²å¾¡ <a href="http://en.wikipedia.org/wiki/Cross-site_request_forgery">XSRF</a></li></ul><h3 id="å®‰è£…-1"><a href="#å®‰è£…-1" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h3><p>ä½¿ç”¨ npm:</p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> npm install axios</span></span><br></pre></td></tr></tbody></table></figure><p>ä½¿ç”¨ bower:</p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> bower install axios</span></span><br></pre></td></tr></tbody></table></figure><p>ä½¿ç”¨ cdn:</p><figure class="highlight html"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"https://unpkg.com/axios/dist/axios.min.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><blockquote><p>å­¦ä¹ å‚è§å®˜æ–¹æ–‡æ¡£ï¼š<a href="http://www.axios-js.com/zh-cn/docs/index.html">http://www.axios-js.com/zh-cn/docs/index.html</a></p></blockquote>]]></content>
      
      
      
        <tags>
            
            <tag> Vue </tag>
            
            <tag> å‰ç«¯ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Ajaxåˆè§</title>
      <link href="2021/06/22/Ajax%E5%88%9D%E8%A7%81/"/>
      <url>2021/06/22/Ajax%E5%88%9D%E8%A7%81/</url>
      
        <content type="html"><![CDATA[<h1 id="Ajaxåˆè§"><a href="#Ajaxåˆè§" class="headerlink" title="Ajaxåˆè§"></a>Ajaxåˆè§</h1><h2 id="ä»€ä¹ˆæ˜¯ajax"><a href="#ä»€ä¹ˆæ˜¯ajax" class="headerlink" title="ä»€ä¹ˆæ˜¯ajax"></a>ä»€ä¹ˆæ˜¯ajax</h2><p>Ajaxå³ Asynchronous JavaScript and XMLï¼ˆå¼‚æ­¥çš„JavaScriptå’Œxmlï¼‰ï¼Œå®é™…ä¸Šæ•°æ®äº¤æ¢é€šå¸¸éƒ½æ˜¯jsonã€‚</p><p>AJAX æ˜¯ä¸€ç§ç”¨äºåˆ›å»ºå¿«é€ŸåŠ¨æ€ç½‘é¡µçš„æŠ€æœ¯ã€‚</p><p>AJAX é€šè¿‡åœ¨åå°ä¸æœåŠ¡å™¨è¿›è¡Œå°‘é‡æ•°æ®äº¤æ¢ï¼Œä½¿ç½‘é¡µå®ç°å¼‚æ­¥æ›´æ–°ã€‚è¿™æ„å‘³ç€å¯ä»¥åœ¨ä¸é‡è½½æ•´ä¸ªé¡µé¢çš„æƒ…å†µä¸‹ï¼Œå¯¹ç½‘é¡µçš„æŸäº›éƒ¨åˆ†è¿›è¡Œæ›´æ–°ã€‚</p><p>ä¼ ç»Ÿçš„ç½‘é¡µï¼ˆä¸ä½¿ç”¨ AJAXï¼‰å¦‚æœéœ€è¦æ›´æ–°å†…å®¹ï¼Œå¿…é¡»é‡è½½æ•´ä¸ªé¡µé¢ã€‚</p><h2 id="ä½¿ç”¨ajax"><a href="#ä½¿ç”¨ajax" class="headerlink" title="ä½¿ç”¨ajax"></a>ä½¿ç”¨ajax</h2><h3 id="åŸç”Ÿjså®ç°"><a href="#åŸç”Ÿjså®ç°" class="headerlink" title="åŸç”Ÿjså®ç°"></a>åŸç”Ÿjså®ç°</h3><h4 id="XMLHttpRequest"><a href="#XMLHttpRequest" class="headerlink" title="XMLHttpRequest"></a>XMLHttpRequest</h4><p>XMLHttpRequestå¯¹è±¡æ˜¯ajaxçš„åŸºç¡€,XMLHttpRequest ç”¨äºåœ¨åå°ä¸æœåŠ¡å™¨äº¤æ¢æ•°æ®ã€‚è¿™æ„å‘³ç€å¯ä»¥åœ¨ä¸é‡æ–°åŠ è½½æ•´ä¸ªç½‘é¡µçš„æƒ…å†µä¸‹ï¼Œå¯¹ç½‘é¡µçš„æŸéƒ¨åˆ†è¿›è¡Œæ›´æ–°ã€‚ç›®å‰æ‰€æœ‰æµè§ˆå™¨éƒ½æ”¯æŒXMLHttpRequest</p><table><thead><tr><th>æ–¹  æ³•</th><th>æ  è¿°</th></tr></thead><tbody><tr><td>abort()</td><td>åœæ­¢å½“å‰è¯·æ±‚</td></tr><tr><td>getAllResponseHeaders()</td><td>æŠŠHTTPè¯·æ±‚çš„æ‰€æœ‰å“åº”é¦–éƒ¨ä½œä¸ºé”®/å€¼å¯¹è¿”å›</td></tr><tr><td>getResponseHeader(â€œheaderâ€)</td><td>è¿”å›æŒ‡å®šé¦–éƒ¨çš„ä¸²å€¼</td></tr><tr><td>open(â€œmethodâ€,â€URLâ€,[asyncFlag],[â€œuserNameâ€],[â€œpasswordâ€])</td><td>å»ºç«‹å¯¹æœåŠ¡å™¨çš„è°ƒç”¨ã€‚methodå‚æ•°å¯ä»¥æ˜¯GETã€POSTæˆ–PUTã€‚urlå‚æ•°å¯ä»¥æ˜¯ç›¸å¯¹URLæˆ–ç»å¯¹URLã€‚è¿™ä¸ªæ–¹æ³•è¿˜åŒ…æ‹¬3ä¸ªå¯é€‰çš„å‚æ•°ï¼Œæ˜¯å¦å¼‚æ­¥ï¼Œç”¨æˆ·åï¼Œå¯†ç </td></tr><tr><td>send(content)</td><td>å‘æœåŠ¡å™¨å‘é€è¯·æ±‚</td></tr><tr><td>setRequestHeader(â€œheaderâ€, â€œvalueâ€)</td><td>æŠŠæŒ‡å®šé¦–éƒ¨è®¾ç½®ä¸ºæ‰€æä¾›çš„å€¼ã€‚åœ¨è®¾ç½®ä»»ä½•é¦–éƒ¨ä¹‹å‰å¿…é¡»å…ˆè°ƒç”¨open()ã€‚è®¾ç½®headerå¹¶å’Œè¯·æ±‚ä¸€èµ·å‘é€ (â€˜postâ€™æ–¹æ³•ä¸€å®šè¦ )</td></tr></tbody></table><h4 id="äº”æ­¥ä½¿ç”¨æ³•"><a href="#äº”æ­¥ä½¿ç”¨æ³•" class="headerlink" title="äº”æ­¥ä½¿ç”¨æ³•"></a>äº”æ­¥ä½¿ç”¨æ³•</h4><p>ã€€ã€€1.åˆ›å»ºXMLHTTPRequestå¯¹è±¡</p><p>ã€€ã€€2.ä½¿ç”¨openæ–¹æ³•è®¾ç½®å’ŒæœåŠ¡å™¨çš„äº¤äº’ä¿¡æ¯</p><p>ã€€ã€€3.è®¾ç½®å‘é€çš„æ•°æ®ï¼Œå¼€å§‹å’ŒæœåŠ¡å™¨ç«¯äº¤äº’</p><p>ã€€ã€€4.æ³¨å†Œäº‹ä»¶</p><p>ã€€ã€€5.æ›´æ–°ç•Œé¢</p><h4 id="postæ–¹æ³•å®ä¾‹"><a href="#postæ–¹æ³•å®ä¾‹" class="headerlink" title="postæ–¹æ³•å®ä¾‹"></a>postæ–¹æ³•å®ä¾‹</h4><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//åˆ›å»ºå¼‚æ­¥å¯¹è±¡</span></span><br><span class="line"><span class="keyword">var</span> xhr = <span class="keyword">new</span> XMLHttpRequest();</span><br><span class="line"><span class="comment">//è®¾ç½®è¯·æ±‚çš„ç±»å‹åŠurl</span></span><br><span class="line"><span class="comment">//postè¯·æ±‚ä¸€å®šè¦æ·»åŠ è¯·æ±‚å¤´æ‰è¡Œä¸ç„¶ä¼šæŠ¥é”™</span></span><br><span class="line">xhr.setRequestHeader(<span class="string">"Content-type"</span>,<span class="string">"application/x-www-form-urlencoded"</span>);</span><br><span class="line"> xhr.open(<span class="string">'post'</span>, <span class="string">'02.post.php'</span> );</span><br><span class="line"><span class="comment">//å‘é€è¯·æ±‚</span></span><br><span class="line">xhr.send(<span class="string">'name=fox&amp;age=18'</span>);</span><br><span class="line">xhr.onreadystatechange = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{</span><br><span class="line">    <span class="comment">// è¿™æ­¥ä¸ºåˆ¤æ–­æœåŠ¡å™¨æ˜¯å¦æ­£ç¡®å“åº”</span></span><br><span class="line">  <span class="keyword">if</span> (xhr.readyState == <span class="number">4</span> &amp;&amp; xhr.status == <span class="number">200</span>) {</span><br><span class="line">    <span class="built_in">console</span>.log(xhr.responseText);</span><br><span class="line">  }</span><br><span class="line">};</span><br></pre></td></tr></tbody></table></figure><h4 id="ç¤ºä¾‹"><a href="#ç¤ºä¾‹" class="headerlink" title="ç¤ºä¾‹"></a>ç¤ºä¾‹</h4><figure class="highlight html"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript"><span class="function"><span class="keyword">function</span> <span class="title">loadXMLDoc</span>(<span class="params"></span>)</span></span></span><br><span class="line">{</span><br><span class="line"><span class="javascript"><span class="keyword">var</span> xmlhttp;</span></span><br><span class="line"><span class="javascript"><span class="keyword">if</span> (<span class="built_in">window</span>.XMLHttpRequest)</span></span><br><span class="line">{</span><br><span class="line"><span class="javascript"><span class="comment">//  IE7+, Firefox, Chrome, Opera, Safari æµè§ˆå™¨æ‰§è¡Œä»£ç </span></span></span><br><span class="line"><span class="javascript">xmlhttp=<span class="keyword">new</span> XMLHttpRequest();</span></span><br><span class="line">}</span><br><span class="line"><span class="javascript"><span class="keyword">else</span></span></span><br><span class="line">{</span><br><span class="line"><span class="javascript"><span class="comment">// IE6, IE5 æµè§ˆå™¨æ‰§è¡Œä»£ç </span></span></span><br><span class="line"><span class="javascript">xmlhttp=<span class="keyword">new</span> ActiveXObject(<span class="string">"Microsoft.XMLHTTP"</span>);</span></span><br><span class="line">}</span><br><span class="line"><span class="javascript">xmlhttp.onreadystatechange=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span></span></span><br><span class="line">{</span><br><span class="line"><span class="javascript"><span class="keyword">if</span> (xmlhttp.readyState==<span class="number">4</span> &amp;&amp; xmlhttp.status==<span class="number">200</span>)</span></span><br><span class="line">{</span><br><span class="line"><span class="javascript"><span class="built_in">document</span>.getElementById(<span class="string">"myDiv"</span>).innerHTML=xmlhttp.responseText;</span></span><br><span class="line">}</span><br><span class="line">}</span><br><span class="line"><span class="javascript">xmlhttp.open(<span class="string">"GET"</span>,<span class="string">"/try/ajax/ajax_info.txt"</span>,<span class="literal">true</span>);</span></span><br><span class="line">xmlhttp.send();</span><br><span class="line">}</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"myDiv"</span>&gt;</span><span class="tag">&lt;<span class="name">h2</span>&gt;</span>ä½¿ç”¨ AJAX ä¿®æ”¹è¯¥æ–‡æœ¬å†…å®¹<span class="tag">&lt;/<span class="name">h2</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">type</span>=<span class="string">"button"</span> <span class="attr">onclick</span>=<span class="string">"loadXMLDoc()"</span>&gt;</span>ä¿®æ”¹å†…å®¹<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><h3 id="ä½¿ç”¨jqueryæä¾›çš„Ajaxå®ç°-springMvcç¯å¢ƒ"><a href="#ä½¿ç”¨jqueryæä¾›çš„Ajaxå®ç°-springMvcç¯å¢ƒ" class="headerlink" title="ä½¿ç”¨jqueryæä¾›çš„Ajaxå®ç°(springMvcç¯å¢ƒ)"></a>ä½¿ç”¨jqueryæä¾›çš„Ajaxå®ç°(springMvcç¯å¢ƒ)</h3><blockquote><p>è®©æˆ‘ä»¬æ¥ä½¿ç”¨AjaxåŠ¨æ€çš„ç»™å‰ç«¯é¡µé¢åŠ ç‚¹å°ä¸œè¥¿å§~</p></blockquote><h3 id="åˆ›å»ºDemo"><a href="#åˆ›å»ºDemo" class="headerlink" title="åˆ›å»ºDemo"></a>åˆ›å»ºDemo</h3><p>è‡³å°‘æœ‰ä¸ªæœ€åŸºæœ¬çš„äºšå­ï¼Œå¯¹å§~</p><img src="https://gitee.com/rain-sky/images/raw/master/20210622104900.png" style="zoom:50%;"><h3 id="æ¥å£"><a href="#æ¥å£" class="headerlink" title="æ¥å£"></a>æ¥å£</h3><blockquote><p>ç»™å‰ç«¯ä¼ ç‚¹æ•°æ®ï¼Œè§†å›¾æ§åˆ¶å’±ä¸åš(ï¿¢ï¸¿Ì«Ì¿ï¿¢â˜†)</p></blockquote><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Controller</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">AjaxTest</span> </span>{</span><br><span class="line">    <span class="meta">@RequestMapping("/t2")</span></span><br><span class="line">    <span class="meta">@ResponseBody</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> List&lt;User&gt; <span class="title">ajaxT2</span><span class="params">(String name)</span> </span>{</span><br><span class="line">        List&lt;User&gt; list = <span class="keyword">new</span> ArrayList&lt;User&gt;();</span><br><span class="line">        list.add(<span class="keyword">new</span> User(<span class="string">"PanPan"</span>,<span class="number">12</span>,<span class="string">"ç”·"</span>));</span><br><span class="line">        list.add(<span class="keyword">new</span> User(<span class="string">"DanDan"</span>,<span class="number">13</span>,<span class="string">"å¥³"</span>));</span><br><span class="line">        <span class="keyword">return</span> list;</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h3 id="æµ‹è¯•é¡µé¢"><a href="#æµ‹è¯•é¡µé¢" class="headerlink" title="æµ‹è¯•é¡µé¢"></a>æµ‹è¯•é¡µé¢</h3><blockquote><p>æˆ‘åªæƒ³è®©å±€éƒ¨çš„tableå¢åŠ ç‚¹æ•°æ®ï¼Œä½†æˆ‘åˆä¸æƒ³æ•´ä¸ªé¡µé¢åˆ·æ–°ï¼Œå¥½çƒ¦æ¼ï¼Œajaxæ¥å¸®å¿™(ã¥ï¿£ 3ï¿£)ã¥</p></blockquote><p>ç‚¹å‡»buttonæ—¶å‘èµ·ä¸€ä¸ªAjaxçš„postè¯·æ±‚ï¼Œå±€éƒ¨åˆ·æ–°tableã€‚</p><figure class="highlight html"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line">&lt;%@ page contentType="text/html;charset=UTF-8" language="java" %&gt;</span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Ajax<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"https://code.jquery.com/jquery-3.1.1.min.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">      <span class="function"><span class="keyword">function</span> <span class="title">a</span>(<span class="params"></span>) </span>{</span></span><br><span class="line"><span class="javascript">        $.post({</span></span><br><span class="line"><span class="handlebars"><span class="xml">          <span class="comment">&lt;!-- è¯·æ±‚url --&gt;</span></span></span></span><br><span class="line"><span class="javascript">          url: <span class="string">"${pageContext.request.contextPath}/t2"</span>,</span></span><br><span class="line"><span class="handlebars"><span class="xml">          <span class="comment">&lt;!-- æ•°æ®äº¤äº’ --&gt;</span></span></span></span><br><span class="line"><span class="javascript">          data:{<span class="string">'name'</span>:<span class="string">"hello"</span>},</span></span><br><span class="line"><span class="handlebars"><span class="xml">          <span class="comment">&lt;!-- å›è°ƒå‡½æ•°ï¼ŒåŒæ ·å¤±è´¥ä¹Ÿæœ‰ä¸€ä¸ªerror,æ­¤å¤„æœªå†™å‡º --&gt;</span></span></span></span><br><span class="line"><span class="javascript">          success: <span class="function"><span class="keyword">function</span> (<span class="params">data</span>) </span>{</span></span><br><span class="line"><span class="javascript">            <span class="built_in">console</span>.log(data);</span></span><br><span class="line"><span class="javascript">            <span class="keyword">var</span> html = <span class="string">""</span>;</span></span><br><span class="line"><span class="javascript">            <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; data.length; i++){</span></span><br><span class="line"><span class="javascript">              html+=<span class="string">"&lt;tr&gt;"</span>+</span></span><br><span class="line"><span class="javascript">                      <span class="string">"&lt;td&gt;"</span> + data[i].name + <span class="string">"&lt;/td&gt;"</span> +</span></span><br><span class="line"><span class="javascript">                      <span class="string">"&lt;td&gt;"</span> + data[i].age + <span class="string">"&lt;/td&gt;"</span> +</span></span><br><span class="line"><span class="javascript">                      <span class="string">"&lt;td&gt;"</span> + data[i].sex + <span class="string">"&lt;/td&gt;"</span> +</span></span><br><span class="line"><span class="javascript">                      <span class="string">"&lt;/tr&gt;"</span></span></span><br><span class="line">            }</span><br><span class="line"><span class="javascript">            <span class="built_in">console</span>.log(html);</span></span><br><span class="line"><span class="javascript">            $(<span class="string">"#ajaxTest"</span>).html(html);</span></span><br><span class="line">        }</span><br><span class="line">        });</span><br><span class="line">      }</span><br><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">     </span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> <span class="attr">type</span>=<span class="string">"button"</span> <span class="attr">onclick</span>=<span class="string">"a()"</span>&gt;</span>æ†‹ç¢°æˆ‘<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">table</span> <span class="attr">width</span>=<span class="string">"200px"</span> <span class="attr">align</span>=<span class="string">"center"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span>å§“å<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span>å¹´é¾„<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span>æ€§åˆ«<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">tbody</span> <span class="attr">id</span>=<span class="string">"ajaxTest"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">tbody</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure><h3 id="æµ‹è¯•ä¸€ä¸‹"><a href="#æµ‹è¯•ä¸€ä¸‹" class="headerlink" title="æµ‹è¯•ä¸€ä¸‹"></a>æµ‹è¯•ä¸€ä¸‹</h3><blockquote><p>å¯åŠ¨æ±¤å§†çŒ«ï¼Œè®¿é—®æµ‹è¯•</p></blockquote><p>è¿™æ˜¯ä»–ä¸€å¼€å§‹çš„äºšå­~</p><p><img src="https://gitee.com/rain-sky/images/raw/master/20210622110307.png"></p><p>å½“æˆ‘ä»¬è§¦å‘è¿™ä¸ªç‚¹å‡»äº‹ä»¶(â—â€™â—¡â€™â—)</p><p><img src="https://gitee.com/rain-sky/images/raw/master/20210622110454.png"></p><p><code>æƒŠå–œçš„å‘ç°æˆ‘ä»¬çš„tableä»–æ›´æ–°äº†ï¼Œä½†æ˜¯é¡µé¢å¹¶æœªåˆ·æ–°ï¼Œæµ‹è¯•æˆåŠŸäº†ã€‚</code></p><h3 id="è¿‡ç¨‹è¯•æ¢"><a href="#è¿‡ç¨‹è¯•æ¢" class="headerlink" title="è¿‡ç¨‹è¯•æ¢"></a>è¿‡ç¨‹è¯•æ¢</h3><p>æ‰“å¼€æ§åˆ¶å°çœ‹çœ‹è¿™ä¸ªè¿‡ç¨‹å‘ç”Ÿäº†å•¥ï¼Œxhrè¯·æ±‚ï¼Œæ˜¯ä¸ªå•¥ï¼Ÿ(ãƒ»âˆ€ãƒ»(ãƒ»âˆ€ãƒ»(ãƒ»âˆ€ãƒ»*)ï¼Ÿajaxè¯·æ±‚ï¼Œä¸€ç§å¼‚æ­¥è¯·æ±‚ã€‚</p><p><img src="https://gitee.com/rain-sky/images/raw/master/20210622110836.png"></p><p>è¯¦ç»†</p><p><img src="https://gitee.com/rain-sky/images/raw/master/20210622110854.png"></p><blockquote><p>æ‰€è°“å¼‚æ­¥ï¼Œåœ¨è¿™é‡Œç®€å•åœ°è§£é‡Šå°±æ˜¯ï¼šå‘æœåŠ¡å™¨å‘é€è¯·æ±‚çš„æ—¶å€™ï¼Œæˆ‘ä»¬ä¸å¿…ç­‰å¾…ç»“æœï¼Œè€Œæ˜¯å¯ä»¥åŒæ—¶åšå…¶ä»–çš„äº‹æƒ…ï¼Œç­‰åˆ°æœ‰äº†ç»“æœæˆ‘ä»¬å¯ä»¥å†æ¥å¤„ç†è¿™ä¸ªäº‹ã€‚ï¼ˆå½“ç„¶ï¼Œåœ¨å…¶ä»–è¯­å¢ƒä¸‹è¿™ä¸ªè§£é‡Šå¯èƒ½å°±ä¸å¯¹äº†ï¼‰<br>è¿™ä¸ªå¾ˆé‡è¦ï¼Œå¦‚æœä¸æ˜¯è¿™æ ·çš„è¯ï¼Œæˆ‘ä»¬ç‚¹å®ŒæŒ‰é’®ï¼Œé¡µé¢å°±ä¼šæ­»åœ¨é‚£é‡Œï¼Œå…¶ä»–çš„æ•°æ®è¯·æ±‚ä¸ä¼šå¾€ä¸‹èµ°äº†ã€‚è¿™æ ·æ¯”ç­‰å¾…åˆ·æ–°ä¼¼ä¹æ›´åŠ è®¨åŒã€‚<br>ï¼ˆè™½ç„¶æä¾›å¼‚æ­¥é€šè®¯åŠŸèƒ½çš„ç»„ä»¶é»˜è®¤æƒ…å†µä¸‹éƒ½æ˜¯å¼‚æ­¥çš„ï¼Œä½†å®ƒä»¬ä¹Ÿæä¾›äº†åŒæ­¥é€‰é¡¹ï¼Œå¦‚æœä½ å¥½å¥‡æŠŠé‚£ä¸ªé€‰é¡¹æ”¹ä¸ºfalseçš„è¯ï¼Œä½ çš„é¡µé¢å°±ä¼šæ­»åœ¨é‚£é‡Œï¼‰<br>xmlåªæ˜¯ä¸€ç§æ•°æ®æ ¼å¼ï¼Œåœ¨è¿™ä»¶äº‹é‡Œå¹¶ä¸é‡è¦ï¼Œæˆ‘ä»¬åœ¨æ›´æ–°ä¸€è¡Œå­—çš„æ—¶å€™ç†è®ºä¸Šè¯´ä¸éœ€è¦è¿™ä¸ªæ ¼å¼ï¼Œä½†å¦‚æœæˆ‘ä»¬æ›´æ–°å¾ˆå¤šå†…å®¹ï¼Œé‚£ä¹ˆæ ¼å¼åŒ–çš„æ•°æ®å¯ä»¥ä½¿æˆ‘ä»¬æœ‰æ¡ç†åœ°å»å®ç°æ›´æ–°ã€‚</p><p>ç°åœ¨å¤§éƒ¨åˆ†äººå…¶å®æ˜¯ç”¨JSONè¿™ç§æ ¼å¼æ¥ä»£æ›¿XMLçš„ï¼Œå› ä¸ºå‰è€…æ›´åŠ ç®€æ´ï¼Œæ®è¯´ç›®å‰çš„è§£æé€Ÿåº¦ä¹Ÿæ›´å¿«ã€‚å¤šå¿«å¥½çœï¼Œèƒ½çœåˆ™çœå•Šã€‚</p><p><strong>æ€»ç»“ï¼šåªè¦æ˜¯JSè°ƒç”¨å¼‚æ­¥é€šè®¯ç»„ä»¶å¹¶ä½¿ç”¨æ ¼å¼åŒ–çš„æ•°æ®æ¥æ›´æ–°webé¡µé¢ä¸Šçš„å†…å®¹æˆ–æ“ä½œè¿‡ç¨‹ï¼Œé‚£ä¹ˆæˆ‘ä»¬ç”¨çš„æ–¹æ³•å°±å¯ç®—æ˜¯AJAXã€‚</strong></p><p>ä½œè€…ï¼šé£Ÿé“å…½<br>é“¾æ¥ï¼š<a href="https://www.zhihu.com/question/20874229/answer/24708736">https://www.zhihu.com/question/20874229/answer/24708736</a><br>æ¥æºï¼šçŸ¥ä¹<br>è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚</p></blockquote>]]></content>
      
      
      
        <tags>
            
            <tag> Ajax </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Javaå°ç§¯ç´¯</title>
      <link href="2021/05/26/Java%E5%B0%8F%E7%A7%AF%E7%B4%AF/"/>
      <url>2021/05/26/Java%E5%B0%8F%E7%A7%AF%E7%B4%AF/</url>
      
        <content type="html"><![CDATA[<div class="note orange icon simple"><i class="note-icon fas fa-bullhorn"></i><p>è¦è¸©çš„å‘è¿˜æœ‰å¾ˆå¤šï¼Œè‡ªå­¦è€…ï¼Œä½ å°†å»å¾€ä½•æ–¹~</p></div><h2 id="åŸºç¡€"><a href="#åŸºç¡€" class="headerlink" title="åŸºç¡€"></a>åŸºç¡€</h2><h3 id="æ•°æ®ç±»å‹"><a href="#æ•°æ®ç±»å‹" class="headerlink" title="æ•°æ®ç±»å‹"></a>æ•°æ®ç±»å‹</h3><h3 id="è¯­æ³•"><a href="#è¯­æ³•" class="headerlink" title="è¯­æ³•"></a>è¯­æ³•</h3><blockquote><p>switch case</p></blockquote><p>åŸºæœ¬å†™æ³•</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">switch</span>(expression){</span><br><span class="line">    <span class="keyword">case</span> value :</span><br><span class="line">       <span class="comment">//è¯­å¥</span></span><br><span class="line">       <span class="keyword">break</span>; <span class="comment">//å¯é€‰</span></span><br><span class="line">    <span class="keyword">case</span> value :</span><br><span class="line">       <span class="comment">//è¯­å¥</span></span><br><span class="line">       <span class="keyword">break</span>; <span class="comment">//å¯é€‰</span></span><br><span class="line">    <span class="comment">//ä½ å¯ä»¥æœ‰ä»»æ„æ•°é‡çš„caseè¯­å¥</span></span><br><span class="line">    <span class="keyword">default</span> : <span class="comment">//å¯é€‰</span></span><br><span class="line">       <span class="comment">//è¯­å¥</span></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>switch case è¯­å¥æœ‰å¦‚ä¸‹è§„åˆ™ï¼š</p><ul><li>switch è¯­å¥ä¸­çš„å˜é‡ç±»å‹å¯ä»¥æ˜¯ï¼š byteã€shortã€int æˆ–è€… charã€‚ä» Java SE 7 å¼€å§‹ï¼Œswitch æ”¯æŒå­—ç¬¦ä¸² String ç±»å‹äº†ï¼ŒåŒæ—¶ case æ ‡ç­¾å¿…é¡»ä¸ºå­—ç¬¦ä¸²å¸¸é‡æˆ–å­—é¢é‡ã€‚</li><li>switch è¯­å¥å¯ä»¥æ‹¥æœ‰å¤šä¸ª case è¯­å¥ã€‚æ¯ä¸ª case åé¢è·Ÿä¸€ä¸ªè¦æ¯”è¾ƒçš„å€¼å’Œå†’å·ã€‚</li><li>case è¯­å¥ä¸­çš„å€¼çš„æ•°æ®ç±»å‹å¿…é¡»ä¸å˜é‡çš„æ•°æ®ç±»å‹ç›¸åŒï¼Œè€Œä¸”åªèƒ½æ˜¯å¸¸é‡æˆ–è€…å­—é¢å¸¸é‡ã€‚</li><li>å½“å˜é‡çš„å€¼ä¸ case è¯­å¥çš„å€¼ç›¸ç­‰æ—¶ï¼Œé‚£ä¹ˆ case è¯­å¥ä¹‹åçš„è¯­å¥å¼€å§‹æ‰§è¡Œï¼Œç›´åˆ° break è¯­å¥å‡ºç°æ‰ä¼šè·³å‡º switch è¯­å¥ã€‚</li><li>å½“é‡åˆ° break è¯­å¥æ—¶ï¼Œswitch è¯­å¥ç»ˆæ­¢ã€‚ç¨‹åºè·³è½¬åˆ° switch è¯­å¥åé¢çš„è¯­å¥æ‰§è¡Œã€‚case è¯­å¥ä¸å¿…é¡»è¦åŒ…å« break è¯­å¥ã€‚å¦‚æœæ²¡æœ‰ break è¯­å¥å‡ºç°ï¼Œç¨‹åºä¼šç»§ç»­æ‰§è¡Œä¸‹ä¸€æ¡ case è¯­å¥ï¼Œç›´åˆ°å‡ºç° break è¯­å¥ã€‚</li><li>switch è¯­å¥å¯ä»¥åŒ…å«ä¸€ä¸ª default åˆ†æ”¯ï¼Œè¯¥åˆ†æ”¯ä¸€èˆ¬æ˜¯ switch è¯­å¥çš„æœ€åä¸€ä¸ªåˆ†æ”¯ï¼ˆå¯ä»¥åœ¨ä»»ä½•ä½ç½®ï¼Œä½†å»ºè®®åœ¨æœ€åä¸€ä¸ªï¼‰ã€‚default åœ¨æ²¡æœ‰ case è¯­å¥çš„å€¼å’Œå˜é‡å€¼ç›¸ç­‰çš„æ—¶å€™æ‰§è¡Œã€‚default åˆ†æ”¯ä¸éœ€è¦ break è¯­å¥ã€‚</li></ul><blockquote><p>if-else-ifè¯­æ³•</p></blockquote><p>if è¯­å¥åé¢å¯ä»¥è·Ÿ else ifâ€¦else è¯­å¥ï¼Œè¿™ç§è¯­å¥å¯ä»¥æ£€æµ‹åˆ°å¤šç§å¯èƒ½çš„æƒ…å†µã€‚</p><p>ä½¿ç”¨ ifï¼Œelse ifï¼Œelse è¯­å¥çš„æ—¶å€™ï¼Œéœ€è¦æ³¨æ„ä¸‹é¢å‡ ç‚¹ï¼š</p><ul><li>if è¯­å¥è‡³å¤šæœ‰ 1 ä¸ª else è¯­å¥ï¼Œelse è¯­å¥åœ¨æ‰€æœ‰çš„ else if è¯­å¥ä¹‹åã€‚</li><li>if è¯­å¥å¯ä»¥æœ‰è‹¥å¹²ä¸ª else if è¯­å¥ï¼Œå®ƒä»¬å¿…é¡»åœ¨ else è¯­å¥ä¹‹å‰ã€‚</li><li>ä¸€æ—¦å…¶ä¸­ä¸€ä¸ª else if è¯­å¥æ£€æµ‹ä¸º trueï¼Œå…¶ä»–çš„ else if ä»¥åŠ else è¯­å¥éƒ½å°†è·³è¿‡æ‰§è¡Œã€‚</li></ul><p><span class="github-emoji"><span>â“</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/2753.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span>ä¸€ä¸ªé—®é¢˜</p><figure class="highlight tex"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">1.å¤šä¸ªelse ifå—ä¹‹é—´çš„é¡ºåºå¯ä»¥æ”¹å˜ï¼Œæ”¹å˜ä¹‹åå¯¹ç¨‹åºçš„æ‰§è¡Œç»“æœæ²¡æœ‰å½±å“</span><br><span class="line">2.å¤šä¸ªelse ifå—ä¹‹é—´çš„é¡ºåºå¯ä»¥æ”¹å˜ï¼Œæ”¹å˜ä¹‹åå¯èƒ½å¯¹ç¨‹åºçš„æ‰§è¡Œç»“æœæœ‰å½±å“</span><br><span class="line">3.å¤šä¸ªelse ifå—ä¹‹é—´çš„é¡ºåºä¸å¯ä»¥æ”¹å˜ï¼Œæ”¹å˜åç¨‹åºç¼–è¯‘ä¸é€šè¿‡</span><br><span class="line">4.å¤šä¸ªelse ifå—ä¹‹é—´çš„é¡ºåºå¯ä»¥æ”¹å˜ï¼Œæ”¹å˜åç¨‹åºç¼–è¯‘å¯ä»¥é€šè¿‡</span><br><span class="line">å…¶ä¸­2ï¼Œ4æ­£ç¡®</span><br><span class="line">-----------------------------------------------------------</span><br><span class="line">int age = 11;</span><br><span class="line">int a = 0;</span><br><span class="line">if(age &lt; 10){</span><br><span class="line">    a += 1;</span><br><span class="line">}else if(age &lt; 15){</span><br><span class="line">    a += 2;</span><br><span class="line">}else if(age &lt; 25){</span><br><span class="line">    a += 3;</span><br><span class="line">}ä¸Šé¢çš„ä»£ç   ä¸¤ä¸ªifelseå¦‚æœäº’æ¢ä½ç½®   açš„å€¼å°±ä¸ä¸€æ ·äº†</span><br></pre></td></tr></tbody></table></figure><h3 id="è¿ç®—ç¬¦"><a href="#è¿ç®—ç¬¦" class="headerlink" title="è¿ç®—ç¬¦"></a>è¿ç®—ç¬¦</h3><blockquote><p>æ¦‚è¿°</p></blockquote><p>ç®—æœ¯è¿ç®—ç¬¦</p><table><thead><tr><th>+</th><th>åŠ æ³• - ç›¸åŠ è¿ç®—ç¬¦ä¸¤ä¾§çš„å€¼</th><th>A + B ç­‰äº 30</th></tr></thead><tbody><tr><td>-</td><td>å‡æ³• - å·¦æ“ä½œæ•°å‡å»å³æ“ä½œæ•°</td><td>A â€“ B ç­‰äº -10</td></tr><tr><td>*</td><td>ä¹˜æ³• - ç›¸ä¹˜æ“ä½œç¬¦ä¸¤ä¾§çš„å€¼</td><td>A * Bç­‰äº200</td></tr><tr><td>/</td><td>é™¤æ³• - å·¦æ“ä½œæ•°é™¤ä»¥å³æ“ä½œæ•°</td><td>B / Aç­‰äº2</td></tr><tr><td>ï¼…</td><td>å–ä½™ - å·¦æ“ä½œæ•°é™¤ä»¥å³æ“ä½œæ•°çš„ä½™æ•°</td><td>B%Aç­‰äº0</td></tr><tr><td>++</td><td>è‡ªå¢: æ“ä½œæ•°çš„å€¼å¢åŠ 1</td><td>B++ æˆ– ++B ç­‰äº 21ï¼ˆåŒºåˆ«è¯¦è§ä¸‹æ–‡ï¼‰</td></tr><tr><td>â€“</td><td>è‡ªå‡: æ“ä½œæ•°çš„å€¼å‡å°‘1</td><td>Bâ€“ æˆ– â€“B ç­‰äº 19ï¼ˆåŒºåˆ«è¯¦è§ä¸‹æ–‡ï¼‰</td></tr></tbody></table><p>å…³ç³»è¿ç®—ç¬¦</p><table><thead><tr><th align="left">è¿ç®—ç¬¦</th><th align="left">æè¿°</th><th align="left">ä¾‹å­</th></tr></thead><tbody><tr><td align="left">==</td><td align="left">æ£€æŸ¥å¦‚æœä¸¤ä¸ªæ“ä½œæ•°çš„å€¼æ˜¯å¦ç›¸ç­‰ï¼Œå¦‚æœç›¸ç­‰åˆ™æ¡ä»¶ä¸ºçœŸã€‚</td><td align="left">ï¼ˆA == Bï¼‰ä¸ºå‡ã€‚</td></tr><tr><td align="left">!=</td><td align="left">æ£€æŸ¥å¦‚æœä¸¤ä¸ªæ“ä½œæ•°çš„å€¼æ˜¯å¦ç›¸ç­‰ï¼Œå¦‚æœå€¼ä¸ç›¸ç­‰åˆ™æ¡ä»¶ä¸ºçœŸã€‚</td><td align="left">(A != B) ä¸ºçœŸã€‚</td></tr><tr><td align="left">&gt;</td><td align="left">æ£€æŸ¥å·¦æ“ä½œæ•°çš„å€¼æ˜¯å¦å¤§äºå³æ“ä½œæ•°çš„å€¼ï¼Œå¦‚æœæ˜¯é‚£ä¹ˆæ¡ä»¶ä¸ºçœŸã€‚</td><td align="left">ï¼ˆA&gt; Bï¼‰ä¸ºå‡ã€‚</td></tr><tr><td align="left">&lt;</td><td align="left">æ£€æŸ¥å·¦æ“ä½œæ•°çš„å€¼æ˜¯å¦å°äºå³æ“ä½œæ•°çš„å€¼ï¼Œå¦‚æœæ˜¯é‚£ä¹ˆæ¡ä»¶ä¸ºçœŸã€‚</td><td align="left">ï¼ˆA &lt;Bï¼‰ä¸ºçœŸã€‚</td></tr><tr><td align="left">&gt;=</td><td align="left">æ£€æŸ¥å·¦æ“ä½œæ•°çš„å€¼æ˜¯å¦å¤§äºæˆ–ç­‰äºå³æ“ä½œæ•°çš„å€¼ï¼Œå¦‚æœæ˜¯é‚£ä¹ˆæ¡ä»¶ä¸ºçœŸã€‚</td><td align="left">ï¼ˆA&gt; = Bï¼‰ä¸ºå‡ã€‚</td></tr><tr><td align="left">&lt;=</td><td align="left">æ£€æŸ¥å·¦æ“ä½œæ•°çš„å€¼æ˜¯å¦å°äºæˆ–ç­‰äºå³æ“ä½œæ•°çš„å€¼ï¼Œå¦‚æœæ˜¯é‚£ä¹ˆæ¡ä»¶ä¸ºçœŸã€‚</td><td align="left">ï¼ˆA &lt;= Bï¼‰ä¸ºçœŸã€‚</td></tr></tbody></table><p>ä½è¿ç®—ç¬¦</p><table><thead><tr><th align="left">æ“ä½œç¬¦</th><th align="left">æè¿°</th><th align="left">ä¾‹å­</th></tr></thead><tbody><tr><td align="left">ï¼†</td><td align="left">å¦‚æœç›¸å¯¹åº”ä½éƒ½æ˜¯1ï¼Œåˆ™ç»“æœä¸º1ï¼Œå¦åˆ™ä¸º0</td><td align="left">ï¼ˆAï¼†Bï¼‰ï¼Œå¾—åˆ°12ï¼Œå³0000 1100</td></tr><tr><td align="left">|</td><td align="left">å¦‚æœç›¸å¯¹åº”ä½éƒ½æ˜¯ 0ï¼Œåˆ™ç»“æœä¸º 0ï¼Œå¦åˆ™ä¸º 1</td><td align="left">ï¼ˆA | Bï¼‰å¾—åˆ°61ï¼Œå³ 0011 1101</td></tr><tr><td align="left">^</td><td align="left">å¦‚æœç›¸å¯¹åº”ä½å€¼ç›¸åŒï¼Œåˆ™ç»“æœä¸º0ï¼Œå¦åˆ™ä¸º1</td><td align="left">ï¼ˆA ^ Bï¼‰å¾—åˆ°49ï¼Œå³ 0011 0001</td></tr><tr><td align="left">ã€œ</td><td align="left">æŒ‰ä½å–åè¿ç®—ç¬¦ç¿»è½¬æ“ä½œæ•°çš„æ¯ä¸€ä½ï¼Œå³0å˜æˆ1ï¼Œ1å˜æˆ0ã€‚</td><td align="left">ï¼ˆã€œAï¼‰å¾—åˆ°-61ï¼Œå³1100 0011</td></tr><tr><td align="left">&lt;&lt;</td><td align="left">æŒ‰ä½å·¦ç§»è¿ç®—ç¬¦ã€‚å·¦æ“ä½œæ•°æŒ‰ä½å·¦ç§»å³æ“ä½œæ•°æŒ‡å®šçš„ä½æ•°ã€‚</td><td align="left">A &lt;&lt; 2å¾—åˆ°240ï¼Œå³ 1111 0000</td></tr><tr><td align="left">&gt;&gt;</td><td align="left">æŒ‰ä½å³ç§»è¿ç®—ç¬¦ã€‚å·¦æ“ä½œæ•°æŒ‰ä½å³ç§»å³æ“ä½œæ•°æŒ‡å®šçš„ä½æ•°ã€‚</td><td align="left">A &gt;&gt; 2å¾—åˆ°15å³ 1111</td></tr><tr><td align="left">&gt;&gt;&gt;</td><td align="left">æŒ‰ä½å³ç§»è¡¥é›¶æ“ä½œç¬¦ã€‚å·¦æ“ä½œæ•°çš„å€¼æŒ‰å³æ“ä½œæ•°æŒ‡å®šçš„ä½æ•°å³ç§»ï¼Œç§»åŠ¨å¾—åˆ°çš„ç©ºä½ä»¥é›¶å¡«å……ã€‚</td><td align="left">A&gt;&gt;&gt;2å¾—åˆ°15å³0000 1111</td></tr></tbody></table><blockquote><p>å®¹æ˜“è¸©å‘</p></blockquote><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> i = -<span class="number">3</span>ï¼›</span><br><span class="line">i = ++(i++);</span><br><span class="line"><span class="comment">//-----è¾“å‡ºï¼Ÿï¼Ÿï¼Ÿ----</span></span><br><span class="line"><span class="comment">//ç­”æ¡ˆæ˜¯ç¼–è¯‘é”™è¯¯ï¼Œå› ä¸º++å³ä¾§åº”è¯¥æ˜¯ä¸€ä¸ªå˜é‡ï¼Œè€Œi++åæ˜¯ä¸€ä¸ªå¸¸æ•°</span></span><br></pre></td></tr></tbody></table></figure><h3 id="è®¿é—®ä¿®é¥°ç¬¦"><a href="#è®¿é—®ä¿®é¥°ç¬¦" class="headerlink" title="è®¿é—®ä¿®é¥°ç¬¦"></a>è®¿é—®ä¿®é¥°ç¬¦</h3><blockquote><p>Javaä¸­ï¼Œå¯ä»¥ä½¿ç”¨è®¿é—®æ§åˆ¶ç¬¦æ¥ä¿æŠ¤å¯¹ç±»ã€å˜é‡ã€æ–¹æ³•å’Œæ„é€ æ–¹æ³•çš„è®¿é—®ã€‚Java æ”¯æŒ 4 ç§ä¸åŒçš„è®¿é—®æƒé™ã€‚</p></blockquote><ul><li><strong>default</strong> (å³é»˜è®¤ï¼Œä»€ä¹ˆä¹Ÿä¸å†™ï¼‰: åœ¨åŒä¸€åŒ…å†…å¯è§ï¼Œä¸ä½¿ç”¨ä»»ä½•ä¿®é¥°ç¬¦ã€‚ä½¿ç”¨å¯¹è±¡ï¼šç±»ã€æ¥å£ã€å˜é‡ã€æ–¹æ³•ã€‚</li><li><strong>private</strong> : åœ¨åŒä¸€ç±»å†…å¯è§ã€‚ä½¿ç”¨å¯¹è±¡ï¼šå˜é‡ã€æ–¹æ³•ã€‚ <strong>æ³¨æ„ï¼šä¸èƒ½ä¿®é¥°ç±»ï¼ˆå¤–éƒ¨ç±»ï¼‰</strong></li><li><strong>public</strong> : å¯¹æ‰€æœ‰ç±»å¯è§ã€‚ä½¿ç”¨å¯¹è±¡ï¼šç±»ã€æ¥å£ã€å˜é‡ã€æ–¹æ³•ã€‚ç”±äºç±»çš„ç»§æ‰¿æ€§ï¼Œç±»æ‰€æœ‰çš„å…¬æœ‰æ–¹æ³•å’Œå˜é‡éƒ½èƒ½è¢«å…¶å­ç±»ç»§æ‰¿ã€‚</li><li><strong>protected</strong> : å¯¹åŒä¸€åŒ…å†…çš„ç±»å’Œæ‰€æœ‰å­ç±»å¯è§ã€‚ä½¿ç”¨å¯¹è±¡ï¼šå˜é‡ã€æ–¹æ³•ã€‚ <strong>æ³¨æ„ï¼šä¸èƒ½ä¿®é¥°ç±»ï¼ˆå¤–éƒ¨ç±»ï¼‰</strong>ã€‚</li></ul><table><thead><tr><th align="left">ä¿®é¥°ç¬¦</th><th align="left">å½“å‰ç±»</th><th align="left">åŒä¸€åŒ…å†…</th><th align="left">å­å­™ç±»(åŒä¸€åŒ…)</th><th align="left">å­å­™ç±»(ä¸åŒåŒ…)</th><th align="left">å…¶ä»–åŒ…</th></tr></thead><tbody><tr><td align="left"><code>public</code></td><td align="left">Y</td><td align="left">Y</td><td align="left">Y</td><td align="left">Y</td><td align="left">Y</td></tr><tr><td align="left"><code>protected</code></td><td align="left">Y</td><td align="left">Y</td><td align="left">Y</td><td align="left">Y/Nï¼ˆ<a href="https://www.runoob.com/java/java-modifier-types.html#protected-desc">è¯´æ˜</a>ï¼‰</td><td align="left">N</td></tr><tr><td align="left"><code>default</code></td><td align="left">Y</td><td align="left">Y</td><td align="left">Y</td><td align="left">N</td><td align="left">N</td></tr><tr><td align="left"><code>private</code></td><td align="left">Y</td><td align="left">N</td><td align="left">N</td><td align="left">N</td><td align="left">N</td></tr></tbody></table><blockquote><p>è®¿é—®æ§åˆ¶å’Œç»§æ‰¿</p></blockquote><p>è¯·æ³¨æ„ä»¥ä¸‹æ–¹æ³•ç»§æ‰¿çš„è§„åˆ™ï¼š</p><ul><li>çˆ¶ç±»ä¸­å£°æ˜ä¸º public çš„æ–¹æ³•åœ¨å­ç±»ä¸­ä¹Ÿå¿…é¡»ä¸º publicã€‚</li><li>çˆ¶ç±»ä¸­å£°æ˜ä¸º protected çš„æ–¹æ³•åœ¨å­ç±»ä¸­è¦ä¹ˆå£°æ˜ä¸º protectedï¼Œè¦ä¹ˆå£°æ˜ä¸º publicï¼Œä¸èƒ½å£°æ˜ä¸º privateã€‚</li><li>çˆ¶ç±»ä¸­å£°æ˜ä¸º private çš„æ–¹æ³•ï¼Œä¸èƒ½å¤Ÿè¢«ç»§æ‰¿ï¼Œå®é™…å­ç±»å†…å­˜ç©ºé—´ä¸­æœ‰è¯¥æ–¹æ³•æˆ–ç±»å˜é‡çš„å†…å­˜ï¼Œä½†æ— æ³•è®¿é—®ï¼Œprivateå˜é‡å¯ä»¥é€šè¿‡publicæ–¹æ³•é—´æ¥è®¿é—®ã€‚</li></ul><h3 id="ç»§æ‰¿ä¸å¤šæ€"><a href="#ç»§æ‰¿ä¸å¤šæ€" class="headerlink" title="ç»§æ‰¿ä¸å¤šæ€"></a>ç»§æ‰¿ä¸å¤šæ€</h3><blockquote><p>æ˜“è¸©å‘</p></blockquote><p>å­ç±»æ— æ³•è®¿é—®çˆ¶ç±»ç§æœ‰åŸŸæˆå‘˜ï¼Œæƒ³è¦è®¿é—®é€šè¿‡å…¬æœ‰æ¥å£è·å¾—</p><h3 id="å…³äºStringï¼ŒStringBufferï¼ŒStringBuilder"><a href="#å…³äºStringï¼ŒStringBufferï¼ŒStringBuilder" class="headerlink" title="å…³äºStringï¼ŒStringBufferï¼ŒStringBuilder"></a>å…³äºStringï¼ŒStringBufferï¼ŒStringBuilder</h3><h4 id="ä½“ç³»ç»“æ„"><a href="#ä½“ç³»ç»“æ„" class="headerlink" title="ä½“ç³»ç»“æ„"></a>ä½“ç³»ç»“æ„</h4><p><img src="https://gitee.com/rain-sky/images/raw/master/20210810161050.png"></p><h4 id="String"><a href="#String" class="headerlink" title="String"></a>String</h4><blockquote><p>åˆ›å»º</p></blockquote><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ç›´æ¥ä½¿ç”¨å­—ç¬¦ä¸²åˆ›å»ºï¼ŒæŒ‡å‘çš„æ˜¯å¸¸é‡æ± ä¸­çš„å¸¸é‡</span></span><br><span class="line">String s1 = <span class="string">"Runoob"</span>;              <span class="comment">// String ç›´æ¥åˆ›å»º</span></span><br><span class="line">String s2 = <span class="string">"Runoob"</span>;              <span class="comment">// String ç›´æ¥åˆ›å»º</span></span><br><span class="line">String s3 = s1;                    <span class="comment">// ç›¸åŒå¼•ç”¨</span></span><br><span class="line">String s4 = <span class="keyword">new</span> String(<span class="string">"Runoob"</span>);   <span class="comment">// String å¯¹è±¡åˆ›å»º</span></span><br><span class="line">String s5 = <span class="keyword">new</span> String(<span class="string">"Runoob"</span>);   <span class="comment">// String å¯¹è±¡åˆ›å»º</span></span><br></pre></td></tr></tbody></table></figure><p><img src="https://gitee.com/rain-sky/images/raw/master/20210810161223.png"></p><blockquote><p>æºç ä¸€ç¥ï¼ŒåŸºäºjdk1.8ç‰ˆæœ¬ï¼Œå…¶ä»–ç‰ˆæœ¬æˆ–å·²æœ‰æ›´æ”¹</p></blockquote><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">final</span> <span class="class"><span class="keyword">class</span> <span class="title">String</span></span></span><br><span class="line"><span class="class">    <span class="keyword">implements</span> <span class="title">java</span>.<span class="title">io</span>.<span class="title">Serializable</span>, <span class="title">Comparable</span>&lt;<span class="title">String</span>&gt;, <span class="title">CharSequence</span> </span>{</span><br><span class="line">    <span class="comment">/** The value is used for character storage. */</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> <span class="keyword">char</span> value[];</span><br><span class="line"></span><br><span class="line">    <span class="comment">/** Cache the hash code for the string */</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> hash; <span class="comment">// Default to 0</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">/** use serialVersionUID from JDK 1.0.2 for interoperability */</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">long</span> serialVersionUID = -<span class="number">6849794470754667710L</span>;</span><br><span class="line">    </span><br><span class="line">   ......</span><br><span class="line"></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p><span class="github-emoji"><span>ğŸ’¡</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f4a1.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span>ä»æºç å¯ä»¥çœ‹å‡ºStringåº•å±‚æœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªèƒŒfinalä¿®é¥°çš„æ•°ç»„ï¼Œ</p><p><span class="github-emoji"><span>â“</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/2753.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span>Stringä¸ºä»€ä¹ˆä¸å¯å˜ï¼Ÿæœ¬è´¨æ˜¯ç”±äºprivateä¸finalä¸¤ä¸ªå…³é”®å­—ä¿®é¥°äº†value[]è¿™ä¸ªæ•°ç»„ï¼Œfinalä¿®é¥°äº†valueè¯´æ˜valueè¿™ä¸ªå¼•ç”¨ä¸å¯å˜ï¼Œä¸å¯å†æŒ‡å‘å…¶ä»–æ•°ç»„ï¼Œä½†æ˜¯valueæŒ‡å‘çš„æ•°ç»„æœ¬èº«æ˜¯å¯ä»¥å˜åŒ–çš„ï¼Œç”±äºprivateæˆ‘ä»¬æ— æ³•æ“ä½œåˆ°è¿™ä¸ªvalueæ•°ç»„ï¼Œæ•…æˆ‘ä»¬æ— æ³•å»æ”¹å˜è¿™ä¸ªæ•°ç»„çš„å€¼ã€‚</p><p><span class="github-emoji"><span>â“</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/2753.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span>é‚£ä¹ˆç”¨ä»€ä¹ˆæ–¹å¼å¯ä»¥è®¿é—®ç§æœ‰æˆå‘˜å‘¢ï¼Ÿ æ²¡é”™ï¼Œç”¨åå°„ï¼Œ å¯ä»¥åå°„å‡ºStringå¯¹è±¡ä¸­çš„valueå±æ€§ï¼Œ è¿›è€Œæ”¹å˜é€šè¿‡è·å¾—çš„valueå¼•ç”¨æ”¹å˜æ•°ç»„çš„ç»“æ„ã€‚</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">testReflection</span><span class="params">()</span> <span class="keyword">throws</span> Exception </span>{</span><br><span class="line"></span><br><span class="line">    <span class="comment">//åˆ›å»ºå­—ç¬¦ä¸²"Hello World"ï¼Œ å¹¶èµ‹ç»™å¼•ç”¨s</span></span><br><span class="line">    String s = <span class="string">"Hello World"</span>; </span><br><span class="line"></span><br><span class="line">    System.out.println(<span class="string">"s = "</span> + s);<span class="comment">//Hello World</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//è·å–Stringç±»ä¸­çš„valueå­—æ®µ</span></span><br><span class="line">    Field valueFieldOfString = String.class.getDeclaredField(<span class="string">"value"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//æ”¹å˜valueå±æ€§çš„è®¿é—®æƒé™</span></span><br><span class="line">    valueFieldOfString.setAccessible(<span class="keyword">true</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//è·å–så¯¹è±¡ä¸Šçš„valueå±æ€§çš„å€¼</span></span><br><span class="line">    <span class="keyword">char</span>[] value = (<span class="keyword">char</span>[]) valueFieldOfString.get(s);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//æ”¹å˜valueæ‰€å¼•ç”¨çš„æ•°ç»„ä¸­çš„ç¬¬5ä¸ªå­—ç¬¦</span></span><br><span class="line">    value[<span class="number">5</span>] = <span class="string">'_'</span>;</span><br><span class="line"></span><br><span class="line">    System.out.println(<span class="string">"s = "</span> + s);  <span class="comment">//Hello_World</span></span><br><span class="line"></span><br><span class="line">}</span><br><span class="line"><span class="comment">//è¾“å‡º--------------------------------------------------</span></span><br><span class="line">s = Hello World</span><br><span class="line">s = Hello_World</span><br></pre></td></tr></tbody></table></figure><p>åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œså§‹ç»ˆå¼•ç”¨çš„åŒä¸€ä¸ªStringå¯¹è±¡ï¼Œä½†æ˜¯å†åå°„å‰åï¼Œè¿™ä¸ªStringå¯¹è±¡å‘ç”Ÿäº†å˜åŒ–ï¼Œ ä¹Ÿå°±æ˜¯è¯´ï¼Œé€šè¿‡åå°„æ˜¯å¯ä»¥ä¿®æ”¹æ‰€è°“çš„â€œä¸å¯å˜â€å¯¹è±¡çš„ã€‚</p><blockquote><p>å¸¸ç”¨æ–¹æ³•ï¼Œè§£é¢˜å¤šç”¨</p></blockquote><table><thead><tr><th><a href="https://www.runoob.com/java/java-string-charat.html">char charAt(int index)</a> è¿”å›æŒ‡å®šç´¢å¼•å¤„çš„ char å€¼ã€‚</th></tr></thead><tbody><tr><td><a href="https://www.runoob.com/java/java-string-compareto.html">int compareTo(String anotherString)</a> æŒ‰å­—å…¸é¡ºåºæ¯”è¾ƒä¸¤ä¸ªå­—ç¬¦ä¸²ã€‚</td></tr><tr><td><a href="https://www.runoob.com/java/java-string-concat.html">String concat(String str)</a> å°†æŒ‡å®šå­—ç¬¦ä¸²è¿æ¥åˆ°æ­¤å­—ç¬¦ä¸²çš„ç»“å°¾ã€‚</td></tr><tr><td><a href="https://www.runoob.com/java/java-string-contentequals.html">boolean contentEquals(StringBuffer sb)</a> å½“ä¸”ä»…å½“å­—ç¬¦ä¸²ä¸æŒ‡å®šçš„StringBufferæœ‰ç›¸åŒé¡ºåºçš„å­—ç¬¦æ—¶å€™è¿”å›çœŸã€‚</td></tr><tr><td><a href="https://www.runoob.com/java/java-string-endswith.html">boolean endsWith(String suffix)</a> æµ‹è¯•æ­¤å­—ç¬¦ä¸²æ˜¯å¦ä»¥æŒ‡å®šçš„åç¼€ç»“æŸã€‚</td></tr><tr><td><a href="https://www.runoob.com/java/java-string-equals.html">boolean equals(Object anObject)</a> å°†æ­¤å­—ç¬¦ä¸²ä¸æŒ‡å®šçš„å¯¹è±¡æ¯”è¾ƒã€‚</td></tr><tr><td>[byte<a href="https://www.runoob.com/java/java-string-getbytes.html">] getBytes()</a>  ä½¿ç”¨å¹³å°çš„é»˜è®¤å­—ç¬¦é›†å°†æ­¤ String ç¼–ç ä¸º byte åºåˆ—ï¼Œå¹¶å°†ç»“æœå­˜å‚¨åˆ°ä¸€ä¸ªæ–°çš„ byte æ•°ç»„ä¸­ã€‚</td></tr><tr><td>[byte<a href="https://www.runoob.com/java/java-string-getbytes.html">] getBytes(String charsetName)</a> ä½¿ç”¨æŒ‡å®šçš„å­—ç¬¦é›†å°†æ­¤ String ç¼–ç ä¸º byte åºåˆ—ï¼Œå¹¶å°†ç»“æœå­˜å‚¨åˆ°ä¸€ä¸ªæ–°çš„ byte æ•°ç»„ä¸­ã€‚</td></tr><tr><td>[void getChars(int srcBegin, int srcEnd, char<a href="https://www.runoob.com/java/java-string-getchars.html">] dst, int dstBegin)</a> å°†å­—ç¬¦ä»æ­¤å­—ç¬¦ä¸²å¤åˆ¶åˆ°ç›®æ ‡å­—ç¬¦æ•°ç»„ã€‚</td></tr><tr><td><a href="https://www.runoob.com/java/java-string-hashcode.html">int hashCode()</a> è¿”å›æ­¤å­—ç¬¦ä¸²çš„å“ˆå¸Œç ã€‚</td></tr><tr><td><a href="https://www.runoob.com/java/java-string-indexof.html">int indexOf(int ch)</a> è¿”å›æŒ‡å®šå­—ç¬¦åœ¨æ­¤å­—ç¬¦ä¸²ä¸­ç¬¬ä¸€æ¬¡å‡ºç°å¤„çš„ç´¢å¼•ã€‚</td></tr><tr><td><a href="https://www.runoob.com/java/java-string-indexof.html">int indexOf(int ch, int fromIndex)</a> è¿”å›åœ¨æ­¤å­—ç¬¦ä¸²ä¸­ç¬¬ä¸€æ¬¡å‡ºç°æŒ‡å®šå­—ç¬¦å¤„çš„ç´¢å¼•ï¼Œä»æŒ‡å®šçš„ç´¢å¼•å¼€å§‹æœç´¢ã€‚</td></tr><tr><td><a href="https://www.runoob.com/java/java-string-indexof.html">int indexOf(String str)</a>  è¿”å›æŒ‡å®šå­å­—ç¬¦ä¸²åœ¨æ­¤å­—ç¬¦ä¸²ä¸­ç¬¬ä¸€æ¬¡å‡ºç°å¤„çš„ç´¢å¼•ã€‚</td></tr><tr><td><a href="https://www.runoob.com/java/java-string-indexof.html">int indexOf(String str, int fromIndex)</a> è¿”å›æŒ‡å®šå­å­—ç¬¦ä¸²åœ¨æ­¤å­—ç¬¦ä¸²ä¸­ç¬¬ä¸€æ¬¡å‡ºç°å¤„çš„ç´¢å¼•ï¼Œä»æŒ‡å®šçš„ç´¢å¼•å¼€å§‹ã€‚</td></tr><tr><td><a href="https://www.runoob.com/java/java-string-lastindexof.html">int lastIndexOf(int ch)</a>  è¿”å›æŒ‡å®šå­—ç¬¦åœ¨æ­¤å­—ç¬¦ä¸²ä¸­æœ€åä¸€æ¬¡å‡ºç°å¤„çš„ç´¢å¼•ã€‚</td></tr><tr><td><a href="https://www.runoob.com/java/java-string-lastindexof.html">int lastIndexOf(int ch, int fromIndex)</a> è¿”å›æŒ‡å®šå­—ç¬¦åœ¨æ­¤å­—ç¬¦ä¸²ä¸­æœ€åä¸€æ¬¡å‡ºç°å¤„çš„ç´¢å¼•ï¼Œä»æŒ‡å®šçš„ç´¢å¼•å¤„å¼€å§‹è¿›è¡Œåå‘æœç´¢ã€‚</td></tr><tr><td><a href="https://www.runoob.com/java/java-string-lastindexof.html">int lastIndexOf(String str)</a> è¿”å›æŒ‡å®šå­å­—ç¬¦ä¸²åœ¨æ­¤å­—ç¬¦ä¸²ä¸­æœ€å³è¾¹å‡ºç°å¤„çš„ç´¢å¼•ã€‚</td></tr><tr><td><a href="https://www.runoob.com/java/java-string-lastindexof.html">int lastIndexOf(String str, int fromIndex)</a>  è¿”å›æŒ‡å®šå­å­—ç¬¦ä¸²åœ¨æ­¤å­—ç¬¦ä¸²ä¸­æœ€åä¸€æ¬¡å‡ºç°å¤„çš„ç´¢å¼•ï¼Œä»æŒ‡å®šçš„ç´¢å¼•å¼€å§‹åå‘æœç´¢ã€‚</td></tr><tr><td><a href="https://www.runoob.com/java/java-string-length.html">int length()</a> è¿”å›æ­¤å­—ç¬¦ä¸²çš„é•¿åº¦ã€‚</td></tr><tr><td><a href="https://www.runoob.com/java/java-string-matches.html">boolean matches(String regex)</a> å‘ŠçŸ¥æ­¤å­—ç¬¦ä¸²æ˜¯å¦åŒ¹é…ç»™å®šçš„æ­£åˆ™è¡¨è¾¾å¼ã€‚</td></tr><tr><td><a href="https://www.runoob.com/java/java-string-replace.html">String replace(char oldChar, char newChar)</a> è¿”å›ä¸€ä¸ªæ–°çš„å­—ç¬¦ä¸²ï¼Œå®ƒæ˜¯é€šè¿‡ç”¨ newChar æ›¿æ¢æ­¤å­—ç¬¦ä¸²ä¸­å‡ºç°çš„æ‰€æœ‰ oldChar å¾—åˆ°çš„ã€‚</td></tr><tr><td><a href="https://www.runoob.com/java/java-string-replaceall.html">String replaceAll(String regex, String replacement)</a> ä½¿ç”¨ç»™å®šçš„ replacement æ›¿æ¢æ­¤å­—ç¬¦ä¸²æ‰€æœ‰åŒ¹é…ç»™å®šçš„æ­£åˆ™è¡¨è¾¾å¼çš„å­å­—ç¬¦ä¸²ã€‚</td></tr><tr><td><a href="https://www.runoob.com/java/java-string-replacefirst.html">String replaceFirst(String regex, String replacement)</a>  ä½¿ç”¨ç»™å®šçš„ replacement æ›¿æ¢æ­¤å­—ç¬¦ä¸²åŒ¹é…ç»™å®šçš„æ­£åˆ™è¡¨è¾¾å¼çš„ç¬¬ä¸€ä¸ªå­å­—ç¬¦ä¸²ã€‚</td></tr><tr><td>[String<a href="https://www.runoob.com/java/java-string-split.html">] split(String regex)</a> æ ¹æ®ç»™å®šæ­£åˆ™è¡¨è¾¾å¼çš„åŒ¹é…æ‹†åˆ†æ­¤å­—ç¬¦ä¸²ã€‚</td></tr><tr><td>[String<a href="https://www.runoob.com/java/java-string-split.html">] split(String regex, int limit)</a> æ ¹æ®åŒ¹é…ç»™å®šçš„æ­£åˆ™è¡¨è¾¾å¼æ¥æ‹†åˆ†æ­¤å­—ç¬¦ä¸²ã€‚</td></tr><tr><td><a href="https://www.runoob.com/java/java-string-startswith.html">boolean startsWith(String prefix)</a> æµ‹è¯•æ­¤å­—ç¬¦ä¸²æ˜¯å¦ä»¥æŒ‡å®šçš„å‰ç¼€å¼€å§‹ã€‚</td></tr><tr><td><a href="https://www.runoob.com/java/java-string-substring.html">String substring(int beginIndex)</a> è¿”å›ä¸€ä¸ªæ–°çš„å­—ç¬¦ä¸²ï¼Œå®ƒæ˜¯æ­¤å­—ç¬¦ä¸²çš„ä¸€ä¸ªå­å­—ç¬¦ä¸²ã€‚</td></tr><tr><td><a href="https://www.runoob.com/java/java-string-substring.html">String substring(int beginIndex, int endIndex)</a> è¿”å›ä¸€ä¸ªæ–°å­—ç¬¦ä¸²ï¼Œå®ƒæ˜¯æ­¤å­—ç¬¦ä¸²çš„ä¸€ä¸ªå­å­—ç¬¦ä¸²ã€‚</td></tr><tr><td>[char<a href="https://www.runoob.com/java/java-string-tochararray.html">] toCharArray()</a> å°†æ­¤å­—ç¬¦ä¸²è½¬æ¢ä¸ºä¸€ä¸ªæ–°çš„å­—ç¬¦æ•°ç»„ã€‚</td></tr><tr><td><a href="https://www.runoob.com/java/java-string-tolowercase.html">String toLowerCase()</a> ä½¿ç”¨é»˜è®¤è¯­è¨€ç¯å¢ƒçš„è§„åˆ™å°†æ­¤ String ä¸­çš„æ‰€æœ‰å­—ç¬¦éƒ½è½¬æ¢ä¸ºå°å†™ã€‚</td></tr><tr><td><a href="https://www.runoob.com/java/java-string-tolowercase.html">String toLowerCase(Locale locale)</a>  ä½¿ç”¨ç»™å®š Locale çš„è§„åˆ™å°†æ­¤ String ä¸­çš„æ‰€æœ‰å­—ç¬¦éƒ½è½¬æ¢ä¸ºå°å†™ã€‚</td></tr><tr><td><a href="https://www.runoob.com/java/java-string-touppercase.html">String toUpperCase()</a> ä½¿ç”¨é»˜è®¤è¯­è¨€ç¯å¢ƒçš„è§„åˆ™å°†æ­¤ String ä¸­çš„æ‰€æœ‰å­—ç¬¦éƒ½è½¬æ¢ä¸ºå¤§å†™ã€‚</td></tr><tr><td><a href="https://www.runoob.com/java/java-string-touppercase.html">String toUpperCase(Locale locale)</a> ä½¿ç”¨ç»™å®š Locale çš„è§„åˆ™å°†æ­¤ String ä¸­çš„æ‰€æœ‰å­—ç¬¦éƒ½è½¬æ¢ä¸ºå¤§å†™ã€‚</td></tr><tr><td><a href="https://www.runoob.com/java/java-string-contains.html">contains(CharSequence chars)</a> åˆ¤æ–­æ˜¯å¦åŒ…å«æŒ‡å®šçš„å­—ç¬¦ç³»åˆ—ã€‚</td></tr><tr><td><a href="https://www.runoob.com/java/java-string-isempty.html">isEmpty()</a> åˆ¤æ–­å­—ç¬¦ä¸²æ˜¯å¦ä¸ºç©ºã€‚</td></tr></tbody></table><h4 id="StringBuffer"><a href="#StringBuffer" class="headerlink" title="StringBuffer"></a>StringBuffer</h4><blockquote><p>å…³äº</p></blockquote><p>åœ¨ä½¿ç”¨ StringBuffer ç±»æ—¶ï¼Œæ¯æ¬¡éƒ½ä¼šå¯¹ StringBuffer å¯¹è±¡æœ¬èº«è¿›è¡Œæ“ä½œï¼Œè€Œä¸æ˜¯ç”Ÿæˆæ–°çš„å¯¹è±¡ï¼Œæ‰€ä»¥å¦‚æœéœ€è¦å¯¹å­—ç¬¦ä¸²è¿›è¡Œä¿®æ”¹æ¨èä½¿ç”¨ StringBufferã€‚</p><p>StringBuilder ç±»åœ¨ Java 5 ä¸­è¢«æå‡ºï¼Œå®ƒå’Œ StringBuffer ä¹‹é—´çš„æœ€å¤§ä¸åŒåœ¨äº StringBuilder çš„æ–¹æ³•ä¸æ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼ˆä¸èƒ½åŒæ­¥è®¿é—®ï¼‰ã€‚</p><p>ç”±äº StringBuilder ç›¸è¾ƒäº StringBuffer æœ‰é€Ÿåº¦ä¼˜åŠ¿ï¼Œæ‰€ä»¥å¤šæ•°æƒ…å†µä¸‹å»ºè®®ä½¿ç”¨ StringBuilder ç±»ã€‚</p><blockquote><p>å¸¸ç”¨æ–¹æ³•</p></blockquote><table><thead><tr><th align="left">åºå·</th><th align="left">æ–¹æ³•æè¿°</th></tr></thead><tbody><tr><td align="left">1</td><td align="left">public StringBuffer append(String s) å°†æŒ‡å®šçš„å­—ç¬¦ä¸²è¿½åŠ åˆ°æ­¤å­—ç¬¦åºåˆ—ã€‚</td></tr><tr><td align="left">2</td><td align="left">public StringBuffer reverse()  å°†æ­¤å­—ç¬¦åºåˆ—ç”¨å…¶åè½¬å½¢å¼å–ä»£ã€‚</td></tr><tr><td align="left">3</td><td align="left">public delete(int start, int end) ç§»é™¤æ­¤åºåˆ—çš„å­å­—ç¬¦ä¸²ä¸­çš„å­—ç¬¦ã€‚</td></tr><tr><td align="left">4</td><td align="left">public insert(int offset, int i) å°† <code>int</code> å‚æ•°çš„å­—ç¬¦ä¸²è¡¨ç¤ºå½¢å¼æ’å…¥æ­¤åºåˆ—ä¸­ã€‚</td></tr><tr><td align="left">5</td><td align="left">insert(int offset, String str) å°† <code>str</code> å‚æ•°çš„å­—ç¬¦ä¸²æ’å…¥æ­¤åºåˆ—ä¸­ã€‚</td></tr><tr><td align="left">6</td><td align="left">replace(int start, int end, String str) ä½¿ç”¨ç»™å®š <code>String</code> ä¸­çš„å­—ç¬¦æ›¿æ¢æ­¤åºåˆ—çš„å­å­—ç¬¦ä¸²ä¸­çš„å­—ç¬¦ã€‚</td></tr></tbody></table><p><span class="github-emoji"><span>ğŸ’¦</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f4a6.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span>Stringä¸­çš„æ–¹æ³•StringBufferä¹ŸåŸºæœ¬æœ‰</p><h4 id="StringBuilder"><a href="#StringBuilder" class="headerlink" title="StringBuilder"></a>StringBuilder</h4><blockquote><p>æè¿°</p></blockquote><p>ä¸€ä¸ªå¯å˜çš„å­—ç¬¦åºåˆ—ã€‚ æ­¤ç±»æä¾›ä¸<code>StringBuffer</code>å…¼å®¹çš„APIï¼Œä½†ä¸ä¿è¯åŒæ­¥ã€‚ æ­¤ç±»è®¾è®¡ç”¨ä½œ<code>StringBuffer</code>æ›¿ä»£å“ï¼Œç”¨äºå•ä¸ªçº¿ç¨‹ä½¿ç”¨å­—ç¬¦ä¸²ç¼“å†²åŒºçš„ä½ç½®ï¼ˆé€šå¸¸æƒ…å†µä¸‹ï¼‰ã€‚ åœ¨å¯èƒ½çš„æƒ…å†µä¸‹ï¼Œå»ºè®®ä½¿ç”¨æ­¤ç±»ä¼˜å…ˆäº<code>StringBuffer</code>å› ä¸ºåœ¨å¤§å¤šæ•°å®ç°ä¸­å®ƒä¼šæ›´å¿«ã€‚<code>StringBuilder</code>å®ä¾‹ä¸é€‚åˆå¤šçº¿ç¨‹ä½¿ç”¨ã€‚ å¦‚æœéœ€è¦è¿™æ ·çš„åŒæ­¥ï¼Œåˆ™å»ºè®®ä½¿ç”¨<a href="https://www.runoob.com/manual/jdk11api/java.base/java/lang/StringBuffer.html"><code>StringBuffer</code></a> ã€‚</p><h3 id="å…³äºstatic"><a href="#å…³äºstatic" class="headerlink" title="å…³äºstatic"></a>å…³äºstatic</h3><blockquote><p>åŸºæœ¬è§£é‡Š</p></blockquote><p>åœ¨ã€ŠJavaç¼–ç¨‹æ€æƒ³ã€‹P86é¡µæœ‰è¿™æ ·ä¸€æ®µè¯ï¼š</p><p>ã€€ã€€â€œstaticæ–¹æ³•å°±æ˜¯æ²¡æœ‰thisçš„æ–¹æ³•ã€‚åœ¨staticæ–¹æ³•å†…éƒ¨ä¸èƒ½è°ƒç”¨éé™æ€æ–¹æ³•ï¼Œåè¿‡æ¥æ˜¯å¯ä»¥çš„ã€‚è€Œä¸”å¯ä»¥åœ¨æ²¡æœ‰åˆ›å»ºä»»ä½•å¯¹è±¡çš„å‰æä¸‹ï¼Œä»…ä»…é€šè¿‡ç±»æœ¬èº«æ¥è°ƒç”¨staticæ–¹æ³•ã€‚è¿™å®é™…ä¸Šæ­£æ˜¯staticæ–¹æ³•çš„ä¸»è¦ç”¨é€”ã€‚â€</p><blockquote><p>ä½¿ç”¨</p></blockquote><p><span class="github-emoji"><span>1âƒ£</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/0031-20e3.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span>ä¿®é¥°æ–¹æ³•</p><p>staticæ–¹æ³•ä¸€èˆ¬ç§°ä½œé™æ€æ–¹æ³•ï¼Œç”±äºé™æ€æ–¹æ³•ä¸ä¾èµ–äºä»»ä½•å¯¹è±¡å°±å¯ä»¥è¿›è¡Œè®¿é—®ï¼Œå› æ­¤å¯¹äºé™æ€æ–¹æ³•æ¥è¯´ï¼Œæ˜¯æ²¡æœ‰thisçš„ï¼Œå› ä¸ºå®ƒä¸ä¾é™„äºä»»ä½•å¯¹è±¡ï¼Œæ—¢ç„¶éƒ½æ²¡æœ‰å¯¹è±¡ï¼Œå°±è°ˆä¸ä¸Šthisäº†ã€‚å¹¶ä¸”ç”±äºè¿™ä¸ªç‰¹æ€§ï¼Œåœ¨é™æ€æ–¹æ³•ä¸­ä¸èƒ½è®¿é—®ç±»çš„éé™æ€æˆå‘˜å˜é‡å’Œéé™æ€æˆå‘˜æ–¹æ³•ï¼Œå› ä¸ºéé™æ€æˆå‘˜æ–¹æ³•/å˜é‡éƒ½æ˜¯å¿…é¡»ä¾èµ–å…·ä½“çš„å¯¹è±¡æ‰èƒ½å¤Ÿè¢«è°ƒç”¨ã€‚</p><h3 id="å…³äºfinal"><a href="#å…³äºfinal" class="headerlink" title="å…³äºfinal"></a>å…³äºfinal</h3><blockquote><p>åŸºæœ¬è§£é‡Š</p></blockquote><p>final è¡¨ç¤ºâ€æœ€åçš„ã€æœ€ç»ˆçš„â€å«ä¹‰ï¼Œå˜é‡ä¸€æ—¦èµ‹å€¼åï¼Œä¸èƒ½è¢«é‡æ–°èµ‹å€¼ã€‚è¢« final ä¿®é¥°çš„å®ä¾‹å˜é‡å¿…é¡»æ˜¾å¼æŒ‡å®šåˆå§‹å€¼ã€‚</p><p>final ä¿®é¥°ç¬¦é€šå¸¸å’Œ static ä¿®é¥°ç¬¦ä¸€èµ·ä½¿ç”¨æ¥åˆ›å»ºç±»å¸¸é‡ã€‚</p><blockquote><p>ä½¿ç”¨</p></blockquote><p><span class="github-emoji"><span>ğŸ’¡</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f4a1.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span> finalå…³é”®å­—å¯ä»¥ç”¨æ¥ä¿®é¥°å¼•ç”¨ã€æ–¹æ³•å’Œç±»ã€‚ä¿®é¥°çš„ç±»ä¸å¯è¢«ç»§æ‰¿ï¼Œä¿®é¥°æ–¹æ³•ä¸å¯è¢«é‡å†™ã€‚</p><p>ç”¨finalä¿®é¥°å˜é‡é€šå¸¸åˆ†ä¸ºä¸¤ç§æƒ…å†µï¼Œä¿®é¥°æ™®é€šåŸºæœ¬ç±»å˜é‡å’Œä¿®é¥°å¼•ç”¨ç±»å‹å˜é‡ï¼Œä¹Ÿå°±æ˜¯å¯¹è±¡ç±»å‹å˜é‡ã€‚</p><p><span class="github-emoji"><span>1âƒ£</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/0031-20e3.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span>ä¿®é¥°åŸºæœ¬å˜é‡</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span></span>{</span><br><span class="line">  <span class="keyword">final</span> <span class="keyword">int</span> value = <span class="number">10</span>;</span><br><span class="line">  <span class="comment">// ä¸‹é¢æ˜¯å£°æ˜å¸¸é‡çš„å®ä¾‹</span></span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> BOXWIDTH = <span class="number">6</span>;</span><br><span class="line">  <span class="keyword">static</span> <span class="keyword">final</span> String TITLE = <span class="string">"Manager"</span>;</span><br><span class="line"> </span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">changeValue</span><span class="params">()</span></span>{</span><br><span class="line">     value = <span class="number">12</span>; <span class="comment">//å°†è¾“å‡ºä¸€ä¸ªé”™è¯¯</span></span><br><span class="line">  }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p><span class="github-emoji"><span>2âƒ£</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/0032-20e3.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span>ä¿®é¥°å¼•ç”¨å˜é‡</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">final</span> StringBuilder sb = <span class="keyword">new</span> StringBuilder(<span class="string">"Java"</span>);</span><br><span class="line">sb.append(<span class="string">"Script"</span>);</span><br><span class="line">System.out.println(sb);  <span class="comment">//resultJavaScript</span></span><br></pre></td></tr></tbody></table></figure><p>finalä¿®é¥°å¼•ç”¨è¡¨æ˜æœ¬èº«ä¸å¯è¢«ä¿®æ”¹ï¼Œä½†æ— æ³•é˜»æ­¢å¼•ç”¨æŒ‡å‘çš„å¯¹è±¡æœ¬èº«è¢«ä¿®æ”¹</p><p><span class="github-emoji"><span>3âƒ£</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/0033-20e3.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span>åˆ›å»ºå¸¸é‡</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> CONST_ONE = <span class="number">1</span>;</span><br></pre></td></tr></tbody></table></figure><h3 id="å…³äºæŠ½è±¡ç±»"><a href="#å…³äºæŠ½è±¡ç±»" class="headerlink" title="å…³äºæŠ½è±¡ç±»"></a>å…³äºæŠ½è±¡ç±»</h3><h3 id="å…³äºæ¥å£"><a href="#å…³äºæ¥å£" class="headerlink" title="å…³äºæ¥å£"></a>å…³äºæ¥å£</h3><blockquote><p>æ¦‚è¿°</p></blockquote><p>æ¥å£é‡Œçš„å˜é‡éƒ½éšå¼å£°æ˜ä¸º <strong>public static final</strong>,è€Œæ¥å£é‡Œçš„æ–¹æ³•é»˜è®¤æƒ…å†µä¸‹è®¿é—®æƒé™ä¸º <strong>public</strong>ã€‚</p><h3 id="å†…éƒ¨ç±»"><a href="#å†…éƒ¨ç±»" class="headerlink" title="å†…éƒ¨ç±»"></a>å†…éƒ¨ç±»</h3><h3 id="é›†åˆ"><a href="#é›†åˆ" class="headerlink" title="é›†åˆ"></a>é›†åˆ</h3><blockquote><p>é›†åˆæ¡†æ¶ä½“ç³»</p></blockquote><p><img src="https://gitee.com/rain-sky/images/raw/master/20210810160733.gif"></p><h3 id="å¤šçº¿ç¨‹"><a href="#å¤šçº¿ç¨‹" class="headerlink" title="å¤šçº¿ç¨‹"></a>å¤šçº¿ç¨‹</h3><h3 id="æ³¨è§£ä¸åå°„"><a href="#æ³¨è§£ä¸åå°„" class="headerlink" title="æ³¨è§£ä¸åå°„"></a>æ³¨è§£ä¸åå°„</h3><h2 id="é”™é¢˜ç§¯ç´¯"><a href="#é”™é¢˜ç§¯ç´¯" class="headerlink" title="é”™é¢˜ç§¯ç´¯"></a>é”™é¢˜ç§¯ç´¯</h2><blockquote><p>1</p></blockquote><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Tester</span></span>{</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span>{</span><br><span class="line">   Integer var1=<span class="keyword">new</span> Integer(<span class="number">1</span>);</span><br><span class="line">   Integer var2=var1;</span><br><span class="line">   doSomething(var2);</span><br><span class="line">   System.out.print(var1.intValue());</span><br><span class="line">   System.out.print(var1==var2);</span><br><span class="line">}</span><br><span class="line"><span class="comment">//ä¼ é€’çš„integeråªæ˜¯åŸvar2çš„ä¸€ä¸ªå‰¯æœ¬ï¼Œç”Ÿå‘½å‘¨æœŸä»…é™äºæ­¤æ–¹æ³•</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">doSomething</span><span class="params">(Integer integer)</span></span>{</span><br><span class="line">    integer=<span class="keyword">new</span> Integer(<span class="number">2</span>);</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>è¿è¡Œç»“æœï¼š1true</p><p>è§£é‡Šï¼š</p><p>åªæœ‰å¯¹å¼•ç”¨å¯¹è±¡çš„å†…éƒ¨åšäº†ä¿®æ”¹ï¼Œæ‰ä¼šå½±å“åŸå¯¹è±¡ï¼Œå¦‚æœç›´æ¥å°†å¼•ç”¨ä¿®æ”¹äº†ï¼Œåˆ™å¯¹åŸå¯¹è±¡æ²¡æœ‰å½±å“ï¼Œå”¯ä¸€çš„å½±å“å°±æ˜¯ï¼šè¿™ä¸ªè¢«ä¿®æ”¹çš„å¼•ç”¨ï¼Œç°åœ¨ä¸æ˜¯åŸæ¥å¯¹è±¡çš„å¼•ç”¨ï¼Œè€Œæ˜¯æ–°å¯¹è±¡çš„å¼•ç”¨ã€‚</p><p>å¼•ç”¨ä¼ é€’æŒ‡çš„æ˜¯ä¼ é€’çš„æ—¶å€™ï¼Œä¼ é€’çš„æ˜¯å¯¹è±¡çš„å¼•ç”¨ã€‚å¦‚æœå¯¹å¼•ç”¨çš„å†…éƒ¨æˆå‘˜è¿›è¡Œæ“ä½œï¼Œåˆ™ä¼šç›´æ¥å½±å“åˆ°åŸå¯¹è±¡ï¼Œä½†æ˜¯å¦‚æœç›´æ¥æŠŠæ­¤å¼•ç”¨æŒ‡å‘äº†å…¶ä»–å¯¹è±¡ï¼Œé‚£å¯¹ä¸èµ·ï¼Œè¿™ä¸ªå¼•ç”¨ä»æ­¤ä»¥åï¼Œä¾¿ä¸ä¹‹å‰çš„å¯¹è±¡æ²¡æœ‰ä»»ä½•å…³ç³»ï¼Œå½“å‰ä»£è¡¨çš„ä»…ä»…æ˜¯æ–°æŒ‡å‘çš„å¯¹è±¡ã€‚</p><p><span class="github-emoji"><span>âš </span><img src="https://github.githubassets.com/images/icons/emoji/unicode/26a0.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span>å…¶å®Javaé‡Œå¹¶æ— ä»€ä¹ˆå¼•ç”¨ä¼ é€’ï¼Œå½’æ ¹ç»“åº•éƒ½æ˜¯å€¼ä¼ é€’</p><blockquote><p>2</p></blockquote><p>1.sleepä¼šä½¿å½“å‰çº¿ç¨‹ç¡çœ æŒ‡å®šæ—¶é—´ï¼Œä¸é‡Šæ”¾é”</p><p>2.yieldä¼šä½¿å½“å‰çº¿ç¨‹é‡å›åˆ°å¯æ‰§è¡ŒçŠ¶æ€ï¼Œç­‰å¾…cpuçš„è°ƒåº¦ï¼Œä¸é‡Šæ”¾é”</p><p>3.waitä¼šä½¿å½“å‰çº¿ç¨‹å›åˆ°çº¿ç¨‹æ± ä¸­ç­‰å¾…ï¼Œé‡Šæ”¾é”ï¼Œå½“è¢«å…¶ä»–çº¿ç¨‹ä½¿ç”¨notifyï¼ŒnotifyAllå”¤é†’æ—¶è¿›å…¥å¯æ‰§è¡ŒçŠ¶æ€</p><p>4.å½“å‰çº¿ç¨‹è°ƒç”¨ æŸçº¿ç¨‹.joinï¼ˆï¼‰æ—¶ä¼šä½¿å½“å‰çº¿ç¨‹ç­‰å¾…æŸçº¿ç¨‹æ‰§è¡Œå®Œæ¯•å†ç»“æŸï¼Œåº•å±‚è°ƒç”¨äº†waitï¼Œé‡Šæ”¾é”</p><blockquote><p>3</p></blockquote><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">returnTest</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="keyword">try</span></span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">catch</span> (Exception e)</span><br><span class="line">    {</span><br><span class="line"></span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">finally</span></span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>è¾“å‡ºï¼šfalse</p><p>è§£é‡Šï¼štryå¤„returnå‰ä¼šå…ˆæ‰§è¡Œfinallyï¼Œæ•…ç›´æ¥è¿”å›false</p><blockquote><p>4</p></blockquote><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Demo</span> </span>{</span><br><span class="line"> <span class="keyword">public</span> <span class="keyword">static</span> String sRet = <span class="string">""</span>;</span><br><span class="line"> <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">func</span><span class="params">(<span class="keyword">int</span> i)</span></span></span><br><span class="line"><span class="function"> </span>{</span><br><span class="line"> <span class="keyword">try</span></span><br><span class="line"> {</span><br><span class="line"> <span class="keyword">if</span> (i%<span class="number">2</span>==<span class="number">0</span>)</span><br><span class="line"> {</span><br><span class="line"> <span class="keyword">throw</span> <span class="keyword">new</span> Exception();</span><br><span class="line"> }</span><br><span class="line"> }</span><br><span class="line"> <span class="keyword">catch</span> (Exception e)</span><br><span class="line"> {</span><br><span class="line"> sRet += <span class="string">"0"</span>;</span><br><span class="line"> <span class="keyword">return</span>;</span><br><span class="line"> } </span><br><span class="line"> <span class="keyword">finally</span></span><br><span class="line"> {</span><br><span class="line"> sRet += <span class="string">"1"</span>;</span><br><span class="line"> }</span><br><span class="line"> sRet += <span class="string">"2"</span>;</span><br><span class="line"> }</span><br><span class="line"> <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span></span><br><span class="line"><span class="function"> </span>{</span><br><span class="line"> func(<span class="number">1</span>);</span><br><span class="line"> func(<span class="number">2</span>);</span><br><span class="line"> System.out.println(sRet);</span><br><span class="line"> }</span><br><span class="line"> }</span><br></pre></td></tr></tbody></table></figure><p>è¾“å‡ºï¼š1201</p><p>è§£é‡Šï¼šç¬¬ä¸€æ­¥ï¼Œfunc(1)ï¼Œifæ¡ä»¶ä¸æˆç«‹ï¼Œä¸æŠ›å‡ºå¼‚å¸¸ï¼Œcatchä¸è¿è¡Œï¼Œfinalè¿è¡Œï¼Œæ‹¼ä¸²å¾—åˆ°â€œ1â€ï¼Œç¨‹åºç»§ç»­å¾€ä¸‹èµ°ï¼Œæ‹¼ä¸²å¾—åˆ°â€œ12â€ã€‚ ç¬¬äºŒæ­¥ï¼Œfun(2)ï¼Œifæ¡ä»¶æˆç«‹ï¼ŒæŠ›å‡ºå¼‚å¸¸ï¼Œcatchæ•è·å¼‚å¸¸ï¼Œè¿è¡Œcatché‡Œé¢ä»£ç ï¼Œæ‹¼ä¸²å¾—åˆ°â€œ120â€ï¼Œè™½ç„¶æœ‰returnï¼Œä½†æ˜¯ä¸ç®¡å‡ºä¸å‡ºå¼‚å¸¸ï¼Œfinalé‡Œä»£ç å¿…é¡»æ‰§è¡Œï¼Œæ‰§è¡Œfinalï¼Œæ‹¼ä¸²å¾—åˆ°â€œ1201â€ï¼Œç„¶åreturnç»“æŸã€‚æ‰€ä»¥æœ€ç»ˆç»“æœâ€œ1201â€ã€‚</p><blockquote><p>5</p></blockquote><p>Servletçš„ç”Ÿå‘½å‘¨æœŸ</p><p>1.åŠ è½½ï¼šå®¹å™¨é€šè¿‡ç±»åŠ è½½å™¨ä½¿ç”¨Servletç±»å¯¹åº”çš„æ–‡ä»¶æ¥åŠ è½½Servlet</p><p>2.åˆ›å»ºï¼šé€šè¿‡<strong>è°ƒç”¨Servletçš„æ„é€ å‡½æ•°æ¥åˆ›å»ºä¸€ä¸ªServletå®ä¾‹</strong></p><p>3.åˆå§‹åŒ–ï¼šé€šè¿‡è°ƒç”¨Servletçš„init()æ–¹æ³•æ¥å®Œæˆåˆå§‹åŒ–å·¥ä½œï¼Œ<strong>è¿™ä¸ªæ–¹æ³•æ˜¯åœ¨Servletå·²ç»è¢«åˆ›å»ºï¼Œä½†åœ¨å‘å®¢æˆ·ç«¯æä¾›æœåŠ¡ä¹‹å‰è°ƒç”¨ã€‚</strong></p><p>4.å¤„ç†å®¢æˆ·è¯·æ±‚ï¼šServletåˆ›å»ºåå°±å¯ä»¥å¤„ç†è¯·æ±‚ï¼Œå½“æœ‰æ–°çš„å®¢æˆ·ç«¯è¯·æ±‚æ—¶ï¼ŒWebå®¹å™¨éƒ½ä¼š<strong>åˆ›å»ºä¸€ä¸ªæ–°çš„çº¿ç¨‹</strong>æ¥å¤„ç†è¯¥è¯·æ±‚ã€‚æ¥ç€è°ƒç”¨Servletçš„</p><p>Service()æ–¹æ³•æ¥å“åº”å®¢æˆ·ç«¯è¯·æ±‚ï¼ˆServiceæ–¹***æ ¹æ®è¯·æ±‚çš„methodå±æ€§æ¥è°ƒç”¨doGetï¼ˆï¼‰å’ŒdoPostï¼ˆï¼‰ï¼‰</p><p>5.å¸è½½ï¼š<strong>å®¹å™¨åœ¨å¸è½½Servletä¹‹å‰</strong>éœ€è¦è°ƒç”¨destroy()æ–¹æ³•ï¼Œè®©Servleté‡Šæ”¾å…¶å ç”¨çš„èµ„æºã€‚</p><blockquote><p>6</p></blockquote><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">byte</span> b1=<span class="number">1</span>,b2=<span class="number">2</span>,b3,b6,b8;</span><br><span class="line"><span class="keyword">final</span> <span class="keyword">byte</span> b4=<span class="number">4</span>,b5=<span class="number">6</span>,b7;</span><br><span class="line">b3=(b1+b2);  <span class="comment">/*è¯­å¥1*/</span></span><br><span class="line">b6=b4+b5;    <span class="comment">/*è¯­å¥2*/</span></span><br><span class="line">b8=(b1+b4);  <span class="comment">/*è¯­å¥3*/</span></span><br><span class="line">b7=(b2+b5);  <span class="comment">/*è¯­å¥4*/</span></span><br><span class="line">System.out.println(b3+b6);</span><br></pre></td></tr></tbody></table></figure><p>ç»“æœï¼šè¯­å¥1ï¼Œ3ï¼Œ4é”™è¯¯</p><p>è§£é‡Šï¼šä¸€ã€å…³äºfinalçš„é‡è¦çŸ¥è¯†ç‚¹;</p><p>1ã€finalå…³é”®å­—å¯ä»¥ç”¨äºæˆå‘˜å˜é‡ã€æœ¬åœ°å˜é‡ã€æ–¹æ³•ä»¥åŠç±»ã€‚</p><p>2ã€ finalæˆå‘˜å˜é‡å¿…é¡»åœ¨å£°æ˜çš„æ—¶å€™åˆå§‹åŒ–æˆ–è€…åœ¨æ„é€ å™¨ä¸­åˆå§‹åŒ–ï¼Œå¦åˆ™å°±ä¼šæŠ¥ç¼–è¯‘é”™è¯¯ã€‚</p><p>3ã€ ä½ ä¸èƒ½å¤Ÿå¯¹finalå˜é‡å†æ¬¡èµ‹å€¼ã€‚</p><p>4ã€ æœ¬åœ°å˜é‡å¿…é¡»åœ¨å£°æ˜æ—¶èµ‹å€¼ã€‚</p><p>5ã€ åœ¨åŒ¿åç±»ä¸­æ‰€æœ‰å˜é‡éƒ½å¿…é¡»æ˜¯finalå˜é‡ã€‚</p><p>6ã€ finalæ–¹æ³•ä¸èƒ½è¢«é‡å†™ã€‚</p><p>7ã€ finalç±»ä¸èƒ½è¢«ç»§æ‰¿ã€‚</p><p>8ã€ æ²¡æœ‰åœ¨å£°æ˜æ—¶åˆå§‹åŒ–finalå˜é‡çš„ç§°ä¸ºç©ºç™½finalå˜é‡(blank final variable)ï¼Œå®ƒä»¬å¿…é¡»åœ¨æ„é€ å™¨ä¸­åˆå§‹åŒ–ï¼Œæˆ–è€…è°ƒç”¨this()åˆå§‹åŒ–ã€‚ä¸è¿™ä¹ˆåšçš„è¯ï¼Œç¼–è¯‘å™¨ä¼šæŠ¥é”™â€œfinalå˜é‡(å˜é‡å)éœ€è¦è¿›è¡Œåˆå§‹åŒ–â€ã€‚</p><p>äºŒã€æ•°æ®ç±»å‹è½¬æ¢</p><p>å½“ä½¿ç”¨ +ã€-ã€*ã€/ã€%ã€è¿ç®—æ“ä½œæ˜¯ï¼Œéµå¾ªå¦‚ä¸‹è§„åˆ™ï¼š</p><p>åªè¦ä¸¤ä¸ªæ“ä½œæ•°ä¸­æœ‰ä¸€ä¸ªæ˜¯doubleç±»å‹çš„ï¼Œå¦ä¸€ä¸ªå°†ä¼šè¢«è½¬æ¢æˆdoubleç±»å‹ï¼Œå¹¶ä¸”ç»“æœä¹Ÿæ˜¯doubleç±»å‹ï¼Œå¦‚æœä¸¤ä¸ªæ“ä½œæ•°ä¸­æœ‰ä¸€ä¸ªæ˜¯floatç±»å‹çš„ï¼Œå¦ä¸€ä¸ªå°†ä¼šè¢«è½¬æ¢ä¸ºfloatç±»å‹ï¼Œå¹¶ä¸”ç»“æœä¹Ÿæ˜¯floatç±»å‹ï¼Œå¦‚æœä¸¤ä¸ªæ“ä½œæ•°ä¸­æœ‰ä¸€ä¸ªæ˜¯longç±»å‹çš„ï¼Œå¦ä¸€ä¸ªå°†ä¼šè¢«è½¬æ¢æˆlongç±»å‹ï¼Œå¹¶ä¸”ç»“æœä¹Ÿæ˜¯longç±»å‹ï¼Œå¦åˆ™ï¼ˆæ“ä½œæ•°ä¸ºï¼šbyteã€shortã€int ã€charï¼‰ï¼Œä¸¤ä¸ªæ•°éƒ½ä¼šè¢«è½¬æ¢æˆintç±»å‹ï¼Œå¹¶ä¸”ç»“æœä¹Ÿæ˜¯intç±»å‹ã€‚</p><p>è¯­å¥ 1  :ï¼ˆb1 + b2ï¼‰ è¢«è½¬æ¢ä¸ºintç±»å‹ ä½†æ˜¯ b3ä»ä¸º byte ï¼Œæ‰€ä»¥å‡ºé”™ è¦ä¹ˆå°†b3è½¬åŒ–ä¸ºint è¦ä¹ˆå°†ï¼ˆb1 + b2ï¼‰ å¼ºåˆ¶è½¬æ¢ä¸ºbyteç±»å‹ã€‚æ‰€ä»¥è¯­å¥1é”™è¯¯ã€‚</p><p>è¯­å¥ 2ï¼šb4 ã€b5è¢«å£°æ˜final æ‰€ä»¥ç±»å‹æ˜¯ä¸ä¼šè½¬æ¢ï¼Œ è®¡ç®—ç»“æœä»»ç„¶æ˜¯byte  ï¼Œæ‰€ä»¥ è¯­å¥2æ­£ç¡®ã€‚</p><p>è¯­å¥ 3ï¼š(b1 + b4)  ç»“æœä»ç„¶è½¬æ¢æˆint  æ‰€ä»¥è¯­å¥ 3 é”™è¯¯ã€‚</p><p>è¯­å¥ 4 : (b2 + b5)  ç»“æœä»ç„¶è½¬æ¢ä¸ºint ï¼Œ æ‰€ä»¥è¯­å¥4é”™è¯¯ã€‚</p>]]></content>
      
      
      
        <tags>
            
            <tag> Java </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æµ…æ==,equals,hashcode</title>
      <link href="2021/04/27/%E6%B5%85%E6%9E%90-equals-hashcode/"/>
      <url>2021/04/27/%E6%B5%85%E6%9E%90-equals-hashcode/</url>
      
        <content type="html"><![CDATA[<h1 id="æµ…æ-equals-hashcode"><a href="#æµ…æ-equals-hashcode" class="headerlink" title="æµ…æ==,equals,hashcode"></a>æµ…æ==,equals,hashcode</h1><h2 id="æƒ…æ™¯å›é¡¾"><a href="#æƒ…æ™¯å›é¡¾" class="headerlink" title="æƒ…æ™¯å›é¡¾"></a>æƒ…æ™¯å›é¡¾</h2><p>æœ‰ä¸€é—®æ›°ï¼šä¸¤ä¸ªobjï¼Œå¦‚æœequalsç›¸ç­‰ï¼ŒhashCode()ä¸€å®šç›¸ç­‰(ç¬¦åˆä»£ç è§„èŒƒçš„æƒ…å†µä¸‹)</p><p>é¦–å…ˆï¼š</p><ol><li>== æ¯”è¾ƒçš„æ˜¯ä¸¤ä¸ªå¯¹è±¡åœ¨javaè™šæ‹Ÿæœºä¸­çš„åœ°å€</li><li>equals é»˜è®¤æ¯”è¾ƒçš„ä¹Ÿæ˜¯ä¸¤ä¸ªå¯¹è±¡åœ¨javaè™šæ‹Ÿæœºä¸­çš„åœ°å€ï¼Œä½†æ˜¯æˆ‘ä»¬å¯ä»¥å¯¹ä¸€ä¸ªå¯¹è±¡çš„equalsæ–¹æ³•è¿›è¡Œé‡å†™ï¼Œè€Œâ€œ==â€æˆ‘ä»¬æ— æ³•é‡å†™</li><li>hashcode è¿”å›ä¸€ä¸ªå¯¹è±¡åœ¨javaè™šæ‹Ÿæœºä¸­çš„åœ°å€</li></ol><h2 id="JDK-8ä¸­Objectç±»ä¸­å¯¹äºequalsä¸hashcodeæ–¹æ³•çš„æè¿°"><a href="#JDK-8ä¸­Objectç±»ä¸­å¯¹äºequalsä¸hashcodeæ–¹æ³•çš„æè¿°" class="headerlink" title="JDK 8ä¸­Objectç±»ä¸­å¯¹äºequalsä¸hashcodeæ–¹æ³•çš„æè¿°"></a>JDK 8ä¸­Objectç±»ä¸­å¯¹äºequalsä¸hashcodeæ–¹æ³•çš„æè¿°</h2><blockquote><h4 id="equals"><a href="#equals" class="headerlink" title="equals"></a>equals</h4><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&gt;<span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">equals</span><span class="params">(Object obj)</span></span></span><br></pre></td></tr></tbody></table></figure><p>æŒ‡ç¤ºä¸€äº›å…¶ä»–å¯¹è±¡æ˜¯å¦ç­‰äºæ­¤ã€‚</p><p><code>equals</code>æ–¹æ³•åœ¨éç©ºå¯¹è±¡å¼•ç”¨ä¸Šå®ç°ç­‰ä»·å…³ç³»ï¼š </p><ul><li><em>è‡ªåæ€§</em> ï¼šå¯¹äºä»»ä½•éç©ºçš„å‚è€ƒå€¼<code>x</code> ï¼Œ  <code>x.equals(x)</code>åº”è¯¥è¿”å›<code>true</code> ã€‚ </li><li>å®ƒæ˜¯<em>å¯¹ç§°çš„</em> ï¼šå¯¹äºä»»ä½•éç©ºå¼•ç”¨å€¼<code>x</code>å’Œ<code>y</code> ï¼Œ  <code>x.equals(y)</code>åº”è¯¥è¿”å›<code>true</code>å½“ä¸”ä»…å½“<code>y.equals(x)</code>å›æŠ¥<code>true</code>  ã€‚ </li><li><em>ä¼ é€’æ€§</em> ï¼šå¯¹äºä»»ä½•éç©ºå¼•ç”¨å€¼<code>x</code> ï¼Œ <code>y</code>å’Œ<code>z</code>  ï¼Œå¦‚æœ<code>x.equals(y)</code>å›æŠ¥<code>true</code>ä¸ª<code>y.equals(z)</code>å›æŠ¥<code>true</code>  ï¼Œç„¶å<code>x.equals(z)</code>åº”è¯¥è¿”å›<code>true</code> ã€‚ </li><li>å®ƒæ˜¯<em>ä¸€è‡´çš„</em> ï¼šå¯¹äºä»»ä½•éç©ºå¼•ç”¨å€¼<code>x</code>å’Œ<code>y</code>  ï¼Œå¤šæ¬¡è°ƒç”¨<code>x.equals(y)</code>å§‹ç»ˆè¿”å›<code>true</code>æˆ–å§‹ç»ˆè¿”å›<code>false</code>  ï¼Œæ²¡æœ‰è®¾ç½®ä¸­ä½¿ç”¨çš„ä¿¡æ¯<code>equals</code>æ¯”è¾ƒä¸Šçš„å¯¹è±¡è¢«ä¿®æ”¹ã€‚ </li><li>å¯¹äºä»»ä½•éç©ºçš„å‚è€ƒå€¼<code>x</code> ï¼Œ  <code>x.equals(null)</code>åº”è¯¥è¿”å›<code>false</code> ã€‚ </li></ul><p>è¯¥<code>equals</code>ç±»æ–¹æ³•<code>Object</code>å®ç°å¯¹è±¡ä¸Šå·®åˆ«å¯èƒ½æ€§æœ€å¤§çš„ç›¸ç­‰å…³ç³»;  ä¹Ÿå°±æ˜¯è¯´ï¼Œå¯¹äºä»»ä½•éç©ºçš„å‚è€ƒå€¼<code>x</code>å’Œ<code>y</code>  ï¼Œå½“ä¸”ä»…å½“<code>x</code>å’Œ<code>y</code>å¼•ç”¨ç›¸åŒçš„å¯¹è±¡ï¼ˆ <code>x ==  y</code>å…·æœ‰å€¼<code>true</code> ï¼‰æ—¶ï¼Œè¯¥æ–¹æ³•è¿”å›<code>true</code> ã€‚ </p><p>è¯·æ³¨æ„ï¼Œæ— è®ºä½•æ—¶è¦†ç›–è¯¥æ–¹æ³•ï¼Œé€šå¸¸éœ€è¦è¦†ç›–<code>hashCode</code>æ–¹æ³•ï¼Œä»¥ä¾¿ç»´æŠ¤<code>hashCode</code>æ–¹æ³•çš„é€šç”¨åˆåŒï¼Œè¯¥æ–¹æ³•è§„å®šç›¸ç­‰çš„å¯¹è±¡å¿…é¡»å…·æœ‰ç›¸ç­‰çš„å“ˆå¸Œç ã€‚ </p><ul><li><p>å‚æ•° </p><p><code>obj</code> - ä¸ä¹‹æ¯”è¾ƒçš„å‚è€ƒå¯¹è±¡ã€‚ </p></li><li><p>ç»“æœ </p><p><code>true</code>å¦‚æœæ­¤å¯¹è±¡ä¸objå‚æ•°ç›¸åŒ;  <code>false</code>å¦åˆ™ã€‚ </p></li></ul></blockquote><blockquote><h4 id="hashCode"><a href="#hashCode" class="headerlink" title="hashCode"></a>hashCode</h4><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&gt;<span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">hashCode</span><span class="params">()</span></span></span><br></pre></td></tr></tbody></table></figure><p>è¿”å›å¯¹è±¡çš„å“ˆå¸Œç å€¼ã€‚æ”¯æŒè¿™ç§æ–¹æ³•æ˜¯ä¸ºäº†æ•£åˆ—è¡¨ï¼Œå¦‚<a href="../../java/util/HashMap.html"><code>HashMap</code></a>æä¾›çš„é‚£æ · ã€‚</p><p><code>hashCode</code>çš„æ€»åˆåŒæ˜¯ï¼š </p><ul><li>åªè¦åœ¨æ‰§è¡ŒJavaåº”ç”¨ç¨‹åºæ—¶å¤šæ¬¡åœ¨åŒä¸€ä¸ªå¯¹è±¡ä¸Šè°ƒç”¨è¯¥æ–¹æ³•ï¼Œ  <code>hashCode</code>æ–¹æ³•å¿…é¡»å§‹ç»ˆè¿”å›ç›¸åŒçš„æ•´æ•°ï¼Œå‰ææ˜¯ä¿®æ”¹äº†å¯¹è±¡ä¸­<code>equals</code>æ¯”è¾ƒä¸­çš„ä¿¡æ¯ã€‚  è¯¥æ•´æ•°ä¸éœ€è¦ä»ä¸€ä¸ªåº”ç”¨ç¨‹åºçš„æ‰§è¡Œåˆ°ç›¸åŒåº”ç”¨ç¨‹åºçš„å¦ä¸€ä¸ªæ‰§è¡Œä¿æŒä¸€è‡´ã€‚ </li><li>å¦‚æœæ ¹æ®<code>equals(Object)</code>æ–¹æ³•ä¸¤ä¸ªå¯¹è±¡ç›¸ç­‰ï¼Œåˆ™åœ¨ä¸¤ä¸ªå¯¹è±¡ä¸­çš„æ¯ä¸ªå¯¹è±¡ä¸Šè°ƒç”¨<code>hashCode</code>æ–¹æ³•å¿…é¡»äº§ç”Ÿç›¸åŒçš„æ•´æ•°ç»“æœã€‚ </li><li><em>ä¸</em>è¦æ±‚å¦‚æœä¸¤ä¸ªå¯¹è±¡æ ¹æ®equals(java.lang.Object)æ–¹æ³•ä¸ç›¸ç­‰ï¼Œé‚£ä¹ˆåœ¨ä¸¤ä¸ªå¯¹è±¡ä¸­çš„æ¯ä¸ªå¯¹è±¡ä¸Šè°ƒç”¨hashCodeæ–¹æ³•å¿…é¡»äº§ç”Ÿä¸åŒçš„æ•´æ•°ç»“æœã€‚  ä½†æ˜¯ï¼Œç¨‹åºå‘˜åº”è¯¥æ„è¯†åˆ°ï¼Œä¸ºä¸ç­‰å¯¹è±¡ç”Ÿæˆä¸åŒçš„æ•´æ•°ç»“æœå¯èƒ½ä¼šæé«˜å“ˆå¸Œè¡¨çš„æ€§èƒ½ã€‚ </li></ul><p>å°½å¯èƒ½å¤šçš„åˆç†å®ç”¨ï¼Œç”±ç±»åˆ«Objectå®šä¹‰çš„hashCodeæ–¹æ³•ç¡®å®ä¸ºä¸åŒå¯¹è±¡è¿”å›ä¸åŒçš„æ•´æ•°ã€‚  ï¼ˆè¿™é€šå¸¸é€šè¿‡å°†å¯¹è±¡çš„å†…éƒ¨åœ°å€è½¬æ¢ä¸ºæ•´æ•°æ¥å®ç°ï¼Œä½†Javaçš„ç¼–ç¨‹è¯­è¨€ä¸éœ€è¦æ­¤å®ç°æŠ€æœ¯ã€‚ï¼‰ </p><ul><li><p>ç»“æœ </p><p>è¯¥å¯¹è±¡çš„å“ˆå¸Œç å€¼ã€‚ </p></li></ul></blockquote><hr><p><strong>ç”±ä»¥ä¸Šæè¿°å¯çŸ¥ï¼š</strong></p><blockquote><p><strong>hashCodeæ˜¯æ‰€æœ‰javaå¯¹è±¡çš„å›ºæœ‰æ–¹æ³•ï¼Œå¦‚æœä¸é‡è½½çš„è¯ï¼Œè¿”å›çš„å®é™…ä¸Šæ˜¯è¯¥å¯¹è±¡åœ¨jvmçš„å †ä¸Šçš„å†…å­˜åœ°å€ï¼Œè€Œä¸åŒå¯¹è±¡çš„å†…å­˜åœ°å€è‚¯å®šä¸åŒï¼Œæ‰€ä»¥è¿™ä¸ªhashCodeä¹Ÿå°±è‚¯å®šä¸åŒ</strong>äº†ã€‚å¦‚æœé‡è½½äº†çš„è¯ï¼Œç”±äºé‡‡ç”¨çš„ç®—æ³•çš„é—®é¢˜ï¼Œæœ‰å¯èƒ½å¯¼è‡´ä¸¤ä¸ªä¸åŒå¯¹è±¡çš„hashCodeç›¸åŒã€‚</p><p>ä¸¤ä¸ªå¯¹è±¡equalsï¼ˆï¼‰ç›¸åŒï¼Œé‚£ä¹ˆhashcodeè‚¯å®šä¹Ÿç›¸åŒï¼Œä½†equals()ä¸åŒï¼Œhashcodeä¸ä¸€å®šä¸åŒã€‚</p><p>è€Œä¸”ï¼Œè¿˜éœ€è¦æ³¨æ„ä¸€ä¸‹ä¸¤ç‚¹ï¼š</p><p>1ï¼‰hashCodeå’Œequalsä¸¤ä¸ªæ–¹æ³•æ˜¯æœ‰è¯­ä¹‰å…³è”çš„ï¼Œå®ƒä»¬éœ€è¦æ»¡è¶³ï¼š</p><p>A.equals(B)==true â€“&gt; A.hashCode()==B.hashCode()</p><p>å› æ­¤é‡è½½å…¶ä¸­ä¸€ä¸ªæ–¹æ³•æ—¶ä¹Ÿéœ€è¦å°†å¦ä¸€ä¸ªä¹Ÿé‡è½½ã€‚</p></blockquote><p>é™„ä¸ŠStringç±»equalsæºç å®ç°</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">equals</span><span class="params">(Object anObject)</span> </span>{</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">this</span> == anObject) {</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">if</span> (anObject <span class="keyword">instanceof</span> String) {</span><br><span class="line">        String anotherString = (String)anObject;</span><br><span class="line">        <span class="keyword">int</span> n = value.length;</span><br><span class="line">        <span class="keyword">if</span> (n == anotherString.value.length) {</span><br><span class="line">            <span class="keyword">char</span> v1[] = value;</span><br><span class="line">            <span class="keyword">char</span> v2[] = anotherString.value;</span><br><span class="line">            <span class="keyword">int</span> i = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">while</span> (n-- != <span class="number">0</span>) {</span><br><span class="line">                <span class="keyword">if</span> (v1[i] != v2[i])</span><br><span class="line">                    <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">                i++;</span><br><span class="line">            }</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> Java </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ssmæ•´åˆ</title>
      <link href="2021/04/24/ssm%E6%95%B4%E5%90%88/"/>
      <url>2021/04/24/ssm%E6%95%B4%E5%90%88/</url>
      
        <content type="html"><![CDATA[<h1 id="ssmæ•´åˆæµç¨‹"><a href="#ssmæ•´åˆæµç¨‹" class="headerlink" title="ssmæ•´åˆæµç¨‹"></a>ssmæ•´åˆæµç¨‹</h1><h2 id="1-å‡†å¤‡å·¥ä½œ"><a href="#1-å‡†å¤‡å·¥ä½œ" class="headerlink" title="1 å‡†å¤‡å·¥ä½œ"></a>1 å‡†å¤‡å·¥ä½œ</h2><h3 id="1-1-æ•°æ®åº“å»ºç«‹"><a href="#1-1-æ•°æ®åº“å»ºç«‹" class="headerlink" title="1.1 æ•°æ®åº“å»ºç«‹"></a>1.1 æ•°æ®åº“å»ºç«‹</h3><figure class="highlight sql"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">DATABASE</span> ssmbuild;</span><br><span class="line"><span class="keyword">USE</span> ssmbuild;</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> <span class="string">`books`</span>(</span><br><span class="line"><span class="string">`bookID`</span> <span class="built_in">INT</span> <span class="keyword">NOT</span> <span class="literal">NULL</span> AUTO_INCREMENT <span class="keyword">COMMENT</span> <span class="string">"ä¹¦id"</span>,</span><br><span class="line"><span class="string">`bookName`</span> <span class="built_in">VARCHAR</span>(<span class="number">100</span>) <span class="keyword">NOT</span> <span class="literal">NULL</span> <span class="keyword">COMMENT</span> <span class="string">"ä¹¦å"</span>,</span><br><span class="line"><span class="string">`bookCounts`</span> <span class="built_in">INT</span> <span class="keyword">NOT</span> <span class="literal">NULL</span> <span class="keyword">COMMENT</span> <span class="string">"æ•°é‡"</span>,</span><br><span class="line"><span class="string">`detail`</span> <span class="built_in">VARCHAR</span>(<span class="number">200</span>) <span class="keyword">NOT</span> <span class="literal">NULL</span> <span class="keyword">COMMENT</span> <span class="string">"æè¿°"</span>,</span><br><span class="line"><span class="keyword">KEY</span> <span class="string">`bookID`</span>(<span class="string">`bookID`</span>)</span><br><span class="line">)<span class="keyword">ENGINE</span>=<span class="keyword">INNODB</span> <span class="keyword">DEFAULT</span> <span class="keyword">CHARSET</span>=utf8;</span><br><span class="line"></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> <span class="string">`books`</span> <span class="keyword">VALUES</span></span><br><span class="line">(<span class="number">1</span>,<span class="string">'Spring'</span>,<span class="number">1</span>,<span class="string">'ä»å…¥é—¨åˆ°æ”¾å¼ƒ'</span>),</span><br><span class="line">(<span class="number">2</span>,<span class="string">'MySQL'</span>,<span class="number">10</span>,<span class="string">'ä»åˆ åº“åˆ°è·‘è·¯'</span>),</span><br><span class="line">(<span class="number">3</span>,<span class="string">'Linux'</span>,<span class="number">5</span>,<span class="string">'ä»è¿›é—¨åˆ°è¿›ç‰¢'</span>);</span><br></pre></td></tr></tbody></table></figure><h3 id="1-2-åœ¨IDEAä¸­è¿æ¥æ•°æ®åº“-æµ‹è¯•è¿æ¥æˆåŠŸ"><a href="#1-2-åœ¨IDEAä¸­è¿æ¥æ•°æ®åº“-æµ‹è¯•è¿æ¥æˆåŠŸ" class="headerlink" title="1.2 åœ¨IDEAä¸­è¿æ¥æ•°æ®åº“(æµ‹è¯•è¿æ¥æˆåŠŸ)"></a>1.2 åœ¨IDEAä¸­è¿æ¥æ•°æ®åº“(æµ‹è¯•è¿æ¥æˆåŠŸ)</h3><p><img src="https://gitee.com/rain-sky/images/raw/master/20210428140125.png"></p><h3 id="1-3-ç¼–å†™æ•°æ®åº“å®ä½“æ˜ å°„ç±»"><a href="#1-3-ç¼–å†™æ•°æ®åº“å®ä½“æ˜ å°„ç±»" class="headerlink" title="1.3 ç¼–å†™æ•°æ®åº“å®ä½“æ˜ å°„ç±»"></a>1.3 ç¼–å†™æ•°æ®åº“å®ä½“æ˜ å°„ç±»</h3><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.chen.pojo;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Book</span> </span>{</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> boolID;</span><br><span class="line">    <span class="keyword">private</span> String bookName;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> bookCounts;</span><br><span class="line">    <span class="keyword">private</span> String detail;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Book</span><span class="params">(<span class="keyword">int</span> boolID, String bookName, <span class="keyword">int</span> bookCounts, String detail)</span> </span>{</span><br><span class="line">        <span class="keyword">this</span>.boolID = boolID;</span><br><span class="line">        <span class="keyword">this</span>.bookName = bookName;</span><br><span class="line">        <span class="keyword">this</span>.bookCounts = bookCounts;</span><br><span class="line">        <span class="keyword">this</span>.detail = detail;</span><br><span class="line">    }</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Book</span><span class="params">()</span></span>{}</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getBoolID</span><span class="params">()</span> </span>{</span><br><span class="line">        <span class="keyword">return</span> boolID;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setBoolID</span><span class="params">(<span class="keyword">int</span> boolID)</span> </span>{</span><br><span class="line">        <span class="keyword">this</span>.boolID = boolID;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getBookName</span><span class="params">()</span> </span>{</span><br><span class="line">        <span class="keyword">return</span> bookName;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setBookName</span><span class="params">(String bookName)</span> </span>{</span><br><span class="line">        <span class="keyword">this</span>.bookName = bookName;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getBookCounts</span><span class="params">()</span> </span>{</span><br><span class="line">        <span class="keyword">return</span> bookCounts;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setBookCounts</span><span class="params">(<span class="keyword">int</span> bookCounts)</span> </span>{</span><br><span class="line">        <span class="keyword">this</span>.bookCounts = bookCounts;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getDetail</span><span class="params">()</span> </span>{</span><br><span class="line">        <span class="keyword">return</span> detail;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setDetail</span><span class="params">(String detail)</span> </span>{</span><br><span class="line">        <span class="keyword">this</span>.detail = detail;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span></span>{</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"The book: "</span>+<span class="keyword">this</span>.bookName+<span class="string">", "</span>+<span class="keyword">this</span>.boolID+<span class="string">", "</span>+<span class="keyword">this</span>.bookCounts+<span class="string">", "</span>+<span class="keyword">this</span>.detail;</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure><h2 id="2-mavené…ç½®ï¼Œä¾èµ–å¯¼å…¥ä»¥åŠèµ„æºè¿‡æ»¤"><a href="#2-mavené…ç½®ï¼Œä¾èµ–å¯¼å…¥ä»¥åŠèµ„æºè¿‡æ»¤" class="headerlink" title="2 mavené…ç½®ï¼Œä¾èµ–å¯¼å…¥ä»¥åŠèµ„æºè¿‡æ»¤"></a>2 mavené…ç½®ï¼Œä¾èµ–å¯¼å…¥ä»¥åŠèµ„æºè¿‡æ»¤</h2><figure class="highlight xml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">project</span> <span class="attr">xmlns</span>=<span class="string">"http://maven.apache.org/POM/4.0.0"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">xmlns:xsi</span>=<span class="string">"http://www.w3.org/2001/XMLSchema-instance"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">xsi:schemaLocation</span>=<span class="string">"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">modelVersion</span>&gt;</span>4.0.0<span class="tag">&lt;/<span class="name">modelVersion</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.chen<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>BookManage<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.0-SNAPSHOT<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>mysql<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mysql-connector-java<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>5.1.47<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-webmvc<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>5.1.9.RELEASE<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>junit<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>junit<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>4.12<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>javax.servlet<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>servlet-api<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.5<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>javax.servlet.jsp<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>jsp-api<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>javax.servlet<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>jstl<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.mybatis<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mybatis-spring<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.0.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.mybatis<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mybatis<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.5.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.mchange<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>c3p0<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>0.9.5.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-jdbc<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>5.1.10.RELEASE<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- ä½¿ç”¨Jackson --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.fasterxml.jackson.core<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>jackson-databind<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.9.8<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">build</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">resources</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">resource</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">directory</span>&gt;</span>src/main/java<span class="tag">&lt;/<span class="name">directory</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">includes</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">include</span>&gt;</span>**/*.properties<span class="tag">&lt;/<span class="name">include</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">include</span>&gt;</span>**/*.xml<span class="tag">&lt;/<span class="name">include</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">includes</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">filtering</span>&gt;</span>false<span class="tag">&lt;/<span class="name">filtering</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">resource</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">resource</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">directory</span>&gt;</span>src/main/resources<span class="tag">&lt;/<span class="name">directory</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">includes</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">include</span>&gt;</span>**/*.properties<span class="tag">&lt;/<span class="name">include</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">include</span>&gt;</span>**/*.xml<span class="tag">&lt;/<span class="name">include</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">includes</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">filtering</span>&gt;</span>false<span class="tag">&lt;/<span class="name">filtering</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">resource</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">resources</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">build</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">project</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><h2 id="3-é…ç½®DAOå±‚"><a href="#3-é…ç½®DAOå±‚" class="headerlink" title="3. é…ç½®DAOå±‚"></a>3. é…ç½®DAOå±‚</h2><h3 id="3-1-ç¼–å†™å¤–éƒ¨æ•°æ®æºé…ç½®database-properties"><a href="#3-1-ç¼–å†™å¤–éƒ¨æ•°æ®æºé…ç½®database-properties" class="headerlink" title="3.1 ç¼–å†™å¤–éƒ¨æ•°æ®æºé…ç½®database.properties"></a>3.1 ç¼–å†™å¤–éƒ¨æ•°æ®æºé…ç½®database.properties</h3><figure class="highlight properties"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">jdbc.driver</span>=<span class="string">com.mysql.jdbc.Driver</span></span><br><span class="line"><span class="meta">jdbc.url</span>=<span class="string">jdbc:mysql://localhost:3306/ssmbuild?useSSL=false&amp;amp;useUnicode=true&amp;amp;characterEncoding=UTF-8</span></span><br><span class="line"><span class="meta">jdbc.user</span>=<span class="string">root</span></span><br><span class="line"><span class="meta">jdbc.password</span>=<span class="string">123123</span></span><br></pre></td></tr></tbody></table></figure><h3 id="3-2-ç¼–å†™mybatis-config-xml"><a href="#3-2-ç¼–å†™mybatis-config-xml" class="headerlink" title="3.2 ç¼–å†™mybatis-config.xml"></a>3.2 ç¼–å†™mybatis-config.xml</h3><figure class="highlight xml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="UTF-8" ?&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">configuration</span></span></span><br><span class="line"><span class="meta">        <span class="meta-keyword">PUBLIC</span> <span class="meta-string">"-//mybatis.org//DTD Config 3.0//EN"</span></span></span><br><span class="line"><span class="meta">        <span class="meta-string">"http://mybatis.org/dtd/mybatis-3-config.dtd"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">settings</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">setting</span> <span class="attr">name</span>=<span class="string">"logImpl"</span> <span class="attr">value</span>=<span class="string">"LOG4J"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">settings</span>&gt;</span></span><br><span class="line">    </span><br><span class="line">    <span class="tag">&lt;<span class="name">typeAliases</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">package</span> <span class="attr">name</span>=<span class="string">"com.chen.pojo"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">typeAliases</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- ä¸€èˆ¬æˆ‘ä»¬ä¼šåœ¨mybatis-config.xmlåšsetçš„é…ç½®ï¼Œå¦‚é…ç½®æ—¥å¿— --&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure><p><strong>log4j.properties</strong></p><figure class="highlight properties"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># For JBoss: Avoid to setup Log4J outside $JBOSS_HOME/server/default/deploy/log4j.xml!</span></span><br><span class="line"><span class="comment"># For all other servers: Comment out the Log4J listener in web.xml to activate Log4J.</span></span><br><span class="line"><span class="comment">#log4j.rootLogger=INFO, stdout, logfile</span></span><br><span class="line"><span class="meta">log4j.rootLogger</span>=<span class="string">DEBUG,stdout</span></span><br><span class="line"></span><br><span class="line"><span class="meta">log4j.appender.stdout</span>=<span class="string">org.apache.log4j.ConsoleAppender</span></span><br><span class="line"><span class="meta">log4j.appender.stdout.layout</span>=<span class="string">org.apache.log4j.PatternLayout</span></span><br><span class="line"><span class="meta">log4j.appender.stdout.layout.ConversionPattern</span>=<span class="string">%d %p [%c] - %m%n</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#log4j.appender.logfile=org.apache.log4j.RollingFileAppender</span></span><br><span class="line"><span class="comment">#log4j.appender.logfile.File=system.log</span></span><br><span class="line"><span class="comment">#log4j.appender.logfile.MaxFileSize=512KB</span></span><br><span class="line"><span class="comment"># Keep three backup files.</span></span><br><span class="line"><span class="comment">#log4j.appender.logfile.MaxBackupIndex=3</span></span><br><span class="line"><span class="comment"># Pattern to output: date priority [category] - message</span></span><br><span class="line"><span class="comment">#log4j.appender.logfile.layout=org.apache.log4j.PatternLayout</span></span><br><span class="line"><span class="comment">#log4j.appender.logfile.layout.ConversionPattern=%d %p [%c] - %m%n</span></span><br></pre></td></tr></tbody></table></figure><h3 id="3-3-ç¼–å†™spring-dao-xml"><a href="#3-3-ç¼–å†™spring-dao-xml" class="headerlink" title="3.3 ç¼–å†™spring-dao.xml"></a>3.3 ç¼–å†™spring-dao.xml</h3><figure class="highlight xml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">"http://www.springframework.org/schema/beans"</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:xsi</span>=<span class="string">"http://www.w3.org/2001/XMLSchema-instance"</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:context</span>=<span class="string">"http://www.springframework.org/schema/context"</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xsi:schemaLocation</span>=<span class="string">"http://www.springframework.org/schema/beans</span></span></span><br><span class="line"><span class="tag"><span class="string">        https://www.springframework.org/schema/beans/spring-beans.xsd</span></span></span><br><span class="line"><span class="tag"><span class="string">        http://www.springframework.org/schema/context</span></span></span><br><span class="line"><span class="tag"><span class="string">        https://www.springframework.org/schema/context/spring-context.xsd"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- è‡ªåŠ¨æ‰«æåŒ…ï¼Œå¦‚æœä½¿ç”¨åŒ…æ‰«æåï¼Œå¯ä»¥çœç•¥ä¸å†™  &lt;context:component-config/&gt;  --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">context:component-scan</span> <span class="attr">base-package</span>=<span class="string">"com.chen.pojo"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">context:component-scan</span> <span class="attr">base-package</span>=<span class="string">"com.chen.dao"</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"dataSource"</span> <span class="attr">class</span>=<span class="string">"org.springframework.jdbc.datasource.DriverManagerDataSource"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"driverClassName"</span> <span class="attr">value</span>=<span class="string">"com.mysql.jdbc.Driver"</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"url"</span> <span class="attr">value</span>=<span class="string">"jdbc:mysql://localhost:3306/ssmbuild?useSSL=false<span class="symbol">&amp;amp;</span>useUnicode=true<span class="symbol">&amp;amp;</span>characterEncoding=UTF-8"</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"username"</span> <span class="attr">value</span>=<span class="string">"root"</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"password"</span> <span class="attr">value</span>=<span class="string">"123123"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"transactionManager"</span> <span class="attr">class</span>=<span class="string">"org.springframework.jdbc.datasource.DataSourceTransactionManager"</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- æ³¨å…¥æ•°æ®åº“è¿æ¥æ±  --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"dataSource"</span> <span class="attr">ref</span>=<span class="string">"dataSource"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"sqlSessionFactory"</span> <span class="attr">class</span>=<span class="string">"org.mybatis.spring.SqlSessionFactoryBean"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"dataSource"</span> <span class="attr">ref</span>=<span class="string">"dataSource"</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"configLocation"</span> <span class="attr">value</span>=<span class="string">"classpath:mybatis-config.xml"</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"mapperLocations"</span> <span class="attr">value</span>=<span class="string">"classpath:com/chen/dao/*.xml"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"sqlSessionTemplate"</span> <span class="attr">class</span>=<span class="string">"org.mybatis.spring.SqlSessionTemplate"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">constructor-arg</span> <span class="attr">index</span>=<span class="string">"0"</span> <span class="attr">ref</span>=<span class="string">"sqlSessionFactory"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- è‡ªåŠ¨æ³¨å…¥mybatisä»£ç†ç±» --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">class</span>=<span class="string">"org.mybatis.spring.mapper.MapperScannerConfigurer"</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- æ³¨å…¥sqlSessionFactory --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"sqlSessionFactoryBeanName"</span> <span class="attr">value</span>=<span class="string">"sqlSessionFactory"</span>/&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- ç»™å‡ºéœ€è¦æ‰«æDaoæ¥å£åŒ… --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"basePackage"</span> <span class="attr">value</span>=<span class="string">"com.chen.dao"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><h3 id="3-4-ç¼–å†™DAOå±‚æ¥å£"><a href="#3-4-ç¼–å†™DAOå±‚æ¥å£" class="headerlink" title="3.4 ç¼–å†™DAOå±‚æ¥å£"></a>3.4 ç¼–å†™DAOå±‚æ¥å£</h3><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.chen.dao;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.chen.pojo.Book;</span><br><span class="line"><span class="keyword">import</span> org.apache.ibatis.annotations.Param;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">BookMapper</span> </span>{</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">insertBook</span><span class="params">(Book book)</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">deleteBookById</span><span class="params">( <span class="meta">@Param("bookId")</span> <span class="keyword">int</span> id)</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">updateBook</span><span class="params">(Book book)</span></span>;</span><br><span class="line">    <span class="function">Book <span class="title">queryBookById</span><span class="params">(<span class="meta">@Param("bookId")</span> <span class="keyword">int</span> id)</span></span>;</span><br><span class="line">    <span class="function">List&lt;Book&gt; <span class="title">queryAllBook</span><span class="params">()</span></span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h3 id="3-5-ç¼–å†™æ¥å£å¯¹åº”çš„mapper"><a href="#3-5-ç¼–å†™æ¥å£å¯¹åº”çš„mapper" class="headerlink" title="3.5 ç¼–å†™æ¥å£å¯¹åº”çš„mapper"></a>3.5 ç¼–å†™æ¥å£å¯¹åº”çš„mapper</h3><figure class="highlight xml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="UTF-8" ?&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">mapper</span></span></span><br><span class="line"><span class="meta">        <span class="meta-keyword">PUBLIC</span> <span class="meta-string">"-//mybatis.org//DTD Config 3.0//EN"</span></span></span><br><span class="line"><span class="meta">        <span class="meta-string">"http://mybatis.org/dtd/mybatis-3-mapper.dtd"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">mapper</span> <span class="attr">namespace</span>=<span class="string">"com.chen.dao.BookMapper"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">insert</span> <span class="attr">id</span>=<span class="string">"insertBook"</span> <span class="attr">parameterType</span>=<span class="string">"com.chen.pojo.Book"</span>&gt;</span></span><br><span class="line">        insert into ssmbuild.books values (#{bookId},#{bookName},#{bookCounts},#{detail});</span><br><span class="line">    <span class="tag">&lt;/<span class="name">insert</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">delete</span> <span class="attr">id</span>=<span class="string">"deleteBookById"</span> <span class="attr">parameterType</span>=<span class="string">"int"</span>&gt;</span></span><br><span class="line">        delete * from ssmbuild.books where bookID = #{bookId};</span><br><span class="line">    <span class="tag">&lt;/<span class="name">delete</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">update</span> <span class="attr">id</span>=<span class="string">"updateBook"</span> <span class="attr">parameterType</span>=<span class="string">"com.chen.pojo.Book"</span>&gt;</span></span><br><span class="line">        update ssmbuild.books set bookID = #{bookId},bookCounts = #{bookCounts},bookName = #{bookName},detail = #{detail};</span><br><span class="line">    <span class="tag">&lt;/<span class="name">update</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">"queryBookById"</span> <span class="attr">parameterType</span>=<span class="string">"int"</span> <span class="attr">resultType</span>=<span class="string">"com.chen.pojo.Book"</span>&gt;</span></span><br><span class="line">        select * from ssmbuild.books where bookID = #{bookId};</span><br><span class="line">    <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">"queryAllBook"</span> <span class="attr">resultType</span>=<span class="string">"com.chen.pojo.Book"</span>&gt;</span></span><br><span class="line">        select * from ssmbuild.books;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">mapper</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><h2 id="4-é…ç½®serviceå±‚"><a href="#4-é…ç½®serviceå±‚" class="headerlink" title="4 é…ç½®serviceå±‚"></a>4 é…ç½®serviceå±‚</h2><h3 id="4-1-é…ç½®spring-service-xml"><a href="#4-1-é…ç½®spring-service-xml" class="headerlink" title="4.1 é…ç½®spring-service.xml"></a>4.1 é…ç½®spring-service.xml</h3><figure class="highlight xml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">"http://www.springframework.org/schema/beans"</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:xsi</span>=<span class="string">"http://www.w3.org/2001/XMLSchema-instance"</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:context</span>=<span class="string">"http://www.springframework.org/schema/context"</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xsi:schemaLocation</span>=<span class="string">"http://www.springframework.org/schema/beans</span></span></span><br><span class="line"><span class="tag"><span class="string">        https://www.springframework.org/schema/beans/spring-beans.xsd</span></span></span><br><span class="line"><span class="tag"><span class="string">        http://www.springframework.org/schema/context</span></span></span><br><span class="line"><span class="tag"><span class="string">        https://www.springframework.org/schema/context/spring-context.xsd"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- æ‰«ææ‰€æœ‰service,äº¤ç»™springIOCå®¹å™¨ --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">context:component-scan</span> <span class="attr">base-package</span>=<span class="string">"com.chen.service"</span>/&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><h3 id="4-2-ç¼–å†™serviceå±‚æ¥å£"><a href="#4-2-ç¼–å†™serviceå±‚æ¥å£" class="headerlink" title="4.2 ç¼–å†™serviceå±‚æ¥å£"></a>4.2 ç¼–å†™serviceå±‚æ¥å£</h3><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.chen.servises;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.chen.pojo.Book;</span><br><span class="line"><span class="keyword">import</span> org.apache.ibatis.annotations.Param;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">BookService</span> </span>{</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">insertBook</span><span class="params">(Book book)</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">deleteBookById</span><span class="params">( <span class="meta">@Param("bookId")</span> <span class="keyword">int</span> id)</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">updateBook</span><span class="params">(Book book)</span></span>;</span><br><span class="line">    <span class="function">Book <span class="title">queryBookById</span><span class="params">(<span class="meta">@Param("bookId")</span> <span class="keyword">int</span> id)</span></span>;</span><br><span class="line">    <span class="function">List&lt;Book&gt; <span class="title">queryAllBook</span><span class="params">()</span></span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h3 id="4-3-ç¼–å†™æ¥å£å®ç°ç±»"><a href="#4-3-ç¼–å†™æ¥å£å®ç°ç±»" class="headerlink" title="4.3 ç¼–å†™æ¥å£å®ç°ç±»"></a>4.3 ç¼–å†™æ¥å£å®ç°ç±»</h3><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.chen.servises;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.chen.dao.BookMapper;</span><br><span class="line"><span class="keyword">import</span> com.chen.pojo.Book;</span><br><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.annotation.Autowired;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Service;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">BookServiceImpl</span> <span class="keyword">implements</span> <span class="title">BookMapper</span> </span>{</span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> BookMapper bookMapper;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">insertBook</span><span class="params">(Book book)</span> </span>{</span><br><span class="line">        bookMapper.insertBook(book);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">deleteBookById</span><span class="params">(<span class="keyword">int</span> id)</span> </span>{</span><br><span class="line">        bookMapper.deleteBookById(id);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">updateBook</span><span class="params">(Book book)</span> </span>{</span><br><span class="line">        bookMapper.updateBook(book);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Book <span class="title">queryBookById</span><span class="params">(<span class="keyword">int</span> id)</span> </span>{</span><br><span class="line">        <span class="keyword">return</span> bookMapper.queryBookById(id);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> List&lt;Book&gt; <span class="title">queryAllBook</span><span class="params">()</span> </span>{</span><br><span class="line">        <span class="keyword">return</span> bookMapper.queryAllBook();</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h2 id="5-é…ç½®springMvc"><a href="#5-é…ç½®springMvc" class="headerlink" title="5 é…ç½®springMvc"></a>5 é…ç½®springMvc</h2><p>springmvc-servlet.xml</p><figure class="highlight xml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">"http://www.springframework.org/schema/beans"</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:xsi</span>=<span class="string">"http://www.w3.org/2001/XMLSchema-instance"</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:context</span>=<span class="string">"http://www.springframework.org/schema/context"</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:mvc</span>=<span class="string">"http://www.springframework.org/schema/mvc"</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xsi:schemaLocation</span>=<span class="string">"http://www.springframework.org/schema/beans</span></span></span><br><span class="line"><span class="tag"><span class="string">   http://www.springframework.org/schema/beans/spring-beans.xsd</span></span></span><br><span class="line"><span class="tag"><span class="string">   http://www.springframework.org/schema/context</span></span></span><br><span class="line"><span class="tag"><span class="string">   http://www.springframework.org/schema/context/spring-context.xsd</span></span></span><br><span class="line"><span class="tag"><span class="string">   http://www.springframework.org/schema/mvc</span></span></span><br><span class="line"><span class="tag"><span class="string">   https://www.springframework.org/schema/mvc/spring-mvc.xsd"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- é…ç½®SpringMVC --&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 1.å¼€å¯SpringMVCæ³¨è§£é©±åŠ¨ --&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- ç»Ÿä¸€è§£å†³jsonä¹±ç é—®é¢˜ --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">mvc:annotation-driven</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">mvc:message-converters</span> <span class="attr">register-defaults</span>=<span class="string">"true"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">bean</span> <span class="attr">class</span>=<span class="string">"org.springframework.http.converter.StringHttpMessageConverter"</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"supportedMediaTypes"</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">list</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">value</span>&gt;</span>text/html;charset=UTF-8<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">value</span>&gt;</span>application/json;charset=UTF-8<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">list</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">mvc:message-converters</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">mvc:annotation-driven</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- æ‹¦æˆªå™¨é…ç½® --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">mvc:interceptors</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">mvc:interceptor</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">mvc:mapping</span> <span class="attr">path</span>=<span class="string">"/book/**"</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">bean</span> <span class="attr">class</span>=<span class="string">"com.chen.interceptor.LoginInterceptor"</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">mvc:interceptor</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">mvc:interceptors</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- 2.é™æ€èµ„æºé»˜è®¤servleté…ç½®--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">mvc:default-servlet-handler</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- 3.é…ç½®jsp æ˜¾ç¤ºViewResolverè§†å›¾è§£æå™¨ --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">class</span>=<span class="string">"org.springframework.web.servlet.view.InternalResourceViewResolver"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"viewClass"</span> <span class="attr">value</span>=<span class="string">"org.springframework.web.servlet.view.JstlView"</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"prefix"</span> <span class="attr">value</span>=<span class="string">"/WEB-INF/jsp/"</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"suffix"</span> <span class="attr">value</span>=<span class="string">".jsp"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 4.æ‰«æwebç›¸å…³çš„bean --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">context:component-scan</span> <span class="attr">base-package</span>=<span class="string">"com.chen.controller"</span> /&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><h2 id="6-é…ç½®web-xml"><a href="#6-é…ç½®web-xml" class="headerlink" title="6 é…ç½®web.xml"></a>6 é…ç½®web.xml</h2><figure class="highlight xml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">web-app</span> <span class="attr">xmlns</span>=<span class="string">"http://xmlns.jcp.org/xml/ns/javaee"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">xmlns:xsi</span>=<span class="string">"http://www.w3.org/2001/XMLSchema-instance"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">xsi:schemaLocation</span>=<span class="string">"http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_4_0.xsd"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">version</span>=<span class="string">"4.0"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>DispatcherServlet<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">servlet-class</span>&gt;</span>org.springframework.web.servlet.DispatcherServlet<span class="tag">&lt;/<span class="name">servlet-class</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">init-param</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">param-name</span>&gt;</span>contextConfigLocation<span class="tag">&lt;/<span class="name">param-name</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">param-value</span>&gt;</span>classpath:applicationContext.xml<span class="tag">&lt;/<span class="name">param-value</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">init-param</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">load-on-startup</span>&gt;</span>1<span class="tag">&lt;/<span class="name">load-on-startup</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">servlet</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>DispatcherServlet<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- springçš„è¿‡æ»¤å™¨ï¼Œè§£å†³ä¹±ç é—®é¢˜ --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">filter</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">filter-name</span>&gt;</span>encoding<span class="tag">&lt;/<span class="name">filter-name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">filter-class</span>&gt;</span>org.springframework.web.filter.CharacterEncodingFilter<span class="tag">&lt;/<span class="name">filter-class</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">init-param</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">param-name</span>&gt;</span>encoding<span class="tag">&lt;/<span class="name">param-name</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">param-value</span>&gt;</span>utf-8<span class="tag">&lt;/<span class="name">param-value</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">init-param</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">filter</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">filter-mapping</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">filter-name</span>&gt;</span>encoding<span class="tag">&lt;/<span class="name">filter-name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/*<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">filter-mapping</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">web-app</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure><p><strong>æ€»é…ç½®</strong></p><figure class="highlight xml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">"http://www.springframework.org/schema/beans"</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:xsi</span>=<span class="string">"http://www.w3.org/2001/XMLSchema-instance"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">xsi:schemaLocation</span>=<span class="string">"http://www.springframework.org/schema/beans</span></span></span><br><span class="line"><span class="tag"><span class="string">        https://www.springframework.org/schema/beans/spring-beans.xsd</span></span></span><br><span class="line"><span class="tag"><span class="string">"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">import</span> <span class="attr">resource</span>=<span class="string">"spring-service.xml"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">import</span> <span class="attr">resource</span>=<span class="string">"spring-mvc.xml"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">import</span> <span class="attr">resource</span>=<span class="string">"spring-dao.xml"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><p>å¤‡ç”¨spring æ€»é…ç½®</p><figure class="highlight xml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">"http://www.springframework.org/schema/beans"</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:xsi</span>=<span class="string">"http://www.w3.org/2001/XMLSchema-instance"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">xmlns:context</span>=<span class="string">"http://www.springframework.org/schema/context"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">xsi:schemaLocation</span>=<span class="string">"http://www.springframework.org/schema/beans</span></span></span><br><span class="line"><span class="tag"><span class="string">        https://www.springframework.org/schema/beans/spring-beans.xsd</span></span></span><br><span class="line"><span class="tag"><span class="string">        http://www.springframework.org/schema/context</span></span></span><br><span class="line"><span class="tag"><span class="string">        https://www.springframework.org/schema/context/spring-context.xsd"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">import</span> <span class="attr">resource</span>=<span class="string">"spring-service.xml"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">import</span> <span class="attr">resource</span>=<span class="string">"spring-mvc.xml"</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">context:component-scan</span> <span class="attr">base-package</span>=<span class="string">"com.chen.pojo"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">context:component-scan</span> <span class="attr">base-package</span>=<span class="string">"com.chen.dao"</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"dataSource"</span> <span class="attr">class</span>=<span class="string">"org.springframework.jdbc.datasource.DriverManagerDataSource"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"driverClassName"</span> <span class="attr">value</span>=<span class="string">"com.mysql.jdbc.Driver"</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"url"</span> <span class="attr">value</span>=<span class="string">"jdbc:mysql://localhost:3306/ssmbuild?useSSL=false<span class="symbol">&amp;amp;</span>useUnicode=true<span class="symbol">&amp;amp;</span>characterEncoding=UTF-8"</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"username"</span> <span class="attr">value</span>=<span class="string">"root"</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"password"</span> <span class="attr">value</span>=<span class="string">"123123"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"sqlSessionFactory"</span> <span class="attr">class</span>=<span class="string">"org.mybatis.spring.SqlSessionFactoryBean"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"dataSource"</span> <span class="attr">ref</span>=<span class="string">"dataSource"</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"configLocation"</span> <span class="attr">value</span>=<span class="string">"classpath:mybatis-config.xml"</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"mapperLocations"</span> <span class="attr">value</span>=<span class="string">"classpath:com/chen/dao/*.xml"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"sqlSessionTemplate"</span> <span class="attr">class</span>=<span class="string">"org.mybatis.spring.SqlSessionTemplate"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">constructor-arg</span> <span class="attr">index</span>=<span class="string">"0"</span> <span class="attr">ref</span>=<span class="string">"sqlSessionFactory"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">class</span>=<span class="string">"org.mybatis.spring.mapper.MapperScannerConfigurer"</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- æ³¨å…¥sqlSessionFactory --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"sqlSessionFactoryBeanName"</span> <span class="attr">value</span>=<span class="string">"sqlSessionFactory"</span>/&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- ç»™å‡ºéœ€è¦æ‰«æDaoæ¥å£åŒ… --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"basePackage"</span> <span class="attr">value</span>=<span class="string">"com.chen.dao"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> spring </tag>
            
            <tag> mybatis </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>é—®é¢˜é›†é”¦</title>
      <link href="2021/04/24/%E9%97%AE%E9%A2%98%E9%9B%86%E9%94%A6/"/>
      <url>2021/04/24/%E9%97%AE%E9%A2%98%E9%9B%86%E9%94%A6/</url>
      
        <content type="html"><![CDATA[<p><strong>ä¸“ä¸šæŠ€èƒ½</strong></p><ul><li>åŸºç¡€ï¼šJDK å¸¸ç”¨ç±»çš„åŸç†ã€æºç ã€ä½¿ç”¨åœºæ™¯ã€‚</li><li>è®¾è®¡æ¨¡å¼ï¼šå¸¸ç”¨å‡ ç§çš„åŸç†ã€ä½¿ç”¨åœºæ™¯ï¼Œå•ä¾‹ã€åŠ¨æ€ä»£ç†ã€æ¨¡æ¿ã€è´£ä»»é“¾ç­‰ã€‚</li><li>æ•°æ®ç»“æ„ï¼šæ•°ç»„ã€é“¾è¡¨ã€æ ˆã€é˜Ÿåˆ—ã€æ ‘ã€‚</li><li>ç½‘ç»œï¼šTCPã€HTTPã€HTTPSã€è´Ÿè½½å‡è¡¡ç®—æ³•ã€‚</li><li>æ¡†æ¶ï¼šSpring IoC åŸç†ã€Spring AOP åŸç†å’Œä½¿ç”¨ã€Spring å¸¸ç”¨çš„æ‰©å±•ç‚¹ã€MyBatis çš„æ ¸å¿ƒæµç¨‹ã€‚</li><li>ä¸­é—´ä»¶ï¼šå¸¸ç”¨ä¸­é—´ä»¶çš„æ ¸å¿ƒåŸç†ä¸æœ€ä½³å®è·µï¼Œå¹¶å¯¹å…¶ä¸­çš„ 1 åˆ° 2 ä¸ªæœ‰æ·±å…¥çš„å­¦ä¹ ï¼ŒRedisã€Kafkaï¼ˆRocketMQã€RabbitMQï¼‰ã€Dubboã€Zookeeperã€‚</li><li>æ•°æ®åº“ï¼ˆMySQLï¼‰ï¼šç´¢å¼•åŸç†ã€éš”ç¦»çº§åˆ«ã€é”æœºåˆ¶ã€åˆ†åº“åˆ†è¡¨ã€æ…¢ SQL å®šä½åŠä¼˜åŒ–ã€çº¿ä¸Šé—®é¢˜è§£å†³ã€‚</li><li>Nettyï¼šNIO åŸç†ã€æ ¸å¿ƒç»„ä»¶ã€I/O å¤šè·¯å¤ç”¨ï¼ˆepollï¼‰ã€é›¶æ‹·è´ã€‚</li><li>JVMï¼šè¿è¡Œæ—¶æ•°æ®åŒºã€åƒåœ¾å›æ”¶ç®—æ³•ã€åƒåœ¾å›æ”¶å™¨ï¼ˆCMSã€G1ï¼‰ã€å¸¸ç”¨é…ç½®å‚æ•°ã€çº¿ä¸Šé—®é¢˜å®šä½åŠè§£å†³ã€‚</li><li>ç¨³å®šæ€§ä¿éšœï¼šéš”ç¦»ã€é™æµã€ç†”æ–­ã€é™çº§ç­‰ã€‚</li><li>Linuxï¼šåŸºæœ¬å‘½ä»¤çš„ä½¿ç”¨ã€å¿«é€Ÿå®šä½å’Œæ’æŸ¥é—®é¢˜ã€‚</li><li>åˆ†å¸ƒå¼ç†è®ºï¼šCAPã€BASEã€2PCã€3PCã€TCCã€‚</li></ul><h2 id="é’ˆå¯¹æ€§é—®é¢˜"><a href="#é’ˆå¯¹æ€§é—®é¢˜" class="headerlink" title="é’ˆå¯¹æ€§é—®é¢˜"></a>é’ˆå¯¹æ€§é—®é¢˜</h2><h3 id="è®¡ç®—æœºç»„æˆåŸç†"><a href="#è®¡ç®—æœºç»„æˆåŸç†" class="headerlink" title="è®¡ç®—æœºç»„æˆåŸç†"></a>è®¡ç®—æœºç»„æˆåŸç†</h3><h3 id="è®¡ç®—æœºç½‘ç»œ"><a href="#è®¡ç®—æœºç½‘ç»œ" class="headerlink" title="è®¡ç®—æœºç½‘ç»œ"></a>è®¡ç®—æœºç½‘ç»œ</h3><ul><li>HTTPS æ˜¯æ€ä¹ˆåŠ å¯†çš„</li><li>æ™®é€š Hash å’Œä¸€è‡´æ€§ Hash åŸç†</li><li>ä¸€è‡´æ€§ Hash çš„ç¼ºç‚¹</li><li>TCP ä¸‰æ¬¡æ¡æ‰‹è¿‡ç¨‹ï¼Œä¸ºä»€ä¹ˆéœ€è¦ä¸‰æ¬¡æ¡æ‰‹</li><li>ä¸ºä»€ä¹ˆ TIME_WAIT çŠ¶æ€éœ€è¦ç»è¿‡ 2MSL æ‰èƒ½è¿”å›åˆ° CLOSE çŠ¶æ€</li><li>TCP çš„æ‹¥å¡æ§åˆ¶</li><li>TCP å¦‚ä½•è§£å†³æµæ§ã€ä¹±åºã€ä¸¢åŒ…é—®é¢˜</li><li>ä¸ºä»€ä¹ˆä¼šå‡ºç°ç²˜åŒ…å’Œæ‹†åŒ…ï¼Œå¦‚ä½•è§£å†³</li></ul><h3 id="æ“ä½œç³»ç»Ÿ"><a href="#æ“ä½œç³»ç»Ÿ" class="headerlink" title="æ“ä½œç³»ç»Ÿ"></a>æ“ä½œç³»ç»Ÿ</h3><h3 id="æ•°æ®ç»“æ„ä¸ç®—æ³•"><a href="#æ•°æ®ç»“æ„ä¸ç®—æ³•" class="headerlink" title="æ•°æ®ç»“æ„ä¸ç®—æ³•"></a>æ•°æ®ç»“æ„ä¸ç®—æ³•</h3><h3 id="JAVAåŸºç¡€"><a href="#JAVAåŸºç¡€" class="headerlink" title="JAVAåŸºç¡€"></a>JAVAåŸºç¡€</h3><h4 id="åŸºç¡€"><a href="#åŸºç¡€" class="headerlink" title="åŸºç¡€"></a>åŸºç¡€</h4><h4 id="é›†åˆ"><a href="#é›†åˆ" class="headerlink" title="é›†åˆ"></a>é›†åˆ</h4><ul><li>ç»å¸¸ç”¨åˆ°å“ªäº› Map</li><li>è¿™å‡ ç§ Map çš„åŒºåˆ«</li><li>CocurrentHashMap æ€ä¹ˆä¿è¯çº¿ç¨‹å®‰å…¨</li><li>CocurrentHashMap åœ¨ JDK 1.8 å‰åçš„é”æœ‰ä»€ä¹ˆåŒºåˆ«</li><li>èŠä¸‹ HashMap çš„åŸç†</li><li>HashMap åœ¨ Put æ—¶ï¼Œæ–°é“¾è¡¨èŠ‚ç‚¹æ˜¯æ”¾åœ¨å¤´éƒ¨è¿˜æ˜¯å°¾éƒ¨</li><li>HashMap æ‰©å®¹æ—¶çš„æµç¨‹</li><li>HashMap åœ¨ JDK 1.8 æœ‰ä»€ä¹ˆæ”¹å˜</li><li>CocurrentHashMap åœ¨ JDK 1.8 æœ‰ä»€ä¹ˆæ”¹å˜</li><li>TreeMap çš„åŸç†</li><li>Mapã€Listã€Set åˆ†åˆ«è¯´ä¸‹ä½ çŸ¥é“çš„çº¿ç¨‹å®‰å…¨ç±»å’Œçº¿ç¨‹ä¸å®‰å…¨çš„ç±»</li></ul><h3 id="å¤šçº¿ç¨‹"><a href="#å¤šçº¿ç¨‹" class="headerlink" title="å¤šçº¿ç¨‹"></a>å¤šçº¿ç¨‹</h3><ul><li>çº¿ç¨‹æ± ä½¿ç”¨çš„æ˜¯å“ªç§</li><li>çº¿ç¨‹æ± å‚æ•°æ€ä¹ˆé…ç½®</li><li>çº¿ç¨‹æ± å„ä¸ªå‚æ•°çš„ä½œç”¨</li><li>çº¿ç¨‹æ± çš„å‚æ•°é…ç½®è¦æ³¨æ„ä»€ä¹ˆ</li><li>çº¿ç¨‹æ± çš„å·¥ä½œæµç¨‹</li><li>JDK ä¸­çš„å¹¶å‘ç±»çŸ¥é“å“ªäº›</li><li>AQS çš„åº•å±‚åŸç†</li><li>ä»‹ç»ä¸‹æ‚²è§‚é”å’Œä¹è§‚é”</li><li>ä½¿ç”¨è¿‡å“ªäº›é”</li><li>synchronized å’Œ Lock çš„åŒºåˆ«ã€ä½¿ç”¨åœºæ™¯</li><li>synchronized åŸç†</li><li>synchronized ä½œç”¨äºé™æ€æ–¹æ³•ã€æ™®é€šæ–¹æ³•ã€thisã€Lock.class çš„åŒºåˆ«</li><li>ä¸ºä»€ä¹ˆå¼•å…¥åå‘é”ã€è½»é‡çº§é”ï¼Œä»‹ç»ä¸‹å‡çº§æµç¨‹</li><li>æ­»é”çš„å¿…è¦æ¡ä»¶ï¼Œå¦‚ä½•é¢„é˜²æ­»é”</li><li>ä»‹ç»ä¸‹ CountDownLatch å’Œ CyclicBarrier</li><li>ä»‹ç»ä¸‹ CASï¼Œå­˜åœ¨ä»€ä¹ˆé—®é¢˜</li><li>ä»‹ç»ä¸‹ ThreadLocalï¼Œå­˜åœ¨ä»€ä¹ˆé—®é¢˜</li></ul><h3 id="Jvm"><a href="#Jvm" class="headerlink" title="Jvm"></a>Jvm</h3><ul><li>è¿è¡Œæ—¶æ•°æ®åŒº</li><li>æœåŠ¡å™¨ä½¿ç”¨çš„ä»€ä¹ˆåƒåœ¾æ”¶é›†å™¨</li><li>CMS åƒåœ¾æ”¶é›†çš„åŸç†</li><li>G1 åƒåœ¾æ”¶é›†çš„ç‰¹ç‚¹ï¼Œä¸ºä»€ä¹ˆä½å»¶è¿Ÿ</li><li>æœ‰å“ªäº›åƒåœ¾å›æ”¶ç®—æ³•ï¼Œä¼˜ç¼ºç‚¹</li><li>å“ªäº›å¯¹è±¡å¯ä»¥ä½œä¸º GC Roots</li><li>æœ‰å“ªäº›ç±»åŠ è½½å™¨</li><li>åŒäº²å§”æ´¾æ¨¡å¼ï¼Œå“ªäº›åœºæ™¯æ˜¯æ‰“ç ´åŒäº²å§”æ´¾æ¨¡å¼</li><li>çº¿ä¸ŠæœåŠ¡å™¨å‡ºç°é¢‘ç¹ Full GCï¼Œæ€ä¹ˆæ’æŸ¥</li><li>å®šä½é—®é¢˜å¸¸ç”¨å“ªäº›å‘½ä»¤</li><li>ä»‹ç»ä¸‹ JVM è°ƒä¼˜çš„è¿‡ç¨‹</li></ul><h3 id="mysql"><a href="#mysql" class="headerlink" title="mysql"></a>mysql</h3><ul><li>MySQL ç´¢å¼•çš„æ•°æ®ç»“æ„</li><li>ä¸ºä»€ä¹ˆä½¿ç”¨ B+ æ ‘ï¼Œä¸å…¶ä»–ç´¢å¼•ç›¸æ¯”æœ‰ä»€ä¹ˆä¼˜ç‚¹</li><li>å„ç§ç´¢å¼•ä¹‹é—´çš„åŒºåˆ«</li><li>B+ æ ‘åœ¨è¿›è¡ŒèŒƒå›´æŸ¥æ‰¾æ—¶æ€ä¹ˆå¤„ç†</li><li>MySQL ç´¢å¼•å¶å­èŠ‚ç‚¹å­˜æ”¾çš„æ˜¯ä»€ä¹ˆ</li><li>è”åˆç´¢å¼•ï¼ˆå¤åˆç´¢å¼•ï¼‰çš„åº•å±‚å®ç°</li><li>MySQL å¦‚ä½•é”ä½ä¸€è¡Œæ•°æ®</li><li>SELECT è¯­å¥èƒ½åŠ äº’æ–¥é”å—</li><li>å¤šä¸ªäº‹åŠ¡åŒæ—¶å¯¹ä¸€è¡Œæ•°æ®è¿›è¡Œ SELECT FOR UPDATE ä¼šé˜»å¡è¿˜æ˜¯å¼‚å¸¸</li><li>MySQL ä½¿ç”¨çš„ç‰ˆæœ¬å’Œæ‰§è¡Œå¼•æ“</li><li>MySQL ä¸åŒæ‰§è¡Œå¼•æ“çš„åŒºåˆ«</li><li>MySQL çš„äº‹åŠ¡éš”ç¦»çº§åˆ«</li><li>MySQL çš„å¯é‡å¤è¯»æ˜¯æ€ä¹ˆå®ç°çš„</li><li>MySQL æ˜¯å¦ä¼šå‡ºç°å¹»è¯»</li><li>MySQL çš„ gap é”</li><li>MySQL çš„ä¸»ä»åŒæ­¥åŸç†</li><li>åˆ†åº“åˆ†è¡¨çš„å®ç°æ–¹æ¡ˆ</li><li>åˆ†å¸ƒå¼å”¯ä¸€ ID æ–¹æ¡ˆ</li><li>å¦‚ä½•ä¼˜åŒ–æ…¢æŸ¥è¯¢</li><li>explain ä¸­æ¯ä¸ªå­—æ®µçš„æ„æ€</li><li>explain ä¸­çš„ type å­—æ®µæœ‰å“ªäº›å¸¸è§çš„å€¼</li><li>explain ä¸­ä½ é€šå¸¸å…³æ³¨å“ªäº›å­—æ®µï¼Œä¸ºä»€ä¹ˆ</li></ul><h3 id="JavaWeb"><a href="#JavaWeb" class="headerlink" title="JavaWeb"></a>JavaWeb</h3><h3 id="mybatis"><a href="#mybatis" class="headerlink" title="mybatis"></a>mybatis</h3><ul><li>Mybatis ä¸­ # å’Œ $ çš„åŒºåˆ«</li><li>æ€ä¹ˆé˜²æ­¢ SQL æ³¨å…¥</li><li>ä½¿ç”¨ Mybatis æ—¶ï¼Œè°ƒç”¨ DAOï¼ˆMapperï¼‰æ¥å£æ—¶æ˜¯æ€ä¹ˆè°ƒç”¨åˆ° SQL çš„</li></ul><h3 id="spring"><a href="#spring" class="headerlink" title="spring"></a>spring</h3><ul><li>ä»‹ç»ä¸‹ Spring IoC çš„æµç¨‹</li><li>BeanFactory å’Œ FactoryBean çš„åŒºåˆ«</li><li>Spring çš„ AOP æ˜¯æ€ä¹ˆå®ç°çš„</li><li>Spring çš„äº‹åŠ¡ä¼ æ’­è¡Œä¸ºæœ‰å“ªäº›ï¼Œè®²ä¸‹åµŒå¥—äº‹åŠ¡</li><li>ä»€ä¹ˆæƒ…å†µä¸‹å¯¹è±¡ä¸èƒ½è¢«ä»£ç†</li><li>Spring æ€ä¹ˆè§£å†³å¾ªç¯ä¾èµ–çš„é—®é¢˜</li><li>è¦åœ¨ Spring IoC å®¹å™¨æ„å»ºå®Œæ¯•ä¹‹åæ‰§è¡Œä¸€äº›é€»è¾‘ï¼Œæ€ä¹ˆå®ç°</li><li>@Resource å’Œ @Autowire çš„åŒºåˆ«</li><li>@Autowire æ€ä¹ˆä½¿ç”¨åç§°æ¥æ³¨å…¥</li><li>bean çš„ init-method å±æ€§æŒ‡å®šçš„æ–¹æ³•é‡Œç”¨åˆ°äº†å…¶ä»– bean å®ä¾‹ï¼Œä¼šæœ‰é—®é¢˜å—</li><li>@PostConstruct ä¿®é¥°çš„æ–¹æ³•é‡Œç”¨åˆ°äº†å…¶ä»– bean å®ä¾‹ï¼Œä¼šæœ‰é—®é¢˜å—</li><li>Spring ä¸­ï¼Œæœ‰ä¸¤ä¸ª id ç›¸åŒçš„ beanï¼Œä¼šæŠ¥é”™å—ï¼Œå¦‚æœä¼šæŠ¥é”™ï¼Œåœ¨å“ªä¸ªé˜¶æ®µæŠ¥é”™</li><li>Spring ä¸­ï¼Œbean çš„ class å±æ€§æŒ‡å®šäº†ä¸€ä¸ªä¸å­˜åœ¨çš„ classï¼Œä¼šæŠ¥é”™å—ï¼Œå¦‚æœä¼šæŠ¥é”™ï¼Œåœ¨å“ªä¸ªé˜¶æ®µ</li><li>Spring ä¸­çš„å¸¸è§æ‰©å±•ç‚¹æœ‰å“ªäº›</li></ul><h3 id="springboot"><a href="#springboot" class="headerlink" title="springboot"></a>springboot</h3><h3 id="redis"><a href="#redis" class="headerlink" title="redis"></a>redis</h3><ul><li>é¡¹ç›®ä¸­ä½¿ç”¨çš„ Redis ç‰ˆæœ¬</li><li>Redis åœ¨é¡¹ç›®ä¸­çš„ä½¿ç”¨åœºæ™¯</li><li>Redis æ€ä¹ˆä¿è¯é«˜å¯ç”¨</li><li>Redis çš„é€‰ä¸¾æµç¨‹</li><li>Redis å’Œ Memcache çš„åŒºåˆ«</li><li>Redis çš„é›†ç¾¤æ¨¡å¼</li><li>Redis é›†ç¾¤è¦å¢åŠ åˆ†ç‰‡ï¼Œæ§½çš„è¿ç§»æ€ä¹ˆä¿è¯æ— æŸ</li><li>Redis åˆ†å¸ƒå¼é”çš„å®ç°</li><li>Redis åˆ é™¤è¿‡æœŸé”®çš„ç­–ç•¥</li><li>Redis çš„å†…å­˜æ·˜æ±°ç­–ç•¥</li><li>Redis çš„ Hash å¯¹è±¡åº•å±‚ç»“æ„</li><li>Redis ä¸­ Hash å¯¹è±¡çš„æ‰©å®¹æµç¨‹</li><li>Redis çš„ Hash å¯¹è±¡çš„æ‰©å®¹æµç¨‹åœ¨æ•°æ®é‡å¤§çš„æ—¶å€™ä¼šæœ‰ä»€ä¹ˆé—®é¢˜å—</li><li>Redis çš„æŒä¹…åŒ–æœºåˆ¶æœ‰å“ªå‡ ç§</li><li>RDB å’Œ AOF çš„å®ç°åŸç†ã€ä¼˜ç¼ºç‚¹</li><li>AOF é‡å†™çš„è¿‡ç¨‹</li><li>å“¨å…µæ¨¡å¼çš„åŸç†</li><li>ä½¿ç”¨ç¼“å­˜æ—¶ï¼Œå…ˆæ“ä½œæ•°æ®åº“è¿˜æ˜¯å…ˆæ“ä½œç¼“å­˜</li><li>ä¸ºä»€ä¹ˆæ˜¯è®©ç¼“å­˜å¤±æ•ˆï¼Œè€Œä¸æ˜¯æ›´æ–°ç¼“å­˜</li><li>ç¼“å­˜ç©¿é€ã€ç¼“å­˜å‡»ç©¿ã€ç¼“å­˜é›ªå´©</li><li>æ›´æ–°ç¼“å­˜çš„å‡ ç§è®¾è®¡æ¨¡å¼</li></ul><h3 id="kafka"><a href="#kafka" class="headerlink" title="kafka"></a>kafka</h3><ul><li>ä¸ºä»€ä¹ˆä½¿ç”¨ Kafka</li><li>ä»‹ç»ä¸‹ Kafka çš„å„ä¸ªç»„ä»¶</li><li>å¦‚ä½•ä¿è¯å†™å…¥ Kafka çš„æ•°æ®ä¸ä¸¢å¤±</li><li>å¦‚ä½•ä¿è¯ä» Kafka æ¶ˆè´¹çš„æ•°æ®ä¸ä¸¢å¤±</li><li>Kafka ä¸ºä»€ä¹ˆæ€§èƒ½è¿™ä¹ˆé«˜</li><li>é›¶æ‹·è´æŠ€æœ¯ä½¿ç”¨å“ªä¸ªæ–¹æ³•å®ç°</li><li>Java ä¸­ä¹Ÿæœ‰ç±»ä¼¼çš„é›¶æ‹·è´æŠ€æœ¯ï¼Œæ˜¯å“ªä¸ªæ–¹æ³•</li><li>Kafka æ€ä¹ˆä¿è¯æ¶ˆæ¯çš„é¡ºåºæ¶ˆè´¹</li><li>Kafka æ€ä¹ˆé¿å…é‡å¤æ¶ˆè´¹</li><li>ä»€ä¹ˆæ˜¯ HighWatermark å’Œ LEO</li><li>ä»€ä¹ˆæ˜¯ ISRï¼Œä¸ºä»€ä¹ˆéœ€è¦å¼•å…¥ ISR</li></ul><h3 id="åˆ†å¸ƒå¼ç†è®º"><a href="#åˆ†å¸ƒå¼ç†è®º" class="headerlink" title="åˆ†å¸ƒå¼ç†è®º"></a>åˆ†å¸ƒå¼ç†è®º</h3><ul><li>CAP ç†è®º</li><li>BASE ç†è®º</li><li>åˆ†å¸ƒå¼äº‹åŠ¡ 2PC å’Œ TCC çš„åŸç†</li><li>TCC åœ¨ cancel é˜¶æ®µå¦‚æœå‡ºç°å¤±è´¥æ€ä¹ˆå¤„ç†</li><li>Paxos ç®—æ³•ã€Raft ç®—æ³•</li></ul><h2 id="é¢ç»"><a href="#é¢ç»" class="headerlink" title="é¢ç»"></a>é¢ç»</h2><h3 id="å­—èŠ‚è·³åŠ¨"><a href="#å­—èŠ‚è·³åŠ¨" class="headerlink" title="å­—èŠ‚è·³åŠ¨"></a>å­—èŠ‚è·³åŠ¨</h3><h2 id="å­—èŠ‚è·³åŠ¨æŠ€æœ¯ä¸€é¢"><a href="#å­—èŠ‚è·³åŠ¨æŠ€æœ¯ä¸€é¢" class="headerlink" title="å­—èŠ‚è·³åŠ¨æŠ€æœ¯ä¸€é¢"></a><strong>å­—èŠ‚è·³åŠ¨æŠ€æœ¯ä¸€é¢</strong></h2><ul><li>è®²ä¸€ä¸‹çº¿ç¨‹å‚æ•°çš„å«ä¹‰</li><li>Innodbçš„ç´¢å¼•å®ç°</li><li>ä¸ºä»€ä¹ˆæ˜¯B+æ ‘ï¼Ÿ</li><li>Redisçš„ä½¿ç”¨ï¼Œåˆ†å¸ƒå¼é”çš„å®ç°</li><li>æ“ä½œç³»ç»Ÿè™šæ‹Ÿå†…å­˜æ¢é¡µçš„è¿‡ç¨‹</li><li>TCPä¸‰æ¬¡æ¡æ‰‹</li><li>volatileå…³é”®å­—çš„ä½œç”¨</li><li>ä¹è§‚é”ã€æ‚²è§‚é”</li><li>ä¹‹å‰ç”¨è¿‡å“ªäº›è®¾è®¡æ¨¡å¼ï¼Ÿ</li><li>ç®—æ³•é¢˜ï¼šæ»‘åŠ¨çª—å£</li></ul><h2 id="å­—èŠ‚è·³åŠ¨æŠ€æœ¯äºŒé¢"><a href="#å­—èŠ‚è·³åŠ¨æŠ€æœ¯äºŒé¢" class="headerlink" title="å­—èŠ‚è·³åŠ¨æŠ€æœ¯äºŒé¢"></a><strong>å­—èŠ‚è·³åŠ¨æŠ€æœ¯äºŒé¢</strong></h2><ul><li>è¯´ä¸€ä¸‹Bæ ‘å’ŒB+æ ‘çš„åŒºåˆ«</li><li>è¯´ä¸€ä¸‹HashMapçš„å®ç°ï¼Œæ‰©å®¹æœºåˆ¶ï¼Œæ‰©å®¹æ—¶å¦‚ä½•ä¿è¯å¯æ“ä½œï¼Ÿ</li><li>Redisæ‰©å®¹æœºåˆ¶ï¼ˆæ¸è¿›å¼å•çº¿ç¨‹æ‰©å®¹ï¼‰</li><li>Spring IoCçš„åŸç†ï¼Œå¦‚ä½•å®ç°ï¼Œå¦‚ä½•è§£å†³å¾ªç¯ä¾èµ–ï¼Ÿ</li><li>ä¸¤çº¿ç¨‹å¯¹å˜é‡iè¿›è¡ŒåŠ 1æ“ä½œï¼Œç»“æœå¦‚ä½•ï¼Ÿä¸ºä»€ä¹ˆï¼Ÿæ€ä¹ˆè§£å†³ï¼Ÿ</li><li>CASæ¦‚å¿µã€åŸå­ç±»å®ç°åŸç†</li><li>synchronizeåº•å±‚å®ç°ï¼Œå¦‚ä½•å®ç°Lockï¼Ÿ</li><li>AQSæœ‰ä»€ä¹ˆç‰¹ç‚¹ï¼Ÿ</li><li>æ‰‹å†™é¡¹ç›®ä¸­æŸä¸ªæ¨¡å—ä»£ç ã€‚</li><li>ä»‹ç»å„ç§ç½‘ç»œåè®®ã€‚</li><li>DNSåœ¨ç½‘ç»œå±‚ç”¨å“ªä¸ªåè®®ï¼Œä¸ºä»€ä¹ˆã€‚</li><li>ä»‹ç»HTTPSåè®®ï¼Œè¯¦è¿°SSLå»ºç«‹è¿æ¥è¿‡ç¨‹ã€‚</li><li>ä»£ç é¢˜ï¼šåè½¬å•é“¾è¡¨ã€‚</li><li>ä»£ç é¢˜ï¼šå¤æ‚é“¾è¡¨å¤åˆ¶ã€‚</li></ul><h2 id="å­—èŠ‚è·³åŠ¨æŠ€æœ¯ä¸‰é¢"><a href="#å­—èŠ‚è·³åŠ¨æŠ€æœ¯ä¸‰é¢" class="headerlink" title="å­—èŠ‚è·³åŠ¨æŠ€æœ¯ä¸‰é¢"></a><strong>å­—èŠ‚è·³åŠ¨æŠ€æœ¯ä¸‰é¢</strong></h2><ul><li>ç®—æ³•é¢˜å¤šåˆ°çˆ†ç‚¸ï¼Œæ„Ÿè§‰æ˜¯ç®—æ³•ä¸“åœºï¼Œå®‡å®™æ¡æœçœŸåä¸è™šä¼ </li><li>è¯´ä¸€ä¸‹Javaåƒåœ¾å›æ”¶æœºåˆ¶</li><li>64åŒ¹é©¬ï¼Œ8ä¸ªèµ›é“ï¼Œæ‰¾æœ€å¿«çš„4åŒ¹é©¬</li><li>ç»™å‡ºä¸¤ä¸ªå‡åºæ•°ç»„Aã€Bå’Œé•¿åº¦mã€nï¼Œæ±‚ç¬¬kä¸ªå¤§çš„</li><li>ç»™å‡ºæ•°ç»„Aï¼Œé•¿åº¦ä¸ºnï¼Œæ•°ç»„ä¸­å…ƒç´ çš„å€¼ä½äº[0, n - 1]ä¹‹é—´ï¼Œæ±‚æ˜¯å¦æœ‰é‡å¤å…ƒç´ </li><li>è®²ä¸€ä¸‹å¤šçº¿ç¨‹ä¸å¤šè¿›ç¨‹åŒºåˆ«</li><li>JVMä¸­ä»€ä¹ˆæ—¶å€™ä¼šè¿›è¡Œåƒåœ¾å›æ”¶ï¼Ÿä»€ä¹ˆæ ·çš„å¯¹è±¡æ˜¯å¯ä»¥å›æ”¶çš„ï¼Ÿ</li><li>Springä¸»è¦æ€æƒ³æ˜¯ä»€ä¹ˆï¼Ÿ</li></ul><h2 id="å­—èŠ‚è·³åŠ¨æŠ€æœ¯å››é¢"><a href="#å­—èŠ‚è·³åŠ¨æŠ€æœ¯å››é¢" class="headerlink" title="å­—èŠ‚è·³åŠ¨æŠ€æœ¯å››é¢"></a><strong>å­—èŠ‚è·³åŠ¨æŠ€æœ¯å››é¢</strong></h2><ul><li>åœºæ™¯é¢˜ç›®ï¼šè®¾è®¡ä¸€ä¸ªçŸ­åŸŸåæœåŠ¡ï¼šçŸ­ä¿¡å­˜ä¸äº†å¤ªé•¿ç½‘ç«™ï¼Œéœ€è¦å¼„æˆçŸ­åŸŸåï¼Œä½ è¯¥å¦‚ä½•è®¾è®¡ä¸€ä¸ªæœåŠ¡ï¼Œå¯ä»¥ä¸ºå…¨å›½çš„ç½‘å€æœåŠ¡ã€‚</li><li>TCPä¸ºä»€ä¹ˆæ˜¯ä¸‰æ¬¡æ¡æ‰‹å››æ¬¡æŒ¥æ‰‹ï¼Ÿ</li><li>æ•°æ®åº“çš„éš”ç¦»çº§åˆ«</li><li>sqlé¢˜ï¼Œå†™äº†ä¸ªè¿è¡¨æŸ¥è¯¢å¤–åŠ æ¨¡ç³ŠæŸ¥è¯¢</li><li>ç®—æ³•ï¼šé•œåƒäºŒå‰æ ‘ â€¦â€¦</li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> é¢è¯• </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>springMvcæ‰§è¡Œæµç¨‹</title>
      <link href="2021/04/12/springMvc%E6%89%A7%E8%A1%8C%E6%B5%81%E7%A8%8B/"/>
      <url>2021/04/12/springMvc%E6%89%A7%E8%A1%8C%E6%B5%81%E7%A8%8B/</url>
      
        <content type="html"><![CDATA[<h1 id="springMvcæ‰§è¡Œæµç¨‹"><a href="#springMvcæ‰§è¡Œæµç¨‹" class="headerlink" title="springMvcæ‰§è¡Œæµç¨‹"></a>springMvcæ‰§è¡Œæµç¨‹</h1><h2 id="spring4-2-4åŸæ–‡æ¡£å›¾"><a href="#spring4-2-4åŸæ–‡æ¡£å›¾" class="headerlink" title="spring4.2.4åŸæ–‡æ¡£å›¾"></a>spring4.2.4åŸæ–‡æ¡£å›¾</h2><p><img src="https://gitee.com/rain-sky/images/raw/master/20210414220342.png"></p><p><code>å‰ç½®æ§åˆ¶å™¨ï¼ŒspringMvcæ ¸å¿ƒ</code></p><p><img src="https://gitee.com/rain-sky/images/raw/master/20210419100723.png"></p><p>å‚ç…§ï¼š</p><p><img src="https://gitee.com/rain-sky/images/raw/master/20210419102208.png"></p><h2 id="springMvcæ‰§è¡Œæµç¨‹-1"><a href="#springMvcæ‰§è¡Œæµç¨‹-1" class="headerlink" title="springMvcæ‰§è¡Œæµç¨‹"></a>springMvcæ‰§è¡Œæµç¨‹</h2><h3 id="å‡†å¤‡æ¦‚è¦ï¼š"><a href="#å‡†å¤‡æ¦‚è¦ï¼š" class="headerlink" title="å‡†å¤‡æ¦‚è¦ï¼š"></a>å‡†å¤‡æ¦‚è¦ï¼š</h3><h4 id="mavené…ç½®"><a href="#mavené…ç½®" class="headerlink" title="mavené…ç½®"></a>mavené…ç½®</h4><figure class="highlight xml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">project</span> <span class="attr">xmlns</span>=<span class="string">"http://maven.apache.org/POM/4.0.0"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">xmlns:xsi</span>=<span class="string">"http://www.w3.org/2001/XMLSchema-instance"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">xsi:schemaLocation</span>=<span class="string">"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">modelVersion</span>&gt;</span>4.0.0<span class="tag">&lt;/<span class="name">modelVersion</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.chen<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>springMVC<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">packaging</span>&gt;</span>pom<span class="tag">&lt;/<span class="name">packaging</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.0-SNAPSHOT<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">modules</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">module</span>&gt;</span>SpringMVC-01-servlet<span class="tag">&lt;/<span class="name">module</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">module</span>&gt;</span>springMVC-02-hellomvc<span class="tag">&lt;/<span class="name">module</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">modules</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>mysql<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mysql-connector-java<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>5.1.47<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-webmvc<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>5.1.9.RELEASE<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>junit<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>junit<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>4.12<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>javax.servlet<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>servlet-api<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.5<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>javax.servlet.jsp<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>jsp-api<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>javax.servlet<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>jstl<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">build</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">resources</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">resource</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">directory</span>&gt;</span>src/main/java<span class="tag">&lt;/<span class="name">directory</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">includes</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">include</span>&gt;</span>**/*.properties<span class="tag">&lt;/<span class="name">include</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">include</span>&gt;</span>**/*.xml<span class="tag">&lt;/<span class="name">include</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">includes</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">filtering</span>&gt;</span>false<span class="tag">&lt;/<span class="name">filtering</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">resource</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">resource</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">directory</span>&gt;</span>src/main/resources<span class="tag">&lt;/<span class="name">directory</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">includes</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">include</span>&gt;</span>**/*.properties<span class="tag">&lt;/<span class="name">include</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">include</span>&gt;</span>**/*.xml<span class="tag">&lt;/<span class="name">include</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">includes</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">filtering</span>&gt;</span>false<span class="tag">&lt;/<span class="name">filtering</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">resource</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">resources</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">build</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">project</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><h4 id="é…ç½®web-xmlï¼Œæ³¨å†ŒDispatcherServlet"><a href="#é…ç½®web-xmlï¼Œæ³¨å†ŒDispatcherServlet" class="headerlink" title="é…ç½®web.xmlï¼Œæ³¨å†ŒDispatcherServlet"></a>é…ç½®web.xmlï¼Œæ³¨å†ŒDispatcherServlet</h4><figure class="highlight xml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">web-app</span> <span class="attr">xmlns</span>=<span class="string">"http://xmlns.jcp.org/xml/ns/javaee"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">xmlns:xsi</span>=<span class="string">"http://www.w3.org/2001/XMLSchema-instance"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">xsi:schemaLocation</span>=<span class="string">"http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_4_0.xsd"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">version</span>=<span class="string">"4.0"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>springmvc<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">servlet-class</span>&gt;</span>org.springframework.web.servlet.DispatcherServlet<span class="tag">&lt;/<span class="name">servlet-class</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--å…³è”ä¸€ä¸ªspringmvcçš„é…ç½®æ–‡ä»¶:ã€servlet-nameã€‘-servlet.xml--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">init-param</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">param-name</span>&gt;</span>contextConfigLocation<span class="tag">&lt;/<span class="name">param-name</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">param-value</span>&gt;</span>classpath:springmvc-servlet.xml<span class="tag">&lt;/<span class="name">param-value</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">init-param</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--å¯åŠ¨çº§åˆ«-1--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">load-on-startup</span>&gt;</span>1<span class="tag">&lt;/<span class="name">load-on-startup</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">servlet</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!--/ åŒ¹é…æ‰€æœ‰çš„è¯·æ±‚ï¼›ï¼ˆä¸åŒ…æ‹¬.jspï¼‰--&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--/* åŒ¹é…æ‰€æœ‰çš„è¯·æ±‚ï¼›ï¼ˆåŒ…æ‹¬.jspï¼‰--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>springmvc<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line">    </span><br><span class="line"><span class="tag">&lt;/<span class="name">web-app</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><p><strong>ç¼–å†™springMvc-servlet.xmlï¼Œæ­¤å¤„ä½¿ç”¨æ³¨è§£æ–¹å¼å®ç°</strong></p><figure class="highlight xml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">"http://www.springframework.org/schema/beans"</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:xsi</span>=<span class="string">"http://www.w3.org/2001/XMLSchema-instance"</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:context</span>=<span class="string">"http://www.springframework.org/schema/context"</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:aop</span>=<span class="string">"http://www.springframework.org/schema/aop"</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:mvc</span>=<span class="string">"http://www.springframework.org/schema/mvc"</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xsi:schemaLocation</span>=<span class="string">"http://www.springframework.org/schema/beans</span></span></span><br><span class="line"><span class="tag"><span class="string">        https://www.springframework.org/schema/beans/spring-beans.xsd</span></span></span><br><span class="line"><span class="tag"><span class="string">        http://www.springframework.org/schema/context</span></span></span><br><span class="line"><span class="tag"><span class="string">        https://www.springframework.org/schema/context/spring-context.xsd</span></span></span><br><span class="line"><span class="tag"><span class="string">        http://www.springframework.org/schema/aop</span></span></span><br><span class="line"><span class="tag"><span class="string">        https://www.springframework.org/schema/aop/spring-aop.xsd</span></span></span><br><span class="line"><span class="tag"><span class="string">        http://www.springframework.org/schema/mvc</span></span></span><br><span class="line"><span class="tag"><span class="string">        https://www.springframework.org/schema/mvc/spring-mvc.xsd"</span>&gt;</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">&lt;!-- æ‰«ææŒ‡å®šåŒ…ä¸‹çš„æ‰€æœ‰controller --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">context:component-scan</span> <span class="attr">base-package</span>=<span class="string">"com.chen.controller"</span>/&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- å¼€å¯æ³¨è§£é©±åŠ¨ --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">mvc:annotation-driven</span>/&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- è®©springMvcä¸å¤„ç†é™æ€èµ„æº --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">mvc:default-servlet-handler</span>/&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--å¼€å¯æ³¨è§£æ”¯æŒ --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">context:annotation-config</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- æ·»åŠ å¤„ç†æ˜ å°„å™¨ --&gt;</span></span><br><span class="line"><span class="comment">&lt;!--    &lt;bean class="org.springframework.web.servlet.handler.BeanNameUrlHandlerMapping"/&gt;   --&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- æ·»åŠ å¤„ç†é€‚é…å™¨ --&gt;</span></span><br><span class="line"><span class="comment">&lt;!--    &lt;bean class="org.springframework.web.servlet.mvc.SimpleControllerHandlerAdapter"/&gt;  --&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- æ·»åŠ è§†å›¾è§£æå™¨ --&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--è§†å›¾è§£æå™¨:DispatcherServletç»™ä»–çš„ModelAndView--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">class</span>=<span class="string">"org.springframework.web.servlet.view.InternalResourceViewResolver"</span> <span class="attr">id</span>=<span class="string">"internalResourceViewResolver"</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--å‰ç¼€--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"prefix"</span> <span class="attr">value</span>=<span class="string">"/WEB-INF/jsp/"</span>/&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--åç¼€--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"suffix"</span> <span class="attr">value</span>=<span class="string">".jsp"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><h4 id="ç¼–å†™è‡ªå·±çš„controller"><a href="#ç¼–å†™è‡ªå·±çš„controller" class="headerlink" title="ç¼–å†™è‡ªå·±çš„controller"></a>ç¼–å†™è‡ªå·±çš„controller</h4><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Controller</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ServlertContorller</span></span>{</span><br><span class="line">    <span class="meta">@RequestMapping("/hello")</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getPageHello</span><span class="params">(Model model)</span></span>{</span><br><span class="line">        model.addAttribute(<span class="string">"msg"</span>,<span class="string">"hello world!"</span>);</span><br><span class="line">        <span class="comment">//è¿”å›éœ€è¦æ‹¼æ¥çš„è§†å›¾å</span></span><br><span class="line">        <span class="keyword">return</span> <span class="string">"hello"</span>;</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h2 id="æ‰§è¡Œæµç¨‹åˆ†æ"><a href="#æ‰§è¡Œæµç¨‹åˆ†æ" class="headerlink" title="æ‰§è¡Œæµç¨‹åˆ†æ"></a>æ‰§è¡Œæµç¨‹åˆ†æ</h2><ol><li>ç”¨æˆ·å‘èµ·è¯·æ±‚ï¼Œæ­¤å¤„ä»¥localhost:8080\hello ä¸ºä¾‹</li><li>å‰ç«¯æ§åˆ¶å™¨DispatcherServletæ‹¦æˆªè¯·æ±‚\hello**(é…ç½®æ‰€æœ‰\ è¯·æ±‚å‡è¢«å‰ç«¯æ§åˆ¶å™¨æ‹¦æˆª)**</li><li>DispatcherServletè°ƒç”¨å¤„ç†æ˜ å°„å™¨HandlerMappingï¼Œå¤„ç†å™¨æ˜ å°„å™¨æ ¹æ®è¯·æ±‚urlæ‰¾åˆ°å…·ä½“çš„å¤„ç†å™¨æ˜ å°„å™¨(ä¸€å…±æœ‰äº”ä¸ª)ï¼Œç”Ÿæˆå¤„ç†å™¨æ‰§è¡Œé“¾HandlerExecutionChain(åŒ…æ‹¬å¤„ç†å™¨å¯¹è±¡å’Œå¤„ç†å™¨æ‹¦æˆªå™¨)ä¸€å¹¶è¿”å›ç»™DispatcherServletã€‚<code>æ­¤å¤„å…·ä½“çš„å¤„ç†å™¨å³ä¸º &lt;bean id="/hello" class="com.chen.controller.ServlertContorller"/&gt;</code></li><li>DispatcherServletè°ƒç”¨å¤„ç†é€‚é…å™¨HandlerAdapterï¼Œè¯·æ±‚æ‰§è¡Œå¯¹åº”handler(å³æ­¤å¤„è‡ªå·±ç¼–å†™çš„controller)</li><li>HandlerAdapterè°ƒç”¨å¯¹åº”controlleræ‰§è¡Œå¯¹åº”çš„å¤„ç†ï¼Œå¤„ç†ç»“æœè¿”å›ModelAndViewå›ä¼ HandlerAdapter</li><li>HandlerAdapterå°†ModelAndViewä¸­ç»§åˆ°å‰ç«¯æ§åˆ¶å™¨DispatcherServlet</li><li>DispatcherServletå°†ModelAndViewä¼ é€ç»™ViewResolve</li><li>è§†å›¾è§£æå™¨å¯¹ModelAndViewè¿›è¡Œè§†å›¾è§£æï¼Œæ‹¼æ¥å…·ä½“è§†å›¾è·¯å¾„ï¼Œè§£æè¿”å›å…·ä½“è§†å›¾Viewhuiå‰ç«¯æ§åˆ¶å™¨</li><li>å‰ç«¯æ§åˆ¶å™¨è°ƒç”¨å…·ä½“è§†å›¾(æ¸²æŸ“è£…å¡«modelä¸­çš„æ•°æ®)</li><li>å°†è§†å›¾è¿”å›ç»™ç”¨æˆ·</li></ol><p>ç¬¬ä¸‰æ­¥åŒ¹é…æ˜ å°„å™¨æºç </p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (HandlerMapping mapping : <span class="keyword">this</span>.handlerMappings) {</span><br><span class="line">HandlerExecutionChain handler = mapping.getHandler(request);</span><br><span class="line"><span class="keyword">if</span> (handler != <span class="keyword">null</span>) {</span><br><span class="line"><span class="keyword">return</span> handler;</span><br><span class="line">}</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h2 id="ç»„ä»¶è¯´æ˜"><a href="#ç»„ä»¶è¯´æ˜" class="headerlink" title="ç»„ä»¶è¯´æ˜"></a>ç»„ä»¶è¯´æ˜</h2><ul><li>DispatcherServletï¼šå‰ç«¯æ§åˆ¶å™¨ï¼Œä¹Ÿç§°ä¸ºä¸­å¤®æ§åˆ¶å™¨ï¼Œå®ƒæ˜¯æ•´ä¸ªè¯·æ±‚å“åº”çš„æ§åˆ¶ä¸­å¿ƒï¼Œç»„ä»¶çš„è°ƒç”¨ç”±å®ƒç»Ÿä¸€è°ƒåº¦ã€‚</li><li>HandlerMappingï¼šå¤„ç†å™¨æ˜ å°„å™¨ï¼Œå®ƒæ ¹æ®ç”¨æˆ·è®¿é—®çš„ URL æ˜ å°„åˆ°å¯¹åº”çš„åç«¯å¤„ç†å™¨ Handlerï¼Œspringmvcæä¾›äº†ä¸åŒçš„æ˜ å°„å™¨å®ç°ä¸åŒçš„æ˜ å°„æ–¹å¼ï¼Œæ ¹æ®ä¸€å®šçš„è§„åˆ™å»æŸ¥æ‰¾,ä¾‹å¦‚ï¼šxmlé…ç½®æ–¹å¼ï¼Œå®ç°æ¥å£æ–¹å¼ï¼Œæ³¨è§£æ–¹å¼ç­‰ã€‚å®ƒçŸ¥é“å¤„ç†ç”¨æˆ·è¯·æ±‚çš„åç«¯å¤„ç†å™¨ï¼Œä½†æ˜¯å®ƒå¹¶ä¸æ‰§è¡Œåç«¯å¤„ç†å™¨ï¼Œè€Œæ˜¯å°†å¤„ç†å™¨å‘Šè¯‰ç»™ä¸­å¤®å¤„ç†å™¨ã€‚</li><li>HandlerAdapterï¼šå¤„ç†å™¨é€‚é…å™¨ï¼Œå®ƒè°ƒç”¨åç«¯å¤„ç†å™¨ä¸­çš„æ–¹æ³•ï¼Œè¿”å›é€»è¾‘è§†å›¾ ModelAndView å¯¹è±¡ã€‚</li><li>ViewResolverï¼šè§†å›¾è§£æå™¨ï¼Œå°† ModelAndView é€»è¾‘è§†å›¾è§£æä¸ºå…·ä½“çš„è§†å›¾ï¼ˆå¦‚ JSPï¼‰ã€‚</li><li>Handlerï¼šåç«¯å¤„ç†å™¨ï¼Œå¯¹ç”¨æˆ·å…·ä½“è¯·æ±‚è¿›è¡Œå¤„ç†ï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬ç¼–å†™çš„ Controller ç±»ã€‚Handler æ˜¯ç»§DispatcherServletå‰ç«¯æ§åˆ¶å™¨çš„åç«¯æ§åˆ¶å™¨ï¼Œåœ¨DispatcherServletçš„æ§åˆ¶ä¸‹Handlerå¯¹å…·ä½“çš„ç”¨æˆ·è¯·æ±‚è¿›è¡Œå¤„ç†ã€‚ç”±äºHandleræ¶‰åŠåˆ°å…·ä½“çš„ç”¨æˆ·ä¸šåŠ¡è¯·æ±‚ï¼Œæ‰€ä»¥ä¸€èˆ¬æƒ…å†µéœ€è¦ç¨‹åºå‘˜æ ¹æ®ä¸šåŠ¡éœ€æ±‚å¼€å‘Handlerã€‚</li><li>View: æ˜¯springmvcçš„å°è£…å¯¹è±¡ï¼Œæ˜¯ä¸€ä¸ªæ¥å£, springmvcæ¡†æ¶æä¾›äº†å¾ˆå¤šçš„Viewè§†å›¾ç±»å‹ï¼ŒåŒ…æ‹¬ï¼šjspviewï¼Œpdfview,jstlViewã€freemarkerViewã€pdfViewç­‰ã€‚ä¸€èˆ¬æƒ…å†µä¸‹éœ€è¦é€šè¿‡é¡µé¢æ ‡ç­¾æˆ–é¡µé¢æ¨¡ç‰ˆæŠ€æœ¯å°†æ¨¡å‹æ•°æ®é€šè¿‡é¡µé¢å±•ç¤ºç»™ç”¨æˆ·ï¼Œéœ€è¦ç”±ç¨‹åºå‘˜æ ¹æ®ä¸šåŠ¡éœ€æ±‚å¼€å‘å…·ä½“çš„é¡µé¢ã€‚</li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> sprigMvc </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>springMvcé¡¹ç›®æ‰“åŒ…åæœªæ‰“åŒ…ä¾èµ–å¯¼è‡´404é—®é¢˜</title>
      <link href="2021/04/11/springMvc%E9%A1%B9%E7%9B%AE%E6%89%93%E5%8C%85%E5%90%8E%E6%9C%AA%E6%89%93%E5%8C%85%E4%BE%9D%E8%B5%96%E5%AF%BC%E8%87%B4404%E9%97%AE%E9%A2%98/"/>
      <url>2021/04/11/springMvc%E9%A1%B9%E7%9B%AE%E6%89%93%E5%8C%85%E5%90%8E%E6%9C%AA%E6%89%93%E5%8C%85%E4%BE%9D%E8%B5%96%E5%AF%BC%E8%87%B4404%E9%97%AE%E9%A2%98/</url>
      
        <content type="html"><![CDATA[<p>controller</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ServlertContorller</span> <span class="keyword">implements</span> <span class="title">Controller</span> </span>{</span><br><span class="line">    <span class="function"><span class="keyword">public</span> ModelAndView <span class="title">handleRequest</span><span class="params">(HttpServletRequest httpServletRequest, HttpServletResponse httpServletResponse)</span> <span class="keyword">throws</span> Exception </span>{</span><br><span class="line">        ModelAndView mv = <span class="keyword">new</span> ModelAndView();</span><br><span class="line">        mv.addObject(<span class="string">"msg"</span>,<span class="string">"the first springMvc program"</span>);</span><br><span class="line">        mv.setViewName(<span class="string">"hello"</span>);</span><br><span class="line">        <span class="keyword">return</span> mv;</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>springmvc-servlet.xml</p><figure class="highlight xml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">"http://www.springframework.org/schema/beans"</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:xsi</span>=<span class="string">"http://www.w3.org/2001/XMLSchema-instance"</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:context</span>=<span class="string">"http://www.springframework.org/schema/context"</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:aop</span>=<span class="string">"http://www.springframework.org/schema/aop"</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xsi:schemaLocation</span>=<span class="string">"http://www.springframework.org/schema/beans</span></span></span><br><span class="line"><span class="tag"><span class="string">        https://www.springframework.org/schema/beans/spring-beans.xsd</span></span></span><br><span class="line"><span class="tag"><span class="string">        http://www.springframework.org/schema/context</span></span></span><br><span class="line"><span class="tag"><span class="string">        https://www.springframework.org/schema/context/spring-context.xsd</span></span></span><br><span class="line"><span class="tag"><span class="string">        http://www.springframework.org/schema/aop</span></span></span><br><span class="line"><span class="tag"><span class="string">        https://www.springframework.org/schema/aop/spring-aop.xsd"</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--å¼€å¯æ³¨è§£æ”¯æŒ --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">context:annotation-config</span>/&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- æ·»åŠ å¤„ç†æ˜ å°„å™¨ --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">class</span>=<span class="string">"org.springframework.web.servlet.handler.BeanNameUrlHandlerMapping"</span>/&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- æ·»åŠ å¤„ç†é€‚é…å™¨ --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">class</span>=<span class="string">"org.springframework.web.servlet.mvc.SimpleControllerHandlerAdapter"</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- æ·»åŠ è§†å›¾è§£æå™¨ --&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--è§†å›¾è§£æå™¨:DispatcherServletç»™ä»–çš„ModelAndView--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">class</span>=<span class="string">"org.springframework.web.servlet.view.InternalResourceViewResolver"</span> <span class="attr">id</span>=<span class="string">"InternalResourceViewResolver"</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--å‰ç¼€--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"prefix"</span> <span class="attr">value</span>=<span class="string">"/WEB-INF/jsp/"</span>/&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--åç¼€--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"suffix"</span> <span class="attr">value</span>=<span class="string">".jsp"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">&lt;!-- å°†è‡ªå·±ç¼–å†™çš„controlleräº¤ç”±iocå®¹å™¨ç®¡ç† --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"/hello"</span> <span class="attr">class</span>=<span class="string">"com.chen.controller.ServlertContorller"</span>/&gt;</span></span><br><span class="line">    </span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><p>ç›®å½•ç»“æ„</p><p><img src="https://gitee.com/rain-sky/images/raw/master/20210414220343.png"></p><p>404é”™è¯¯åŸå› ï¼ŒE:\javaweb\springMVC\out\artifacts\springMVC_02_hellomvc_war_explodedä¸­æ²¡æœ‰æ‰“åŒ…ç›¸å…³ä¾èµ–jaråŒ…</p><p>è§£å†³æ–¹æ¡ˆï¼š</p><p>æ‰‹åŠ¨æ·»åŠ libç›®å½•å¹¶å¯¼å…¥ç›¸å…³ä¾èµ–</p><p><img src="https://gitee.com/rain-sky/images/raw/master/20210414220344.png"></p><p>æ·»åŠ å®Œæˆï¼Œå¦‚å›¾æ‰€ç¤ºï¼š</p><p><img src="https://gitee.com/rain-sky/images/raw/master/20210414220345.png"></p><p>å†æ¬¡æµ‹è¯•è®¿é—®localhost:8080/hello æˆåŠŸï¼</p>]]></content>
      
      
      
        <tags>
            
            <tag> springMvc </tag>
            
            <tag> maven </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>springæ•´åˆmybatis</title>
      <link href="2021/04/10/spring%E6%95%B4%E5%90%88mybatis/"/>
      <url>2021/04/10/spring%E6%95%B4%E5%90%88mybatis/</url>
      
        <content type="html"><![CDATA[<h1 id="spring-æ•´åˆmybatis"><a href="#spring-æ•´åˆmybatis" class="headerlink" title="spring æ•´åˆmybatis"></a>spring æ•´åˆmybatis</h1><h2 id="å›é¡¾mybatisæ­¥éª¤"><a href="#å›é¡¾mybatisæ­¥éª¤" class="headerlink" title="å›é¡¾mybatisæ­¥éª¤"></a>å›é¡¾mybatisæ­¥éª¤</h2><ol><li>å¯¼å…¥mybatisä¸mysqslç›¸å…³åŒ…</li><li>ç¼–å†™mybatisæ ¸å¿ƒé…ç½®æ–‡ä»¶</li><li>ç¼–å†™ä¸šåŠ¡æ¥å£</li><li>ç¼–å†™æ¥å£å¯¹åº”çš„***mapper.xml</li><li>åœ¨mybatiseæ ¸å¿ƒé…ç½®æ–‡ä»¶ä¸­æ³¨å†Œmapper</li><li>è·å–æ ¸å¿ƒé…ç½®æ–‡ä»¶çš„è¾“å…¥æµ,é€šè¿‡è¾“å…¥æµbuild(**)è·å¾—sqlsessionFactory,é€šè¿‡sqlsessionFactoryè·å¾—sqlsession</li><li>é€šè¿‡sqlsession.getMapper(***.class)åŠ¨æ€ä»£ç†è·å¾—ä¸šåŠ¡æ¥å£å®ç°ç±»</li><li>è°ƒç”¨ä¸šåŠ¡å¯¹åº”æ–¹æ³•</li></ol><h2 id="springæ•´åˆmybatis"><a href="#springæ•´åˆmybatis" class="headerlink" title="springæ•´åˆmybatis"></a>springæ•´åˆmybatis</h2><blockquote><p>æ­¥éª¤</p></blockquote><p>1ã€å¯¼å…¥ç›¸å…³jaråŒ…</p><p>junit</p><figure class="highlight xml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>junit<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>junit<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">version</span>&gt;</span>4.12<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><p>mybatis</p><figure class="highlight xml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.mybatis<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mybatis<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.5.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><p>mysql-connector-java</p><figure class="highlight xml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>mysql<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mysql-connector-java<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">version</span>&gt;</span>5.1.47<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><p>springç›¸å…³</p><figure class="highlight xml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-webmvc<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">version</span>&gt;</span>5.1.10.RELEASE<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-jdbc<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">version</span>&gt;</span>5.1.10.RELEASE<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><p>aspectJ AOP ç»‡å…¥å™¨</p><figure class="highlight xml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.aspectj<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>aspectjweaver<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.9.4<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><p>mybatis-springæ•´åˆåŒ… ã€é‡ç‚¹ã€‘</p><figure class="highlight xml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.mybatis<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mybatis-spring<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.0.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><p>é…ç½®Mavené™æ€èµ„æºè¿‡æ»¤é—®é¢˜ï¼</p><figure class="highlight xml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">build</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">resources</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">resource</span>&gt;</span></span><br><span class="line">           <span class="tag">&lt;<span class="name">directory</span>&gt;</span>src/main/java<span class="tag">&lt;/<span class="name">directory</span>&gt;</span></span><br><span class="line">           <span class="tag">&lt;<span class="name">includes</span>&gt;</span></span><br><span class="line">               <span class="tag">&lt;<span class="name">include</span>&gt;</span>**/*.properties<span class="tag">&lt;/<span class="name">include</span>&gt;</span></span><br><span class="line">               <span class="tag">&lt;<span class="name">include</span>&gt;</span>**/*.xml<span class="tag">&lt;/<span class="name">include</span>&gt;</span></span><br><span class="line">           <span class="tag">&lt;/<span class="name">includes</span>&gt;</span></span><br><span class="line">           <span class="tag">&lt;<span class="name">filtering</span>&gt;</span>true<span class="tag">&lt;/<span class="name">filtering</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;/<span class="name">resource</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">resources</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">build</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><h2 id="springæ ¸å¿ƒé…ç½®"><a href="#springæ ¸å¿ƒé…ç½®" class="headerlink" title="springæ ¸å¿ƒé…ç½®"></a>springæ ¸å¿ƒé…ç½®</h2><p>è¦å’Œ Spring ä¸€èµ·ä½¿ç”¨ MyBatisï¼Œéœ€è¦åœ¨ Spring åº”ç”¨ä¸Šä¸‹æ–‡ä¸­å®šä¹‰è‡³å°‘ä¸¤æ ·ä¸œè¥¿ï¼šä¸€ä¸ª <code>SqlSessionFactory </code>å’Œè‡³å°‘ä¸€ä¸ª<code>æ•°æ®æ˜ å°„å™¨ç±»</code>ã€‚</p><p>åœ¨ MyBatis-Spring ä¸­ï¼Œå¯ä½¿ç”¨SqlSessionFactoryBeanæ¥åˆ›å»º SqlSessionFactoryã€‚è¦é…ç½®è¿™ä¸ªå·¥å‚ beanï¼Œåªéœ€è¦æŠŠä¸‹é¢ä»£ç æ”¾åœ¨ Spring çš„ XML é…ç½®æ–‡ä»¶ä¸­ï¼š</p><figure class="highlight xml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"sqlSessionFactory"</span> <span class="attr">class</span>=<span class="string">"org.mybatis.spring.SqlSessionFactoryBean"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"dataSource"</span> <span class="attr">ref</span>=<span class="string">"dataSource"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><p>æ³¨æ„ï¼š<strong>SqlSessionFactoryéœ€è¦ä¸€ä¸ª DataSourceï¼ˆæ•°æ®æºï¼‰</strong>ã€‚è¿™å¯ä»¥æ˜¯ä»»æ„çš„ DataSourceï¼Œåªéœ€è¦å’Œé…ç½®å…¶å®ƒ Spring æ•°æ®åº“è¿æ¥ä¸€æ ·é…ç½®å®ƒå°±å¯ä»¥äº†ã€‚</p><p>åœ¨åŸºç¡€çš„ MyBatis ç”¨æ³•ä¸­ï¼Œæ˜¯é€šè¿‡ SqlSessionFactoryBuilder æ¥åˆ›å»º SqlSessionFactory çš„ã€‚è€Œåœ¨ MyBatis-Spring ä¸­ï¼Œåˆ™ä½¿ç”¨ SqlSessionFactoryBean æ¥åˆ›å»ºã€‚</p><p>åœ¨ MyBatis ä¸­ï¼Œä½ å¯ä»¥ä½¿ç”¨ SqlSessionFactory æ¥åˆ›å»º SqlSessionã€‚ä¸€æ—¦ä½ è·å¾—ä¸€ä¸ª session ä¹‹åï¼Œä½ å¯ä»¥ä½¿ç”¨å®ƒæ¥æ‰§è¡Œæ˜ å°„äº†çš„è¯­å¥ï¼Œæäº¤æˆ–å›æ»šè¿æ¥ï¼Œæœ€åï¼Œå½“ä¸å†éœ€è¦å®ƒçš„æ—¶å€™ï¼Œä½ å¯ä»¥å…³é—­ sessionã€‚</p><p>SqlSessionFactoryæœ‰ä¸€ä¸ªå”¯ä¸€çš„å¿…è¦å±æ€§ï¼šç”¨äº JDBC çš„ DataSourceã€‚è¿™å¯ä»¥æ˜¯ä»»æ„çš„ DataSource å¯¹è±¡ï¼Œå®ƒçš„é…ç½®æ–¹æ³•å’Œå…¶å®ƒ Spring æ•°æ®åº“è¿æ¥æ˜¯ä¸€æ ·çš„ã€‚</p><p>ä¸€ä¸ªå¸¸ç”¨çš„å±æ€§æ˜¯ configLocationï¼Œå®ƒç”¨æ¥æŒ‡å®š MyBatis çš„ XML é…ç½®æ–‡ä»¶è·¯å¾„ã€‚å®ƒåœ¨éœ€è¦ä¿®æ”¹ MyBatis çš„åŸºç¡€é…ç½®éå¸¸æœ‰ç”¨ã€‚é€šå¸¸ï¼ŒåŸºç¡€é…ç½®æŒ‡çš„æ˜¯ &lt; settings&gt; æˆ– &lt; typeAliases&gt;å…ƒç´ ã€‚</p><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œè¿™ä¸ªé…ç½®æ–‡ä»¶å¹¶ä¸éœ€è¦æ˜¯ä¸€ä¸ªå®Œæ•´çš„ MyBatis é…ç½®ã€‚ç¡®åˆ‡åœ°è¯´ï¼Œä»»ä½•ç¯å¢ƒé…ç½®ï¼ˆ<environments>ï¼‰ï¼Œæ•°æ®æºï¼ˆ<datasource>ï¼‰å’Œ MyBatis çš„äº‹åŠ¡ç®¡ç†å™¨ï¼ˆ<transactionmanager>ï¼‰éƒ½ä¼šè¢«å¿½ç•¥ã€‚SqlSessionFactoryBean ä¼šåˆ›å»ºå®ƒè‡ªæœ‰çš„ MyBatis ç¯å¢ƒé…ç½®ï¼ˆEnvironmentï¼‰ï¼Œå¹¶æŒ‰è¦æ±‚è®¾ç½®è‡ªå®šä¹‰ç¯å¢ƒçš„å€¼ã€‚</transactionmanager></datasource></environments></p><p>SqlSessionTemplate æ˜¯ MyBatis-Spring çš„æ ¸å¿ƒã€‚ä½œä¸º SqlSession çš„ä¸€ä¸ªå®ç°ï¼Œè¿™æ„å‘³ç€å¯ä»¥ä½¿ç”¨å®ƒæ— ç¼ä»£æ›¿ä½ ä»£ç ä¸­å·²ç»åœ¨ä½¿ç”¨çš„ SqlSessionã€‚</p><p>æ¨¡æ¿å¯ä»¥å‚ä¸åˆ° Spring çš„äº‹åŠ¡ç®¡ç†ä¸­ï¼Œå¹¶ä¸”ç”±äºå…¶æ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼Œå¯ä»¥ä¾›å¤šä¸ªæ˜ å°„å™¨ç±»ä½¿ç”¨ï¼Œä½ åº”è¯¥æ€»æ˜¯ç”¨ SqlSessionTemplate æ¥æ›¿æ¢ MyBatis é»˜è®¤çš„ DefaultSqlSession å®ç°ã€‚åœ¨åŒä¸€åº”ç”¨ç¨‹åºä¸­çš„ä¸åŒç±»ä¹‹é—´æ··æ‚ä½¿ç”¨å¯èƒ½ä¼šå¼•èµ·æ•°æ®ä¸€è‡´æ€§çš„é—®é¢˜ã€‚</p><p>å¯ä»¥ä½¿ç”¨ SqlSessionFactory ä½œä¸ºæ„é€ æ–¹æ³•çš„å‚æ•°æ¥åˆ›å»º SqlSessionTemplate å¯¹è±¡ã€‚</p><figure class="highlight xml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"sqlSession"</span> <span class="attr">class</span>=<span class="string">"org.mybatis.spring.SqlSessionTemplate"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">constructor-arg</span> <span class="attr">index</span>=<span class="string">"0"</span> <span class="attr">ref</span>=<span class="string">"sqlSessionFactory"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><h3 id="é…ç½®è¯¦ç»†"><a href="#é…ç½®è¯¦ç»†" class="headerlink" title="é…ç½®è¯¦ç»†"></a>é…ç½®è¯¦ç»†</h3><figure class="highlight xml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">"http://www.springframework.org/schema/beans"</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:xsi</span>=<span class="string">"http://www.w3.org/2001/XMLSchema-instance"</span></span></span><br><span class="line">       &lt;!-- å¼€å¯æ³¨è§£æ”¯æŒ --&gt;</span><br><span class="line">       xmlns:context="http://www.springframework.org/schema/context"</span><br><span class="line">   <span class="comment">&lt;!-- å¼€å¯é¢å‘åˆ‡é¢aopæ”¯æŒ --&gt;</span></span><br><span class="line">       xmlns:aop="http://www.springframework.org/schema/aop"</span><br><span class="line">       xsi:schemaLocation="http://www.springframework.org/schema/beans</span><br><span class="line">        https://www.springframework.org/schema/beans/spring-beans.xsd</span><br><span class="line">        http://www.springframework.org/schema/context</span><br><span class="line">        https://www.springframework.org/schema/context/spring-context.xsd</span><br><span class="line">        http://www.springframework.org/schema/aop</span><br><span class="line">        https://www.springframework.org/schema/aop/spring-aop.xsd"&gt;</span><br><span class="line">    <span class="comment">&lt;!--å¼€å¯æ³¨è§£æ”¯æŒ --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">context:annotation-config</span>/&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--é…ç½®datasourceæ•°æ®æº --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"dataSource"</span> <span class="attr">class</span>=<span class="string">"org.springframework.jdbc.datasource.DriverManagerDataSource"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"driverClassName"</span> <span class="attr">value</span>=<span class="string">"com.mysql.jdbc.Driver"</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"url"</span> <span class="attr">value</span>=<span class="string">"jdbc:mysql://localhost:3306/mybatis?useSSL=true<span class="symbol">&amp;amp;</span>useUnicode=true<span class="symbol">&amp;amp;</span>characterEncoding=utf8"</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"username"</span> <span class="attr">value</span>=<span class="string">"root"</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"password"</span> <span class="attr">value</span>=<span class="string">"123123"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- å°†sqlSessionFactoryç½®å…¥springå®¹å™¨æ‰˜ç®¡ --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"sqlSessionFactory"</span> <span class="attr">class</span>=<span class="string">"org.mybatis.spring.SqlSessionFactoryBean"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"dataSource"</span> <span class="attr">ref</span>=<span class="string">"dataSource"</span>/&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- å…³è”mybatis --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"configLocation"</span> <span class="attr">value</span>=<span class="string">"classpath: mybatis-config.xml"</span>/&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- æ³¨å†Œè¯¥åŒ…ä¸‹æ‰€æœ‰***Mapper.xml --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"mapperLocations"</span> <span class="attr">value</span>=<span class="string">"classpath:com/chen/dao/*.xml"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- åˆ›å»ºsqlSession  --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"sqlSession"</span> <span class="attr">class</span>=<span class="string">"org.mybatis.spring.SqlSessionTemplate"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">constructor-arg</span> <span class="attr">index</span>=<span class="string">"0"</span> <span class="attr">ref</span>=<span class="string">"sqlSessionFactory"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><p><code>ç”±äºå·²ç»åˆ›å»ºsqlSessionFactoryä¸sqlSession æ•…åœ¨åº”ç”¨ä¸­å¯ç›´æ¥ä½¿ç”¨</code></p><p>mybatis-config.xmlé…ç½®</p><figure class="highlight xml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="UTF-8" ?&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">configuration</span></span></span><br><span class="line"><span class="meta">       <span class="meta-keyword">PUBLIC</span> <span class="meta-string">"-//mybatis.org//DTD Config 3.0//EN"</span></span></span><br><span class="line"><span class="meta">       <span class="meta-string">"http://mybatis.org/dtd/mybatis-3-config.dtd"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">typeAliases</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">package</span> <span class="attr">name</span>=<span class="string">"com.chen.pojo"</span>/&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">typeAliases</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><p>é€šå¸¸mybatis-config.xmlä¼šç”¨äºtypeAliasesä¸settingsçš„é…ç½®</p><p>ç¼–å†™æ¥å£ï¼š</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">UserDao</span> </span>{</span><br><span class="line">    <span class="function">List&lt;User&gt; <span class="title">getAllUser</span><span class="params">()</span></span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>ç¼–å†™UserMapper.xml</p><figure class="highlight xml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="UTF-8" ?&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">mapper</span></span></span><br><span class="line"><span class="meta">        <span class="meta-keyword">PUBLIC</span> <span class="meta-string">"-//mybatis.org//DTD Mapper 3.0//EN"</span></span></span><br><span class="line"><span class="meta">        <span class="meta-string">"http://mybatis.org/dtd/mybatis-3-mapper.dtd"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">mapper</span> <span class="attr">namespace</span>=<span class="string">"com.chen.dao.UserDao"</span>&gt;</span></span><br><span class="line">    </span><br><span class="line">    <span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">"getAllUser"</span> <span class="attr">resultType</span>=<span class="string">"User"</span>&gt;</span></span><br><span class="line">        select * from mybatis.user</span><br><span class="line">    <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line">    </span><br><span class="line"><span class="tag">&lt;/<span class="name">mapper</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><p><strong>åŸmybatisè·å–ä»£ç†ç±»å¹¶æ‰§è¡Œä¸šåŠ¡</strong></p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">String resource = <span class="string">"mybatis-config.xml"</span>;</span><br><span class="line"><span class="keyword">try</span> {</span><br><span class="line">       <span class="comment">//è·å–mybatisæ ¸å¿ƒé…ç½®æ–‡ä»¶è¾“å…¥æµ</span></span><br><span class="line">           InputStream inputStream = Resources.getResourceAsStream(resource);</span><br><span class="line">           <span class="comment">//å»ºé€ è€…æ¨¡å¼ï¼Œè§£æé…ç½®æ–‡ä»¶è·å–sqlSessionFactory</span></span><br><span class="line">           sqlSessionFactory = <span class="keyword">new</span> SqlSessionFactoryBuilder().build(inputStream);</span><br><span class="line">       } <span class="keyword">catch</span> (IOException e) {</span><br><span class="line">           e.printStackTrace();</span><br><span class="line">       }</span><br><span class="line">   }</span><br><span class="line"></span><br><span class="line">SqlSession sqlSession = sqlSessionFactory.openSession();</span><br><span class="line"><span class="comment">//æ­¤å¤„ä»¥ä¸Šä»£ç ä¸€èˆ¬ç¼–å†™ä¸ºä¸€ä¸ªå·¥å…·ç±»ï¼Œç”¨äºè·å–sqlSession</span></span><br><span class="line"><span class="comment">//é€šè¿‡åå°„å¾—åˆ°***Mapper.xmlçš„ä»£ç†ç±»</span></span><br><span class="line">StudentMapper mapper = sqlSession.getMapper(StudentMapper.class);</span><br><span class="line">List&lt;Student&gt; allStudent = mapper.getAllStudent();</span><br><span class="line">   <span class="keyword">for</span> (Student student: allStudent) {</span><br><span class="line">        System.out.println(student);</span><br><span class="line">       }</span><br><span class="line">   sqlSession.close();</span><br></pre></td></tr></tbody></table></figure><p><strong>æ•´åˆè·å–ä»£ç†ç±»æ‰§è¡Œä¸šåŠ¡</strong></p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">selectUser</span><span class="params">()</span></span>{</span><br><span class="line">       ApplicationContext context = <span class="keyword">new</span> ClassPathXmlApplicationContext(<span class="string">"beans.xml"</span>);</span><br><span class="line">       SqlSessionTemplate sqlSession = (SqlSessionTemplate) context.getBean(<span class="string">"sqlSession"</span>);</span><br><span class="line">       UserDao mapper = sqlSession.getMapper(UserDao.class);</span><br><span class="line">       <span class="keyword">for</span> (User user : mapper.getAllUser()) {</span><br><span class="line">           System.out.println(user);</span><br><span class="line">       }</span><br><span class="line">   }</span><br></pre></td></tr></tbody></table></figure><p><strong>åœ¨springä¸­å¯¹è±¡éƒ½äº¤ç”±IOCå®¹å™¨ï¼Œä¸ºæ­¤ï¼ŒsqlSessionFactoryä¸sqlSessionå‡ä»IOCå®¹å™¨ä¸­è·å¾—ï¼Œå¯¹æ¯”åŸmybatisæ­¥éª¤ä¸­ï¼Œæˆ‘ä»¬ä¸€èˆ¬ä¼šåœ¨springæ•´åˆmybatiså¤šå¢åŠ ä¸€ä¸ªå®ç°ç±»äº¤ç”±IOCå®¹å™¨ç®¡ç†</strong></p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">UserMapperImpl</span> </span>{</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> SqlSessionTemplate sqlSession;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> SqlSessionTemplate <span class="title">getSqlSession</span><span class="params">()</span> </span>{</span><br><span class="line">        <span class="keyword">return</span> sqlSession;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setSqlSession</span><span class="params">(SqlSessionTemplate sqlSession)</span> </span>{</span><br><span class="line">        <span class="keyword">this</span>.sqlSession = sqlSession;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> List&lt;User&gt; <span class="title">getAllUser</span><span class="params">()</span></span>{</span><br><span class="line">        UserDao mapper = sqlSession.getMapper(UserDao.class);</span><br><span class="line">        <span class="keyword">return</span> mapper.getAllUser();</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure><p>æµ‹è¯•</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">selectUsers</span><span class="params">()</span></span>{</span><br><span class="line">        ApplicationContext context = <span class="keyword">new</span> ClassPathXmlApplicationContext(<span class="string">"beans.xml"</span>);</span><br><span class="line">        UserMapperImpl userMapper = (UserMapperImpl) context.getBean(<span class="string">"userMapperImpl"</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//userMapper.setSqlSession(sqlSessionTemplate);</span></span><br><span class="line">        <span class="keyword">for</span> (User user : userMapper.getAllUser()) {</span><br><span class="line">            System.out.println(user);</span><br><span class="line">        }</span><br><span class="line">    }</span><br></pre></td></tr></tbody></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> spring </tag>
            
            <tag> mybatis </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>select å­å¥åçš„åˆ—å–åˆ«åä¸èƒ½åº”ç”¨ä¸whereå­å¥çš„é—®é¢˜</title>
      <link href="2021/04/04/select-%E5%AD%90%E5%8F%A5%E5%90%8E%E7%9A%84%E5%88%97%E5%8F%96%E5%88%AB%E5%90%8D%E4%B8%8D%E8%83%BD%E5%BA%94%E7%94%A8%E4%B8%8Ewhere%E5%AD%90%E5%8F%A5%E7%9A%84%E9%97%AE%E9%A2%98/"/>
      <url>2021/04/04/select-%E5%AD%90%E5%8F%A5%E5%90%8E%E7%9A%84%E5%88%97%E5%8F%96%E5%88%AB%E5%90%8D%E4%B8%8D%E8%83%BD%E5%BA%94%E7%94%A8%E4%B8%8Ewhere%E5%AD%90%E5%8F%A5%E7%9A%84%E9%97%AE%E9%A2%98/</url>
      
        <content type="html"><![CDATA[<h2 id="selectå­å¥ä¸­åˆ—åˆ«åæ— æ³•åº”ç”¨äºwhereå­å¥é—®é¢˜"><a href="#selectå­å¥ä¸­åˆ—åˆ«åæ— æ³•åº”ç”¨äºwhereå­å¥é—®é¢˜" class="headerlink" title="selectå­å¥ä¸­åˆ—åˆ«åæ— æ³•åº”ç”¨äºwhereå­å¥é—®é¢˜"></a>selectå­å¥ä¸­åˆ—åˆ«åæ— æ³•åº”ç”¨äºwhereå­å¥é—®é¢˜</h2><h3 id="æ•°æ®åº“è¡¨"><a href="#æ•°æ®åº“è¡¨" class="headerlink" title="æ•°æ®åº“è¡¨"></a>æ•°æ®åº“è¡¨</h3><ol><li><p>sailors</p><p> CREATE TABLE Sailors</p><pre><code>(Sid CHAR(10)PRIMARY KEY,sname CHAR(20),rating INT ,age INT);</code></pre></li><li><p>boats</p><p>CREATE TABLE Boats</p><pre><code>(bid CHAR(10)PRIMARY KEY,bname CHAR(20) NOT NULL,color CHAR(10));</code></pre></li><li><p>reserves</p><p>CREATE TABLE Reserves(Sid CHAR(10) ,</p><pre><code>bid CHAR(10), rdate DATE,PRIMARY KEY(Sid,bid,rdate),FOREIGN KEY(Sid)REFERENCES Sailors(Sid),FOREIGN KEY(bid)REFERENCES Boats(bid));</code></pre></li></ol><p>æ±‚è§£é—®é¢˜ï¼š</p><blockquote><p>ç»Ÿè®¡æ°´æ‰‹è¡¨ä¸­äººæ•°æœ€å°‘çš„çº§åˆ«ç»„åŠäººæ•°</p></blockquote><p>è§£æ³•:</p><figure class="highlight sql"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> rating ,<span class="keyword">COUNT</span>(*) <span class="keyword">AS</span> ttp <span class="keyword">FROM</span> sailors </span><br><span class="line"><span class="keyword">GROUP</span> <span class="keyword">BY</span> rating <span class="keyword">HAVING</span> ttp =(<span class="keyword">SELECT</span> <span class="keyword">MIN</span>(ttps) <span class="keyword">FROM</span> (<span class="keyword">SELECT</span> rating,<span class="keyword">COUNT</span>(*) ttps <span class="keyword">FROM</span> sailors <span class="keyword">GROUP</span> <span class="keyword">BY</span> rating) <span class="keyword">AS</span> res);</span><br></pre></td></tr></tbody></table></figure><p>é”™è¯¯å†™æ³•ï¼š</p><figure class="highlight sql"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> rating ,<span class="keyword">COUNT</span>(*) <span class="keyword">AS</span> ttp <span class="keyword">FROM</span> sailors <span class="keyword">where</span> ttp = (<span class="keyword">SELECT</span> <span class="keyword">MIN</span>(ttps) <span class="keyword">FROM</span> (<span class="keyword">SELECT</span> rating,<span class="keyword">COUNT</span>(*) ttps <span class="keyword">FROM</span> sailors <span class="keyword">GROUP</span> <span class="keyword">BY</span> rating) <span class="keyword">AS</span> res)</span><br><span class="line"><span class="keyword">GROUP</span> <span class="keyword">BY</span> rating;</span><br></pre></td></tr></tbody></table></figure><p>è§£æƒ‘ï¼š</p><hr><p><code>æ‰§è¡Œé¡ºåº,å…ˆæ‰§è¡ŒFROM å­å¥,ç„¶åæ‰§è¡ŒWHERE å­å¥,æœ€åæ‰§è¡ŒSELECT æ‰€ä»¥Select å­å¥åçš„åˆ«å,åœ¨whereæ¡ä»¶ä¸­ä¸èƒ½ä½¿ç”¨ã€‚</code></p><p><strong>ä¸€ã€sqlæ‰§è¡Œé¡ºåº</strong><br>(1) FROM:å¯¹FROMå­å¥ä¸­çš„å·¦è¡¨<left_table>å’Œå³è¡¨<right_table>æ‰§è¡Œç¬›å¡å„¿ç§¯ï¼Œäº§ç”Ÿè™šæ‹Ÿè¡¨VT1;<br>(2) ON: å¯¹è™šæ‹Ÿè¡¨VT1è¿›è¡ŒONç­›é€‰ï¼Œåªæœ‰é‚£äº›ç¬¦åˆ<join_condition>çš„è¡Œæ‰è¢«æ’å…¥è™šæ‹Ÿè¡¨VT2;<br>(3) JOIN: å¦‚æœæŒ‡å®šäº†OUTER JOIN(å¦‚LEFT OUTER JOINã€RIGHT OUTER JOIN)ï¼Œé‚£ä¹ˆä¿ç•™è¡¨ä¸­æœªåŒ¹é…çš„è¡Œä½œä¸ºå¤–éƒ¨è¡Œæ·»åŠ åˆ°è™šæ‹Ÿè¡¨VT2ï¼Œäº§ç”Ÿè™šæ‹Ÿè¡¨VT3ã€‚å¦‚æœFROMå­å¥åŒ…å«ä¸¤ä¸ªä»¥ä¸Šçš„è¡¨ï¼Œåˆ™å¯¹ä¸Šä¸€ä¸ªè¿æ¥ç”Ÿæˆçš„ç»“æœè¡¨VT3å’Œä¸‹ä¸€ä¸ªè¡¨é‡å¤æ‰§è¡Œæ­¥éª¤1~æ­¥éª¤3ï¼Œç›´åˆ°å¤„ç†å®Œæ‰€æœ‰çš„è¡¨;<br>(4) WHERE: å¯¹è™šæ‹Ÿè¡¨VT3åº”ç”¨WHEREè¿‡æ»¤æ¡ä»¶ï¼Œåªæœ‰ç¬¦åˆ<where_condition>çš„è®°å½•æ‰ä¼šè¢«æ’å…¥è™šæ‹Ÿè¡¨VT4;<br>(5) GROUP By: æ ¹æ®GROUP BYå­å¥ä¸­çš„åˆ—ï¼Œå¯¹VT4ä¸­çš„è®°å½•è¿›è¡Œåˆ†ç»„æ“ä½œï¼Œäº§ç”ŸVT5;å¦‚æœåº”ç”¨äº†group byï¼Œé‚£ä¹ˆåé¢çš„æ‰€æœ‰æ­¥éª¤éƒ½åªèƒ½å¾—åˆ°çš„vt5çš„åˆ—æˆ–è€…æ˜¯èšåˆå‡½æ•°ï¼ˆcountã€sumã€avgç­‰ï¼‰ã€‚åŸå› åœ¨äºæœ€ç»ˆçš„ç»“æœé›†ä¸­åªä¸ºæ¯ä¸ªç»„åŒ…å«ä¸€è¡Œã€‚è¿™ä¸€ç‚¹è¯·ç‰¢è®°ã€‚<br>(6) CUBE|ROllUP: å¯¹VT5è¿›è¡ŒCUBEæˆ–ROLLUPæ“ä½œï¼Œäº§ç”Ÿè¡¨VT6;<br>(7) HAVING: å¯¹è™šæ‹Ÿè¡¨VT6åº”ç”¨HAVINGè¿‡æ»¤å™¨ï¼Œåªæœ‰ç¬¦åˆ<having_condition>çš„è®°å½•æ‰ä¼šè¢«æ’å…¥åˆ°VT7;<br>(8) SELECT: ç¬¬äºŒæ¬¡æ‰§è¡ŒSELECTæ“ä½œï¼Œé€‰æ‹©æŒ‡å®šçš„åˆ—ï¼Œæ’å…¥åˆ°è™šæ‹Ÿè¡¨VT8ä¸­;<br>(9) DISTINCT: å»é™¤é‡å¤ï¼Œäº§ç”Ÿè™šæ‹Ÿè¡¨VT9;<br>(10) ORDER BY: å°†è™šæ‹Ÿè¡¨VT9ä¸­çš„è®°å½•æŒ‰ç…§<order_by_list>è¿›è¡Œæ’åºæ“ä½œï¼Œäº§ç”Ÿè™šæ‹Ÿè¡¨VT10;<br>(11) LIMIT: å–å‡ºæŒ‡å®šè¡—è¡Œçš„è®°å½•ï¼Œäº§ç”Ÿè™šæ‹Ÿè¡¨VT11ï¼Œå¹¶è¿”å›ç»™æŸ¥è¯¢ç”¨æˆ·</order_by_list></having_condition></where_condition></join_condition></right_table></left_table></p>]]></content>
      
      
      
        <tags>
            
            <tag> sql </tag>
            
            <tag> æ•°æ®åº“ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è™šæ‹Ÿæœºç±»åŠ è½½æœºåˆ¶</title>
      <link href="2021/03/20/%E8%99%9A%E6%8B%9F%E6%9C%BA%E7%B1%BB%E5%8A%A0%E8%BD%BD%E6%9C%BA%E5%88%B6/"/>
      <url>2021/03/20/%E8%99%9A%E6%8B%9F%E6%9C%BA%E7%B1%BB%E5%8A%A0%E8%BD%BD%E6%9C%BA%E5%88%B6/</url>
      
        <content type="html"><![CDATA[<h2 id="1-æ¦‚è¿°"><a href="#1-æ¦‚è¿°" class="headerlink" title="1.æ¦‚è¿°"></a>1.æ¦‚è¿°</h2><p>ä¸ç¼–è¯‘æ—¶éœ€è¦è¿›è¡Œè¿æ¥çš„è¯­è¨€ä¸åŒï¼ŒJavaè¯­è¨€ç±»çš„åŠ è½½ï¼Œè¿æ¥å’Œåˆå§‹åŒ–ï¼Œéƒ½æ˜¯åœ¨ç¨‹åºè¿è¡ŒæœŸé—´è¿›è¡Œçš„ã€‚</p><p><strong>ç±»çš„ç”Ÿå‘½å‘¨æœŸ</strong></p><p><img src="https://gitee.com/rain-sky/images/raw/master/20210427085136.webp"></p><blockquote><p>åŠ è½½ï¼ŒéªŒè¯ï¼Œå‡†å¤‡ï¼Œåˆå§‹åŒ–ä¸å¸è½½é˜¶æ®µé¡ºåºç¡®å®šï¼Œç±»åŠ è½½è¿‡ç¨‹å¿…é¡»æŒ‰ç…§è¿™ç§é¡ºåºæŒ‰éƒ¨å°±ç­å¼€å§‹ï¼Œè§£æé˜¶æ®µåˆ™ä¸ä¸€å®šï¼ŒæŸäº›æƒ…å†µä¸‹å®ƒå¯ä»¥åœ¨åˆå§‹åŒ–é˜¶æ®µä¹‹åå¼€å§‹ï¼Œè¿™æ˜¯ä¸ºäº†æ”¯æŒJavaè¿è¡Œæ—¶ç»‘å®šçš„ç‰¹æ€§(åŠ¨æ€ç»‘å®šæˆ–æ™šæœŸç»‘å®š)ã€‚æ­¤å¤„æ˜¯å€¼æŒ‰éƒ¨å°±ç­çš„â€œå¼€å§‹â€ï¼Œè€Œä¸æ˜¯æŒ‰éƒ¨å°±ç­çš„â€œè¿›è¡Œâ€ï¼Œå¼ºè°ƒè¿™ä¸€ç‚¹å› ä¸ºè¿™äº›é˜¶æ®µé€šå¸¸éƒ½æ˜¯äº¤å‰æ··åˆè¿›è¡Œçš„ã€‚</p><p>â€‹                                                                                                                                                            â€”â€”ã€Šæ·±å…¥ç†è§£Javaè™šæ‹Ÿæœºã€‹</p></blockquote><h2 id="2-ç±»åŠ è½½æ—¶æœº"><a href="#2-ç±»åŠ è½½æ—¶æœº" class="headerlink" title="2.ç±»åŠ è½½æ—¶æœº"></a>2.ç±»åŠ è½½æ—¶æœº</h2><p>åœ¨ã€ŠJavaè™šæ‹Ÿæœºè§„èŒƒã€‹ä¸­æœ‰ä¸”åªæœ‰å…­ç§æƒ…å†µå¿…é¡»ç«‹å³å¯¹ç±»è¿›è¡Œåˆå§‹åŒ–(ä¹‹å‰é˜¶æ®µå¿…ç„¶å·²åœ¨åˆå§‹åŒ–é˜¶æ®µå‰å¼€å§‹)ã€‚</p><ol><li><p>é‡åˆ°newã€getstaticã€putstaticå’Œinvokestaticè¿™4æ¡å­—èŠ‚ç æŒ‡ä»¤æ—¶ï¼Œå¦‚æœç±»æ²¡æœ‰è¿›è¡Œè¿‡åˆå§‹åŒ–ï¼Œåˆ™éœ€è¦å…ˆè§¦å‘å…¶åˆå§‹åŒ–ã€‚<br>ç”Ÿæˆè¿™4æ¡æŒ‡ä»¤çš„æœ€å¸¸è§Javaåœºæ™¯ï¼š</p><p><em>ä½¿ç”¨newå…³é”®å­—å®ä¾‹åŒ–å¯¹è±¡çš„æ—¶å€™ï¼›</em><br><em>è¯»å–æˆ–è®¾ç½®ä¸€ä¸ªç±»çš„é™æ€å­—æ®µï¼ˆè¢«finalä¿®é¥°ã€å·²åœ¨ç¼–è¯‘æœŸæŠŠç»“æœæ”¾å…¥å¸¸é‡æ± çš„é™æ€å­—æ®µé™¤å¤–ï¼‰çš„æ—¶å€™ï¼›</em><br><em>è°ƒç”¨ä¸€ä¸ªç±»çš„é™æ€æ–¹æ³•çš„æ—¶å€™ã€‚</em></p></li><li><p>ä½¿ç”¨java.lang.reflectåŒ…çš„æ–¹æ³•å¯¹ç±»è¿›è¡Œåå°„è°ƒç”¨çš„æ—¶å€™ï¼Œå¦‚æœç±»æ²¡æœ‰è¿›è¡Œè¿‡åˆå§‹åŒ–ï¼Œåˆ™éœ€è¦å…ˆè§¦å‘å…¶åˆå§‹åŒ–ã€‚</p></li><li><p>å½“åˆå§‹åŒ–ä¸€ä¸ªç±»æ—¶ï¼Œå¦‚æœå‘ç°å…¶çˆ¶ç±»è¿˜æ²¡æœ‰è¿›è¡Œè¿‡åˆå§‹åŒ–ï¼Œåˆ™éœ€è¦å…ˆè§¦å‘å…¶çˆ¶ç±»çš„åˆå§‹åŒ–ã€‚</p></li><li><p>å½“è™šæ‹Ÿæœºå¯åŠ¨æ—¶ï¼Œç”¨æˆ·éœ€è¦æŒ‡å®šä¸€ä¸ªè¦æ‰§è¡Œçš„ä¸»ç±»ï¼ˆåŒ…å«main()æ–¹æ³•çš„é‚£ä¸ªç±»ï¼‰ï¼Œè™šæ‹Ÿæœºä¼šå…ˆåˆå§‹åŒ–è¿™ä¸ªä¸»ç±»ã€‚</p></li><li><p>å½“ä½¿ç”¨JDK 1.7 çš„åŠ¨æ€è¯­è¨€æ”¯æŒæ—¶ï¼Œå¦‚æœä¸€ä¸ªjava.lang.invoke.MethodHandleå®ä¾‹æœ€åçš„è§£æç»“æœREF_getStaticã€REF_putStaticã€REF_invokeStaticçš„æ–¹æ³•å¥æŸ„ï¼Œå¹¶ä¸”è¿™ä¸ªæ–¹æ³•å¥æŸ„æ‰€å¯¹åº”çš„ç±»æ²¡æœ‰è¿›è¡Œè¿‡åˆå§‹åŒ–ï¼Œåˆ™éœ€è¦å…ˆè§¦å‘å…¶åˆå§‹åŒ–ã€‚</p></li><li><p>å½“ä¸€ä¸ªæ¥å£ä¸­å®šä¹‰äº†JDK 8 æ–°åŠ å…¥çš„é»˜è®¤æ–¹æ³•ï¼ˆè¢«defaultå…³é”®å­—ä¿®é¥°çš„æ¥å£æ–¹æ³•ï¼‰æ—¶ï¼Œå¦‚æœæœ‰è¿™ä¸ªæ¥å£çš„å®ç°ç±»å‘ç”Ÿäº†åˆå§‹åŒ–ï¼Œé‚£è¯¥æ¥å£è¦åœ¨å…¶ä¹‹å‰è¢«åˆå§‹åŒ–ã€‚å¦‚ï¼š<em>default void sort(Comparator&lt;? super E&gt; c) {      â€¦      â€¦    }</em></p></li></ol><hr><p>ä»¥ä¸Šå…­ç§åœºæ™¯ä¸­çš„è¡Œä¸ºç§°ä¸ºå¯¹ä¸€ä¸ªç±»å‹è¿›è¡Œä¸»åŠ¨å¼•ç”¨ï¼Œé™¤æ­¤ä¹‹å¤–ï¼Œæ‰€æœ‰å¼•ç”¨ç±»å‹çš„æ–¹å¼éƒ½ä¸ä¼šè§¦å‘åˆå§‹åŒ–ï¼Œæˆä¸ºè¢«åŠ¨å¼•ç”¨ã€‚</p><p>ä¸¾ä¾‹è¯´æ˜ä½•ä¸ºè¢«åŠ¨å¼•ç”¨ï¼š</p><ol><li>é€šè¿‡å­ç±»å¼•ç”¨çˆ¶ç±»çš„é™æ€å­—æ®µï¼Œä¸ä¼šå¯¼è‡´å­ç±»çš„åˆå§‹åŒ–</li></ol><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SuperClass</span></span>{</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> value = <span class="number">123</span>;</span><br><span class="line">    <span class="keyword">static</span>{</span><br><span class="line">        System.out.println(<span class="string">"SuperClass is init!"</span>);</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SubClass</span> <span class="keyword">extends</span> <span class="title">SuperClass</span></span>{</span><br><span class="line"><span class="keyword">static</span>{</span><br><span class="line">        System.out.println(<span class="string">"SubClass is init!"</span>);</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestInit</span></span>{</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span>{</span><br><span class="line">        System.out.println(SubClass.value);</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><ol start="2"><li>é€šè¿‡æ•°ç»„å®šä¹‰æ¥å¼•ç”¨ç±»ï¼Œä¸è§¦å‘æ­¤ç±»åˆå§‹åŒ–</li></ol><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SuperClass[] sp = <span class="keyword">new</span> SuperClass[<span class="number">100</span>];</span><br></pre></td></tr></tbody></table></figure><ol start="3"><li>å¸¸é‡ä¼šåœ¨ç¼–è¯‘é˜¶æ®µå­˜å…¥è°ƒç”¨ç±»çš„å¸¸é‡æ± ä¸­ï¼Œæœ¬è´¨ä¸Šæ²¡æœ‰ç›´æ¥å¼•ç”¨åˆ°å®šä¹‰å¸¸ç±»çš„ç±»ï¼Œå› æ­¤ä¸ä¼šè§¦å‘å®šä¹‰å¸¸é‡çš„ç±»çš„åˆå§‹åŒ–</li></ol><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SuperClass</span></span>{</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> value = <span class="number">123</span>;</span><br><span class="line">    <span class="keyword">static</span>{</span><br><span class="line">        System.out.println(<span class="string">"SuperClass is init!"</span>);</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestInit</span></span>{</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span>{</span><br><span class="line">        <span class="comment">//å¸¸é‡è°ƒç”¨</span></span><br><span class="line">        System.out.println(SubClass.value);</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>PSï¼šæ¥å£åŠ è½½ä¸ç±»åŠ è½½è¿‡ç¨‹ç¨æœ‰ä¸åŒï¼Œè§¦å‘ç±»åŠ è½½çš„ç¬¬ä¸‰ç§æƒ…å†µå¯¹äºæ¥å£è€Œè¨€ï¼Œå½“ä¸€ä¸ªæ¥å£åœ¨åˆå§‹åŒ–æ—¶ï¼Œå¹¶ä¸è¦æ±‚çˆ¶æ¥å£å…¨éƒ¨å®Œæˆåˆå§‹åŒ–ï¼Œåªæœ‰åœ¨å¼•ç”¨åˆ°äº†çˆ¶ç±»çš„æ—¶å€™æ‰è§¦å‘ç¬¦ç±»çš„åˆå§‹åŒ–ï¼Œå¦‚ä½¿ç”¨åˆ°äº†çˆ¶æ¥å£ä¸­çš„å¸¸é‡ã€‚</p><h2 id="3-ç±»åŠ è½½çš„è¿‡ç¨‹"><a href="#3-ç±»åŠ è½½çš„è¿‡ç¨‹" class="headerlink" title="3.ç±»åŠ è½½çš„è¿‡ç¨‹"></a>3.ç±»åŠ è½½çš„è¿‡ç¨‹</h2><h3 id="3-1-åŠ è½½"><a href="#3-1-åŠ è½½" class="headerlink" title="3.1 åŠ è½½"></a>3.1 åŠ è½½</h3><p>åŠ è½½é˜¶æ®µè™šæ‹Ÿæœºä¸»è¦å®Œæˆä¸€ä¸‹ä¸‰ä»¶äº‹</p><ol><li>é€šè¿‡ä¸€ä¸ªç±»çš„å…¨é™å®šåæ¥è·å–å®šä¹‰æ­¤ç±»çš„äºŒè¿›åˆ¶å­—èŠ‚æµï¼ˆæ‰€ä»¥è¯´ï¼Œå…ˆç¼–è¯‘å¾—åˆ°Classæ–‡ä»¶æ‰æœ‰ç±»åŠ è½½å¯¹å§ï¼‰</li><li>å°†è¿™ä¸ªå­—èŠ‚æµæ‰€ä»£è¡¨çš„é™æ€å­˜å‚¨ç»“æ„è½¬åŒ–ä¸ºæ–¹æ³•åŒºçš„è¿è¡Œæ—¶æ•°æ®ç»“æ„</li><li>åœ¨å†…å­˜ä¸­ç”Ÿæˆä¸€ä¸ªä»£è¡¨è¿™ä¸ªç±»çš„Java.lang.Classå¯¹è±¡,ä½œä¸ºæ–¹æ³•åŒºè¿™ä¸ªç±»çš„å„ç§æ•°æ®è®¿é—®å…¥å£</li></ol><p><code>é€šè¿‡ä¸€ä¸ªç±»çš„å…¨é™å®šåæ¥è·å–å®šä¹‰æ­¤ç±»çš„äºŒè¿›åˆ¶å­—èŠ‚æµå¹¶æœªæŒ‡æ˜ä»å“ªè·å–ï¼Œå¦‚ä½•è·å–ã€‚</code></p><p>â€‹        ç±»åŠ è½½é˜¶æ®µç»“æŸåï¼ŒJavaè™šæ‹Ÿæœºå¤–éƒ¨çš„æ•°æ®äºŒè¿›åˆ¶å­—èŠ‚æµå°±æŒ‰ç…§è™šæ‹Ÿæœºæ‰€å®šä¹‰çš„æ ¼å¼å­˜å‚¨çš„æ–¹æ³•åŒºä¹‹ä¸­äº†,å­˜å‚¨æ ¼å¼å®Œå…¨ç”±è™šæ‹Ÿæœºè‡ªå®šä¹‰ã€‚ç±»å‹æ•°æ®å¦¥å–„å®‰ç½®åœ¨æ–¹æ³•åŒºä¹‹åï¼Œä¼šåœ¨Javaå †å†…å­˜ä¸­å®ä¾‹åŒ–ä¸€ä¸ªJava.lang.Classå¯¹è±¡ï¼Œè¿™ä¸ªå¯¹è±¡å°†ä½œä¸ºç¨‹åºè®¿é—®æ–¹æ³•åŒºä¸­çš„ç±»å‹æ•°æ®çš„å¤–éƒ¨æ¥å£ã€‚</p><p>â€‹        åŠ è½½é˜¶æ®µä¸è¿æ¥æç«¯çš„éƒ¨åˆ†åŠ¨ä½œï¼ˆå¦‚ä¸€éƒ¨åˆ†å­—èŠ‚ç æ–‡ä»¶æ ¼å¼éªŒè¯åŠ¨ä½œï¼‰æ˜¯äº¤å‰è¿›è¡Œçš„ï¼Œå³åŠ è½½é˜¶æ®µæœªç»“æŸï¼Œè¿æ¥å·²å¼€å§‹ï¼Œä½†äºŒè€…å¼€å§‹å…ˆåé¡ºåºä¾ç„¶ä¸¥æ ¼æŒ‰ç…§å®šä¹‰è¿›è¡Œã€‚</p><h3 id="3-2-éªŒè¯"><a href="#3-2-éªŒè¯" class="headerlink" title="3.2 éªŒè¯"></a>3.2 éªŒè¯</h3><p>éªŒè¯æ˜¯è¿æ¥é˜¶æ®µçš„ç¬¬ä¸€æ­¥ï¼Œä»ä»£ç é‡ä½•è€—è´¹çš„æ‰§è¡Œæ€§èƒ½çš„è§’åº¦ä¸Šè®²ï¼ŒéªŒè¯é˜¶æ®µçš„å·¥ä½œé‡åœ¨Javaè™šæ‹Ÿæœºçš„ç±»åŠ è½½è¿‡ç¨‹ä¸­å æ®ç›¸å½“å¤§çš„æ¯”é‡ã€‚</p><p>éªŒè¯é˜¶æ®µå¤§è‡´å®Œæˆä»¥ä¸‹å››ä¸ªé˜¶æ®µçš„æ£€éªŒåŠ¨ä½œ</p><ol><li>æ–‡ä»¶æ ¼å¼éªŒè¯<ul><li>æ˜¯å¦ä»¥é­”æ•°0xCAFEBABEå¼€å¤´</li><li>ä¸»æ¬¡ç‰ˆæœ¬å·æ˜¯å¦åœ¨è™šæ‹Ÿæœºæ¥å—èŒƒå›´å†…</li><li>â€¦â€¦</li></ul></li><li>å…ƒæ•°æ®éªŒè¯<ul><li>è¿™ä¸ªç±»æ˜¯å¦æœ‰çˆ¶ç±»</li><li>è¿™ä¸ªç±»çš„çˆ¶ç±»æ˜¯å¦ç»§æ‰¿äº†ä¸è¢«å…è®¸ç»§æ‰¿çš„ç±»ï¼ˆfinalä¿®é¥°ï¼‰</li><li>â€¦â€¦</li></ul></li><li>å­—èŠ‚ç éªŒè¯(æœ€å¤æ‚çš„ä¸€ä¸ªé˜¶æ®µï¼Œé€šè¿‡æ•°æ®æµåˆ†æä½•æ§åˆ¶æµåˆ†æï¼Œç¡®å®šç¨‹åºè¯­ä¹‰åˆæ³•ï¼Œç¬¦åˆé€»è¾‘)<ul><li>ä¿è¯ä»»ä½•è·³è½¬æŒ‡ä»¤éƒ½ä¸ä¼šè·³è½¬åˆ°æ–¹æ³•ä½“ä»¥å¤–çš„å­—èŠ‚ç æŒ‡ä»¤ä¸Š</li><li>ä¿è¯æ–¹æ³•ä½“é’Ÿçš„ç±»å‹è½¬æ¢æ€»æ˜¯æœ‰æ•ˆçš„ï¼ˆä¿è¯è½¬å‹å®‰å…¨ï¼‰</li><li>â€¦â€¦</li></ul></li><li>ç¬¦å·å¼•ç”¨éªŒè¯ï¼ˆå‘ç”Ÿåœ¨è™šæ‹Ÿæœºå°†ç¬¦å·å¼•ç”¨è½¬åŒ–ä¸ºç›´æ¥ç”¨äºçš„æ—¶å€™ï¼Œè¯¥åŠ¨ä½œå°†åœ¨è¿æ¥ç¬¬ä¸‰é˜¶æ®µâ€”â€”è§£æé˜¶æ®µå‘ç”Ÿï¼Œè¯¥éªŒè¯ä¸»è¦ä¸ºäº†ä¿è¯è§£æè¡Œä¸ºèƒ½æ­£å¸¸è¿›è¡Œï¼‰<ul><li>ç¬¦å·å¼•ç”¨ä¸­é€šè¿‡å­—ç¬¦ç©¿æè¿°çš„å…¨é™å®šåæ˜¯å¦èƒ½æ‰¾åˆ°å¯¹åº”ç±»</li><li>ç¬¦å·å¼•ç”¨ä¸­çš„ç±»ï¼Œå­—æ®µï¼Œæ–¹æ³•çš„å¯è®¿é—®æ€§ï¼Œæ˜¯å¦å¯è¢«å½“å‰ç±»è®¿é—®</li><li>â€¦â€¦</li></ul></li></ol><hr><p><code>éªŒè¯é˜¶æ®µå¯¹äºè™šæ‹Ÿæœºç±»åŠ è½½æœºåˆ¶æ¥è¯´ï¼Œæ˜¯ä¸€ä¸ªéå¸¸é‡è¦å´ä¸æ˜¯å¿…é¡»æ‰§è¡Œçš„é˜¶æ®µï¼Œå¦‚ç¨‹åºè¿è¡Œçš„ä»£ç éƒ½å·²ç»è¢«åå¤ä½¿ç”¨ä½•éªŒè¯è¿‡ï¼Œå°±å¯ä»¥è€ƒè™‘ä½¿ç”¨-Xverify:noneå‚æ•°å…³é—­å¤§éƒ¨åˆ†ç±»éªŒè¯æªæ–½ã€‚</code></p><h3 id="3-3-å‡†å¤‡"><a href="#3-3-å‡†å¤‡" class="headerlink" title="3.3 å‡†å¤‡"></a>3.3 å‡†å¤‡</h3><p>å‡†å¤‡é˜¶æ®µæ˜¯æ­£å¼ä¸ºç±»ä¸­å®šä¹‰çš„å˜é‡ï¼ˆé™æ€å˜é‡ï¼‰åˆ†é…å†…å­˜è®¾ç½®åˆå§‹å€¼é˜¶æ®µï¼Œ <strong>æ³¨æ„ï¼Œä¸åŒ…æ‹¬å®ä¾‹å˜é‡</strong> ï¼Œä»æ¦‚å¿µä¸Šå°†è¿™äº›å˜é‡æ‰€ä½¿ç”¨çš„å†…å­˜éƒ½åº”åœ¨æ–¹æ³•åŒºä¸­è¿›è¡Œåˆ†é…ï¼Œä½†æ–¹æ³•åŒºæœ¬èº«å°±æ˜¯ä¸€ä¸ªé€»è¾‘ä¸Šçš„åŒºåŸŸï¼Œåœ¨JDK 7ä¹‹å‰ï¼ŒHotSpotä½¿ç”¨æ°¸ä¹…ä»£æ¥å®ç°æ–¹æ³•åŒºï¼Œè€Œåœ¨JDK 8 ä¹‹åï¼Œç±»å˜é‡åˆ™ä¼šéšç€Classå¯¹è±¡ä¸€èµ·å­˜æ”¾åœ¨Javaå †ä¸­ï¼Œæ­¤æ—¶â€œç±»å˜é‡åœ¨æ–¹æ³•åŒºâ€å°±æ˜¯ä¸€ç§é€»è¾‘è¡¨è¿°äº†ã€‚</p><p>å…¶æ¬¡ï¼Œæ­¤å¤„è¡¨è¿°çš„åˆå§‹å€¼â€œé€šå¸¸æƒ…å†µâ€ä¸‹æ˜¯æ•°æ®ç±»å‹çš„é›¶å€¼ï¼Œå¦‚ä¸€ä¸ªå˜é‡å®šä¹‰ä¸º</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> value = <span class="number">123</span>;</span><br></pre></td></tr></tbody></table></figure><p>é‚£ä¹ˆ valueåœ¨å‡†å¤‡é˜¶æ®µç»“æŸååˆå§‹å€¼ä¸ä¸º123ï¼Œè€Œæ˜¯int å‹çš„é›¶å€¼0ã€‚å› ä¸ºæ­¤æ—¶è¿˜æœªæ‰§è¡Œä»»ä½•Javaæ–¹æ³•ï¼Œè€Œvlaue = 123çš„èµ‹å€¼åŠ¨ä½œå°†åœ¨æ‰§è¡Œç±»æ„é€ å™¨<clinit>()å®Œæˆã€‚</clinit></p><p>éâ€œé€šå¸¸æƒ…å†µâ€</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> value = <span class="number">123</span>;</span><br></pre></td></tr></tbody></table></figure><p>ç¼–è¯‘æ—¶ï¼ŒJavacä¼šä¸ºvalueç”ŸæˆConstantValueå±æ€§ï¼Œå‡†å¤‡é˜¶æ®µvalueç›´æ¥è¢«åˆå§‹åŒ–ä¸ºConstantValueæ‰€æŒ‡å®šçš„åˆå§‹å€¼ã€‚</p><h3 id="3-4-è§£æ"><a href="#3-4-è§£æ" class="headerlink" title="3.4 è§£æ"></a>3.4 è§£æ</h3><p>è§£æé˜¶æ®µæ˜¯Javaè™šæ‹Ÿæœºå°†ç¬¦å·å¼•ç”¨æ›¿æ¢ä¸ºç›´æ¥å¼•ç”¨çš„è¿‡ç¨‹ã€‚</p><p>ç¬¦å·å¼•ç”¨ï¼š</p><p>ç¬¦å·å¼•ç”¨æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œå®ƒç»™å‡ºäº†è¢«å¼•ç”¨çš„å†…å®¹çš„åå­—å¹¶ä¸”å¯èƒ½ä¼šåŒ…å«ä¸€äº›å…¶ä»–å…³äºè¿™ä¸ªè¢«å¼•ç”¨é¡¹çš„ä¿¡æ¯â€”â€”è¿™äº›ä¿¡æ¯å¿…é¡»è¶³ä»¥å”¯ä¸€çš„è¯†åˆ«ä¸€ä¸ªç±»ã€å­—æ®µã€æ–¹æ³•ã€‚è¿™æ ·ï¼Œå¯¹äºå…¶ä»–ç±»çš„ç¬¦å·å¼•ç”¨å¿…é¡»ç»™å‡ºç±»çš„å…¨åã€‚å¯¹äºå…¶ä»–ç±»çš„å­—æ®µï¼Œå¿…é¡»ç»™å‡ºç±»åã€å­—æ®µåä»¥åŠå­—æ®µæè¿°ç¬¦ã€‚å¯¹äºå…¶ä»–ç±»çš„æ–¹æ³•çš„å¼•ç”¨å¿…é¡»ç»™å‡ºç±»åã€æ–¹æ³•åä»¥åŠæ–¹æ³•çš„æè¿°ç¬¦ã€‚åœ¨Classæ–‡ä»¶ä¸­å®ƒä»¥CONSTANT_Class_infoã€CONSTANT_Fieldref_infoã€CONSTANT_Methodref_infoç­‰ç±»å‹çš„å¸¸é‡å‡ºç°ã€‚</p><p>2.ç›´æ¥å¼•ç”¨ï¼š</p><p>ç›´æ¥å¼•ç”¨å¯ä»¥æ˜¯<br> ï¼ˆ1ï¼‰ç›´æ¥æŒ‡å‘ç›®æ ‡çš„æŒ‡é’ˆï¼ˆæ¯”å¦‚ï¼ŒæŒ‡å‘â€œç±»å‹â€ã€Classå¯¹è±¡ã€‘ã€ç±»å˜é‡ã€ç±»æ–¹æ³•çš„ç›´æ¥å¼•ç”¨å¯èƒ½æ˜¯æŒ‡å‘æ–¹æ³•åŒºçš„æŒ‡é’ˆï¼‰<br> ï¼ˆ2ï¼‰ç›¸å¯¹åç§»é‡ï¼ˆæ¯”å¦‚ï¼ŒæŒ‡å‘å®ä¾‹å˜é‡ã€å®ä¾‹æ–¹æ³•çš„ç›´æ¥å¼•ç”¨éƒ½æ˜¯åç§»é‡ï¼‰<br> ï¼ˆ3ï¼‰ä¸€ä¸ªèƒ½é—´æ¥å®šä½åˆ°ç›®æ ‡çš„å¥æŸ„<br> ç›´æ¥å¼•ç”¨æ˜¯å’Œè™šæ‹Ÿæœºçš„å¸ƒå±€ç›¸å…³çš„ï¼ŒåŒä¸€ä¸ªç¬¦å·å¼•ç”¨åœ¨ä¸åŒçš„è™šæ‹Ÿæœºå®ä¾‹ä¸Šç¿»è¯‘å‡ºæ¥çš„ç›´æ¥å¼•ç”¨ä¸€èˆ¬ä¸ä¼šç›¸åŒã€‚å¦‚æœæœ‰äº†ç›´æ¥å¼•ç”¨ï¼Œé‚£å¼•ç”¨çš„ç›®æ ‡å¿…å®šå·²ç»è¢«åŠ è½½å…¥å†…å­˜ä¸­äº†ã€‚</p><hr><p>å…³äºç¬¦å·å¼•ç”¨ä¸ç›´æ¥å¼•ç”¨çš„æ›´è¯¦ç»†è§£æï¼Œå¯å‚è€ƒçŸ¥ä¹å¤§ä½¬æ–‡ç« <a href="https://www.zhihu.com/question/30300585">https://www.zhihu.com/question/30300585</a></p><h3 id="3-5-åˆå§‹åŒ–"><a href="#3-5-åˆå§‹åŒ–" class="headerlink" title="3.5 åˆå§‹åŒ–"></a>3.5 åˆå§‹åŒ–</h3><p>åˆå§‹åŒ–é˜¶æ®µå°±æ˜¯æ‰§è¡Œç±»æ„é€ å™¨<clinit>ï¼ˆï¼‰æ–¹æ³•çš„è¿‡ç¨‹ï¼Œå®ƒæ˜¯Javacç¼–è¯‘åç”Ÿæˆçš„äº§ç‰©ï¼Œå®ƒæ˜¯ç”±ç¼–è¯‘å™¨è‡ªåŠ¨æ”¶é›†ç±»ä¸­æ‰€æœ‰ç±»å˜é‡çš„èµ‹å€¼åŠ¨ä½œå’Œé™æ€è¯­å¥å—åˆå¹¶äº§ç”Ÿçš„ï¼Œæ”¶é›†é¡ºåºæ˜¯æºä»£ç ä¸­è¯­å¥å‡ºç°çš„å…ˆåé¡ºåºã€‚æ‰€ä»¥é™æ€è¯­å¥å—ä¸­åªèƒ½è®¿é—®çš„å®šä¹‰åœ¨æ­¤ä¹‹å‰çš„å˜é‡ï¼Œåœ¨å®ƒä¹‹åçš„å˜é‡å¯ä»¥èµ‹å€¼ï¼Œä½†ä¸èƒ½è®¿é—®ã€‚</clinit></p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span></span>{</span><br><span class="line">    <span class="keyword">static</span>{</span><br><span class="line">        i = <span class="number">0</span>;<span class="comment">//ç¼–è¯‘é€šè¿‡</span></span><br><span class="line">        System.out.println(i);<span class="comment">//éæ³•å‘å‰å¼•ç”¨</span></span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">int</span> i = <span class="number">1</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p><code>javaè™šæ‹Ÿæœºå¿…é¡»ä¿è¯ä¸€ä¸ªç±»çš„&lt;clinit&gt;ï¼ˆï¼‰æ–¹æ³•åœ¨å¤šçº¿ç¨‹ç¯å¢ƒä¸­è¢«æ­£ç¡®åŠ é”åŒæ­¥,è‹¥æ´»åŠ¨çº¿ç¨‹åœ¨ä¸€ä¸ªç±»çš„&lt;clinit&gt;ï¼ˆï¼‰æ–¹æ³•è€—æ—¶è¿‡é•¿ï¼Œæˆ–é€ æˆå¤šä¸ªçº¿ç¨‹é˜»å¡ã€‚</code></p><blockquote><p>Jvmçš„ä¸€äº›é—®é¢˜</p></blockquote><p><strong>JVM</strong></p><ul><li>è¿è¡Œæ—¶æ•°æ®åŒº</li><li>æœåŠ¡å™¨ä½¿ç”¨çš„ä»€ä¹ˆåƒåœ¾æ”¶é›†å™¨</li><li>CMS åƒåœ¾æ”¶é›†çš„åŸç†</li><li>G1 åƒåœ¾æ”¶é›†çš„ç‰¹ç‚¹ï¼Œä¸ºä»€ä¹ˆä½å»¶è¿Ÿ</li><li>æœ‰å“ªäº›åƒåœ¾å›æ”¶ç®—æ³•ï¼Œä¼˜ç¼ºç‚¹</li><li>å“ªäº›å¯¹è±¡å¯ä»¥ä½œä¸º GC Roots</li><li>æœ‰å“ªäº›ç±»åŠ è½½å™¨</li><li>åŒäº²å§”æ´¾æ¨¡å¼ï¼Œå“ªäº›åœºæ™¯æ˜¯æ‰“ç ´åŒäº²å§”æ´¾æ¨¡å¼</li><li>çº¿ä¸ŠæœåŠ¡å™¨å‡ºç°é¢‘ç¹ Full GCï¼Œæ€ä¹ˆæ’æŸ¥</li><li>å®šä½é—®é¢˜å¸¸ç”¨å“ªäº›å‘½ä»¤</li><li>ä»‹ç»ä¸‹ JVM è°ƒä¼˜çš„è¿‡ç¨‹</li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> Java </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JavaåŠ¨æ€ä»£ç†</title>
      <link href="2021/03/20/Java%E5%8A%A8%E6%80%81%E4%BB%A3%E7%90%86/"/>
      <url>2021/03/20/Java%E5%8A%A8%E6%80%81%E4%BB%A3%E7%90%86/</url>
      
        <content type="html"><![CDATA[]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>å¤šçº¿ç¨‹åŸºç¡€</title>
      <link href="2021/03/17/%E5%A4%9A%E7%BA%BF%E7%A8%8B%E5%9F%BA%E7%A1%80/"/>
      <url>2021/03/17/%E5%A4%9A%E7%BA%BF%E7%A8%8B%E5%9F%BA%E7%A1%80/</url>
      
        <content type="html"><![CDATA[<p>åœ¨Javaä¸­ï¼Œçº¿ç¨‹é€šå¸¸æœ‰äº”ç§çŠ¶æ€ï¼šåˆ›å»ºï¼Œå°±ç»ªï¼Œè¿è¡Œï¼Œé˜»å¡å’Œæ­»äº¡ã€‚</p><p>åˆ›å»ºçŠ¶æ€ï¼šåœ¨ç”Ÿæˆçº¿ç¨‹å¯¹è±¡ï¼Œå¹¶æ²¡æœ‰è°ƒç”¨è¯¥å¯¹è±¡çš„staræ–¹æ³•ï¼Œè¿™æ—¶çº¿ç¨‹å¤„äºåˆ›å»ºçŠ¶æ€ã€‚</p><p>å°±ç»ªçŠ¶æ€ï¼šå½“è°ƒç”¨äº†çº¿ç¨‹å¯¹è±¡çš„startæ–¹æ³•ä¹‹åï¼Œè¯¥çº¿ç¨‹å°±è¿›å…¥å°±ç»ªçŠ¶æ€ã€‚ä½†æ˜¯æ­¤æ—¶çº¿ç¨‹è°ƒåº¦ç¨‹åºè¿˜æ²¡æœ‰æŠŠè¯¥çº¿ç¨‹è®¾ç½®</p><pre><code>            ä¸ºå½“å‰çº¿ç¨‹ï¼Œæ­¤æ—¶å¤„äºå°±ç»ªçŠ¶æ€ã€‚åœ¨çº¿ç¨‹è¿è¡Œä¹‹åï¼Œä»ç­‰å¾…æˆ–è€…ç¡çœ ä¸­å›æ¥ä¹‹åï¼Œä¹Ÿä¼šå¤„äºå°±ç»ªçŠ¶æ€ã€‚</code></pre><p>è¿è¡ŒçŠ¶æ€ï¼šçº¿ç¨‹è°ƒåº¦ç¨‹åºå°†å¤„äºå°±ç»ªçŠ¶æ€çš„çº¿ç¨‹è®¾ç½®ä¸ºå½“å‰çº¿ç¨‹ï¼Œæ­¤æ—¶çº¿ç¨‹å°±è¿›å…¥äº†è¿è¡ŒçŠ¶æ€ï¼Œå¼€å§‹è¿è¡Œrunå‡½æ•°ä¸­çš„ä»£ç ã€‚</p><p>é˜»å¡çŠ¶æ€ï¼šçº¿ç¨‹æ­£åœ¨è¿è¡Œçš„æ—¶å€™ï¼Œè¢«æš‚åœ ï¼Œé€šå¸¸æ˜¯ä¸ºäº†ç­‰å¾…æŸä¸ªäº‹ä»¶çš„å‘ç”Ÿä¹‹åå†è¿è¡Œã€‚sleepï¼Œsuspendï¼Œwaitç­‰æ–¹æ³•</p><pre><code>             éƒ½å¯ä»¥å¯¼è‡´çº¿ç¨‹é˜»å¡ã€‚</code></pre><p>æ­»äº¡çŠ¶æ€ï¼šå¦‚æœä¸€ä¸ªçº¿ç¨‹çš„runæ–¹æ³•æ‰§è¡Œç»“æŸæˆ–è€…è¢«è°ƒç”¨stopæ–¹æ³•åï¼Œè¯¥çº¿ç¨‹å°±ä¼šæ­»äº¡ã€‚å¯¹äºæ­»äº¡çš„çº¿ç¨‹ï¼Œæ— æ³•å†ä½¿ç”¨startæ–¹æ³•</p><pre><code>           ä»¤å…¶è¿›å…¥å°±ç»ªã€‚</code></pre><p>å®ç°çº¿ç¨‹çš„æ–¹æ³•</p><pre><code>Javaä¸­å®ç°å¹¶å¯åŠ¨çº¿ç¨‹æœ‰ä¸¤ç§æ–¹æ³•ï¼š1.å†™ä¸€ä¸ªç±»ç»§æ‰¿Threadç±»ï¼Œé‡å†™runæ–¹æ³•ï¼Œç”¨startæ–¹æ³•å¯åŠ¨çº¿ç¨‹ã€‚2.å†™ä¸€ä¸ªç±»å®ç°Runnableæ¥å£ï¼Œå®ç°runæ–¹æ³•ã€‚ç”¨new Thread(Runnable target).start()æ–¹æ³•æ¥å¯åŠ¨ã€‚</code></pre><p>start()æ–¹æ³•   </p><pre><code>ç”¨startæ–¹æ³•æ¥å¯åŠ¨çº¿ç¨‹ï¼ŒçœŸæ­£å®ç°äº†å¤šçº¿ç¨‹è¿è¡Œï¼Œè¿™æ—¶æ— éœ€ç­‰å¾…runæ–¹æ³•ä½“ä»£ç æ‰§è¡Œå®Œæ¯•è€Œç›´æ¥ç»§ç»­æ‰§è¡Œä¸‹é¢çš„ä»£ç ã€‚é€šè¿‡è°ƒç”¨Threadç±»çš„start()æ–¹æ³•æ¥å¯åŠ¨ä¸€ä¸ªçº¿ç¨‹ï¼Œè¿™æ—¶æ­¤çº¿ç¨‹å¤„äºå°±ç»ªï¼ˆå¯è¿è¡Œï¼‰çŠ¶æ€ï¼Œå¹¶æ²¡æœ‰è¿è¡Œï¼Œä¸€æ—¦å¾—åˆ°cpuæ—¶é—´ç‰‡ï¼Œå°±å¼€å§‹æ‰§è¡Œrun()æ–¹æ³•ï¼Œè¿™é‡Œæ–¹æ³• run()ç§°ä¸ºçº¿ç¨‹ä½“ï¼Œå®ƒåŒ…å«äº†è¦æ‰§è¡Œçš„è¿™ä¸ªçº¿ç¨‹çš„å†…å®¹ï¼ŒRunæ–¹æ³•è¿è¡Œç»“æŸï¼Œæ­¤çº¿ç¨‹éšå³ç»ˆæ­¢ã€‚</code></pre><p>run()æ–¹æ³•</p><pre><code>run()æ–¹æ³•åªæ˜¯ç±»çš„ä¸€ä¸ªæ™®é€šæ–¹æ³•è€Œå·²ï¼Œå¦‚æœç›´æ¥è°ƒç”¨Runæ–¹æ³•ï¼Œç¨‹åºä¸­ä¾ç„¶åªæœ‰ä¸»çº¿ç¨‹è¿™ä¸€ä¸ªçº¿ç¨‹ï¼Œå…¶ç¨‹åºæ‰§è¡Œè·¯å¾„è¿˜æ˜¯åªæœ‰ä¸€æ¡ï¼Œè¿˜æ˜¯è¦é¡ºåºæ‰§è¡Œï¼Œè¿˜æ˜¯è¦ç­‰å¾…runæ–¹æ³•ä½“æ‰§è¡Œå®Œæ¯•åæ‰å¯ç»§ç»­æ‰§è¡Œä¸‹é¢çš„ä»£ç ï¼Œè¿™æ ·å°±æ²¡æœ‰è¾¾åˆ°å†™çº¿ç¨‹çš„ç›®çš„ã€‚æ€»ç»“ï¼šè°ƒç”¨startæ–¹æ³•æ–¹å¯å¯åŠ¨çº¿ç¨‹ï¼Œè€Œrunæ–¹æ³•åªæ˜¯threadçš„ä¸€ä¸ªæ™®é€šæ–¹æ³•è°ƒç”¨ï¼Œè¿˜æ˜¯åœ¨ä¸»çº¿ç¨‹é‡Œæ‰§è¡Œã€‚è¿™ä¸¤ä¸ªæ–¹æ³•åº”è¯¥éƒ½æ¯”è¾ƒç†Ÿæ‚‰ï¼ŒæŠŠéœ€è¦å¹¶è¡Œå¤„ç†çš„ä»£ç æ”¾åœ¨run()æ–¹æ³•ä¸­ï¼Œstart()æ–¹æ³•å¯åŠ¨çº¿ç¨‹å°†è‡ªåŠ¨è°ƒç”¨ run()æ–¹æ³•ï¼Œè¿™æ˜¯ç”±jvmçš„å†…å­˜æœºåˆ¶è§„å®šçš„ã€‚å¹¶ä¸”run()æ–¹æ³•å¿…é¡»æ˜¯publicè®¿é—®æƒé™ï¼Œè¿”å›å€¼ç±»å‹ä¸ºvoidã€‚Threadçš„å­ç±»è¦é‡å†™è¿™ä¸ªæ–¹æ³•ï¼Œé€šè¿‡Threadè°ƒç”¨run()æ–¹æ³•ï¼Œæ‰§è¡Œçº¿ç¨‹çš„çº¿ç¨‹ä½“ã€‚</code></pre><p>è°ƒç”¨startï¼ˆï¼‰åï¼Œçº¿ç¨‹ä¼šè¢«æ”¾åˆ°ç­‰å¾…é˜Ÿåˆ—ï¼Œç­‰å¾…CPUè°ƒåº¦ï¼Œå¹¶ä¸ä¸€å®šè¦é©¬ä¸Šå¼€å§‹æ‰§è¡Œï¼Œåªæ˜¯å°†è¿™ä¸ªçº¿ç¨‹ç½®äºå¯åŠ¨è¡ŒçŠ¶æ€ã€‚ç„¶åé€šè¿‡JVMï¼Œçº¿ç¨‹Threadä¼šè°ƒç”¨runï¼ˆï¼‰æ–¹æ³•ï¼Œæ‰§è¡Œæœ¬çº¿ç¨‹çš„çº¿ç¨‹ä½“ã€‚å…ˆè°ƒç”¨startåè°ƒç”¨runï¼Œè¿™ä¹ˆéº»çƒ¦ï¼Œä¸ºäº†ä¸ç›´æ¥è°ƒç”¨runï¼Ÿå°±æ˜¯ä¸ºäº†å®ç°å¤šçº¿ç¨‹çš„ä¼˜ç‚¹ï¼Œæ²¡è¿™ä¸ªstartä¸è¡Œã€‚</p>]]></content>
      
      
      
        <tags>
            
            <tag> Java </tag>
            
            <tag> å¤šçº¿ç¨‹ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å€¼ä¼ é€’ä¸å¼•ç”¨ä¼ é€’</title>
      <link href="2021/01/31/%E5%80%BC%E4%BC%A0%E9%80%92%E4%B8%8E%E5%BC%95%E7%94%A8%E4%BC%A0%E9%80%92/"/>
      <url>2021/01/31/%E5%80%BC%E4%BC%A0%E9%80%92%E4%B8%8E%E5%BC%95%E7%94%A8%E4%BC%A0%E9%80%92/</url>
      
        <content type="html"><![CDATA[<h1 id="å€¼ä¼ é€’ä¸å¼•ç”¨ä¼ é€’"><a href="#å€¼ä¼ é€’ä¸å¼•ç”¨ä¼ é€’" class="headerlink" title="å€¼ä¼ é€’ä¸å¼•ç”¨ä¼ é€’"></a>å€¼ä¼ é€’ä¸å¼•ç”¨ä¼ é€’</h1><h2 id="ä¸€ï¼šä»€ä¹ˆæ˜¯åŸºæœ¬æ•°æ®ç±»å‹ï¼Œä»€ä¹ˆæ˜¯å¼•ç”¨æ•°æ®ç±»å‹ã€‚"><a href="#ä¸€ï¼šä»€ä¹ˆæ˜¯åŸºæœ¬æ•°æ®ç±»å‹ï¼Œä»€ä¹ˆæ˜¯å¼•ç”¨æ•°æ®ç±»å‹ã€‚" class="headerlink" title="ä¸€ï¼šä»€ä¹ˆæ˜¯åŸºæœ¬æ•°æ®ç±»å‹ï¼Œä»€ä¹ˆæ˜¯å¼•ç”¨æ•°æ®ç±»å‹ã€‚"></a>ä¸€ï¼šä»€ä¹ˆæ˜¯åŸºæœ¬æ•°æ®ç±»å‹ï¼Œä»€ä¹ˆæ˜¯å¼•ç”¨æ•°æ®ç±»å‹ã€‚</h2><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> num = <span class="number">10</span>;</span><br><span class="line">String str = <span class="string">"hello"</span>;</span><br></pre></td></tr></tbody></table></figure><p><img src="https://pic3.zhimg.com/80/166032bc90958c21604110441ad03f45_720w.jpg?source=1940ef5c"></p><p>å¦‚å›¾æ‰€ç¤ºï¼Œnumæ˜¯åŸºæœ¬ç±»å‹ï¼Œå€¼å°±ç›´æ¥ä¿å­˜åœ¨å˜é‡ä¸­ã€‚è€Œstræ˜¯å¼•ç”¨ç±»å‹ï¼Œå˜é‡ä¸­ä¿å­˜çš„åªæ˜¯å®é™…å¯¹è±¡çš„åœ°å€ã€‚ä¸€èˆ¬ç§°è¿™ç§å˜é‡ä¸ºâ€å¼•ç”¨â€ï¼Œå¼•ç”¨æŒ‡å‘å®é™…å¯¹è±¡ï¼Œå®é™…å¯¹è±¡ä¸­ä¿å­˜ç€å†…å®¹ã€‚</p><h2 id="äºŒï¼šææ¸…æ¥šèµ‹å€¼è¿ç®—ç¬¦ï¼ˆ-ï¼‰çš„ä½œç”¨"><a href="#äºŒï¼šææ¸…æ¥šèµ‹å€¼è¿ç®—ç¬¦ï¼ˆ-ï¼‰çš„ä½œç”¨" class="headerlink" title="äºŒï¼šææ¸…æ¥šèµ‹å€¼è¿ç®—ç¬¦ï¼ˆ=ï¼‰çš„ä½œç”¨"></a>äºŒï¼šææ¸…æ¥šèµ‹å€¼è¿ç®—ç¬¦ï¼ˆ=ï¼‰çš„ä½œç”¨</h2><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">num = <span class="number">20</span>;</span><br><span class="line">str = <span class="string">"java"</span>;</span><br></pre></td></tr></tbody></table></figure><p><img src="https://pic1.zhimg.com/80/287c0efbb179638cf4cf27cbfdf3e746_720w.jpg?source=1940ef5c"></p><p>å¯¹äºåŸºæœ¬æ•°æ®ç±»å‹ï¼Œå†…å­˜ä¸­çš„å†…å®¹ç›´æ¥è¦†ç›–ã€‚</p><p>å¯¹äºå¼•ç”¨ç±»å‹ strï¼Œèµ‹å€¼è¿ç®—ç¬¦ä¼šæ”¹å˜å¼•ç”¨ä¸­æ‰€ä¿å­˜çš„åœ°å€ï¼ŒåŸæ¥çš„åœ°å€è¢«è¦†ç›–æ‰ã€‚<strong>ä½†æ˜¯åŸæ¥çš„å¯¹è±¡ä¸ä¼šè¢«æ”¹å˜ï¼ˆé‡è¦ï¼‰ã€‚</strong><br>å¦‚ä¸Šå›¾æ‰€ç¤ºï¼Œâ€helloâ€ å­—ç¬¦ä¸²å¯¹è±¡æ²¡æœ‰è¢«æ”¹å˜ã€‚ï¼ˆæ²¡æœ‰è¢«ä»»ä½•å¼•ç”¨æ‰€æŒ‡å‘çš„å¯¹è±¡æ˜¯åƒåœ¾ï¼Œä¼šè¢«åƒåœ¾å›æ”¶å™¨å›æ”¶ï¼‰</p><p>eg:</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.lang.StringBuilder;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">First</span> </span>{</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span>  a = <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">putStr</span><span class="params">(StringBuilder stringBuilder,<span class="keyword">int</span> b)</span></span>{</span><br><span class="line">        System.out.println(b);</span><br><span class="line">        b = <span class="number">4</span>;</span><br><span class="line">        System.out.println(<span class="string">"a = "</span>+a+<span class="string">"  "</span>+<span class="string">"b = "</span>+b );<span class="comment">//aä¾ç„¶ä¸å˜</span></span><br><span class="line"></span><br><span class="line">        System.out.println(stringBuilder.hashCode());</span><br><span class="line">        stringBuilder.append(<span class="string">" world!"</span>);<span class="comment">//sbæŒ‡å‘å†…å®¹æ”¹å˜</span></span><br><span class="line">        System.out.println(stringBuilder.hashCode());</span><br><span class="line">        stringBuilder = <span class="keyword">new</span> StringBuilder(<span class="string">"see you~"</span>);<span class="comment">//sbæŒ‡å‘å†…å®¹ä¸å˜</span></span><br><span class="line">        System.out.println(stringBuilder.hashCode());</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>{</span><br><span class="line"></span><br><span class="line">        StringBuilder sb =  <span class="keyword">new</span> StringBuilder(<span class="string">"hello"</span>);</span><br><span class="line">        System.out.println(sb.hashCode());</span><br><span class="line">        putStr(sb,a);</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line">_________________________________________________________________________________________________________</span><br><span class="line"><span class="number">460141958</span></span><br><span class="line"><span class="number">1</span></span><br><span class="line">a = <span class="number">1</span>  b = <span class="number">4</span></span><br><span class="line"><span class="number">460141958</span></span><br><span class="line"><span class="number">460141958</span></span><br><span class="line"><span class="number">1163157884</span></span><br></pre></td></tr></tbody></table></figure><h2 id="C-ä¸­çš„ä¸€äº›ç›¸ä¼¼é—®é¢˜"><a href="#C-ä¸­çš„ä¸€äº›ç›¸ä¼¼é—®é¢˜" class="headerlink" title="C++ä¸­çš„ä¸€äº›ç›¸ä¼¼é—®é¢˜"></a>C++ä¸­çš„ä¸€äº›ç›¸ä¼¼é—®é¢˜</h2><p>ä¸¾ä¾‹å¦‚ä¸‹</p><figure class="highlight c++"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">study</span><span class="params">(<span class="keyword">int</span> n)</span></span>{</span><br><span class="line">n = <span class="number">10</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">study</span><span class="params">(<span class="keyword">int</span> &amp;n)</span></span>{</span><br><span class="line">n =<span class="number">10</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><hr><p>ä¸Šç¤ºä¸¤ä¸ªå‡½æ•°ï¼Œæ‰ç”¨å‰è€…å¹¶ä¸å¯¼è‡´å®å‚æ”¹å˜ï¼Œæ‰ç”¨åè€…å¯¼è‡´å®å‚æ”¹å˜ã€‚</p><p>åœ¨ C++ä¸­  i<strong>nt a = 5; int &amp;b = a;</strong> è¯¥ç§å†™æ³•ç§°b ä¸º açš„åˆ«åï¼Œbä¸aæŒ‡å‘åŒä¸€ç‰‡å†…å­˜ï¼›</p><p>PSï¼š</p><ol><li>å¼•ç”¨åœ¨å®šä¹‰æ—¶å¿…é¡»åˆå§‹è¯ï¼Œå¦‚ int &amp;b;é”™è¯¯ã€‚</li><li>å¼•ç”¨åˆå§‹åŒ–åªèƒ½æ¦œé¡¶ä½æ²»ï¼Œä¸èƒ½æ¦œé¡¶å¸¸é‡å€¼ï¼Œå¦‚int &amp;b = 10; é”™è¯¯ã€‚</li><li>å¼•ç”¨ä¸€æ—¦åˆå§‹åŒ–å…¶å€¼ä¾¿ä¸èƒ½ä¿®æ”¹ï¼Œå³ä¸èƒ½åšå…¶ä»–å˜é‡çš„å¼•ç”¨ã€‚</li></ol>]]></content>
      
      
      
        <tags>
            
            <tag> Java </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è®¡ç®—æœºç½‘ç»œ</title>
      <link href="2021/01/12/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/"/>
      <url>2021/01/12/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/</url>
      
        <content type="html"><![CDATA[<h3 id="1-ç½‘ç»œå±‚æ¬¡åˆ’åˆ†"><a href="#1-ç½‘ç»œå±‚æ¬¡åˆ’åˆ†" class="headerlink" title="1. ç½‘ç»œå±‚æ¬¡åˆ’åˆ†"></a>1. ç½‘ç»œå±‚æ¬¡åˆ’åˆ†</h3><p>ã€€ã€€ä¸ºäº†ä½¿ä¸åŒè®¡ç®—æœºå‚å®¶ç”Ÿäº§çš„è®¡ç®—æœºèƒ½å¤Ÿç›¸äº’é€šä¿¡ï¼Œä»¥ä¾¿åœ¨æ›´å¤§çš„èŒƒå›´å†…å»ºç«‹è®¡ç®—æœºç½‘ç»œï¼Œå›½é™…æ ‡å‡†åŒ–ç»„ç»‡ï¼ˆISOï¼‰åœ¨1978å¹´æå‡ºäº†â€œå¼€æ”¾ç³»ç»Ÿäº’è”å‚è€ƒæ¨¡å‹â€ï¼Œå³è‘—åçš„OSI/RMæ¨¡å‹ï¼ˆOpen System Interconnection/Reference Modelï¼‰ã€‚å®ƒå°†è®¡ç®—æœºç½‘ç»œä½“ç³»ç»“æ„çš„é€šä¿¡åè®®åˆ’åˆ†ä¸ºä¸ƒå±‚ï¼Œè‡ªä¸‹è€Œä¸Šä¾æ¬¡ä¸ºï¼šç‰©ç†å±‚ï¼ˆPhysics Layerï¼‰ã€æ•°æ®é“¾è·¯å±‚ï¼ˆData Link Layerï¼‰ã€ç½‘ç»œå±‚ï¼ˆNetwork Layerï¼‰ã€ä¼ è¾“å±‚ï¼ˆTransport Layerï¼‰ã€ä¼šè¯å±‚ï¼ˆSession Layerï¼‰ã€è¡¨ç¤ºå±‚ï¼ˆPresentation Layerï¼‰ã€åº”ç”¨å±‚ï¼ˆApplication Layerï¼‰ã€‚ å…¶ä¸­ç¬¬å››å±‚å®Œæˆæ•°æ®ä¼ é€æœåŠ¡ï¼Œä¸Šé¢ä¸‰å±‚é¢å‘ç”¨æˆ·ã€‚</p><p>ã€€ã€€é™¤äº†æ ‡å‡†çš„OSIä¸ƒå±‚æ¨¡å‹ä»¥å¤–ï¼Œå¸¸è§çš„ç½‘ç»œå±‚æ¬¡åˆ’åˆ†è¿˜æœ‰TCP/IPå››å±‚åè®®ä»¥åŠTCP/IPäº”å±‚åè®®ï¼Œå®ƒä»¬ä¹‹é—´çš„å¯¹åº”å…³ç³»å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p><p><img src="https://images2015.cnblogs.com/blog/764050/201509/764050-20150904094019903-1923900106.jpg" alt="img"></p><h3 id="2-OSIä¸ƒå±‚ç½‘ç»œæ¨¡å‹"><a href="#2-OSIä¸ƒå±‚ç½‘ç»œæ¨¡å‹" class="headerlink" title="2. OSIä¸ƒå±‚ç½‘ç»œæ¨¡å‹"></a>2. OSIä¸ƒå±‚ç½‘ç»œæ¨¡å‹</h3><p>ã€€ã€€TCP/IPåè®®æ¯«æ— ç–‘é—®æ˜¯äº’è”ç½‘çš„åŸºç¡€åè®®ï¼Œæ²¡æœ‰å®ƒå°±æ ¹æœ¬ä¸å¯èƒ½ä¸Šç½‘ï¼Œä»»ä½•å’Œäº’è”ç½‘æœ‰å…³çš„æ“ä½œéƒ½ç¦»ä¸å¼€TCP/IPåè®®ã€‚ä¸ç®¡æ˜¯OSIä¸ƒå±‚æ¨¡å‹è¿˜æ˜¯TCP/IPçš„å››å±‚ã€äº”å±‚æ¨¡å‹ï¼Œæ¯ä¸€å±‚ä¸­éƒ½è¦è‡ªå·±çš„ä¸“å±åè®®ï¼Œå®Œæˆè‡ªå·±ç›¸åº”çš„å·¥ä½œä»¥åŠä¸ä¸Šä¸‹å±‚çº§ä¹‹é—´è¿›è¡Œæ²Ÿé€šã€‚ç”±äºOSIä¸ƒå±‚æ¨¡å‹ä¸ºç½‘ç»œçš„æ ‡å‡†å±‚æ¬¡åˆ’åˆ†ï¼Œæ‰€ä»¥æˆ‘ä»¬ä»¥OSIä¸ƒå±‚æ¨¡å‹ä¸ºä¾‹ä»ä¸‹å‘ä¸Šè¿›è¡Œä¸€ä¸€ä»‹ç»ã€‚</p><p><img src="https://images2015.cnblogs.com/blog/764050/201509/764050-20150904095142060-1017190812.gif" alt="img"></p><p>ã€€ã€€1ï¼‰ç‰©ç†å±‚ï¼ˆPhysical Layerï¼‰</p><p>ã€€ã€€æ¿€æ´»ã€ç»´æŒã€å…³é—­é€šä¿¡ç«¯ç‚¹ä¹‹é—´çš„æœºæ¢°ç‰¹æ€§ã€ç”µæ°”ç‰¹æ€§ã€åŠŸèƒ½ç‰¹æ€§ä»¥åŠè¿‡ç¨‹ç‰¹æ€§ã€‚è¯¥å±‚ä¸ºä¸Šå±‚åè®®æä¾›äº†ä¸€ä¸ªä¼ è¾“æ•°æ®çš„å¯é çš„ç‰©ç†åª’ä½“ã€‚ç®€å•çš„è¯´ï¼Œç‰©ç†å±‚ç¡®ä¿åŸå§‹çš„æ•°æ®å¯åœ¨å„ç§ç‰©ç†åª’ä½“ä¸Šä¼ è¾“ã€‚ç‰©ç†å±‚è®°ä½ä¸¤ä¸ªé‡è¦çš„è®¾å¤‡åç§°ï¼Œä¸­ç»§å™¨ï¼ˆRepeaterï¼Œä¹Ÿå«æ”¾å¤§å™¨ï¼‰å’Œé›†çº¿å™¨ã€‚</p><p>ã€€ã€€2ï¼‰æ•°æ®é“¾è·¯å±‚ï¼ˆData Link Layerï¼‰</p><p>ã€€ã€€æ•°æ®é“¾è·¯å±‚åœ¨ç‰©ç†å±‚æä¾›çš„æœåŠ¡çš„åŸºç¡€ä¸Šå‘ç½‘ç»œå±‚æä¾›æœåŠ¡ï¼Œå…¶æœ€åŸºæœ¬çš„æœåŠ¡æ˜¯å°†æºè‡ªç½‘ç»œå±‚æ¥çš„æ•°æ®å¯é åœ°ä¼ è¾“åˆ°ç›¸é‚»èŠ‚ç‚¹çš„ç›®æ ‡æœºç½‘ç»œå±‚ã€‚ä¸ºè¾¾åˆ°è¿™ä¸€ç›®çš„ï¼Œæ•°æ®é“¾è·¯å¿…é¡»å…·å¤‡ä¸€ç³»åˆ—ç›¸åº”çš„åŠŸèƒ½ï¼Œä¸»è¦æœ‰ï¼šå¦‚ä½•å°†æ•°æ®ç»„åˆæˆæ•°æ®å—ï¼Œåœ¨æ•°æ®é“¾è·¯å±‚ä¸­ç§°è¿™ç§æ•°æ®å—ä¸ºå¸§ï¼ˆframeï¼‰ï¼Œå¸§æ˜¯æ•°æ®é“¾è·¯å±‚çš„ä¼ é€å•ä½ï¼›å¦‚ä½•æ§åˆ¶å¸§åœ¨ç‰©ç†ä¿¡é“ä¸Šçš„ä¼ è¾“ï¼ŒåŒ…æ‹¬å¦‚ä½•å¤„ç†ä¼ è¾“å·®é”™ï¼Œå¦‚ä½•è°ƒèŠ‚å‘é€é€Ÿç‡ä»¥ä½¿ä¸æ¥æ”¶æ–¹ç›¸åŒ¹é…ï¼›ä»¥åŠåœ¨ä¸¤ä¸ªç½‘ç»œå®ä½“ä¹‹é—´æä¾›æ•°æ®é“¾è·¯é€šè·¯çš„å»ºç«‹ã€ç»´æŒå’Œé‡Šæ”¾çš„ç®¡ç†ã€‚æ•°æ®é“¾è·¯å±‚åœ¨ä¸å¯é çš„ç‰©ç†ä»‹è´¨ä¸Šæä¾›å¯é çš„ä¼ è¾“ã€‚è¯¥å±‚çš„ä½œç”¨åŒ…æ‹¬ï¼šç‰©ç†åœ°å€å¯»å€ã€æ•°æ®çš„æˆå¸§ã€æµé‡æ§åˆ¶ã€æ•°æ®çš„æ£€é”™ã€é‡å‘ç­‰ã€‚</p><p>ã€€ã€€æœ‰å…³æ•°æ®é“¾è·¯å±‚çš„é‡è¦çŸ¥è¯†ç‚¹ï¼š</p><p>ã€€ã€€1&gt; æ•°æ®é“¾è·¯å±‚ä¸ºç½‘ç»œå±‚æä¾›å¯é çš„æ•°æ®ä¼ è¾“ï¼›</p><p>ã€€ã€€2&gt; åŸºæœ¬æ•°æ®å•ä½ä¸ºå¸§ï¼›</p><p>ã€€ã€€3&gt; ä¸»è¦çš„åè®®ï¼šä»¥å¤ªç½‘åè®®ï¼›</p><p>ã€€ã€€4&gt; ä¸¤ä¸ªé‡è¦è®¾å¤‡åç§°ï¼šç½‘æ¡¥å’Œäº¤æ¢æœºã€‚</p><p>ã€€ã€€3ï¼‰ç½‘ç»œå±‚ï¼ˆNetwork Layerï¼‰</p><p>ã€€ã€€ç½‘ç»œå±‚çš„ç›®çš„æ˜¯å®ç°ä¸¤ä¸ªç«¯ç³»ç»Ÿä¹‹é—´çš„æ•°æ®é€æ˜ä¼ é€ï¼Œå…·ä½“åŠŸèƒ½åŒ…æ‹¬å¯»å€å’Œè·¯ç”±é€‰æ‹©ã€è¿æ¥çš„å»ºç«‹ã€ä¿æŒå’Œç»ˆæ­¢ç­‰ã€‚å®ƒæä¾›çš„æœåŠ¡ä½¿ä¼ è¾“å±‚ä¸éœ€è¦äº†è§£ç½‘ç»œä¸­çš„æ•°æ®ä¼ è¾“å’Œäº¤æ¢æŠ€æœ¯ã€‚å¦‚æœæ‚¨æƒ³ç”¨å°½é‡å°‘çš„è¯æ¥è®°ä½ç½‘ç»œå±‚ï¼Œé‚£å°±æ˜¯â€œè·¯å¾„é€‰æ‹©ã€è·¯ç”±åŠé€»è¾‘å¯»å€â€ã€‚</p><p>ã€€ã€€ç½‘ç»œå±‚ä¸­æ¶‰åŠä¼—å¤šçš„åè®®ï¼Œå…¶ä¸­åŒ…æ‹¬æœ€é‡è¦çš„åè®®ï¼Œä¹Ÿæ˜¯TCP/IPçš„æ ¸å¿ƒåè®®â€”â€”IPåè®®ã€‚IPåè®®éå¸¸ç®€å•ï¼Œä»…ä»…æä¾›ä¸å¯é ã€æ— è¿æ¥çš„ä¼ é€æœåŠ¡ã€‚IPåè®®çš„ä¸»è¦åŠŸèƒ½æœ‰ï¼šæ— è¿æ¥æ•°æ®æŠ¥ä¼ è¾“ã€æ•°æ®æŠ¥è·¯ç”±é€‰æ‹©å’Œå·®é”™æ§åˆ¶ã€‚ä¸IPåè®®é…å¥—ä½¿ç”¨å®ç°å…¶åŠŸèƒ½çš„è¿˜æœ‰åœ°å€è§£æåè®®ARPã€é€†åœ°å€è§£æåè®®RARPã€å› ç‰¹ç½‘æŠ¥æ–‡åè®®ICMPã€å› ç‰¹ç½‘ç»„ç®¡ç†åè®®IGMPã€‚å…·ä½“çš„åè®®æˆ‘ä»¬ä¼šåœ¨æ¥ä¸‹æ¥çš„éƒ¨åˆ†è¿›è¡Œæ€»ç»“ï¼Œæœ‰å…³ç½‘ç»œå±‚çš„é‡ç‚¹ä¸ºï¼š</p><p>ã€€ã€€1&gt; ç½‘ç»œå±‚è´Ÿè´£å¯¹å­ç½‘é—´çš„æ•°æ®åŒ…è¿›è¡Œè·¯ç”±é€‰æ‹©ã€‚æ­¤å¤–ï¼Œç½‘ç»œå±‚è¿˜å¯ä»¥å®ç°æ‹¥å¡æ§åˆ¶ã€ç½‘é™…äº’è¿ç­‰åŠŸèƒ½ï¼›</p><p>ã€€ã€€2&gt; åŸºæœ¬æ•°æ®å•ä½ä¸ºIPæ•°æ®æŠ¥ï¼›</p><p>ã€€ã€€3&gt; åŒ…å«çš„ä¸»è¦åè®®ï¼š</p><p>ã€€ã€€IPåè®®ï¼ˆInternet Protocolï¼Œå› ç‰¹ç½‘äº’è”åè®®ï¼‰;</p><p>ã€€ã€€ICMPåè®®ï¼ˆInternet Control Message Protocolï¼Œå› ç‰¹ç½‘æ§åˆ¶æŠ¥æ–‡åè®®ï¼‰;</p><p>ã€€ã€€ARPåè®®ï¼ˆAddress Resolution Protocolï¼Œåœ°å€è§£æåè®®ï¼‰;</p><p>ã€€ã€€RARPåè®®ï¼ˆReverse Address Resolution Protocolï¼Œé€†åœ°å€è§£æåè®®ï¼‰ã€‚</p><p>ã€€ã€€4&gt; é‡è¦çš„è®¾å¤‡ï¼šè·¯ç”±å™¨ã€‚</p><p>ã€€ã€€4ï¼‰ä¼ è¾“å±‚ï¼ˆTransport Layerï¼‰</p><p>ã€€ã€€ç¬¬ä¸€ä¸ªç«¯åˆ°ç«¯ï¼Œå³ä¸»æœºåˆ°ä¸»æœºçš„å±‚æ¬¡ã€‚ä¼ è¾“å±‚è´Ÿè´£å°†ä¸Šå±‚æ•°æ®åˆ†æ®µå¹¶æä¾›ç«¯åˆ°ç«¯çš„ã€å¯é çš„æˆ–ä¸å¯é çš„ä¼ è¾“ã€‚æ­¤å¤–ï¼Œä¼ è¾“å±‚è¿˜è¦å¤„ç†ç«¯åˆ°ç«¯çš„å·®é”™æ§åˆ¶å’Œæµé‡æ§åˆ¶é—®é¢˜ã€‚</p><p>ã€€ã€€ä¼ è¾“å±‚çš„ä»»åŠ¡æ˜¯æ ¹æ®é€šä¿¡å­ç½‘çš„ç‰¹æ€§ï¼Œæœ€ä½³çš„åˆ©ç”¨ç½‘ç»œèµ„æºï¼Œä¸ºä¸¤ä¸ªç«¯ç³»ç»Ÿçš„ä¼šè¯å±‚ä¹‹é—´ï¼Œæä¾›å»ºç«‹ã€ç»´æŠ¤å’Œå–æ¶ˆä¼ è¾“è¿æ¥çš„åŠŸèƒ½ï¼Œè´Ÿè´£ç«¯åˆ°ç«¯çš„å¯é æ•°æ®ä¼ è¾“ã€‚åœ¨è¿™ä¸€å±‚ï¼Œä¿¡æ¯ä¼ é€çš„åè®®æ•°æ®å•å…ƒç§°ä¸ºæ®µæˆ–æŠ¥æ–‡ã€‚</p><p>ã€€ã€€ç½‘ç»œå±‚åªæ˜¯æ ¹æ®ç½‘ç»œåœ°å€å°†æºç»“ç‚¹å‘å‡ºçš„æ•°æ®åŒ…ä¼ é€åˆ°ç›®çš„ç»“ç‚¹ï¼Œè€Œä¼ è¾“å±‚åˆ™è´Ÿè´£å°†æ•°æ®å¯é åœ°ä¼ é€åˆ°ç›¸åº”çš„ç«¯å£ã€‚</p><p>ã€€ã€€æœ‰å…³ç½‘ç»œå±‚çš„é‡ç‚¹ï¼š</p><p>ã€€ã€€1&gt; ä¼ è¾“å±‚è´Ÿè´£å°†ä¸Šå±‚æ•°æ®åˆ†æ®µå¹¶æä¾›ç«¯åˆ°ç«¯çš„ã€å¯é çš„æˆ–ä¸å¯é çš„ä¼ è¾“ä»¥åŠç«¯åˆ°ç«¯çš„å·®é”™æ§åˆ¶å’Œæµé‡æ§åˆ¶é—®é¢˜ï¼›</p><p>ã€€ã€€2&gt; åŒ…å«çš„ä¸»è¦åè®®ï¼šTCPåè®®ï¼ˆTransmission Control Protocolï¼Œä¼ è¾“æ§åˆ¶åè®®ï¼‰ã€UDPåè®®ï¼ˆUser Datagram Protocolï¼Œç”¨æˆ·æ•°æ®æŠ¥åè®®ï¼‰ï¼›</p><p>ã€€ã€€3&gt; é‡è¦è®¾å¤‡ï¼šç½‘å…³ã€‚</p><p>ã€€ã€€5ï¼‰ä¼šè¯å±‚</p><p>ã€€ã€€ä¼šè¯å±‚ç®¡ç†ä¸»æœºä¹‹é—´çš„ä¼šè¯è¿›ç¨‹ï¼Œå³è´Ÿè´£å»ºç«‹ã€ç®¡ç†ã€ç»ˆæ­¢è¿›ç¨‹ä¹‹é—´çš„ä¼šè¯ã€‚ä¼šè¯å±‚è¿˜åˆ©ç”¨åœ¨æ•°æ®ä¸­æ’å…¥æ ¡éªŒç‚¹æ¥å®ç°æ•°æ®çš„åŒæ­¥ã€‚</p><p>ã€€ã€€6ï¼‰è¡¨ç¤ºå±‚</p><p>ã€€ã€€è¡¨ç¤ºå±‚å¯¹ä¸Šå±‚æ•°æ®æˆ–ä¿¡æ¯è¿›è¡Œå˜æ¢ä»¥ä¿è¯ä¸€ä¸ªä¸»æœºåº”ç”¨å±‚ä¿¡æ¯å¯ä»¥è¢«å¦ä¸€ä¸ªä¸»æœºçš„åº”ç”¨ç¨‹åºç†è§£ã€‚è¡¨ç¤ºå±‚çš„æ•°æ®è½¬æ¢åŒ…æ‹¬æ•°æ®çš„åŠ å¯†ã€å‹ç¼©ã€æ ¼å¼è½¬æ¢ç­‰ã€‚</p><p>ã€€ã€€7ï¼‰åº”ç”¨å±‚</p><p>ã€€ã€€ä¸ºæ“ä½œç³»ç»Ÿæˆ–ç½‘ç»œåº”ç”¨ç¨‹åºæä¾›è®¿é—®ç½‘ç»œæœåŠ¡çš„æ¥å£ã€‚</p><p>ã€€ã€€ä¼šè¯å±‚ã€è¡¨ç¤ºå±‚å’Œåº”ç”¨å±‚é‡ç‚¹ï¼š</p><p>ã€€ã€€1&gt; æ•°æ®ä¼ è¾“åŸºæœ¬å•ä½ä¸ºæŠ¥æ–‡ï¼›</p><p>ã€€ã€€2&gt; åŒ…å«çš„ä¸»è¦åè®®ï¼šFTPï¼ˆæ–‡ä»¶ä¼ é€åè®®ï¼‰ã€Telnetï¼ˆè¿œç¨‹ç™»å½•åè®®ï¼‰ã€DNSï¼ˆåŸŸåè§£æåè®®ï¼‰ã€SMTPï¼ˆé‚®ä»¶ä¼ é€åè®®ï¼‰ï¼ŒPOP3åè®®ï¼ˆé‚®å±€åè®®ï¼‰ï¼ŒHTTPåè®®ï¼ˆHyper Text Transfer Protocolï¼‰ã€‚</p><h3 id="3-IPåœ°å€"><a href="#3-IPåœ°å€" class="headerlink" title="3. IPåœ°å€"></a>3. IPåœ°å€</h3><p>ã€€ã€€1ï¼‰ç½‘ç»œåœ°å€</p><p>ã€€ã€€IPåœ°å€ç”±ç½‘ç»œå·ï¼ˆåŒ…æ‹¬å­ç½‘å·ï¼‰å’Œä¸»æœºå·ç»„æˆï¼Œç½‘ç»œåœ°å€çš„ä¸»æœºå·ä¸ºå…¨0ï¼Œç½‘ç»œåœ°å€ä»£è¡¨ç€æ•´ä¸ªç½‘ç»œã€‚</p><p>ã€€ã€€2ï¼‰å¹¿æ’­åœ°å€</p><p>ã€€ã€€å¹¿æ’­åœ°å€é€šå¸¸ç§°ä¸ºç›´æ¥å¹¿æ’­åœ°å€ï¼Œæ˜¯ä¸ºäº†åŒºåˆ†å—é™å¹¿æ’­åœ°å€ã€‚</p><p>ã€€ã€€å¹¿æ’­åœ°å€ä¸ç½‘ç»œåœ°å€çš„ä¸»æœºå·æ­£å¥½ç›¸åï¼Œå¹¿æ’­åœ°å€ä¸­ï¼Œä¸»æœºå·ä¸ºå…¨1ã€‚å½“å‘æŸä¸ªç½‘ç»œçš„å¹¿æ’­åœ°å€å‘é€æ¶ˆæ¯æ—¶ï¼Œè¯¥ç½‘ç»œå†…çš„æ‰€æœ‰ä¸»æœºéƒ½èƒ½æ”¶åˆ°è¯¥å¹¿æ’­æ¶ˆæ¯ã€‚</p><p>ã€€ã€€3ï¼‰ç»„æ’­åœ°å€</p><p>ã€€ã€€Dç±»åœ°å€å°±æ˜¯ç»„æ’­åœ°å€ã€‚</p><p>ã€€ã€€å…ˆå›å¿†ä¸‹Aï¼ŒBï¼ŒCï¼ŒDç±»åœ°å€å§ï¼š</p><p>ã€€ã€€Aç±»åœ°å€ä»¥0å¼€å¤´ï¼Œç¬¬ä¸€ä¸ªå­—èŠ‚ä½œä¸ºç½‘ç»œå·ï¼Œåœ°å€èŒƒå›´ä¸ºï¼š0.0.0.0~127.255.255.255ï¼›(modified @2016.05.31)</p><p>ã€€ã€€Bç±»åœ°å€ä»¥10å¼€å¤´ï¼Œå‰ä¸¤ä¸ªå­—èŠ‚ä½œä¸ºç½‘ç»œå·ï¼Œåœ°å€èŒƒå›´æ˜¯ï¼š128.0.0.0~191.255.255.255;</p><p>ã€€ã€€Cç±»åœ°å€ä»¥110å¼€å¤´ï¼Œå‰ä¸‰ä¸ªå­—èŠ‚ä½œä¸ºç½‘ç»œå·ï¼Œåœ°å€èŒƒå›´æ˜¯ï¼š192.0.0.0~223.255.255.255ã€‚</p><p>ã€€ã€€Dç±»åœ°å€ä»¥1110å¼€å¤´ï¼Œåœ°å€èŒƒå›´æ˜¯224.0.0.0~239.255.255.255ï¼ŒDç±»åœ°å€ä½œä¸ºç»„æ’­åœ°å€ï¼ˆä¸€å¯¹å¤šçš„é€šä¿¡ï¼‰ï¼›</p><p>ã€€ã€€Eç±»åœ°å€ä»¥1111å¼€å¤´ï¼Œåœ°å€èŒƒå›´æ˜¯240.0.0.0~255.255.255.255ï¼ŒEç±»åœ°å€ä¸ºä¿ç•™åœ°å€ï¼Œä¾›ä»¥åä½¿ç”¨ã€‚</p><p>ã€€ã€€æ³¨ï¼šåªæœ‰A,B,Cæœ‰ç½‘ç»œå·å’Œä¸»æœºå·ä¹‹åˆ†ï¼ŒDç±»åœ°å€å’ŒEç±»åœ°å€æ²¡æœ‰åˆ’åˆ†ç½‘ç»œå·å’Œä¸»æœºå·ã€‚</p><p>ã€€ã€€4ï¼‰255.255.255.255</p><p>ã€€ã€€è¯¥IPåœ°å€æŒ‡çš„æ˜¯å—é™çš„å¹¿æ’­åœ°å€ã€‚å—é™å¹¿æ’­åœ°å€ä¸ä¸€èˆ¬å¹¿æ’­åœ°å€ï¼ˆç›´æ¥å¹¿æ’­åœ°å€ï¼‰çš„åŒºåˆ«åœ¨äºï¼Œå—é™å¹¿æ’­åœ°å€åªèƒ½ç”¨äºæœ¬åœ°ç½‘ç»œï¼Œè·¯ç”±å™¨ä¸ä¼šè½¬å‘ä»¥å—é™å¹¿æ’­åœ°å€ä¸ºç›®çš„åœ°å€çš„åˆ†ç»„ï¼›ä¸€èˆ¬å¹¿æ’­åœ°å€æ—¢å¯åœ¨æœ¬åœ°å¹¿æ’­ï¼Œä¹Ÿå¯è·¨ç½‘æ®µå¹¿æ’­ã€‚ä¾‹å¦‚ï¼šä¸»æœº192.168.1.1/30ä¸Šçš„ç›´æ¥å¹¿æ’­æ•°æ®åŒ…åï¼Œå¦å¤–ä¸€ä¸ªç½‘æ®µ192.168.1.5/30ä¹Ÿèƒ½æ”¶åˆ°è¯¥æ•°æ®æŠ¥ï¼›è‹¥å‘é€å—é™å¹¿æ’­æ•°æ®æŠ¥ï¼Œåˆ™ä¸èƒ½æ”¶åˆ°ã€‚</p><p>ã€€ã€€æ³¨ï¼šä¸€èˆ¬çš„å¹¿æ’­åœ°å€ï¼ˆç›´æ¥å¹¿æ’­åœ°å€ï¼‰èƒ½å¤Ÿé€šè¿‡æŸäº›è·¯ç”±å™¨ï¼ˆå½“ç„¶ä¸æ˜¯æ‰€æœ‰çš„è·¯ç”±å™¨ï¼‰ï¼Œè€Œå—é™çš„å¹¿æ’­åœ°å€ä¸èƒ½é€šè¿‡è·¯ç”±å™¨ã€‚</p><p>ã€€ã€€5ï¼‰0.0.0.0</p><p>ã€€ã€€å¸¸ç”¨äºå¯»æ‰¾è‡ªå·±çš„IPåœ°å€ï¼Œä¾‹å¦‚åœ¨æˆ‘ä»¬çš„RARPï¼ŒBOOTPå’ŒDHCPåè®®ä¸­ï¼Œè‹¥æŸä¸ªæœªçŸ¥IPåœ°å€çš„æ— ç›˜æœºæƒ³è¦çŸ¥é“è‡ªå·±çš„IPåœ°å€ï¼Œå®ƒå°±ä»¥255.255.255.255ä¸ºç›®çš„åœ°å€ï¼Œå‘æœ¬åœ°èŒƒå›´ï¼ˆå…·ä½“è€Œè¨€æ˜¯è¢«å„ä¸ªè·¯ç”±å™¨å±è”½çš„èŒƒå›´å†…ï¼‰çš„æœåŠ¡å™¨å‘é€IPè¯·æ±‚åˆ†ç»„ã€‚</p><p>ã€€ã€€6ï¼‰å›ç¯åœ°å€</p><p>ã€€ã€€127.0.0.0/8è¢«ç”¨ä½œå›ç¯åœ°å€ï¼Œå›ç¯åœ°å€è¡¨ç¤ºæœ¬æœºçš„åœ°å€ï¼Œå¸¸ç”¨äºå¯¹æœ¬æœºçš„æµ‹è¯•ï¼Œç”¨çš„æœ€å¤šçš„æ˜¯127.0.0.1ã€‚</p><p>ã€€ã€€7ï¼‰Aã€Bã€Cç±»ç§æœ‰åœ°å€</p><p>ã€€ã€€ç§æœ‰åœ°å€(private address)ä¹Ÿå«ä¸“ç”¨åœ°å€ï¼Œå®ƒä»¬ä¸ä¼šåœ¨å…¨çƒä½¿ç”¨ï¼Œåªå…·æœ‰æœ¬åœ°æ„ä¹‰ã€‚</p><p>ã€€ã€€Aç±»ç§æœ‰åœ°å€ï¼š10.0.0.0/8ï¼ŒèŒƒå›´æ˜¯ï¼š10.0.0.0~10.255.255.255</p><p>ã€€ã€€Bç±»ç§æœ‰åœ°å€ï¼š172.16.0.0/12ï¼ŒèŒƒå›´æ˜¯ï¼š172.16.0.0~172.31.255.255</p><p>ã€€ã€€Cç±»ç§æœ‰åœ°å€ï¼š192.168.0.0/16ï¼ŒèŒƒå›´æ˜¯ï¼š192.168.0.0~192.168.255.255</p><h3 id="4-å­ç½‘æ©ç åŠç½‘ç»œåˆ’åˆ†"><a href="#4-å­ç½‘æ©ç åŠç½‘ç»œåˆ’åˆ†" class="headerlink" title="4. å­ç½‘æ©ç åŠç½‘ç»œåˆ’åˆ†"></a>4. å­ç½‘æ©ç åŠç½‘ç»œåˆ’åˆ†</h3><p>ã€€ã€€éšç€äº’è¿ç½‘åº”ç”¨çš„ä¸æ–­æ‰©å¤§ï¼ŒåŸå…ˆçš„IPv4çš„å¼Šç«¯ä¹Ÿé€æ¸æš´éœ²å‡ºæ¥ï¼Œå³ç½‘ç»œå·å ä½å¤ªå¤šï¼Œè€Œä¸»æœºå·ä½å¤ªå°‘ï¼Œæ‰€ä»¥å…¶èƒ½æä¾›çš„ä¸»æœºåœ°å€ä¹Ÿè¶Šæ¥è¶Šç¨€ç¼ºï¼Œç›®å‰é™¤äº†ä½¿ç”¨NATåœ¨ä¼ä¸šå†…éƒ¨åˆ©ç”¨ä¿ç•™åœ°å€è‡ªè¡Œåˆ†é…ä»¥å¤–ï¼Œé€šå¸¸éƒ½å¯¹ä¸€ä¸ªé«˜ç±»åˆ«çš„IPåœ°å€è¿›è¡Œå†åˆ’åˆ†ï¼Œä»¥å½¢æˆå¤šä¸ªå­ç½‘ï¼Œæä¾›ç»™ä¸åŒè§„æ¨¡çš„ç”¨æˆ·ç¾¤ä½¿ç”¨ã€‚</p><p>ã€€ã€€è¿™é‡Œä¸»è¦æ˜¯ä¸ºäº†åœ¨ç½‘ç»œåˆ†æ®µæƒ…å†µä¸‹æœ‰æ•ˆåœ°åˆ©ç”¨IPåœ°å€ï¼Œé€šè¿‡å¯¹ä¸»æœºå·çš„é«˜ä½éƒ¨åˆ†å–ä½œä¸ºå­ç½‘å·ï¼Œä»é€šå¸¸çš„ç½‘ç»œä½ç•Œé™ä¸­æ‰©å±•æˆ–å‹ç¼©å­ç½‘æ©ç ï¼Œç”¨æ¥åˆ›å»ºæŸç±»åœ°å€çš„æ›´å¤šå­ç½‘ã€‚ä½†åˆ›å»ºæ›´å¤šçš„å­ç½‘æ—¶ï¼Œåœ¨æ¯ä¸ªå­ç½‘ä¸Šçš„å¯ç”¨ä¸»æœºåœ°å€æ•°ç›®ä¼šæ¯”åŸå…ˆå‡å°‘ã€‚</p><p>ã€€ã€€ä»€ä¹ˆæ˜¯å­ç½‘æ©ç ï¼Ÿ</p><p>ã€€ã€€å­ç½‘æ©ç æ˜¯æ ‡å¿—ä¸¤ä¸ªIPåœ°å€æ˜¯å¦åŒå±äºä¸€ä¸ªå­ç½‘çš„ï¼Œä¹Ÿæ˜¯32ä½äºŒè¿›åˆ¶åœ°å€ï¼Œå…¶æ¯ä¸€ä¸ªä¸º1ä»£è¡¨è¯¥ä½æ˜¯ç½‘ç»œä½ï¼Œä¸º0ä»£è¡¨ä¸»æœºä½ã€‚å®ƒå’ŒIPåœ°å€ä¸€æ ·ä¹Ÿæ˜¯ä½¿ç”¨ç‚¹å¼åè¿›åˆ¶æ¥è¡¨ç¤ºçš„ã€‚å¦‚æœä¸¤ä¸ªIPåœ°å€åœ¨å­ç½‘æ©ç çš„æŒ‰ä½ä¸çš„è®¡ç®—ä¸‹æ‰€å¾—ç»“æœç›¸åŒï¼Œå³è¡¨æ˜å®ƒä»¬å…±å±äºåŒä¸€å­ç½‘ä¸­ã€‚</p><p>ã€€ã€€åœ¨è®¡ç®—å­ç½‘æ©ç æ—¶ï¼Œæˆ‘ä»¬è¦æ³¨æ„IPåœ°å€ä¸­çš„ä¿ç•™åœ°å€ï¼Œå³â€œ 0â€åœ°å€å’Œå¹¿æ’­åœ°å€ï¼Œå®ƒä»¬æ˜¯æŒ‡ä¸»æœºåœ°å€æˆ–ç½‘ç»œåœ°å€å…¨ä¸ºâ€œ 0â€æˆ–â€œ 1â€æ—¶çš„IPåœ°å€ï¼Œå®ƒä»¬ä»£è¡¨ç€æœ¬ç½‘ç»œåœ°å€å’Œå¹¿æ’­åœ°å€ï¼Œä¸€èˆ¬æ˜¯ä¸èƒ½è¢«è®¡ç®—åœ¨å†…çš„ã€‚</p><p>ã€€ã€€å­ç½‘æ©ç çš„è®¡ç®—ï¼š</p><p>ã€€ã€€å¯¹äºæ— é¡»å†åˆ’åˆ†æˆå­ç½‘çš„IPåœ°å€æ¥è¯´ï¼Œå…¶å­ç½‘æ©ç éå¸¸ç®€å•ï¼Œå³æŒ‰ç…§å…¶å®šä¹‰å³å¯å†™å‡ºï¼šå¦‚æŸBç±»IPåœ°å€ä¸º 10.12.3.0ï¼Œæ— é¡»å†åˆ†å‰²å­ç½‘ï¼Œåˆ™è¯¥IPåœ°å€çš„å­ç½‘æ©ç 255.255.0.0ã€‚å¦‚æœå®ƒæ˜¯ä¸€ä¸ªCç±»åœ°å€ï¼Œåˆ™å…¶å­ç½‘æ©ç ä¸º 255.255.255.0ã€‚å…¶å®ƒç±»æ¨ï¼Œä¸å†è¯¦è¿°ã€‚ä¸‹é¢æˆ‘ä»¬å…³é”®è¦ä»‹ç»çš„æ˜¯ä¸€ä¸ªIPåœ°å€ï¼Œè¿˜éœ€è¦å°†å…¶é«˜ä½ä¸»æœºä½å†ä½œä¸ºåˆ’åˆ†å‡ºçš„å­ç½‘ç½‘ç»œå·ï¼Œå‰©ä¸‹çš„æ˜¯æ¯ä¸ªå­ç½‘çš„ä¸»æœºå·ï¼Œè¿™æ—¶è¯¥å¦‚ä½•è¿›è¡Œæ¯ä¸ªå­ç½‘çš„æ©ç è®¡ç®—ã€‚</p><p>ã€€ã€€ä¸‹é¢æ€»ç»“ä¸€ä¸‹æœ‰å…³å­ç½‘æ©ç å’Œç½‘ç»œåˆ’åˆ†å¸¸è§çš„é¢è¯•è€ƒé¢˜ï¼š</p><p>ã€€ã€€1ï¼‰åˆ©ç”¨å­ç½‘æ•°æ¥è®¡ç®—</p><p>ã€€ã€€åœ¨æ±‚å­ç½‘æ©ç ä¹‹å‰å¿…é¡»å…ˆææ¸…æ¥šè¦åˆ’åˆ†çš„å­ç½‘æ•°ç›®ï¼Œä»¥åŠæ¯ä¸ªå­ç½‘å†…çš„æ‰€éœ€ä¸»æœºæ•°ç›®ã€‚</p><p>ã€€ã€€(1) å°†å­ç½‘æ•°ç›®è½¬åŒ–ä¸ºäºŒè¿›åˆ¶æ¥è¡¨ç¤º;</p><p>ã€€ã€€å¦‚æ¬²å°†Bç±»IPåœ°å€168.195.0.0åˆ’åˆ†æˆ27ä¸ªå­ç½‘ï¼š27=11011ï¼›</p><p>ã€€ã€€(2) å–å¾—è¯¥äºŒè¿›åˆ¶çš„ä½æ•°ï¼Œä¸ºNï¼›</p><p>ã€€ã€€è¯¥äºŒè¿›åˆ¶ä¸ºäº”ä½æ•°ï¼ŒN = 5</p><p>ã€€ã€€(3) å–å¾—è¯¥IPåœ°å€çš„ç±»å­ç½‘æ©ç ï¼Œå°†å…¶ä¸»æœºåœ°å€éƒ¨åˆ†çš„çš„å‰Nä½ç½®1å³å¾—å‡ºè¯¥IPåœ°å€åˆ’åˆ†å­ç½‘çš„å­ç½‘æ©ç ã€‚</p><p>ã€€ã€€å°†Bç±»åœ°å€çš„å­ç½‘æ©ç 255.255.0.0çš„ä¸»æœºåœ°å€å‰5ä½ç½® 1ï¼Œå¾—åˆ° 255.255.248.0</p><p>ã€€ã€€2ï¼‰åˆ©ç”¨ä¸»æœºæ•°æ¥è®¡ç®—</p><p>ã€€ã€€å¦‚æ¬²å°†Bç±»IPåœ°å€168.195.0.0åˆ’åˆ†æˆè‹¥å¹²å­ç½‘ï¼Œæ¯ä¸ªå­ç½‘å†…æœ‰ä¸»æœº700å°ï¼š</p><p>ã€€ã€€(1) å°†ä¸»æœºæ•°ç›®è½¬åŒ–ä¸ºäºŒè¿›åˆ¶æ¥è¡¨ç¤ºï¼›</p><p>ã€€ã€€700=1010111100ï¼›</p><p>ã€€ã€€(2) å¦‚æœä¸»æœºæ•°å°äºæˆ–ç­‰äº254ï¼ˆæ³¨æ„å»æ‰ä¿ç•™çš„ä¸¤ä¸ªIPåœ°å€ï¼‰ï¼Œåˆ™å–å¾—è¯¥ä¸»æœºçš„äºŒè¿›åˆ¶ä½æ•°ï¼Œä¸ºNï¼Œè¿™é‡Œè‚¯å®š N&lt;8ã€‚å¦‚æœå¤§äº254ï¼Œåˆ™ N&gt;8ï¼Œè¿™å°±æ˜¯è¯´ä¸»æœºåœ°å€å°†å æ®ä¸æ­¢8ä½ï¼›</p><p>ã€€ã€€è¯¥äºŒè¿›åˆ¶ä¸ºåä½æ•°ï¼ŒN=10ï¼›</p><p>ã€€ã€€(3) ä½¿ç”¨255.255.255.255æ¥å°†è¯¥ç±»IPåœ°å€çš„ä¸»æœºåœ°å€ä½æ•°å…¨éƒ¨ç½®1ï¼Œç„¶åä»åå‘å‰çš„å°†Nä½å…¨éƒ¨ç½®ä¸º 0ï¼Œå³ä¸ºå­ç½‘æ©ç å€¼ã€‚</p><p>ã€€ã€€å°†è¯¥Bç±»åœ°å€çš„å­ç½‘æ©ç 255.255.0.0çš„ä¸»æœºåœ°å€å…¨éƒ¨ç½®1ï¼Œå¾—åˆ°255.255.255.255ï¼Œç„¶åå†ä»åå‘å‰å°†å 10ä½ç½®0,å³ä¸ºï¼š11111111.11111111.11111100.00000000ï¼Œå³255.255.252.0ã€‚è¿™å°±æ˜¯è¯¥æ¬²åˆ’åˆ†æˆä¸»æœºä¸º700å°çš„Bç±»IPåœ°å€ 168.195.0.0çš„å­ç½‘æ©ç ã€‚</p><p>ã€€ã€€3ï¼‰è¿˜æœ‰ä¸€ç§é¢˜å‹ï¼Œè¦ä½ æ ¹æ®æ¯ä¸ªç½‘ç»œçš„ä¸»æœºæ•°é‡è¿›è¡Œå­ç½‘åœ°å€çš„è§„åˆ’å’Œè®¡ç®—å­ç½‘æ©ç ã€‚è¿™ä¹Ÿå¯æŒ‰ä¸Šè¿°åŸåˆ™è¿›è¡Œè®¡ç®—ã€‚</p><p>ã€€ã€€æ¯”å¦‚ä¸€ä¸ªå­ç½‘æœ‰10å°ä¸»æœºï¼Œé‚£ä¹ˆå¯¹äºè¿™ä¸ªå­ç½‘éœ€è¦çš„IPåœ°å€æ˜¯ï¼š</p><p>ã€€ã€€10ï¼‹1ï¼‹1ï¼‹1ï¼13</p><p>ã€€ã€€æ³¨æ„ï¼šåŠ çš„ç¬¬ä¸€ä¸ª1æ˜¯æŒ‡è¿™ä¸ªç½‘ç»œè¿æ¥æ—¶æ‰€éœ€çš„ç½‘å…³åœ°å€ï¼Œæ¥ç€çš„ä¸¤ä¸ª1åˆ†åˆ«æ˜¯æŒ‡ç½‘ç»œåœ°å€å’Œå¹¿æ’­åœ°å€ã€‚</p><p>ã€€ã€€å› ä¸º13å°äº16ï¼ˆ16ç­‰äº2çš„4æ¬¡æ–¹ï¼‰ï¼Œæ‰€ä»¥ä¸»æœºä½ä¸º4ä½ã€‚è€Œ256ï¼16ï¼240ï¼Œæ‰€ä»¥è¯¥å­ç½‘æ©ç ä¸º255.255.255.240ã€‚</p><p>ã€€ã€€å¦‚æœä¸€ä¸ªå­ç½‘æœ‰14å°ä¸»æœºï¼Œä¸å°‘äººå¸¸çŠ¯çš„é”™è¯¯æ˜¯ï¼šä¾ç„¶åˆ†é…å…·æœ‰16ä¸ªåœ°å€ç©ºé—´çš„å­ç½‘ï¼Œè€Œå¿˜è®°äº†ç»™ç½‘å…³åˆ†é…åœ°å€ã€‚è¿™æ ·å°±é”™è¯¯äº†ï¼Œå› ä¸º14ï¼‹1ï¼‹1ï¼‹1ï¼17ï¼Œ17å¤§äº16ï¼Œæ‰€ä»¥æˆ‘ä»¬åªèƒ½åˆ†é…å…·æœ‰32ä¸ªåœ°å€ï¼ˆ32ç­‰äº2çš„5æ¬¡æ–¹ï¼‰ç©ºé—´çš„å­ç½‘ã€‚è¿™æ—¶å­ç½‘æ©ç ä¸ºï¼š255.255.255.224ã€‚</p><h3 id="5-ARP-RARPåè®®"><a href="#5-ARP-RARPåè®®" class="headerlink" title="5. ARP/RARPåè®®"></a>5. ARP/RARPåè®®</h3><p>ã€€ã€€åœ°å€è§£æåè®®ï¼Œå³ARPï¼ˆAddress Resolution Protocolï¼‰ï¼Œæ˜¯æ ¹æ®IPåœ°å€è·å–ç‰©ç†åœ°å€çš„ä¸€ä¸ªTCP/IPåè®®ã€‚ä¸»æœºå‘é€ä¿¡æ¯æ—¶å°†åŒ…å«ç›®æ ‡IPåœ°å€çš„ARPè¯·æ±‚å¹¿æ’­åˆ°ç½‘ç»œä¸Šçš„æ‰€æœ‰ä¸»æœºï¼Œå¹¶æ¥æ”¶è¿”å›æ¶ˆæ¯ï¼Œä»¥æ­¤ç¡®å®šç›®æ ‡çš„ç‰©ç†åœ°å€ï¼›æ”¶åˆ°è¿”å›æ¶ˆæ¯åå°†è¯¥IPåœ°å€å’Œç‰©ç†åœ°å€å­˜å…¥æœ¬æœºARPç¼“å­˜ä¸­å¹¶ä¿ç•™ä¸€å®šæ—¶é—´ï¼Œä¸‹æ¬¡è¯·æ±‚æ—¶ç›´æ¥æŸ¥è¯¢ARPç¼“å­˜ä»¥èŠ‚çº¦èµ„æºã€‚åœ°å€è§£æåè®®æ˜¯å»ºç«‹åœ¨ç½‘ç»œä¸­å„ä¸ªä¸»æœºäº’ç›¸ä¿¡ä»»çš„åŸºç¡€ä¸Šçš„ï¼Œç½‘ç»œä¸Šçš„ä¸»æœºå¯ä»¥è‡ªä¸»å‘é€ARPåº”ç­”æ¶ˆæ¯ï¼Œå…¶ä»–ä¸»æœºæ”¶åˆ°åº”ç­”æŠ¥æ–‡æ—¶ä¸ä¼šæ£€æµ‹è¯¥æŠ¥æ–‡çš„çœŸå®æ€§å°±ä¼šå°†å…¶è®°å…¥æœ¬æœºARPç¼“å­˜ï¼›ç”±æ­¤æ”»å‡»è€…å°±å¯ä»¥å‘æŸä¸€ä¸»æœºå‘é€ä¼ªARPåº”ç­”æŠ¥æ–‡ï¼Œä½¿å…¶å‘é€çš„ä¿¡æ¯æ— æ³•åˆ°è¾¾é¢„æœŸçš„ä¸»æœºæˆ–åˆ°è¾¾é”™è¯¯çš„ä¸»æœºï¼Œè¿™å°±æ„æˆäº†ä¸€ä¸ªARPæ¬ºéª—ã€‚ARPå‘½ä»¤å¯ç”¨äºæŸ¥è¯¢æœ¬æœºARPç¼“å­˜ä¸­IPåœ°å€å’ŒMACåœ°å€çš„å¯¹åº”å…³ç³»ã€æ·»åŠ æˆ–åˆ é™¤é™æ€å¯¹åº”å…³ç³»ç­‰ã€‚</p><p>ã€€ã€€ARPå·¥ä½œæµç¨‹ä¸¾ä¾‹ï¼š</p><p>ã€€ã€€ä¸»æœºAçš„IPåœ°å€ä¸º192.168.1.1ï¼ŒMACåœ°å€ä¸º0A-11-22-33-44-01ï¼›</p><p>ã€€ã€€ä¸»æœºBçš„IPåœ°å€ä¸º192.168.1.2ï¼ŒMACåœ°å€ä¸º0A-11-22-33-44-02ï¼›</p><p>ã€€ã€€å½“ä¸»æœºAè¦ä¸ä¸»æœºBé€šä¿¡æ—¶ï¼Œåœ°å€è§£æåè®®å¯ä»¥å°†ä¸»æœºBçš„IPåœ°å€ï¼ˆ192.168.1.2ï¼‰è§£ææˆä¸»æœºBçš„MACåœ°å€ï¼Œä»¥ä¸‹ä¸ºå·¥ä½œæµç¨‹ï¼š</p><p>ã€€ã€€ï¼ˆ1ï¼‰æ ¹æ®ä¸»æœºAä¸Šçš„è·¯ç”±è¡¨å†…å®¹ï¼ŒIPç¡®å®šç”¨äºè®¿é—®ä¸»æœºBçš„è½¬å‘IPåœ°å€æ˜¯192.168.1.2ã€‚ç„¶åAä¸»æœºåœ¨è‡ªå·±çš„æœ¬åœ°ARPç¼“å­˜ä¸­æ£€æŸ¥ä¸»æœºBçš„åŒ¹é…MACåœ°å€ã€‚</p><p>ã€€ã€€ï¼ˆ2ï¼‰å¦‚æœä¸»æœºAåœ¨ARPç¼“å­˜ä¸­æ²¡æœ‰æ‰¾åˆ°æ˜ å°„ï¼Œå®ƒå°†è¯¢é—®192.168.1.2çš„ç¡¬ä»¶åœ°å€ï¼Œä»è€Œå°†ARPè¯·æ±‚å¸§å¹¿æ’­åˆ°æœ¬åœ°ç½‘ç»œä¸Šçš„æ‰€æœ‰ä¸»æœºã€‚æºä¸»æœºAçš„IPåœ°å€å’ŒMACåœ°å€éƒ½åŒ…æ‹¬åœ¨ARPè¯·æ±‚ä¸­ã€‚æœ¬åœ°ç½‘ç»œä¸Šçš„æ¯å°ä¸»æœºéƒ½æ¥æ”¶åˆ°ARPè¯·æ±‚å¹¶ä¸”æ£€æŸ¥æ˜¯å¦ä¸è‡ªå·±çš„IPåœ°å€åŒ¹é…ã€‚å¦‚æœä¸»æœºå‘ç°è¯·æ±‚çš„IPåœ°å€ä¸è‡ªå·±çš„IPåœ°å€ä¸åŒ¹é…ï¼Œå®ƒå°†ä¸¢å¼ƒARPè¯·æ±‚ã€‚</p><p>ã€€ã€€ï¼ˆ3ï¼‰ä¸»æœºBç¡®å®šARPè¯·æ±‚ä¸­çš„IPåœ°å€ä¸è‡ªå·±çš„IPåœ°å€åŒ¹é…ï¼Œåˆ™å°†ä¸»æœºAçš„IPåœ°å€å’ŒMACåœ°å€æ˜ å°„æ·»åŠ åˆ°æœ¬åœ°ARPç¼“å­˜ä¸­ã€‚</p><p>ã€€ã€€ï¼ˆ4ï¼‰ä¸»æœºBå°†åŒ…å«å…¶MACåœ°å€çš„ARPå›å¤æ¶ˆæ¯ç›´æ¥å‘é€å›ä¸»æœºAã€‚</p><p>ã€€ã€€ï¼ˆ5ï¼‰å½“ä¸»æœºAæ”¶åˆ°ä»ä¸»æœºBå‘æ¥çš„ARPå›å¤æ¶ˆæ¯æ—¶ï¼Œä¼šç”¨ä¸»æœºBçš„IPå’ŒMACåœ°å€æ˜ å°„æ›´æ–°ARPç¼“å­˜ã€‚æœ¬æœºç¼“å­˜æ˜¯æœ‰ç”Ÿå­˜æœŸçš„ï¼Œç”Ÿå­˜æœŸç»“æŸåï¼Œå°†å†æ¬¡é‡å¤ä¸Šé¢çš„è¿‡ç¨‹ã€‚ä¸»æœºBçš„MACåœ°å€ä¸€æ—¦ç¡®å®šï¼Œä¸»æœºAå°±èƒ½å‘ä¸»æœºBå‘é€IPé€šä¿¡äº†ã€‚</p><p>ã€€ã€€é€†åœ°å€è§£æåè®®ï¼Œå³RARPï¼ŒåŠŸèƒ½å’ŒARPåè®®ç›¸å¯¹ï¼Œå…¶å°†å±€åŸŸç½‘ä¸­æŸä¸ªä¸»æœºçš„ç‰©ç†åœ°å€è½¬æ¢ä¸ºIPåœ°å€ï¼Œæ¯”å¦‚å±€åŸŸç½‘ä¸­æœ‰ä¸€å°ä¸»æœºåªçŸ¥é“ç‰©ç†åœ°å€è€Œä¸çŸ¥é“IPåœ°å€ï¼Œé‚£ä¹ˆå¯ä»¥é€šè¿‡RARPåè®®å‘å‡ºå¾æ±‚è‡ªèº«IPåœ°å€çš„å¹¿æ’­è¯·æ±‚ï¼Œç„¶åç”±RARPæœåŠ¡å™¨è´Ÿè´£å›ç­”ã€‚</p><p>ã€€ã€€RARPåè®®å·¥ä½œæµç¨‹ï¼š</p><p>ã€€ã€€ï¼ˆ1ï¼‰ç»™ä¸»æœºå‘é€ä¸€ä¸ªæœ¬åœ°çš„RARPå¹¿æ’­ï¼Œåœ¨æ­¤å¹¿æ’­åŒ…ä¸­ï¼Œå£°æ˜è‡ªå·±çš„MACåœ°å€å¹¶ä¸”è¯·æ±‚ä»»ä½•æ”¶åˆ°æ­¤è¯·æ±‚çš„RARPæœåŠ¡å™¨åˆ†é…ä¸€ä¸ªIPåœ°å€ï¼›</p><p>ã€€ã€€ï¼ˆ2ï¼‰æœ¬åœ°ç½‘æ®µä¸Šçš„RARPæœåŠ¡å™¨æ”¶åˆ°æ­¤è¯·æ±‚åï¼Œæ£€æŸ¥å…¶RARPåˆ—è¡¨ï¼ŒæŸ¥æ‰¾è¯¥MACåœ°å€å¯¹åº”çš„IPåœ°å€ï¼›</p><p>ã€€ã€€ï¼ˆ3ï¼‰å¦‚æœå­˜åœ¨ï¼ŒRARPæœåŠ¡å™¨å°±ç»™æºä¸»æœºå‘é€ä¸€ä¸ªå“åº”æ•°æ®åŒ…å¹¶å°†æ­¤IPåœ°å€æä¾›ç»™å¯¹æ–¹ä¸»æœºä½¿ç”¨ï¼›</p><p>ã€€ã€€ï¼ˆ4ï¼‰å¦‚æœä¸å­˜åœ¨ï¼ŒRARPæœåŠ¡å™¨å¯¹æ­¤ä¸åšä»»ä½•çš„å“åº”ï¼›</p><p>ã€€ã€€ï¼ˆ5ï¼‰æºä¸»æœºæ”¶åˆ°ä»RARPæœåŠ¡å™¨çš„å“åº”ä¿¡æ¯ï¼Œå°±åˆ©ç”¨å¾—åˆ°çš„IPåœ°å€è¿›è¡Œé€šè®¯ï¼›å¦‚æœä¸€ç›´æ²¡æœ‰æ”¶åˆ°RARPæœåŠ¡å™¨çš„å“åº”ä¿¡æ¯ï¼Œè¡¨ç¤ºåˆå§‹åŒ–å¤±è´¥ã€‚</p><h3 id="6-è·¯ç”±é€‰æ‹©åè®®"><a href="#6-è·¯ç”±é€‰æ‹©åè®®" class="headerlink" title="6. è·¯ç”±é€‰æ‹©åè®®"></a>6. è·¯ç”±é€‰æ‹©åè®®</h3><p>ã€€ã€€å¸¸è§çš„è·¯ç”±é€‰æ‹©åè®®æœ‰ï¼šRIPåè®®ã€OSPFåè®®ã€‚</p><p>ã€€ã€€RIPåè®® ï¼šåº•å±‚æ˜¯è´å°”æ›¼ç¦ç‰¹ç®—æ³•ï¼Œå®ƒé€‰æ‹©è·¯ç”±çš„åº¦é‡æ ‡å‡†ï¼ˆmetric)æ˜¯è·³æ•°ï¼Œæœ€å¤§è·³æ•°æ˜¯15è·³ï¼Œå¦‚æœå¤§äº15è·³ï¼Œå®ƒå°±ä¼šä¸¢å¼ƒæ•°æ®åŒ…ã€‚</p><p>ã€€ã€€OSPFåè®® ï¼šOpen Shortest Path Firstå¼€æ”¾å¼æœ€çŸ­è·¯å¾„ä¼˜å…ˆï¼Œåº•å±‚æ˜¯è¿ªæ°æ–¯ç‰¹æ‹‰ç®—æ³•ï¼Œæ˜¯é“¾è·¯çŠ¶æ€è·¯ç”±é€‰æ‹©åè®®ï¼Œå®ƒé€‰æ‹©è·¯ç”±çš„åº¦é‡æ ‡å‡†æ˜¯å¸¦å®½ï¼Œå»¶è¿Ÿã€‚</p><h3 id="7-TCP-IPåè®®"><a href="#7-TCP-IPåè®®" class="headerlink" title="7. TCP/IPåè®®"></a>7. TCP/IPåè®®</h3><p>ã€€ã€€TCP/IPåè®®æ˜¯Internetæœ€åŸºæœ¬çš„åè®®ã€Internetå›½é™…äº’è”ç½‘ç»œçš„åŸºç¡€ï¼Œç”±ç½‘ç»œå±‚çš„IPåè®®å’Œä¼ è¾“å±‚çš„TCPåè®®ç»„æˆã€‚é€šä¿—è€Œè¨€ï¼šTCPè´Ÿè´£å‘ç°ä¼ è¾“çš„é—®é¢˜ï¼Œä¸€æœ‰é—®é¢˜å°±å‘å‡ºä¿¡å·ï¼Œè¦æ±‚é‡æ–°ä¼ è¾“ï¼Œç›´åˆ°æ‰€æœ‰æ•°æ®å®‰å…¨æ­£ç¡®åœ°ä¼ è¾“åˆ°ç›®çš„åœ°ã€‚è€ŒIPæ˜¯ç»™å› ç‰¹ç½‘çš„æ¯ä¸€å°è”ç½‘è®¾å¤‡è§„å®šä¸€ä¸ªåœ°å€ã€‚</p><p>ã€€ã€€IPå±‚æ¥æ”¶ç”±æ›´ä½å±‚ï¼ˆç½‘ç»œæ¥å£å±‚ä¾‹å¦‚ä»¥å¤ªç½‘è®¾å¤‡é©±åŠ¨ç¨‹åºï¼‰å‘æ¥çš„æ•°æ®åŒ…ï¼Œå¹¶æŠŠè¯¥æ•°æ®åŒ…å‘é€åˆ°æ›´é«˜å±‚â€”TCPæˆ–UDPå±‚ï¼›ç›¸åï¼ŒIPå±‚ä¹ŸæŠŠä»TCPæˆ–UDPå±‚æ¥æ”¶æ¥çš„æ•°æ®åŒ…ä¼ é€åˆ°æ›´ä½å±‚ã€‚IPæ•°æ®åŒ…æ˜¯ä¸å¯é çš„ï¼Œå› ä¸ºIPå¹¶æ²¡æœ‰åšä»»ä½•äº‹æƒ…æ¥ç¡®è®¤æ•°æ®åŒ…æ˜¯å¦æŒ‰é¡ºåºå‘é€çš„æˆ–è€…æœ‰æ²¡æœ‰è¢«ç ´åï¼ŒIPæ•°æ®åŒ…ä¸­å«æœ‰å‘é€å®ƒçš„ä¸»æœºçš„åœ°å€ï¼ˆæºåœ°å€ï¼‰å’Œæ¥æ”¶å®ƒçš„ä¸»æœºçš„åœ°å€ï¼ˆç›®çš„åœ°å€ï¼‰ã€‚</p><p> ã€€TCPæ˜¯é¢å‘è¿æ¥çš„é€šä¿¡åè®®ï¼Œé€šè¿‡ä¸‰æ¬¡æ¡æ‰‹å»ºç«‹è¿æ¥ï¼Œé€šè®¯å®Œæˆæ—¶è¦æ‹†é™¤è¿æ¥ï¼Œç”±äºTCPæ˜¯é¢å‘è¿æ¥çš„æ‰€ä»¥åªèƒ½ç”¨äºç«¯åˆ°ç«¯çš„é€šè®¯ã€‚TCPæä¾›çš„æ˜¯ä¸€ç§å¯é çš„æ•°æ®æµæœåŠ¡ï¼Œé‡‡ç”¨â€œå¸¦é‡ä¼ çš„è‚¯å®šç¡®è®¤â€æŠ€æœ¯æ¥å®ç°ä¼ è¾“çš„å¯é æ€§ã€‚TCPè¿˜é‡‡ç”¨ä¸€ç§ç§°ä¸ºâ€œæ»‘åŠ¨çª—å£â€çš„æ–¹å¼è¿›è¡Œæµé‡æ§åˆ¶ï¼Œæ‰€è°“çª—å£å®é™…è¡¨ç¤ºæ¥æ”¶èƒ½åŠ›ï¼Œç”¨ä»¥é™åˆ¶å‘é€æ–¹çš„å‘é€é€Ÿåº¦ã€‚</p><p>ã€€ã€€TCPæŠ¥æ–‡é¦–éƒ¨æ ¼å¼ï¼š</p><p><img src="https://images2015.cnblogs.com/blog/764050/201509/764050-20150904110054856-961661137.png" alt="img"></p><p>ã€€ã€€TCPåè®®çš„ä¸‰æ¬¡æ¡æ‰‹å’Œå››æ¬¡æŒ¥æ‰‹ï¼š</p><p><img src="https://images2015.cnblogs.com/blog/764050/201509/764050-20150904110008388-1768388886.gif" alt="img"></p><p>ã€€ã€€æ³¨ï¼šseq:â€sequanceâ€åºåˆ—å·ï¼›ack:â€acknowledgeâ€ç¡®è®¤å·ï¼›SYN:â€synchronizeâ€è¯·æ±‚åŒæ­¥æ ‡å¿—ï¼›ï¼›ACK:â€acknowledgeâ€ç¡®è®¤æ ‡å¿—â€ï¼›FINï¼šâ€Finallyâ€ç»“æŸæ ‡å¿—ã€‚</p><p>ã€€ã€€TCPè¿æ¥å»ºç«‹è¿‡ç¨‹ï¼šé¦–å…ˆClientç«¯å‘é€è¿æ¥è¯·æ±‚æŠ¥æ–‡ï¼ŒServeræ®µæ¥å—è¿æ¥åå›å¤ACKæŠ¥æ–‡ï¼Œå¹¶ä¸ºè¿™æ¬¡è¿æ¥åˆ†é…èµ„æºã€‚Clientç«¯æ¥æ”¶åˆ°ACKæŠ¥æ–‡åä¹Ÿå‘Serveræ®µå‘ç”ŸACKæŠ¥æ–‡ï¼Œå¹¶åˆ†é…èµ„æºï¼Œè¿™æ ·TCPè¿æ¥å°±å»ºç«‹äº†ã€‚</p><p>ã€€ã€€TCPè¿æ¥æ–­å¼€è¿‡ç¨‹ï¼šå‡è®¾Clientç«¯å‘èµ·ä¸­æ–­è¿æ¥è¯·æ±‚ï¼Œä¹Ÿå°±æ˜¯å‘é€FINæŠ¥æ–‡ã€‚Serverç«¯æ¥åˆ°FINæŠ¥æ–‡åï¼Œæ„æ€æ˜¯è¯´â€æˆ‘Clientç«¯æ²¡æœ‰æ•°æ®è¦å‘ç»™ä½ äº†â€ï¼Œä½†æ˜¯å¦‚æœä½ è¿˜æœ‰æ•°æ®æ²¡æœ‰å‘é€å®Œæˆï¼Œåˆ™ä¸å¿…æ€¥ç€å…³é—­Socketï¼Œå¯ä»¥ç»§ç»­å‘é€æ•°æ®ã€‚æ‰€ä»¥ä½ å…ˆå‘é€ACKï¼Œâ€å‘Šè¯‰Clientç«¯ï¼Œä½ çš„è¯·æ±‚æˆ‘æ”¶åˆ°äº†ï¼Œä½†æ˜¯æˆ‘è¿˜æ²¡å‡†å¤‡å¥½ï¼Œè¯·ç»§ç»­ä½ ç­‰æˆ‘çš„æ¶ˆæ¯â€ã€‚è¿™ä¸ªæ—¶å€™Clientç«¯å°±è¿›å…¥FIN_WAITçŠ¶æ€ï¼Œç»§ç»­ç­‰å¾…Serverç«¯çš„FINæŠ¥æ–‡ã€‚å½“Serverç«¯ç¡®å®šæ•°æ®å·²å‘é€å®Œæˆï¼Œåˆ™å‘Clientç«¯å‘é€FINæŠ¥æ–‡ï¼Œâ€å‘Šè¯‰Clientç«¯ï¼Œå¥½äº†ï¼Œæˆ‘è¿™è¾¹æ•°æ®å‘å®Œäº†ï¼Œå‡†å¤‡å¥½å…³é—­è¿æ¥äº†â€ã€‚Clientç«¯æ”¶åˆ°FINæŠ¥æ–‡åï¼Œâ€å°±çŸ¥é“å¯ä»¥å…³é—­è¿æ¥äº†ï¼Œä½†æ˜¯ä»–è¿˜æ˜¯ä¸ç›¸ä¿¡ç½‘ç»œï¼Œæ€•Serverç«¯ä¸çŸ¥é“è¦å…³é—­ï¼Œæ‰€ä»¥å‘é€ACKåè¿›å…¥TIME_WAITçŠ¶æ€ï¼Œå¦‚æœServerç«¯æ²¡æœ‰æ”¶åˆ°ACKåˆ™å¯ä»¥é‡ä¼ ã€‚â€œï¼ŒServerç«¯æ”¶åˆ°ACKåï¼Œâ€å°±çŸ¥é“å¯ä»¥æ–­å¼€è¿æ¥äº†â€ã€‚Clientç«¯ç­‰å¾…äº†2MSLåä¾ç„¶æ²¡æœ‰æ”¶åˆ°å›å¤ï¼Œåˆ™è¯æ˜Serverç«¯å·²æ­£å¸¸å…³é—­ï¼Œé‚£å¥½ï¼Œæˆ‘Clientç«¯ä¹Ÿå¯ä»¥å…³é—­è¿æ¥äº†ã€‚Okï¼ŒTCPè¿æ¥å°±è¿™æ ·å…³é—­äº†ï¼</p><p>ã€€ã€€ä¸ºä»€ä¹ˆè¦ä¸‰æ¬¡æŒ¥æ‰‹ï¼Ÿ</p><p>ã€€ã€€åœ¨åªæœ‰ä¸¤æ¬¡â€œæ¡æ‰‹â€çš„æƒ…å½¢ä¸‹ï¼Œå‡è®¾Clientæƒ³è·ŸServerå»ºç«‹è¿æ¥ï¼Œä½†æ˜¯å´å› ä¸ºä¸­é€”è¿æ¥è¯·æ±‚çš„æ•°æ®æŠ¥ä¸¢å¤±äº†ï¼Œæ•…Clientç«¯ä¸å¾—ä¸é‡æ–°å‘é€ä¸€éï¼›è¿™ä¸ªæ—¶å€™Serverç«¯ä»…æ”¶åˆ°ä¸€ä¸ªè¿æ¥è¯·æ±‚ï¼Œå› æ­¤å¯ä»¥æ­£å¸¸çš„å»ºç«‹è¿æ¥ã€‚ä½†æ˜¯ï¼Œæœ‰æ—¶å€™Clientç«¯é‡æ–°å‘é€è¯·æ±‚ä¸æ˜¯å› ä¸ºæ•°æ®æŠ¥ä¸¢å¤±äº†ï¼Œè€Œæ˜¯æœ‰å¯èƒ½æ•°æ®ä¼ è¾“è¿‡ç¨‹å› ä¸ºç½‘ç»œå¹¶å‘é‡å¾ˆå¤§åœ¨æŸç»“ç‚¹è¢«é˜»å¡äº†ï¼Œè¿™ç§æƒ…å½¢ä¸‹Serverç«¯å°†å…ˆåæ”¶åˆ°2æ¬¡è¯·æ±‚ï¼Œå¹¶æŒç»­ç­‰å¾…ä¸¤ä¸ªClientè¯·æ±‚å‘ä»–å‘é€æ•°æ®â€¦é—®é¢˜å°±åœ¨è¿™é‡Œï¼ŒCientç«¯å®é™…ä¸Šåªæœ‰ä¸€æ¬¡è¯·æ±‚ï¼Œè€ŒServerç«¯å´æœ‰2ä¸ªå“åº”ï¼Œæç«¯çš„æƒ…å†µå¯èƒ½ç”±äºClientç«¯å¤šæ¬¡é‡æ–°å‘é€è¯·æ±‚æ•°æ®è€Œå¯¼è‡´Serverç«¯æœ€åå»ºç«‹äº†Nå¤šä¸ªå“åº”åœ¨ç­‰å¾…ï¼Œå› è€Œé€ æˆæå¤§çš„èµ„æºæµªè´¹ï¼æ‰€ä»¥ï¼Œâ€œä¸‰æ¬¡æ¡æ‰‹â€å¾ˆæœ‰å¿…è¦ï¼</p><p>ã€€ã€€ä¸ºä»€ä¹ˆè¦å››æ¬¡æŒ¥æ‰‹ï¼Ÿ</p><p>ã€€ã€€è¯•æƒ³ä¸€ä¸‹ï¼Œå‡å¦‚ç°åœ¨ä½ æ˜¯å®¢æˆ·ç«¯ä½ æƒ³æ–­å¼€è·ŸServerçš„æ‰€æœ‰è¿æ¥è¯¥æ€ä¹ˆåšï¼Ÿç¬¬ä¸€æ­¥ï¼Œä½ è‡ªå·±å…ˆåœæ­¢å‘Serverç«¯å‘é€æ•°æ®ï¼Œå¹¶ç­‰å¾…Serverçš„å›å¤ã€‚ä½†äº‹æƒ…è¿˜æ²¡æœ‰å®Œï¼Œè™½ç„¶ä½ è‡ªèº«ä¸å¾€Serverå‘é€æ•°æ®äº†ï¼Œä½†æ˜¯å› ä¸ºä½ ä»¬ä¹‹å‰å·²ç»å»ºç«‹å¥½å¹³ç­‰çš„è¿æ¥äº†ï¼Œæ‰€ä»¥æ­¤æ—¶ä»–ä¹Ÿæœ‰ä¸»åŠ¨æƒå‘ä½ å‘é€æ•°æ®ï¼›æ•…Serverç«¯è¿˜å¾—ç»ˆæ­¢ä¸»åŠ¨å‘ä½ å‘é€æ•°æ®ï¼Œå¹¶ç­‰å¾…ä½ çš„ç¡®è®¤ã€‚å…¶å®ï¼Œè¯´ç™½äº†å°±æ˜¯ä¿è¯åŒæ–¹çš„ä¸€ä¸ªåˆçº¦çš„å®Œæ•´æ‰§è¡Œï¼</p><p>ã€€ã€€ä½¿ç”¨TCPçš„åè®®ï¼šFTPï¼ˆæ–‡ä»¶ä¼ è¾“åè®®ï¼‰ã€Telnetï¼ˆè¿œç¨‹ç™»å½•åè®®ï¼‰ã€SMTPï¼ˆç®€å•é‚®ä»¶ä¼ è¾“åè®®ï¼‰ã€POP3ï¼ˆå’ŒSMTPç›¸å¯¹ï¼Œç”¨äºæ¥æ”¶é‚®ä»¶ï¼‰ã€HTTPåè®®ç­‰ã€‚</p><hr><p>TCPä¸‰æ¬¡æ¡æ‰‹<strong>TCPè¿è¾“è¿æ¥æœ‰ä¸‰ä¸ªé˜¶æ®µï¼šè¿æ¥å»ºç«‹ã€æ•°æ®ä¼ é€ã€è¿æ¥é‡Šæ”¾</strong>TCPè¿æ¥è¿‡ç¨‹é€šå¸¸å«åš<strong>æ¡æ‰‹</strong>ï¼Œæ¡æ‰‹éœ€è¦å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ç«¯äº¤æ¢ä¸‰ä¸ªæŠ¥æ–‡ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºä¹‹æ‰€ä»¥éœ€è¦ä¸‰æ¬¡æ¡æ‰‹æ˜¯å› ä¸ºTCPæ˜¯å¯é ä¼ è¾“ï¼Œä¸‰æ¬¡èƒ½å¤Ÿåˆšå¥½å¯é åˆä¸å¤šä½™TCPä¸‰æ¬¡æ¡æ‰‹ä¸Socketçš„è¿æ¥è¿‡ç¨‹æ˜¯ç›¸å…³è”å¯¹åº”çš„ï¼ŒSocketå°±æ˜¯å¯¹äºTCP/IPçš„å°è£…ä¹ˆ<strong>å®¢æˆ·ç«¯æœ‰CLOSEDã€SYN-SENDã€ESTABLISHEDä¸‰ç§çŠ¶æ€**</strong>å®¢æˆ·ç«¯æœ‰CLOSEDã€LISTENã€SYN-RCVDã€ESTABLISHEDå››ç§çŠ¶æ€**<strong>æœåŠ¡å™¨ä¼šé¦–å…ˆåˆ›å»ºè¿æ¥ï¼Œå¹¶ä¸”è¿›å…¥ç›‘å¬ç­‰å¾…é˜¶æ®µï¼Œç­‰å¾…å®¢æˆ·ç«¯çš„è¯·æ±‚**</strong>å½“éœ€è¦å‘é€è¯·æ±‚æ—¶ï¼Œæµè§ˆå™¨å®¢æˆ·ç«¯ä¸»åŠ¨æ‰“å¼€è¿æ¥ï¼Œç„¶åæœåŠ¡å™¨è¢«åŠ¨æ‰“å¼€è¿æ¥**<img src="https://uploadfiles.nowcoder.com/images/20190828/8309948_1566974042905_FC5D1E4A8542CB51426DC924E8578CD5" alt="img"></p><p>è¿æ¥è¿‡ç¨‹å®¢æˆ·ç«¯åœ¨éœ€è¦æ—¶ï¼Œå‘æœåŠ¡å™¨å‘èµ·è¯·æ±‚è¿æ¥æŠ¥æ–‡ï¼Œå‘å‡ºåçŠ¶æ€ä»CLOSEDè½¬æ¢ä¸ºSYN-SEND åŒæ­¥-å·²å‘é€çŠ¶æ€æœåŠ¡å™¨ä¸€ç›´å¤„äºLISTENçŠ¶æ€ï¼Œæ¥æ”¶åˆ°è¯·æ±‚åï¼Œå¯¹å®¢æˆ·ç«¯çš„è¯·æ±‚è¿›è¡Œå›åº”ï¼Œè½¬æ¢ä¸ºSYN-RCVDï¼ŒåŒæ­¥-å·²æ”¶åˆ°çŠ¶æ€å®¢æˆ·ç«¯æ”¶åˆ°æœåŠ¡å™¨çš„å›åº”åï¼ŒçŠ¶æ€è½¬æ¢ä¸ºESTABLISHEDï¼Œå¹¶ä¸”å†æ¬¡å‘æœåŠ¡å™¨å‘é€ç¡®è®¤æœåŠ¡å™¨æ”¶åˆ°å®¢æˆ·ç«¯çš„ç¡®è®¤ä¹‹åï¼ŒæœåŠ¡å™¨ä¹Ÿè½¬æ¢ä¸ºESTABLISHEDçŠ¶æ€ï¼Œå®Œæˆäº†è¿æ¥<strong>å‘å‡ºæ¶ˆæ¯æˆ–è€…æ”¶åˆ°æ¶ˆæ¯åçŠ¶æ€æ‰ä¼šè¿›è¡Œåˆ‡æ¢**</strong>å®¢æˆ·ç«¯ä¸æœåŠ¡å™¨çš„æ¡æ‰‹æ˜¯ä¸€ä¸ªå¾€å¤ç¡®è®¤çš„è¿‡ç¨‹<strong>å®¢æˆ·ç«¯ï¼šå‘å‡ºç¡®è®¤è¯·æ±‚ï¼ŒSYN=1ï¼Œseq=xï¼Œä½ å¬å¾—åˆ°ä¹ˆï¼Œæˆ‘æƒ³å»ºç«‹è¿æ¥ï¼ˆSYN=1ï¼‰ï¼Œæˆ‘çš„åºå·æ˜¯xï¼ˆseq=xï¼‰æœåŠ¡å™¨ï¼šå¯¹è¯·æ±‚è¿›è¡Œç¡®è®¤ï¼Œä¹Ÿå°±æ˜¯å›åº”ï¼Œæˆ‘å¬åˆ°äº†ï¼ˆACK=1ï¼Œack=x+1ï¼‰ï¼Œä½ å¬å¾—åˆ°ä¹ˆï¼ˆSYN=1ï¼‰ï¼Œæˆ‘çš„åºå·æ˜¯yï¼ˆseq=yï¼‰å®¢æˆ·ç«¯ï¼šå¯¹æœåŠ¡å™¨çš„å›åº”è¿›è¡Œç¡®è®¤ï¼Œæˆ‘å¬åˆ°äº†ï¼ˆACK=1ï¼Œack=y+1ï¼‰ï¼Œæˆ‘çš„åºå·æ˜¯x+1IPæ•°æ®æŠ¥ç»è¿‡è¿è¾“å±‚éœ€è¦åˆ†æ®µå‘é€ï¼Œæ‰€ä»¥åœ¨TCPçš„å¤„ç†è¿‡ç¨‹ä¸­ï¼Œæœ‰</strong>åºå·<strong>çš„æ¦‚å¿µæ¯”å¦‚å®¢æˆ·ç«¯è¯´æˆ‘è¦ä»666å·å¼€å§‹ï¼Œå‘é€100ä¸ªæ•°æ®ï¼ŒæœåŠ¡å™¨è¯´ï¼Œæˆ‘æ˜¯ä»888å·å¼€å§‹å›åº”çš„ä¸Šé¢çš„seq=x å’Œ seq=y  seq=x+1ï¼ˆä¸Šä¸€ä¸ªseq=xï¼Œä¸‹ä¸€ä¸ªè‡ªç„¶å°±æ˜¯seq=x+1äº†ï¼‰éƒ½æ˜¯å„è‡ªçš„åºå·</strong>æ¡æ‰‹çš„è¿‡ç¨‹å°±æ˜¯SYN seq  ACK ackçš„æ¥å›ç¡®è®¤<strong>SYN ACKæ˜¯å¤´éƒ¨çš„å­—æ®µï¼Œå¯ä»¥ç†è§£ä¸ºæ ‡å¿—ä½ï¼Œåè®®ä¸­æœ‰å¯¹ä»–ä»¬çš„å€¼æœ‰å…·ä½“çš„è§„å®šackå°±æ˜¯ç¡®è®¤å·ï¼Œç¡®è®¤å·æ˜¯æœŸæœ›æ”¶åˆ°çš„å¯¹æ–¹çš„ä¸‹ä¸€ä¸ªæŠ¥æ–‡æ®µçš„ç¬¬ä¸€ä¸ªæ•°æ®å­—èŠ‚çš„åºå·ï¼Œä¹Ÿå°±æ˜¯æ”¶åˆ°çš„åºå·+1å¦åˆ™éšä¾¿ä¸€ä¸ªï¼Œæ€ä¹ˆå¯¹å¾—ä¸Šå·ä¸ºä»€ä¹ˆè¦ä¸‰æ¬¡æ¡æ‰‹ï¼Ÿå¦‚æœä¸æ˜¯ä¸‰æ¬¡æ¡æ‰‹ï¼Œåªæœ‰ä¸¤æ¬¡å¦‚æœå®¢æˆ·ç«¯å‘å‡ºè¯·æ±‚è¿æ¥æ—¶ï¼ŒæŠ¥æ–‡å»¶æ—¶äº†ï¼Œäºæ˜¯å®¢æˆ·ç«¯é‡æ–°å‘é€äº†ä¸€æ¬¡è¿æ¥è¯·æ±‚æ¶ˆæ¯åæ¥æ”¶åˆ°äº†ç¡®è®¤ï¼Œå»ºç«‹äº†è¿æ¥ï¼Œç„¶åå®Œæˆäº†æ•°æ®ä¼ è¾“ï¼Œå…³é—­äº†è¿æ¥æ­¤æ—¶ï¼ŒæœåŠ¡å™¨æ”¶åˆ°äº†é‚£ä¸ªè¿Ÿåˆ°çš„è¯·æ±‚æ¶ˆæ¯ï¼Œæ­¤æ—¶ä»–åº”è¯¥æ˜¯ä¸ªåºŸç‰©äº†ä½†æ˜¯å¦‚æœåªæœ‰ä¸¤æ¬¡æ¡æ‰‹ï¼ŒæœåŠ¡å™¨æ”¶åˆ°è¯·æ±‚å°±å“åº”å»ºç«‹äº†è¿æ¥äº†ä½†æ˜¯å¦‚æœæ˜¯ä¸‰æ¬¡ï¼Œå®¢æˆ·ç«¯ä¸ä¼šå†æ¬¡ç¡®è®¤ï¼ŒæœåŠ¡å™¨ä¹Ÿå°±éšåçŸ¥é“äº†è¿™æ¶ˆæ¯æœ‰é—®é¢˜ï¼Œä¸ä¼šå»ºç«‹è¿æ¥TCPå››æ¬¡æŒ¥æ‰‹è¿æ¥å»ºç«‹ä»¥åå°±å¯ä»¥è¿›è¡Œæ•°æ®é€šä¿¡ä¼ è¾“äº†é€šä¿¡ç»“æŸåï¼Œéœ€è¦æ–­å¼€è¿æ¥ï¼Œæ–­å¼€è¿æ¥éœ€è¦å››æ¬¡äº¤äº’ï¼Œå¸¸è¢«ç§°ä¸º</strong>å››æ¬¡æŒ¥æ‰‹**<strong>æœ€åˆçŠ¶æ€å‡ä¸ºESTABLISHED</strong>ï¼Œå®¢æˆ·ç«¯ä¸æœåŠ¡å™¨ç›¸äº’è¿›è¡Œæ•°æ®ä¼ é€ä¸‹å›¾å‡è®¾å®¢æˆ·ç«¯æ— æ•°æ®å‘é€ï¼Œè¯·æ±‚æ–­å¼€è¿æ¥<img src="https://uploadfiles.nowcoder.com/images/20190828/8309948_1566974066111_035082E832E529B2DFF7F11FE4D076A4" alt="img"></p><p>æ–­å¼€è¿‡ç¨‹å®¢æˆ·ç«¯æ— æ•°æ®å‘é€æ—¶ï¼Œè¯·æ±‚å…³é—­è¿æ¥ï¼Œæˆ‘å¥½äº†ï¼Œæˆ‘æƒ³æ–­å¼€è¿æ¥äº†ï¼ˆFIN=1ï¼‰æˆ‘çš„åºå·æ˜¯uï¼ˆuå°±æ˜¯ä¹‹å‰ä¼ é€è¿‡çš„æ‰€æœ‰æ•°æ®çš„æœ€åä¸€ä¸ªå­—èŠ‚çš„åºå·+1ï¼‰æ­¤æ—¶å®¢æˆ·ç«¯è½¬å˜ä¸ºFIN-WAIT-1çŠ¶æ€æœåŠ¡å™¨æ”¶åˆ°å®¢æˆ·ç«¯çš„æ¶ˆæ¯åï¼Œå‘Šè¯‰å®¢æˆ·ç«¯â€œå¥½çš„ï¼Œæˆ‘çŸ¥é“äº†â€ï¼ˆACK=1ï¼Œack=u+1ï¼‰ï¼Œè¿™æ¡æ¶ˆæ¯çš„åºå·æ˜¯vï¼ˆseq=v ï¼Œè¿™æ˜¯æœåŠ¡å™¨å‘é€æ¶ˆæ¯çš„åºå·)æ­¤æ—¶æœåŠ¡å™¨çš„çŠ¶æ€å°±è½¬æ¢ä¸ºäº†CLOSE-WAITçŠ¶æ€æ­¤æ—¶ï¼Œå®¢æˆ·ç«¯é€šå¾€æœåŠ¡å™¨çš„è·¯å°±æ–­å¼€äº†ï¼Œå®¢æˆ·ç«¯ä¸èƒ½å‘æœåŠ¡å™¨å‘é€æ•°æ®ä½†æ˜¯æœåŠ¡å™¨ä»æ—§å¯ä»¥å‘å®¢æˆ·ç«¯å‘é€æ•°æ®ï¼Œç°åœ¨æ˜¯â€œåŠå…³é—­â€çš„çŠ¶æ€å½“å®¢æˆ·ç«¯æ”¶åˆ°æ¥è‡ªæœåŠ¡å™¨çš„ç¡®è®¤ä¹‹åï¼Œè¿›å…¥FIN-WAIT-2çŠ¶æ€ï¼Œç­‰å¾…æœåŠ¡å™¨é‚£è¾¹è¯´æ–­å¼€è¿æ¥ï¼Œç­‰å¾…ä¸­ã€‚ã€‚ã€‚ã€‚ã€‚å½“æœåŠ¡å™¨æ‰€æœ‰çš„æ•°æ®ä¹Ÿéƒ½å®Œå…¨å‘é€å®Œæˆäº†ä¹‹åï¼ŒæœåŠ¡å™¨æ‰å¼€å§‹ä¸»åŠ¨å‘ŠçŸ¥å®¢æˆ·ç«¯æ–­å¼€è¿æ¥ï¼ˆFIN=1ï¼Œseq=wï¼‰è¿™ä¸­é—´æœåŠ¡å™¨å¯èƒ½åˆç»§ç»­å‘é€äº†ä¸€äº›æ•°æ®ï¼Œå¯èƒ½æ˜¯v+1 ä¹Ÿå¯èƒ½å‘é€äº†æ›´å¤šï¼Œæ‰€ä»¥è®¾ç½®ä¸ºwå¹¶ä¸”å†æ¬¡å‘é€ç¡®è®¤ä¿¡æ¯ï¼ˆACK=1ï¼Œack=u+1ï¼Œå› ä¸ºå®¢æˆ·ç«¯å·²ç»ä¸èƒ½å‘é€æ•°æ®äº†ï¼ŒæœåŠ¡å™¨æœŸæœ›æ”¶åˆ°çš„åºå·æ°¸è¿œéƒ½æ˜¯æœ€åä¸€ä¸ªåºå·+1ï¼Œä¹Ÿå°±æ˜¯u+1ï¼‰è¿™æ—¶ï¼ŒæœåŠ¡å™¨å°±è¿›å…¥äº†LAST-ACKçŠ¶æ€ï¼Œæœ€åç¡®è®¤çŠ¶æ€å®¢æˆ·ç«¯æ”¶åˆ°äº†æœåŠ¡å™¨çš„æ–­å¼€è¿æ¥è¯·æ±‚åï¼Œä¹Ÿéœ€è¦ç»™å‡ºç¡®è®¤å“åº”ï¼ˆACK=1ï¼Œack=w+1ï¼Œseq=u+1ï¼‰ï¼Œç„¶åè¿›å…¥TIME-WAITçŠ¶æ€ç­‰å¾…ä¸¤ä¸ªMSLåï¼Œè¿›å…¥å…³é—­çŠ¶æ€MSL æ˜¯Maximum Segment Lifetimeè‹±æ–‡çš„ç¼©å†™â€œæŠ¥æ–‡æœ€å¤§ç”Ÿå­˜æ—¶é—´â€ï¼Œä»–æ˜¯ä»»ä½•æŠ¥æ–‡åœ¨ç½‘ç»œä¸Šå­˜åœ¨çš„æœ€é•¿æ—¶é—´ï¼Œè¶…è¿‡è¿™ä¸ªæ—¶é—´æŠ¥æ–‡å°†è¢«ä¸¢å¼ƒã€‚æœåŠ¡å™¨æœ€ç»ˆæ”¶åˆ°æ¥è‡ªå®¢æˆ·ç«¯çš„ç¡®è®¤ä¿¡æ¯åï¼Œå…³é—­ï¼Œè¿›å…¥CLOSEDçŠ¶æ€<strong>å››æ¬¡æŒ¥æ‰‹ä¹Ÿæ˜¯ä¸€ä¸ªäº’ç›¸ç¡®è®¤çš„è¿‡ç¨‹ï¼Œä½ è¯´ä¸ç©äº†ï¼Œåˆ«äººç­”åº”äº†ï¼Œè¿˜è¦ç­‰åˆ«äººéƒ½æå¥½äº†å†å‘Šè¯‰ä½ å¯ä»¥èµ°äº†ï¼Œä½ æ‰èƒ½èµ°</strong>å®¢æˆ·ç«¯ï¼šæˆ‘ä¸æƒ³ç©äº†æœåŠ¡å™¨ï¼šå¥½çš„æˆ‘çŸ¥é“äº†æœåŠ¡å™¨ï¼šä½ å¯ä»¥èµ°äº†å®¢æˆ·ç«¯ï¼šå¥½çš„æˆ‘èµ°äº†å°±å¦‚åŒåœ¨ç½‘å§ä¸Šç½‘ï¼Œä½ ç‚¹å‡»ä¸‹æœºä¹‹åï¼Œå†å»ç½‘ç®¡é‚£è¾¹ç»“è´¦ç»“è´¦æ¸…æ¥šäº†ä¹‹åæ‰å½»åº•ç»“æŸï¼Œè€Œä¸æ˜¯ä½ è¯´èµ°å°±èµ°äº†ï¼Œéš¾é“ä½ åŠä¼šå‘˜å¡äº†ä¹ˆè¿™ä¸ªè¿‡ç¨‹å¾ˆå¥½ç†è§£ï¼Œ<strong>å®¢æˆ·ç«¯å‘å‡ºè¯·æ±‚åï¼Œå¹¶ä¸æ„å‘³ç€æœåŠ¡å™¨éƒ½å·²ç»å®Œæˆå“åº”**</strong>æ‰€ä»¥å½“å®¢æˆ·ç«¯è¯·æ±‚æ–­å¼€æ—¶ï¼Œå¹¶ä¸èƒ½ç«‹å³æ–­å¼€ï¼Œè¿˜éœ€è¦ç­‰å¾…æœåŠ¡å™¨é‚£è¾¹å¤„ç†å¦¥å½“ï¼Œå†æ¥é€šçŸ¥ä½ çš„ç¡®æ˜¯å¯ä»¥æ–­å¼€äº†**æ¶ˆæ¯å‘å‡ºæ¥è°çŸ¥é“åˆ«äººæ”¶æ²¡æ”¶åˆ°ï¼Œæ‰€ä»¥è¿˜éœ€è¦ä¸€ä¸ªç¡®è®¤</p><h3 id="8-UDPåè®®"><a href="#8-UDPåè®®" class="headerlink" title="8. UDPåè®®"></a>8. UDPåè®®</h3><p>ã€€ã€€UDPç”¨æˆ·æ•°æ®æŠ¥åè®®ï¼Œæ˜¯é¢å‘æ— è¿æ¥çš„é€šè®¯åè®®ï¼ŒUDPæ•°æ®åŒ…æ‹¬ç›®çš„ç«¯å£å·å’Œæºç«¯å£å·ä¿¡æ¯ï¼Œç”±äºé€šè®¯ä¸éœ€è¦è¿æ¥ï¼Œæ‰€ä»¥å¯ä»¥å®ç°å¹¿æ’­å‘é€ã€‚ UDPé€šè®¯æ—¶ä¸éœ€è¦æ¥æ”¶æ–¹ç¡®è®¤ï¼Œå±äºä¸å¯é çš„ä¼ è¾“ï¼Œå¯èƒ½ä¼šå‡ºç°ä¸¢åŒ…ç°è±¡ï¼Œå®é™…åº”ç”¨ä¸­è¦æ±‚ç¨‹åºå‘˜ç¼–ç¨‹éªŒè¯ã€‚</p><p>ã€€ã€€ UDPä¸TCPä½äºåŒä¸€å±‚ï¼Œä½†å®ƒä¸ç®¡æ•°æ®åŒ…çš„é¡ºåºã€é”™è¯¯æˆ–é‡å‘ã€‚å› æ­¤ï¼ŒUDPä¸è¢«åº”ç”¨äºé‚£äº›ä½¿ç”¨è™šç”µè·¯çš„é¢å‘è¿æ¥çš„æœåŠ¡ï¼ŒUDPä¸»è¦ç”¨äºé‚£äº›é¢å‘æŸ¥è¯¢â€”åº”ç­”çš„æœåŠ¡ï¼Œä¾‹å¦‚NFSã€‚ç›¸å¯¹äºFTPæˆ–Telnetï¼Œè¿™äº›æœåŠ¡éœ€è¦äº¤æ¢çš„ä¿¡æ¯é‡è¾ƒå°ã€‚</p><p>ã€€ã€€æ¯ä¸ªUDPæŠ¥æ–‡åˆ†UDPæŠ¥å¤´å’ŒUDPæ•°æ®åŒºä¸¤éƒ¨åˆ†ã€‚æŠ¥å¤´ç”±å››ä¸ª16ä½é•¿ï¼ˆ2å­—èŠ‚ï¼‰å­—æ®µç»„æˆï¼Œåˆ†åˆ«è¯´æ˜è¯¥æŠ¥æ–‡çš„æºç«¯å£ã€ç›®çš„ç«¯å£ã€æŠ¥æ–‡é•¿åº¦ä»¥åŠæ ¡éªŒå€¼ã€‚UDPæŠ¥å¤´ç”±4ä¸ªåŸŸç»„æˆï¼Œå…¶ä¸­æ¯ä¸ªåŸŸå„å ç”¨2ä¸ªå­—èŠ‚ï¼Œå…·ä½“å¦‚ä¸‹ï¼š<br>ã€€ã€€ï¼ˆ1ï¼‰æºç«¯å£å·ï¼›</p><p>ã€€ã€€ï¼ˆ2ï¼‰ç›®æ ‡ç«¯å£å·ï¼›</p><p>ã€€ã€€ï¼ˆ3ï¼‰æ•°æ®æŠ¥é•¿åº¦ï¼›</p><p>ã€€ã€€ï¼ˆ4ï¼‰æ ¡éªŒå€¼ã€‚</p><p>ã€€ã€€ä½¿ç”¨UDPåè®®åŒ…æ‹¬ï¼šTFTPï¼ˆç®€å•æ–‡ä»¶ä¼ è¾“åè®®ï¼‰ã€SNMPï¼ˆç®€å•ç½‘ç»œç®¡ç†åè®®ï¼‰ã€DNSï¼ˆåŸŸåè§£æåè®®ï¼‰ ã€ NFSã€ BOOTPã€‚</p><p>ã€€ã€€ TCP ä¸ UDP çš„åŒºåˆ«ï¼šTCPæ˜¯é¢å‘è¿æ¥çš„ï¼Œå¯é çš„å­—èŠ‚æµæœåŠ¡ï¼›UDPæ˜¯é¢å‘æ— è¿æ¥çš„ï¼Œä¸å¯é çš„æ•°æ®æŠ¥æœåŠ¡ã€‚</p><h3 id="9-DNSåè®®"><a href="#9-DNSåè®®" class="headerlink" title="9. DNSåè®®"></a>9. DNSåè®®</h3><p>ã€€ã€€DNSæ˜¯åŸŸåç³»ç»Ÿ(DomainNameSystem)çš„ç¼©å†™ï¼Œè¯¥ç³»ç»Ÿç”¨äºå‘½åç»„ç»‡åˆ°åŸŸå±‚æ¬¡ç»“æ„ä¸­çš„è®¡ç®—æœºå’Œç½‘ç»œæœåŠ¡ï¼Œå¯ä»¥ç®€å•åœ°ç†è§£ä¸ºå°†URLè½¬æ¢ä¸ºIPåœ°å€ã€‚åŸŸåæ˜¯ç”±åœ†ç‚¹åˆ†å¼€ä¸€ä¸²å•è¯æˆ–ç¼©å†™ç»„æˆçš„ï¼Œæ¯ä¸€ä¸ªåŸŸåéƒ½å¯¹åº”ä¸€ä¸ªæƒŸä¸€çš„IPåœ°å€ï¼Œåœ¨Internetä¸ŠåŸŸåä¸IPåœ°å€ä¹‹é—´æ˜¯ä¸€ä¸€å¯¹åº”çš„ï¼ŒDNSå°±æ˜¯è¿›è¡ŒåŸŸåè§£æçš„æœåŠ¡å™¨ã€‚DNSå‘½åç”¨äºInternetç­‰TCP/IPç½‘ç»œä¸­ï¼Œé€šè¿‡ç”¨æˆ·å‹å¥½çš„åç§°æŸ¥æ‰¾è®¡ç®—æœºå’ŒæœåŠ¡ã€‚</p><h3 id="10-NATåè®®"><a href="#10-NATåè®®" class="headerlink" title="10. NATåè®®"></a>10. NATåè®®</h3><p>ã€€ã€€NATç½‘ç»œåœ°å€è½¬æ¢(Network Address Translation)å±æ¥å…¥å¹¿åŸŸç½‘(WAN)æŠ€æœ¯ï¼Œæ˜¯ä¸€ç§å°†ç§æœ‰ï¼ˆä¿ç•™ï¼‰åœ°å€è½¬åŒ–ä¸ºåˆæ³•IPåœ°å€çš„è½¬æ¢æŠ€æœ¯ï¼Œå®ƒè¢«å¹¿æ³›åº”ç”¨äºå„ç§ç±»å‹Internetæ¥å…¥æ–¹å¼å’Œå„ç§ç±»å‹çš„ç½‘ç»œä¸­ã€‚åŸå› å¾ˆç®€å•ï¼ŒNATä¸ä»…å®Œç¾åœ°è§£å†³äº†lPåœ°å€ä¸è¶³çš„é—®é¢˜ï¼Œè€Œä¸”è¿˜èƒ½å¤Ÿæœ‰æ•ˆåœ°é¿å…æ¥è‡ªç½‘ç»œå¤–éƒ¨çš„æ”»å‡»ï¼Œéšè—å¹¶ä¿æŠ¤ç½‘ç»œå†…éƒ¨çš„è®¡ç®—æœºã€‚</p><h3 id="11-DHCPåè®®"><a href="#11-DHCPåè®®" class="headerlink" title="11. DHCPåè®®"></a>11. DHCPåè®®</h3><p>ã€€ã€€DHCPåŠ¨æ€ä¸»æœºè®¾ç½®åè®®ï¼ˆDynamic Host Configuration Protocolï¼‰æ˜¯ä¸€ä¸ªå±€åŸŸç½‘çš„ç½‘ç»œåè®®ï¼Œä½¿ç”¨UDPåè®®å·¥ä½œï¼Œä¸»è¦æœ‰ä¸¤ä¸ªç”¨é€”ï¼šç»™å†…éƒ¨ç½‘ç»œæˆ–ç½‘ç»œæœåŠ¡ä¾›åº”å•†è‡ªåŠ¨åˆ†é…IPåœ°å€ï¼Œç»™ç”¨æˆ·æˆ–è€…å†…éƒ¨ç½‘ç»œç®¡ç†å‘˜ä½œä¸ºå¯¹æ‰€æœ‰è®¡ç®—æœºä½œä¸­å¤®ç®¡ç†çš„æ‰‹æ®µã€‚</p><h3 id="12-HTTPåè®®"><a href="#12-HTTPåè®®" class="headerlink" title="12. HTTPåè®®"></a>12. HTTPåè®®</h3><p>ã€€ã€€è¶…æ–‡æœ¬ä¼ è¾“åè®®ï¼ˆHTTPï¼ŒHyperText Transfer Protocol)æ˜¯äº’è”ç½‘ä¸Šåº”ç”¨æœ€ä¸ºå¹¿æ³›çš„ä¸€ç§ç½‘ç»œåè®®ã€‚æ‰€æœ‰çš„WWWæ–‡ä»¶éƒ½å¿…é¡»éµå®ˆè¿™ä¸ªæ ‡å‡†ã€‚</p><p>ã€€ã€€HTTP åè®®åŒ…æ‹¬å“ªäº›è¯·æ±‚ï¼Ÿ</p><p>ã€€ã€€GETï¼šè¯·æ±‚è¯»å–ç”±URLæ‰€æ ‡å¿—çš„ä¿¡æ¯ã€‚</p><p>ã€€ã€€POSTï¼šç»™æœåŠ¡å™¨æ·»åŠ ä¿¡æ¯ï¼ˆå¦‚æ³¨é‡Šï¼‰ã€‚</p><p>ã€€ã€€PUTï¼šåœ¨ç»™å®šçš„URLä¸‹å­˜å‚¨ä¸€ä¸ªæ–‡æ¡£ã€‚</p><p>ã€€ã€€DELETEï¼šåˆ é™¤ç»™å®šçš„URLæ‰€æ ‡å¿—çš„èµ„æºã€‚</p><p>ã€€ã€€HTTP ä¸­ï¼Œ POST ä¸ GET çš„åŒºåˆ«</p><p>ã€€ã€€1ï¼‰Getæ˜¯ä»æœåŠ¡å™¨ä¸Šè·å–æ•°æ®ï¼ŒPostæ˜¯å‘æœåŠ¡å™¨ä¼ é€æ•°æ®ã€‚</p><p>ã€€ã€€2ï¼‰Getæ˜¯æŠŠå‚æ•°æ•°æ®é˜Ÿåˆ—åŠ åˆ°æäº¤è¡¨å•çš„Actionå±æ€§æ‰€æŒ‡å‘çš„URLä¸­ï¼Œå€¼å’Œè¡¨å•å†…å„ä¸ªå­—æ®µä¸€ä¸€å¯¹åº”ï¼Œåœ¨URLä¸­å¯ä»¥çœ‹åˆ°ã€‚</p><p>ã€€ã€€3ï¼‰Getä¼ é€çš„æ•°æ®é‡å°ï¼Œä¸èƒ½å¤§äº2KBï¼›Postä¼ é€çš„æ•°æ®é‡è¾ƒå¤§ï¼Œä¸€èˆ¬è¢«é»˜è®¤ä¸ºä¸å—é™åˆ¶ã€‚</p><p>ã€€ã€€4ï¼‰æ ¹æ®HTTPè§„èŒƒï¼ŒGETç”¨äºä¿¡æ¯è·å–ï¼Œè€Œä¸”åº”è¯¥æ˜¯å®‰å…¨çš„å’Œå¹‚ç­‰çš„ã€‚</p><p>ã€€ã€€I. æ‰€è°“ å®‰å…¨çš„ æ„å‘³ç€è¯¥æ“ä½œç”¨äºè·å–ä¿¡æ¯è€Œéä¿®æ”¹ä¿¡æ¯ã€‚æ¢å¥è¯è¯´ï¼ŒGETè¯·æ±‚ä¸€èˆ¬ä¸åº”äº§ç”Ÿå‰¯ä½œç”¨ã€‚å°±æ˜¯è¯´ï¼Œå®ƒä»…ä»…æ˜¯è·å–èµ„æºä¿¡æ¯ï¼Œå°±åƒæ•°æ®åº“æŸ¥è¯¢ä¸€æ ·ï¼Œä¸ä¼šä¿®æ”¹ï¼Œå¢åŠ æ•°æ®ï¼Œä¸ä¼šå½±å“èµ„æºçš„çŠ¶æ€ã€‚</p><p>ã€€ã€€II. å¹‚ç­‰ çš„æ„å‘³ç€å¯¹åŒä¸€URLçš„å¤šä¸ªè¯·æ±‚åº”è¯¥è¿”å›åŒæ ·çš„ç»“æœã€‚</p>]]></content>
      
      
      <categories>
          
          <category> è®¡ç®—æœºåŸºç¡€ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> è®¡ç½‘ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ç®—æ³•</title>
      <link href="2021/01/12/%E7%AE%97%E6%B3%95/"/>
      <url>2021/01/12/%E7%AE%97%E6%B3%95/</url>
      
        <content type="html"><![CDATA[<h1 id="ç®—æ³•"><a href="#ç®—æ³•" class="headerlink" title="ç®—æ³•"></a>ç®—æ³•</h1><h2 id="å¹¿åº¦ä¼˜å…ˆæœç´¢"><a href="#å¹¿åº¦ä¼˜å…ˆæœç´¢" class="headerlink" title="å¹¿åº¦ä¼˜å…ˆæœç´¢"></a>å¹¿åº¦ä¼˜å…ˆæœç´¢</h2><h1 id="ä¸€ã€ç®€ä»‹"><a href="#ä¸€ã€ç®€ä»‹" class="headerlink" title="ä¸€ã€ç®€ä»‹"></a>ä¸€ã€ç®€ä»‹</h1><p>å¹¿åº¦ä¼˜å…ˆæœç´¢ç®—æ³•ï¼ˆBreadth-First Searchï¼ŒBFSï¼‰æ˜¯ä¸€ç§ç›²ç›®æœå¯»æ³•ï¼Œç›®çš„æ˜¯ç³»ç»Ÿåœ°å±•å¼€å¹¶æ£€æŸ¥å›¾ä¸­çš„æ‰€æœ‰èŠ‚ç‚¹ï¼Œä»¥æ‰¾å¯»ç»“æœã€‚æ¢å¥è¯è¯´ï¼Œå®ƒå¹¶ä¸è€ƒè™‘ç»“æœçš„å¯èƒ½ä½ç½®ï¼Œå½»åº•åœ°æœç´¢æ•´å¼ å›¾ï¼Œç›´åˆ°æ‰¾åˆ°ç»“æœä¸ºæ­¢ã€‚BFSå¹¶ä¸ä½¿ç”¨ç»éªŒæ³•åˆ™ç®—æ³•ã€‚</p><p>å¹¿åº¦ä¼˜å…ˆæœç´¢è®©ä½ èƒ½å¤Ÿæ‰¾å‡ºä¸¤æ ·ä¸œè¥¿ä¹‹é—´çš„æœ€çŸ­è·ç¦»ï¼Œä¸è¿‡æœ€çŸ­è·ç¦»çš„å«ä¹‰æœ‰å¾ˆå¤šï¼ä½¿ç”¨å¹¿åº¦ä¼˜å…ˆæœç´¢å¯ä»¥ï¼š</p><ol><li>ç¼–å†™å›½é™…è·³æ£‹AIï¼Œè®¡ç®—æœ€å°‘èµ°å¤šå°‘æ­¥å°±å¯è·èƒœï¼›</li><li>ç¼–å†™æ‹¼å†™æ£€æŸ¥å™¨ï¼Œè®¡ç®—æœ€å°‘ç¼–è¾‘å¤šå°‘ä¸ªåœ°æ–¹å°±å¯å°†é”™æ‹¼çš„å•è¯æ”¹æˆæ­£ç¡®çš„å•è¯ï¼Œå¦‚å°†READEDæ”¹ä¸ºREADERéœ€è¦ç¼–è¾‘ä¸€ä¸ªåœ°æ–¹ï¼›</li><li>æ ¹æ®ä½ çš„äººé™…å…³ç³»ç½‘ç»œæ‰¾åˆ°å…³ç³»æœ€è¿‘çš„åŒ»ç”Ÿã€‚</li></ol><h1 id="äºŒã€ä¾‹å­"><a href="#äºŒã€ä¾‹å­" class="headerlink" title="äºŒã€ä¾‹å­"></a>äºŒã€ä¾‹å­</h1><p>å‡è®¾ä½ å±…ä½åœ¨æ—§é‡‘å±±ï¼Œè¦ä»åŒå­å³°å‰å¾€é‡‘é—¨å¤§æ¡¥ã€‚ä½ æƒ³ä¹˜å…¬äº¤è½¦å‰å¾€ï¼Œå¹¶å¸Œæœ›æ¢ä¹˜æœ€å°‘ã€‚å¯ä¹˜åçš„å…¬äº¤è½¦å¦‚ä¸‹ã€‚</p><p><img src="https://img-blog.csdnimg.cn/2019042512582052.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM3NDgyMjAy,size_16,color_FFFFFF,t_70" alt="img"></p><p>ä¸ºæ‰¾å‡ºæ¢ä¹˜æœ€å°‘çš„ä¹˜è½¦è·¯çº¿ï¼Œä½ å°†ä½¿ç”¨ä»€ä¹ˆæ ·çš„ç®—æ³•ï¼Ÿ<br>ä¸€æ­¥å°±èƒ½åˆ°è¾¾é‡‘é—¨å¤§æ¡¥å—ï¼Ÿä¸‹é¢çªå‡ºäº†æ‰€æœ‰ä¸€æ­¥å°±èƒ½åˆ°è¾¾çš„åœ°æ–¹ã€‚</p><p><img src="https://img-blog.csdnimg.cn/20190425125909925.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM3NDgyMjAy,size_16,color_FFFFFF,t_70" alt="img"></p><p>é‡‘é—¨å¤§æ¡¥æœªçªå‡ºï¼Œå› æ­¤ä¸€æ­¥æ— æ³•åˆ°è¾¾é‚£é‡Œã€‚ä¸¤æ­¥èƒ½å—ï¼Ÿ</p><p><img src="https://img-blog.csdnimg.cn/20190425125941127.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM3NDgyMjAy,size_16,color_FFFFFF,t_70" alt="img"></p><p>é‡‘é—¨å¤§æ¡¥ä¹Ÿæœªçªå‡ºï¼Œå› æ­¤ä¸¤æ­¥ä¹Ÿåˆ°ä¸äº†ã€‚ä¸‰æ­¥å‘¢ï¼Ÿ</p><p><img src="https://img-blog.csdnimg.cn/20190425130010971.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM3NDgyMjAy,size_16,color_FFFFFF,t_70" alt="img"></p><p>é‡‘é—¨å¤§æ¡¥çªå‡ºäº†ï¼å› æ­¤ä»åŒå­å³°å‡ºå‘ï¼Œå¯æ²¿ä¸‹é¢çš„è·¯çº¿ä¸‰æ­¥åˆ°è¾¾é‡‘é—¨å¤§æ¡¥ã€‚</p><p><img src="https://img-blog.csdnimg.cn/20190425130033978.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM3NDgyMjAy,size_16,color_FFFFFF,t_70" alt="img"></p><p> è¿˜æœ‰å…¶ä»–å‰å¾€é‡‘é—¨å¤§æ¡¥çš„è·¯çº¿ï¼Œä½†å®ƒä»¬æ›´è¿œï¼ˆéœ€è¦å››æ­¥ï¼‰ã€‚è¿™ä¸ªç®—æ³•å‘ç°ï¼Œå‰å¾€é‡‘é—¨å¤§æ¡¥çš„æœ€çŸ­è·¯å¾„éœ€è¦ä¸‰æ­¥ã€‚è¿™ç§é—®é¢˜è¢«ç§°ä¸ºæœ€çŸ­è·¯å¾„é—®é¢˜ï¼ˆshorterst-path problemï¼‰ã€‚ä½ ç»å¸¸è¦æ‰¾å‡ºæœ€çŸ­è·¯å¾„ï¼Œè¿™å¯èƒ½æ˜¯å‰å¾€æœ‹å‹å®¶çš„æœ€çŸ­è·¯å¾„ï¼Œä¹Ÿå¯èƒ½æ˜¯å›½é™…è±¡æ£‹ä¸­æŠŠå¯¹æ–¹å°†æ­»çš„æœ€å°‘æ­¥æ•°ã€‚è§£å†³æœ€çŸ­è·¯å¾„é—®é¢˜çš„ç®—æ³•è¢«ç§°ä¸ºå¹¿åº¦ä¼˜å…ˆæœç´¢ã€‚è¦ç¡®å®šå¦‚ä½•ä»åŒå­å³°å‰å¾€é‡‘é—¨å¤§æ¡¥ï¼Œéœ€è¦ä¸¤ä¸ªæ­¥éª¤ã€‚<br>(1) ä½¿ç”¨å›¾æ¥å»ºç«‹é—®é¢˜æ¨¡å‹ã€‚<br>(2) ä½¿ç”¨å¹¿åº¦ä¼˜å…ˆæœç´¢è§£å†³é—®é¢˜ã€‚<br>ä¸‹é¢ä»‹ç»ä»€ä¹ˆæ˜¯å›¾ï¼Œç„¶åå†è¯¦ç»†æ¢è®¨å¹¿åº¦ä¼˜å…ˆæœç´¢ã€‚</p><h1 id="ä¸‰ã€å›¾"><a href="#ä¸‰ã€å›¾" class="headerlink" title="ä¸‰ã€å›¾"></a>ä¸‰ã€å›¾</h1><p>å›¾æ˜¯ç”±é¡¶ç‚¹çš„æœ‰ç©·éç©ºé›†åˆå’Œé¡¶ç‚¹ä¹‹é—´è¾¹çš„é›†åˆç»„æˆï¼Œé€šè¿‡è¡¨ç¤ºä¸ºG(V,E)ï¼Œå…¶ä¸­ï¼ŒGæ ‡ç¤ºä¸€ä¸ªå›¾ï¼ŒVæ˜¯å›¾Gä¸­é¡¶ç‚¹çš„é›†åˆï¼ŒEæ˜¯å›¾Gä¸­è¾¹çš„é›†åˆã€‚</p><p>æ— è¾¹å›¾ï¼šè‹¥é¡¶ç‚¹Viåˆ°Vjä¹‹é—´çš„è¾¹æ²¡æœ‰æ–¹å‘ï¼Œåˆ™ç§°è¿™æ¡è¾¹ä¸ºæ— é¡¹è¾¹ï¼ˆEdgeï¼‰ï¼Œç”¨åºå¶å¯¹(Vi,Vj)æ ‡ç¤ºã€‚</p><p>å¯¹äºä¸‹å›¾æ— å‘å›¾G1æ¥è¯´ï¼ŒG1=(V1, {E1})ï¼Œå…¶ä¸­é¡¶ç‚¹é›†åˆV1={A,B,C,D}ï¼›è¾¹é›†åˆE1={(A,B),(B,C),(C,D),(D,A),(A,C)}:</p><p><img src="https://img-blog.csdnimg.cn/20190425130245486.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM3NDgyMjAy,size_16,color_FFFFFF,t_70" alt="img"></p><p>æœ‰å‘å›¾ï¼šè‹¥ä»é¡¶ç‚¹Viåˆ°Vjçš„è¾¹æ˜¯æœ‰æ–¹å‘çš„ï¼Œåˆ™æˆè¿™æ¡è¾¹ä¸ºæœ‰å‘è¾¹ï¼Œä¹Ÿç§°ä¸ºå¼§ï¼ˆArcï¼‰ã€‚ç”¨æœ‰åºå¯¹ï¼ˆViï¼ŒVjï¼‰æ ‡ç¤ºï¼ŒViç§°ä¸ºå¼§å°¾ï¼ŒVjç§°ä¸ºå¼§å¤´ã€‚å¦‚æœä»»æ„ä¸¤æ¡è¾¹ä¹‹é—´éƒ½æ˜¯æœ‰å‘çš„ï¼Œåˆ™ç§°è¯¥å›¾ä¸ºæœ‰å‘å›¾ã€‚</p><p>æœ‰å‘å›¾G2ä¸­ï¼ŒG2=ï¼ˆV2,{E2}ï¼‰ï¼Œé¡¶ç‚¹é›†åˆï¼ˆA,B,C,Dï¼‰,å¼§é›†åˆE2={&lt;A,D&gt;,{B,A},&lt;C,A&gt;,&lt;B,C&gt;}.</p><p>æƒï¼šæœ‰äº›å›¾çš„è¾¹å’Œå¼§æœ‰ç›¸å…³çš„æ•°ï¼Œè¿™ä¸ªæ•°å«åšæƒã€‚è¿™äº›å¸¦æƒçš„å›¾é€šå¸¸ç§°ä¸ºç½‘ã€‚</p><h1 id="å››ã€å¹¿åº¦ä¼˜å…ˆæœç´¢ç®—æ³•"><a href="#å››ã€å¹¿åº¦ä¼˜å…ˆæœç´¢ç®—æ³•" class="headerlink" title="å››ã€å¹¿åº¦ä¼˜å…ˆæœç´¢ç®—æ³•"></a>å››ã€å¹¿åº¦ä¼˜å…ˆæœç´¢ç®—æ³•</h1><p>å‡è®¾ä½ ç»è¥ç€ä¸€ä¸ªèŠ’æœå†œåœºï¼Œéœ€è¦å¯»æ‰¾èŠ’æœé”€å”®å•†ï¼Œä»¥ä¾¿å°†èŠ’æœå–ç»™ä»–ã€‚åœ¨Facebookï¼Œä½ ä¸èŠ’æœé”€å”®å•†æœ‰è”ç³»å—ï¼Ÿä¸ºæ­¤ï¼Œä½ å¯åœ¨æœ‹å‹ä¸­æŸ¥æ‰¾ã€‚</p><p><img src="https://img-blog.csdnimg.cn/20190425130541285.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM3NDgyMjAy,size_16,color_FFFFFF,t_70" alt="img"></p><p>è¿™ç§æŸ¥æ‰¾å¾ˆç®€å•ã€‚é¦–å…ˆï¼Œåˆ›å»ºä¸€ä¸ªæœ‹å‹åå•ã€‚</p><p><img src="https://img-blog.csdnimg.cn/20190425130557936.png" alt="img"></p><p> ç„¶åï¼Œä¾æ¬¡æ£€æŸ¥åå•ä¸­çš„æ¯ä¸ªäººï¼Œçœ‹çœ‹ä»–æ˜¯å¦æ˜¯èŠ’æœé”€å”®å•†ã€‚</p><p><img src="https://img-blog.csdnimg.cn/20190425130627134.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM3NDgyMjAy,size_16,color_FFFFFF,t_70" alt="img"></p><p> å‡è®¾ä½ æ²¡æœ‰æœ‹å‹æ˜¯èŠ’æœé”€å”®å•†ï¼Œé‚£ä¹ˆä½ å°±å¿…é¡»åœ¨æœ‹å‹çš„æœ‹å‹ä¸­æŸ¥æ‰¾ã€‚</p><p><img src="https://img-blog.csdnimg.cn/20190425130708732.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM3NDgyMjAy,size_16,color_FFFFFF,t_70" alt="img"></p><p> æ£€æŸ¥åå•ä¸­çš„æ¯ä¸ªäººæ—¶ï¼Œä½ éƒ½å°†å…¶æœ‹å‹åŠ å…¥åå•ã€‚</p><p><img src="https://img-blog.csdnimg.cn/20190425130746766.png" alt="img"></p><p> è¿™æ ·ä¸€æ¥ï¼Œä½ ä¸ä»…åœ¨æœ‹å‹ä¸­æŸ¥æ‰¾ï¼Œè¿˜åœ¨æœ‹å‹çš„æœ‹å‹ä¸­æŸ¥æ‰¾ã€‚åˆ«å¿˜äº†ï¼Œä½ çš„ç›®æ ‡æ˜¯åœ¨ä½ çš„äººé™…å…³ç³»ç½‘ä¸­æ‰¾åˆ°ä¸€ä½èŠ’æœé”€å”®å•†ã€‚å› æ­¤ï¼Œå¦‚æœAliceä¸æ˜¯èŠ’æœé”€å”®å•†ï¼Œå°±å°†å…¶æœ‹å‹ä¹ŸåŠ å…¥åˆ°åå•ä¸­ã€‚è¿™æ„å‘³ç€ä½ å°†åœ¨å¥¹çš„æœ‹å‹ã€æœ‹å‹çš„æœ‹å‹ç­‰ä¸­æŸ¥æ‰¾ã€‚ä½¿ç”¨è¿™ç§ç®—æ³•å°†æœéä½ çš„æ•´ä¸ªäººé™…å…³ç³»ç½‘ï¼Œç›´åˆ°æ‰¾åˆ°èŠ’æœé”€å”®å•†ã€‚è¿™å°±æ˜¯å¹¿åº¦ä¼˜å…ˆæœç´¢ç®—æ³•ã€‚</p><h1 id="äº”ã€æŸ¥æ‰¾æœ€çŸ­è·¯å¾„"><a href="#äº”ã€æŸ¥æ‰¾æœ€çŸ­è·¯å¾„" class="headerlink" title="äº”ã€æŸ¥æ‰¾æœ€çŸ­è·¯å¾„"></a>äº”ã€æŸ¥æ‰¾æœ€çŸ­è·¯å¾„</h1><p>å†è¯´ä¸€æ¬¡ï¼Œå¹¿åº¦ä¼˜å…ˆæœç´¢å¯å›ç­”ä¸¤ç±»é—®é¢˜ã€‚<br>ç¬¬ä¸€ç±»é—®é¢˜ï¼šä»èŠ‚ç‚¹Aå‡ºå‘ï¼Œæœ‰å‰å¾€èŠ‚ç‚¹Bçš„è·¯å¾„å—ï¼Ÿï¼ˆåœ¨ä½ çš„äººé™…å…³ç³»ç½‘ä¸­ï¼Œæœ‰èŠ’æœé”€å”®å•†å—ï¼Ÿï¼‰<br>ç¬¬äºŒç±»é—®é¢˜ï¼šä»èŠ‚ç‚¹Aå‡ºå‘ï¼Œå‰å¾€èŠ‚ç‚¹Bçš„å“ªæ¡è·¯å¾„æœ€çŸ­ï¼Ÿï¼ˆå“ªä¸ªèŠ’æœé”€å”®å•†ä¸ä½ çš„å…³ç³»æœ€è¿‘ï¼Ÿï¼‰<br>åˆšæ‰ä½ çœ‹åˆ°äº†å¦‚ä½•å›ç­”ç¬¬ä¸€ç±»é—®é¢˜ï¼Œä¸‹é¢æ¥å°è¯•å›ç­”ç¬¬äºŒç±»é—®é¢˜â€”â€”è°æ˜¯å…³ç³»æœ€è¿‘çš„èŠ’æœé”€å”®å•†ã€‚ä¾‹å¦‚ï¼Œæœ‹å‹æ˜¯ä¸€åº¦å…³ç³»ï¼Œæœ‹å‹çš„æœ‹å‹æ˜¯äºŒåº¦å…³ç³»ã€‚</p><p><img src="https://img-blog.csdnimg.cn/20190425130919177.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM3NDgyMjAy,size_16,color_FFFFFF,t_70" alt="img"></p><p> åœ¨ä½ çœ‹æ¥ï¼Œä¸€åº¦å…³ç³»èƒœè¿‡äºŒåº¦å…³ç³»ï¼ŒäºŒåº¦å…³ç³»èƒœè¿‡ä¸‰åº¦å…³ç³»ï¼Œä»¥æ­¤ç±»æ¨ã€‚å› æ­¤ï¼Œä½ åº”å…ˆåœ¨ä¸€åº¦å…³ç³»ä¸­æœç´¢ï¼Œç¡®å®šå…¶ä¸­æ²¡æœ‰èŠ’æœé”€å”®å•†åï¼Œæ‰åœ¨äºŒåº¦å…³ç³»ä¸­æœç´¢ã€‚å¹¿åº¦ä¼˜å…ˆæœç´¢å°±æ˜¯è¿™æ ·åšçš„ï¼åœ¨å¹¿åº¦ä¼˜å…ˆæœç´¢çš„æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œæœç´¢èŒƒå›´ä»èµ·ç‚¹å¼€å§‹é€æ¸å‘å¤–å»¶ä¼¸ï¼Œå³å…ˆæ£€æŸ¥ä¸€åº¦å…³ç³»ï¼Œå†æ£€æŸ¥äºŒåº¦å…³ç³»ã€‚é¡ºä¾¿é—®ä¸€å¥ï¼šå°†å…ˆæ£€æŸ¥Claireè¿˜æ˜¯Anujå‘¢ï¼ŸClaireæ˜¯ä¸€åº¦å…³ç³»ï¼Œè€ŒAnujæ˜¯äºŒåº¦å…³ç³»ï¼Œå› <br>æ­¤å°†å…ˆæ£€æŸ¥Claireï¼Œåæ£€æŸ¥Anujã€‚</p><p>ä½ ä¹Ÿå¯ä»¥è¿™æ ·çœ‹ï¼Œä¸€åº¦å…³ç³»åœ¨äºŒåº¦å…³ç³»ä¹‹å‰åŠ å…¥æŸ¥æ‰¾åå•ã€‚</p><p>ä½ æŒ‰é¡ºåºä¾æ¬¡æ£€æŸ¥åå•ä¸­çš„æ¯ä¸ªäººï¼Œçœ‹çœ‹ä»–æ˜¯å¦æ˜¯èŠ’æœé”€å”®å•†ã€‚è¿™å°†å…ˆåœ¨ä¸€åº¦å…³ç³»ä¸­æŸ¥æ‰¾ï¼Œå†åœ¨äºŒåº¦å…³ç³»ä¸­æŸ¥æ‰¾ï¼Œå› æ­¤æ‰¾åˆ°çš„æ˜¯å…³ç³»æœ€è¿‘çš„èŠ’æœé”€å”®å•†ã€‚å¹¿åº¦ä¼˜å…ˆæœç´¢ä¸ä»…æŸ¥æ‰¾ä»Aåˆ°Bçš„è·¯å¾„ï¼Œè€Œä¸”æ‰¾åˆ°çš„æ˜¯æœ€çŸ­çš„è·¯å¾„ã€‚</p><p><img src="https://img-blog.csdnimg.cn/20190425131016430.png" alt="img"></p><p> æ³¨æ„ï¼Œåªæœ‰æŒ‰æ·»åŠ é¡ºåºæŸ¥æ‰¾æ—¶ï¼Œæ‰èƒ½å®ç°è¿™æ ·çš„ç›®çš„ã€‚æ¢å¥è¯è¯´ï¼Œå¦‚æœClaireå…ˆäºAnujåŠ å…¥åå•ï¼Œå°±éœ€è¦å…ˆæ£€æŸ¥Claireï¼Œå†æ£€æŸ¥Anujã€‚å¦‚æœClaireå’ŒAnujéƒ½æ˜¯èŠ’æœé”€å”®å•†ï¼Œè€Œä½ å…ˆæ£€æŸ¥Anujå†æ£€æŸ¥Claireï¼Œç»“æœå°†å¦‚ä½•å‘¢ï¼Ÿæ‰¾åˆ°çš„èŠ’æœé”€å”®å•†å¹¶éæ˜¯ä¸ä½ å…³ç³»æœ€è¿‘çš„ï¼Œå› ä¸ºAnujæ˜¯ä½ æœ‹å‹çš„æœ‹å‹ï¼Œè€ŒClaireæ˜¯ä½ çš„æœ‹å‹ã€‚å› æ­¤ï¼Œä½ éœ€è¦æŒ‰æ·»åŠ é¡ºåºè¿›è¡Œæ£€æŸ¥ã€‚æœ‰ä¸€ä¸ªå¯å®ç°è¿™ç§ç›®çš„çš„æ•°æ®<br>ç»“æ„ï¼Œé‚£å°±æ˜¯é˜Ÿåˆ—ï¼ˆqueueï¼‰ã€‚</p><h1 id="å…­ã€é˜Ÿåˆ—"><a href="#å…­ã€é˜Ÿåˆ—" class="headerlink" title="å…­ã€é˜Ÿåˆ—"></a>å…­ã€é˜Ÿåˆ—</h1><p>é˜Ÿåˆ—æ˜¯ä¸€ç§ç‰¹æ®Šçš„çº¿æ€§è¡¨ï¼Œç‰¹æ®Šä¹‹å¤„åœ¨äºå®ƒåªå…è®¸åœ¨è¡¨çš„å‰ç«¯ï¼ˆfrontï¼‰è¿›è¡Œåˆ é™¤æ“ä½œï¼Œè€Œåœ¨è¡¨çš„åç«¯ï¼ˆrearï¼‰è¿›è¡Œæ’å…¥æ“ä½œï¼Œå’Œæ ˆä¸€æ ·ï¼Œé˜Ÿåˆ—æ˜¯ä¸€ç§æ“ä½œå—é™åˆ¶çš„çº¿æ€§è¡¨ã€‚è¿›è¡Œæ’å…¥æ“ä½œçš„ç«¯ç§°ä¸ºé˜Ÿå°¾ï¼Œè¿›è¡Œåˆ é™¤æ“ä½œçš„ç«¯ç§°ä¸ºé˜Ÿå¤´ã€‚é˜Ÿåˆ—ä¸­æ²¡æœ‰å…ƒç´ æ—¶ï¼Œç§°ä¸ºç©ºé˜Ÿåˆ—ã€‚</p><p>é˜Ÿåˆ—çš„æ•°æ®å…ƒç´ åˆç§°ä¸ºé˜Ÿåˆ—å…ƒç´ ã€‚åœ¨é˜Ÿåˆ—ä¸­æ’å…¥ä¸€ä¸ªé˜Ÿåˆ—å…ƒç´ ç§°ä¸ºå…¥é˜Ÿï¼Œä»é˜Ÿåˆ—ä¸­åˆ é™¤ä¸€ä¸ªé˜Ÿåˆ—å…ƒç´ ç§°ä¸ºå‡ºé˜Ÿã€‚å› ä¸ºé˜Ÿåˆ—åªå…è®¸åœ¨ä¸€ç«¯æ’å…¥ï¼Œåœ¨å¦ä¸€ç«¯åˆ é™¤ï¼Œæ‰€ä»¥åªæœ‰æœ€æ—©è¿›å…¥é˜Ÿåˆ—çš„å…ƒç´ æ‰èƒ½æœ€å…ˆä»é˜Ÿåˆ—ä¸­åˆ é™¤ï¼Œæ•…é˜Ÿåˆ—åˆç§°ä¸ºå…ˆè¿›å…ˆå‡ºï¼ˆFIFOâ€”first in first outï¼‰çº¿æ€§è¡¨ã€‚</p><h3 id="é¡ºåºé˜Ÿåˆ—"><a href="#é¡ºåºé˜Ÿåˆ—" class="headerlink" title="é¡ºåºé˜Ÿåˆ—"></a>é¡ºåºé˜Ÿåˆ—</h3><p>å»ºç«‹é¡ºåºé˜Ÿåˆ—ç»“æ„å¿…é¡»ä¸ºå…¶é™æ€åˆ†é…æˆ–åŠ¨æ€ç”³è¯·ä¸€ç‰‡è¿ç»­çš„å­˜å‚¨ç©ºé—´ï¼Œå¹¶è®¾ç½®ä¸¤ä¸ªæŒ‡é’ˆè¿›è¡Œç®¡ç†ã€‚ä¸€ä¸ªæ˜¯é˜Ÿå¤´æŒ‡é’ˆfrontï¼Œå®ƒæŒ‡å‘é˜Ÿå¤´å…ƒç´ ï¼›å¦ä¸€ä¸ªæ˜¯é˜Ÿå°¾æŒ‡é’ˆrearï¼Œå®ƒæŒ‡å‘ä¸‹ä¸€ä¸ªå…¥é˜Ÿå…ƒç´ çš„å­˜å‚¨ä½ç½®ï¼Œå¦‚å›¾æ‰€ç¤º</p><p><a href="https://baike.baidu.com/pic/%E9%98%9F%E5%88%97/14580481/0/cdbf6c81800a19d8116a4d8030fa828ba71e46ce?fr=lemma&amp;ct=single"><img src="https://gss1.bdstatic.com/-vo3dSag_xI4khGkpoWK1HF6hhy/baike/s%3D220/sign=2044fd5c3a01213fcb3349de64e636f8/cdbf6c81800a19d8116a4d8030fa828ba71e46ce.jpg" alt="img"></a></p><p>æ¯æ¬¡åœ¨é˜Ÿå°¾æ’å…¥ä¸€ä¸ªå…ƒç´ æ˜¯ï¼Œrearå¢1ï¼›æ¯æ¬¡åœ¨é˜Ÿå¤´åˆ é™¤ä¸€ä¸ªå…ƒç´ æ—¶ï¼Œfrontå¢1ã€‚éšç€æ’å…¥å’Œåˆ é™¤æ“ä½œçš„è¿›è¡Œï¼Œé˜Ÿåˆ—å…ƒç´ çš„ä¸ªæ•°ä¸æ–­å˜åŒ–ï¼Œé˜Ÿåˆ—æ‰€å çš„å­˜å‚¨ç©ºé—´ä¹Ÿåœ¨ä¸ºé˜Ÿåˆ—ç»“æ„æ‰€åˆ†é…çš„è¿ç»­ç©ºé—´ä¸­ç§»åŠ¨ã€‚å½“front=rearæ—¶ï¼Œé˜Ÿåˆ—ä¸­æ²¡æœ‰ä»»ä½•å…ƒç´ ï¼Œç§°ä¸ºç©ºé˜Ÿåˆ—ã€‚å½“rearå¢åŠ åˆ°æŒ‡å‘åˆ†é…çš„è¿ç»­ç©ºé—´ä¹‹å¤–æ—¶ï¼Œé˜Ÿåˆ—æ— æ³•å†æ’å…¥æ–°å…ƒç´ ï¼Œä½†è¿™æ—¶å¾€å¾€è¿˜æœ‰å¤§é‡å¯ç”¨ç©ºé—´æœªè¢«å ç”¨ï¼Œè¿™äº›ç©ºé—´æ˜¯å·²ç»å‡ºé˜Ÿçš„é˜Ÿåˆ—å…ƒç´ æ›¾ç»å ç”¨è¿‡å¾—å­˜å‚¨å•å…ƒã€‚</p><p>é¡ºåºé˜Ÿåˆ—ä¸­çš„æº¢å‡ºç°è±¡ï¼š</p><p>ï¼ˆ1ï¼‰ â€œä¸‹æº¢â€ç°è±¡ï¼šå½“é˜Ÿåˆ—ä¸ºç©ºæ—¶ï¼Œåšå‡ºé˜Ÿè¿ç®—äº§ç”Ÿçš„æº¢å‡ºç°è±¡ã€‚â€œä¸‹æº¢â€æ˜¯æ­£å¸¸ç°è±¡ï¼Œå¸¸ç”¨ä½œç¨‹åºæ§åˆ¶è½¬ç§»çš„æ¡ä»¶ã€‚</p><p>ï¼ˆ2ï¼‰â€çœŸä¸Šæº¢â€ç°è±¡ï¼šå½“é˜Ÿåˆ—æ»¡æ—¶ï¼Œåšè¿›æ ˆè¿ç®—äº§ç”Ÿç©ºé—´æº¢å‡ºçš„ç°è±¡ã€‚â€œçœŸä¸Šæº¢â€æ˜¯ä¸€ç§å‡ºé”™çŠ¶æ€ï¼Œåº”è®¾æ³•é¿å…ã€‚</p><p>ï¼ˆ3ï¼‰â€å‡ä¸Šæº¢â€ç°è±¡ï¼šç”±äºå…¥é˜Ÿå’Œå‡ºé˜Ÿæ“ä½œä¸­ï¼Œå¤´å°¾æŒ‡é’ˆåªå¢åŠ ä¸å‡å°ï¼Œè‡´ä½¿è¢«åˆ å…ƒç´ çš„ç©ºé—´æ°¸è¿œæ— æ³•é‡æ–°åˆ©ç”¨ã€‚å½“é˜Ÿåˆ—ä¸­å®é™…çš„å…ƒç´ ä¸ªæ•°è¿œè¿œå°äºå‘é‡ç©ºé—´çš„è§„æ¨¡æ—¶ï¼Œä¹Ÿå¯èƒ½ç”±äºå°¾æŒ‡é’ˆå·²è¶…è¶Šå‘é‡ç©ºé—´çš„ä¸Šç•Œè€Œä¸èƒ½åšå…¥é˜Ÿæ“ä½œã€‚è¯¥ç°è±¡ç§°ä¸ºâ€å‡ä¸Šæº¢â€ç°è±¡ã€‚</p><h3 id="å¾ªç¯é˜Ÿåˆ—"><a href="#å¾ªç¯é˜Ÿåˆ—" class="headerlink" title="å¾ªç¯é˜Ÿåˆ—"></a>å¾ªç¯é˜Ÿåˆ—</h3><p>åœ¨å®é™…ä½¿ç”¨é˜Ÿåˆ—æ—¶ï¼Œä¸ºäº†ä½¿é˜Ÿåˆ—ç©ºé—´èƒ½é‡å¤ä½¿ç”¨ï¼Œå¾€å¾€å¯¹é˜Ÿåˆ—çš„ä½¿ç”¨æ–¹æ³•ç¨åŠ æ”¹è¿›ï¼šæ— è®ºæ’å…¥æˆ–åˆ é™¤ï¼Œä¸€æ—¦rearæŒ‡é’ˆå¢1æˆ–frontæŒ‡é’ˆå¢1 æ—¶è¶…å‡ºäº†æ‰€åˆ†é…çš„é˜Ÿåˆ—ç©ºé—´ï¼Œå°±è®©å®ƒæŒ‡å‘è¿™ç‰‡è¿ç»­ç©ºé—´çš„èµ·å§‹ä½ç½®ã€‚è‡ªå·±çœŸä»MaxSize-1å¢1å˜åˆ°0ï¼Œå¯ç”¨å–ä½™è¿ç®—rear%MaxSizeå’Œfront%MaxSizeæ¥å®ç°ã€‚è¿™å®é™…ä¸Šæ˜¯æŠŠé˜Ÿåˆ—ç©ºé—´æƒ³è±¡æˆä¸€ä¸ªç¯å½¢ç©ºé—´ï¼Œç¯å½¢ç©ºé—´ä¸­çš„å­˜å‚¨å•å…ƒå¾ªç¯ä½¿ç”¨ï¼Œç”¨è¿™ç§æ–¹æ³•ç®¡ç†çš„é˜Ÿåˆ—ä¹Ÿå°±ç§°ä¸ºå¾ªç¯é˜Ÿåˆ—ã€‚é™¤äº†ä¸€äº›ç®€å•åº”ç”¨ä¹‹å¤–ï¼ŒçœŸæ­£å®ç”¨çš„é˜Ÿåˆ—æ˜¯å¾ªç¯é˜Ÿåˆ—ã€‚ [2] </p><p>åœ¨å¾ªç¯é˜Ÿåˆ—ä¸­ï¼Œå½“é˜Ÿåˆ—ä¸ºç©ºæ—¶ï¼Œæœ‰front=rearï¼Œè€Œå½“æ‰€æœ‰é˜Ÿåˆ—ç©ºé—´å…¨å æ»¡æ—¶ï¼Œä¹Ÿæœ‰front=rearã€‚ä¸ºäº†åŒºåˆ«è¿™ä¸¤ç§æƒ…å†µï¼Œè§„å®šå¾ªç¯é˜Ÿåˆ—æœ€å¤šåªèƒ½æœ‰MaxSize-1ä¸ªé˜Ÿåˆ—å…ƒç´ ï¼Œå½“å¾ªç¯é˜Ÿåˆ—ä¸­åªå‰©ä¸‹ä¸€ä¸ªç©ºå­˜å‚¨å•å…ƒæ—¶ï¼Œé˜Ÿåˆ—å°±å·²ç»æ»¡äº†ã€‚å› æ­¤ï¼Œé˜Ÿåˆ—åˆ¤ç©ºçš„æ¡ä»¶æ—¶front=rearï¼Œè€Œé˜Ÿåˆ—åˆ¤æ»¡çš„æ¡ä»¶æ—¶front=ï¼ˆrear+1ï¼‰%MaxSizeã€‚é˜Ÿç©ºå’Œé˜Ÿæ»¡çš„æƒ…å†µå¦‚å›¾ï¼š</p><p><img src="https://img-blog.csdnimg.cn/20190425131408367.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM3NDgyMjAy,size_16,color_FFFFFF,t_70" alt="img"></p><h1 id="ä¸ƒã€å¹¿åº¦ä¼˜å…ˆæœç´¢ç®—æ³•å®ç°"><a href="#ä¸ƒã€å¹¿åº¦ä¼˜å…ˆæœç´¢ç®—æ³•å®ç°" class="headerlink" title="ä¸ƒã€å¹¿åº¦ä¼˜å…ˆæœç´¢ç®—æ³•å®ç°"></a>ä¸ƒã€å¹¿åº¦ä¼˜å…ˆæœç´¢ç®—æ³•å®ç°</h1><p>æˆ‘ä»¬è¦ä»â€œä½ â€å‡ºå‘æ‰¾åˆ°â€œANUJâ€ï¼Œå…³ç³»è¡¨ç¤ºä¸ºä¸‹å›¾ï¼Œä½¿ç”¨å¹¿åº¦ä¼˜å…ˆæœç´¢ç®—æ³•</p><p><img src="https://img-blog.csdnimg.cn/20190425131729132.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM3NDgyMjAy,size_16,color_FFFFFF,t_70" alt="img"></p><p> å…ˆæ¦‚è¿°ä¸€ä¸‹è¿™ç§ç®—æ³•çš„å·¥ä½œåŸç†ã€‚</p><p><img src="https://img-blog.csdnimg.cn/20190425131859171.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM3NDgyMjAy,size_16,color_FFFFFF,t_70" alt="img"></p><p>ä½†è¿™æ ·å¯èƒ½ä¼šå‡ºç°ä¸€äº›é—®é¢˜ï¼ŒPeggyæ—¢æ˜¯Aliceçš„æœ‹å‹åˆæ˜¯Bobçš„æœ‹å‹ï¼Œå› æ­¤å¥¹å°†è¢«åŠ å…¥é˜Ÿåˆ—ä¸¤æ¬¡ï¼šä¸€æ¬¡æ˜¯åœ¨æ·»åŠ Aliceçš„æœ‹å‹æ—¶ï¼Œå¦ä¸€æ¬¡æ˜¯åœ¨æ·»åŠ Bobçš„æœ‹å‹æ—¶ã€‚å› æ­¤ï¼Œæœç´¢é˜Ÿåˆ—å°†åŒ…å«ä¸¤ä¸ªPeggyã€‚</p><p><img src="https://img-blog.csdnimg.cn/20190425132141757.png" alt="img"></p><p>ä½†ä½ åªéœ€æ£€æŸ¥Peggyä¸€æ¬¡ï¼Œçœ‹å¥¹æ˜¯ä¸æ˜¯èŠ’æœé”€å”®å•†ã€‚å¦‚æœä½ æ£€æŸ¥ä¸¤æ¬¡ï¼Œå°±åšäº†æ— ç”¨åŠŸã€‚å› æ­¤ï¼Œæ£€æŸ¥å®Œä¸€ä¸ªäººåï¼Œåº”å°†å…¶æ ‡è®°ä¸ºå·²æ£€æŸ¥ï¼Œä¸”ä¸å†æ£€æŸ¥ä»–ã€‚<br>å¦‚æœä¸è¿™æ ·åšï¼Œå°±å¯èƒ½ä¼šå¯¼è‡´æ— é™å¾ªç¯ã€‚å‡è®¾ä½ çš„äººé™…å…³ç³»ç½‘ç±»ä¼¼äºä¸‹é¢è¿™æ ·ã€‚</p><p><img src="https://img-blog.csdnimg.cn/20190425132220829.png" alt="img"></p><p>ä¸€å¼€å§‹ï¼Œæœç´¢é˜Ÿåˆ—åŒ…å«ä½ çš„æ‰€æœ‰é‚»å±…ã€‚</p><p><img src="https://img-blog.csdnimg.cn/2019042513224723.png" alt="img"></p><p>ç°åœ¨ä½ æ£€æŸ¥Peggyã€‚å¥¹ä¸æ˜¯èŠ’æœé”€å”®å•†ï¼Œå› æ­¤ä½ å°†å…¶æ‰€æœ‰é‚»å±…éƒ½åŠ å…¥æœç´¢é˜Ÿåˆ—ã€‚</p><p><img src="https://img-blog.csdnimg.cn/20190425132306499.png" alt="img"></p><p>æ¥ä¸‹æ¥ï¼Œä½ æ£€æŸ¥è‡ªå·±ã€‚ä½ ä¸æ˜¯èŠ’æœé”€å”®å•†ï¼Œå› æ­¤ä½ å°†ä½ çš„æ‰€æœ‰é‚»å±…éƒ½åŠ å…¥æœç´¢é˜Ÿåˆ—ã€‚</p><p><img src="https://img-blog.csdnimg.cn/20190425132328874.png" alt="img"></p><p>ä»¥æ­¤ç±»æ¨ã€‚è¿™å°†å½¢æˆæ— é™å¾ªç¯ï¼Œå› ä¸ºæœç´¢é˜Ÿåˆ—å°†åœ¨åŒ…å«ä½ å’ŒåŒ…å«Peggyä¹‹é—´åå¤åˆ‡æ¢ã€‚</p><p><img src="https://img-blog.csdnimg.cn/2019042513235043.png" alt="img"></p><p>æ£€æŸ¥ä¸€ä¸ªäººä¹‹å‰ï¼Œè¦ç¡®è®¤ä¹‹å‰æ²¡æ£€æŸ¥è¿‡ä»–ï¼Œè¿™å¾ˆé‡è¦ã€‚ä¸ºæ­¤ï¼Œä½ å¯ä½¿ç”¨ä¸€ä¸ªåˆ—è¡¨æ¥è®°å½•æ£€æŸ¥è¿‡çš„äººã€‚</p><p>é¦–å…ˆï¼Œéœ€è¦ä½¿ç”¨ä»£ç æ¥å®ç°å›¾ã€‚å›¾ç”±å¤šä¸ªèŠ‚ç‚¹ç»„æˆã€‚<br>æ¯ä¸ªèŠ‚ç‚¹éƒ½ä¸é‚»è¿‘èŠ‚ç‚¹ç›¸è¿ï¼Œå¦‚æœè¡¨ç¤ºç±»ä¼¼äºâ€œä½ â†’Bobâ€è¿™æ ·çš„å…³ç³»å‘¢ï¼Ÿå¥½åœ¨ä½ çŸ¥é“çš„ä¸€ç§ç»“æ„è®©ä½ èƒ½å¤Ÿè¡¨ç¤ºè¿™ç§å…³ç³»ï¼Œå®ƒå°±æ˜¯æ•£åˆ—è¡¨ï¼<br>è®°ä½ï¼Œæ•£åˆ—è¡¨è®©ä½ èƒ½å¤Ÿå°†é”®æ˜ å°„åˆ°å€¼ã€‚åœ¨è¿™é‡Œï¼Œä½ è¦å°†èŠ‚ç‚¹æ˜ å°„åˆ°å…¶æ‰€æœ‰é‚»å±…ã€‚</p><p>å›¾ä¸è¿‡æ˜¯ä¸€ç³»åˆ—çš„èŠ‚ç‚¹å’Œè¾¹ï¼Œå› æ­¤åœ¨JAVAä¸­ï¼Œä½ å¯ä»¥ä½¿ç”¨HashMapæ¥è¡¨ç¤ºä¸€ä¸ªå›¾ã€‚</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.HashMap;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"><span class="keyword">import</span> java.util.concurrent.LinkedBlockingQueue;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">BFS</span> </span>{</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>{</span><br><span class="line">        HashMap&lt;String,String[]&gt; hashMap=<span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">        hashMap.put(<span class="string">"YOU"</span>,<span class="keyword">new</span> String[]{<span class="string">"CLAIRE"</span>,<span class="string">"ALICE"</span>,<span class="string">"BOB"</span>});</span><br><span class="line">        hashMap.put(<span class="string">"CLAIRE"</span>,<span class="keyword">new</span> String[]{<span class="string">"YOU"</span>,<span class="string">"JONNY"</span>,<span class="string">"THON"</span>});</span><br><span class="line">        hashMap.put(<span class="string">"JONNY"</span>,<span class="keyword">new</span> String[]{<span class="string">"CLAIRE"</span>});</span><br><span class="line">        hashMap.put(<span class="string">"THOH"</span>,<span class="keyword">new</span> String[]{<span class="string">"CLAIRE"</span>});</span><br><span class="line">        hashMap.put(<span class="string">"ALICE"</span>,<span class="keyword">new</span> String[]{<span class="string">"YOU"</span>,<span class="string">"PEGGY"</span>});</span><br><span class="line">        hashMap.put(<span class="string">"BOB"</span>,<span class="keyword">new</span> String[]{<span class="string">"YOU"</span>,<span class="string">"PEGGY"</span>,<span class="string">"ANUJ"</span>});</span><br><span class="line">        hashMap.put(<span class="string">"PEGGY"</span>,<span class="keyword">new</span> String[]{<span class="string">"BOB"</span>,<span class="string">"ALICE"</span>});</span><br><span class="line">        hashMap.put(<span class="string">"ANUJ"</span>,<span class="keyword">new</span> String[]{<span class="string">"BOB"</span>});</span><br><span class="line">        Node target = findTarget(<span class="string">"YOU"</span>,<span class="string">"ANUJ"</span>,hashMap);</span><br><span class="line">        <span class="comment">//æ‰“å°å‡ºæœ€çŸ­è·¯å¾„çš„å„ä¸ªèŠ‚ç‚¹ä¿¡æ¯</span></span><br><span class="line">        printSearPath(target);</span><br><span class="line">    }</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æ‰“å°å‡ºåˆ°è¾¾èŠ‚ç‚¹targetæ‰€ç»è¿‡çš„å„ä¸ªèŠ‚ç‚¹ä¿¡æ¯</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> target</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">printSearPath</span><span class="params">(Node target)</span> </span>{</span><br><span class="line">        <span class="keyword">if</span> (target != <span class="keyword">null</span>) {</span><br><span class="line">            System.out.print(<span class="string">"æ‰¾åˆ°äº†ç›®æ ‡èŠ‚ç‚¹:"</span> + target.id + <span class="string">"\n"</span>);</span><br><span class="line">            List&lt;Node&gt; searchPath = <span class="keyword">new</span> ArrayList&lt;Node&gt;();</span><br><span class="line">            searchPath.add(target);</span><br><span class="line">            Node node = target.parent;</span><br><span class="line">            <span class="keyword">while</span>(node!=<span class="keyword">null</span>) {</span><br><span class="line">                searchPath.add(node);</span><br><span class="line">                node = node.parent;</span><br><span class="line">            }</span><br><span class="line">            String path = <span class="string">""</span>;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> i=searchPath.size()-<span class="number">1</span>;i&gt;=<span class="number">0</span>;i--) {</span><br><span class="line">                path += searchPath.get(i).id;</span><br><span class="line">                <span class="keyword">if</span>(i!=<span class="number">0</span>) {</span><br><span class="line">                    path += <span class="string">"--&gt;"</span>;</span><br><span class="line">                }</span><br><span class="line">            }</span><br><span class="line">            System.out.print(<span class="string">"æ­¥æ•°æœ€çŸ­ï¼š"</span>+path);</span><br><span class="line">        } <span class="keyword">else</span> {</span><br><span class="line">            System.out.print(<span class="string">"æœªæ‰¾åˆ°äº†ç›®æ ‡èŠ‚ç‚¹"</span>);</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">    <span class="function"><span class="keyword">static</span> Node <span class="title">findTarget</span><span class="params">(String startId,String targetId,HashMap&lt;String,String[]&gt; map)</span> </span>{</span><br><span class="line">        List&lt;String&gt; hasSearchList = <span class="keyword">new</span> ArrayList&lt;String&gt;();</span><br><span class="line">        LinkedBlockingQueue&lt;Node&gt; queue=<span class="keyword">new</span> LinkedBlockingQueue&lt;&gt;();</span><br><span class="line">        queue.offer(<span class="keyword">new</span> Node(startId,<span class="keyword">null</span>));</span><br><span class="line">        <span class="keyword">while</span>(!queue.isEmpty()) {</span><br><span class="line">            Node node = queue.poll();</span><br><span class="line">            <span class="keyword">if</span>(hasSearchList.contains(node.id)) {</span><br><span class="line">                <span class="keyword">continue</span>;</span><br><span class="line">            }</span><br><span class="line">            System.out.print(<span class="string">"åˆ¤æ–­èŠ‚ç‚¹:"</span> + node.id +<span class="string">"\n"</span>);</span><br><span class="line">            <span class="keyword">if</span> (targetId.equals(node.id)) {</span><br><span class="line">                <span class="keyword">return</span> node;</span><br><span class="line">            }</span><br><span class="line"></span><br><span class="line">            hasSearchList.add(node.id);</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> (map.get(node.id) != <span class="keyword">null</span> &amp;&amp; map.get(node.id).length &gt; <span class="number">0</span>) {</span><br><span class="line"></span><br><span class="line">                <span class="keyword">for</span> (String childId : map.get(node.id)) {</span><br><span class="line">                    queue.offer(<span class="keyword">new</span> Node(childId,node));</span><br><span class="line">                }</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">Node</span></span>{</span><br><span class="line">        <span class="keyword">public</span> String id;</span><br><span class="line">        <span class="keyword">public</span> Node parent;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="title">Node</span><span class="params">(String id,Node parent)</span> </span>{</span><br><span class="line"></span><br><span class="line">            <span class="keyword">this</span>.id = id;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">this</span>.parent = parent;</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h2 id=""><a href="#" class="headerlink" title=""></a></h2>]]></content>
      
      
      <categories>
          
          <category> æ•°æ®ç»“æ„ä¸ç®—æ³• </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ç®—æ³• </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ•°æ®åº“åŸç†</title>
      <link href="2021/01/12/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%8E%9F%E7%90%86/"/>
      <url>2021/01/12/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%8E%9F%E7%90%86/</url>
      
        <content type="html"><![CDATA[<p><strong>æ•°æ®åº“æ¦‚å¿µ</strong></p><p>æ•°æ®åº“(Database,ç®€ç§°DB)æ˜¯é•¿æœŸå‚¨å­˜åœ¨è®¡ç®—æœºå†…ã€æœ‰ç»„ç»‡çš„ã€å¯å…±äº«çš„å¤§é‡æ•°æ®çš„é›†åˆã€‚</p><ol><li>æ•°æ®åº“ç³»ç»Ÿçš„ç‰¹ç‚¹</li></ol><ul><li>æ•°æ®ç»“æ„åŒ–</li><li>æ•°æ®çš„å…±äº«æ€§é«˜ï¼Œå†—ä½™åº¦ä½ï¼Œæ˜“æ‰©å……</li><li>æ•°æ®ç‹¬ç«‹æ€§é«˜</li><li>æ•°æ®ç”±DBMSç»Ÿä¸€ç®¡ç†å’Œæ§åˆ¶</li></ul><ol><li>ä¸¤å¤§ç±»æ•°æ®æ¨¡å‹</li></ol><ul><li>æ¦‚å¿µæ¨¡å‹ä¹Ÿç§°ä¿¡æ¯æ¨¡å‹ï¼Œå®ƒæ˜¯æŒ‰ç”¨æˆ·çš„è§‚ç‚¹æ¥å¯¹æ•°æ®å’Œä¿¡æ¯å»ºæ¨¡ï¼Œç”¨äºæ•°æ®åº“è®¾è®¡ã€‚</li><li>é€»è¾‘æ¨¡å‹å’Œç‰©ç†æ¨¡å‹ï¼Œé€»è¾‘æ¨¡å‹ä¸»è¦åŒ…æ‹¬ç½‘çŠ¶æ¨¡å‹ã€å±‚æ¬¡æ¨¡å‹ã€å…³ç³»æ¨¡å‹ã€é¢å‘å¯¹è±¡æ¨¡å‹ç­‰ï¼ŒæŒ‰è®¡ç®—æœºç³»ç»Ÿçš„è§‚ç‚¹å¯¹æ•°æ®å»ºæ¨¡ï¼Œç”¨äºDBMSå®ç°ã€‚ç‰©ç†æ¨¡å‹æ˜¯å¯¹æ•°æ®æœ€åº•å±‚çš„æŠ½è±¡ï¼Œæè¿°æ•°æ®åœ¨ç³»ç»Ÿå†…éƒ¨çš„è¡¨ç¤ºæ–¹å¼å’Œå­˜å–æ–¹æ³•ï¼Œåœ¨ç£ç›˜æˆ–ç£å¸¦ä¸Šçš„å­˜å‚¨æ–¹å¼å’Œå­˜å–æ–¹æ³•ã€‚</li></ul><ol><li>å…³ç³»æ•°æ®åº“</li></ol><ul><li>å…³ç³»æ•°æ®åº“ç³»ç»Ÿé‡‡ç”¨å…³ç³»æ¨¡å‹ä½œä¸ºæ•°æ®çš„ç»„ç»‡æ–¹å¼ï¼Œåœ¨ç”¨æˆ·è§‚ç‚¹ä¸‹ï¼Œå…³ç³»æ¨¡å‹ä¸­æ•°æ®çš„é€»è¾‘ç»“æ„æ˜¯ä¸€å¼ äºŒç»´è¡¨ï¼Œå®ƒç”±è¡Œå’Œåˆ—ç»„æˆã€‚å…³ç³»çš„æ¯ä¸€ä¸ªåˆ†é‡å¿…é¡»æ˜¯ä¸€ä¸ªä¸å¯åˆ†çš„æ•°æ®é¡¹, ä¸å…è®¸è¡¨ä¸­è¿˜æœ‰è¡¨ã€‚</li></ul><ol><li>æ•°æ®åº“ç³»ç»Ÿçš„ä¸‰çº§æ¨¡å¼ç»“æ„</li></ol><ul><li>æ¨¡å¼ï¼ˆSchemaï¼‰</li><li>å¤–æ¨¡å¼ï¼ˆExternal Schemaï¼‰</li><li>å†…æ¨¡å¼ï¼ˆInternal Schemaï¼‰</li></ul><ol><li>å…³ç³»æ¨¡å¼</li></ol><ul><li><p>å…³ç³»æ¨¡å¼å¯ä»¥å½¢å¼åŒ–åœ°è¡¨ç¤ºä¸ºï¼š</p><p><strong>Rï¼ˆUï¼ŒDï¼ŒDOMï¼ŒFï¼‰</strong></p><p><strong>R å…³ç³»å</strong></p><p><strong>U ç»„æˆè¯¥å…³ç³»çš„å±æ€§åé›†åˆ</strong></p><p><strong>D å±æ€§ç»„Uä¸­å±æ€§æ‰€æ¥è‡ªçš„åŸŸ</strong></p><p><strong>DOM å±æ€§å‘åŸŸçš„æ˜ è±¡é›†åˆ</strong></p><p><strong>F å±æ€§é—´çš„æ•°æ®ä¾èµ–å…³ç³»é›†åˆ</strong></p></li></ul><ol><li>å®ä½“å®Œæ•´æ€§è§„åˆ™ï¼ˆEntity Integrityï¼‰</li></ol><ul><li>è‹¥å±æ€§Aæ˜¯åŸºæœ¬å…³ç³»Rçš„ä¸»å±æ€§ï¼Œåˆ™å±æ€§Aä¸èƒ½å–ç©ºå€¼;å…³ç³»æ¨¡å‹ä¸­ä»¥ä¸»ç ä½œä¸ºå”¯ä¸€æ€§æ ‡è¯†ã€‚</li></ul><ol><li>å‚ç…§å®Œæ•´æ€§è§„åˆ™</li></ol><ul><li>è‹¥å±æ€§ï¼ˆæˆ–å±æ€§ç»„ï¼‰Fæ˜¯åŸºæœ¬å…³ç³»Rçš„å¤–ç å®ƒä¸åŸºæœ¬å…³ç³»Sçš„ä¸»ç Ksç›¸å¯¹åº”ï¼ˆåŸºæœ¬å…³ç³»Rå’ŒSä¸ä¸€å®šæ˜¯ä¸åŒçš„å…³ç³»ï¼‰ï¼Œåˆ™å¯¹äºRä¸­æ¯ä¸ªå…ƒç»„åœ¨Fä¸Šçš„å€¼å¿…é¡»ä¸ºï¼š<ul><li>æˆ–è€…å–ç©ºå€¼ï¼ˆFçš„æ¯ä¸ªå±æ€§å€¼å‡ä¸ºç©ºå€¼ï¼‰</li><li>æˆ–è€…ç­‰äºSä¸­æŸä¸ªå…ƒç»„çš„ä¸»ç å€¼</li></ul></li></ul><ol><li>å…³ç³»ä»£æ•°è¿ç®—ç¬¦</li></ol><p><img src="https://images.cnblogs.com/cnblogs_com/luowei010101/201110/20111021230252369.png" alt="img"><img src="https://images.cnblogs.com/cnblogs_com/luowei010101/201110/201110212302525419.png" alt="img"></p><p><strong>å…³ç³»æ•°æ®åº“æ ‡å‡†è¯­è¨€SQL</strong></p><p>SQLï¼ˆStructured Query Languageï¼‰ç»“æ„åŒ–æŸ¥è¯¢è¯­è¨€ï¼Œæ˜¯å…³ç³»æ•°æ®åº“çš„æ ‡å‡†è¯­è¨€ã€‚é›†æ•°æ®å®šä¹‰è¯­è¨€ï¼ˆDDLï¼‰ï¼Œæ•°æ®æ“çºµè¯­è¨€ï¼ˆDMLï¼‰ï¼Œæ•°æ®æ§åˆ¶è¯­è¨€ï¼ˆDCLï¼‰åŠŸèƒ½äºä¸€ä½“ã€‚å¯ä»¥ç‹¬ç«‹å®Œæˆæ•°æ®åº“ç”Ÿå‘½å‘¨æœŸä¸­çš„å…¨éƒ¨æ´»åŠ¨ï¼š</p><ul><li>å®šä¹‰å…³ç³»æ¨¡å¼ï¼Œæ’å…¥æ•°æ®ï¼Œå»ºç«‹æ•°æ®åº“ï¼›</li><li>å¯¹æ•°æ®åº“ä¸­çš„æ•°æ®è¿›è¡ŒæŸ¥è¯¢å’Œæ›´æ–°ï¼›</li><li>æ•°æ®åº“é‡æ„å’Œç»´æŠ¤</li><li>æ•°æ®åº“å®‰å…¨æ€§ã€å®Œæ•´æ€§æ§åˆ¶ç­‰</li></ul><ol><li>èƒ½å®Œæˆæ ¸å¿ƒåŠŸèƒ½9ä¸ªåŠ¨è¯</li></ol><p><img src="https://images.cnblogs.com/cnblogs_com/luowei010101/201110/201110212302534580.png" alt="img"></p><ol><li>SQLçš„åŸºæœ¬æ¦‚å¿µ</li></ol><p><img src="https://images.cnblogs.com/cnblogs_com/luowei010101/201110/20111021230253185.png" alt="img"></p><ol><li>æ•°æ®å®šä¹‰</li></ol><p><img src="https://images.cnblogs.com/cnblogs_com/luowei010101/201110/201110212302531614.png" alt="img"></p><ul><li><p>å®šä¹‰æ¨¡å¼</p><ul><li><p>å®šä¹‰æ¨¡å¼å®é™…ä¸Šå®šä¹‰äº†ä¸€ä¸ªå‘½åç©ºé—´</p></li><li><p>åœ¨è¿™ä¸ªç©ºé—´ä¸­å¯ä»¥å®šä¹‰è¯¥æ¨¡å¼åŒ…å«çš„æ•°æ®åº“å¯¹è±¡ï¼Œä¾‹å¦‚åŸºæœ¬è¡¨ã€è§†å›¾ã€ç´¢å¼•ç­‰ã€‚</p></li><li><p>åœ¨CREATE SCHEMAä¸­å¯ä»¥æ¥å—CREATE TABLEï¼ŒCREATE VIEWå’ŒGRANTå­å¥ã€‚</p><p><strong>CREATE SCHEMA &lt;æ¨¡å¼å&gt; AUTHORIZATION &lt;ç”¨æˆ·å&gt;[&lt;è¡¨å®šä¹‰å­å¥&gt;|&lt;è§†å›¾å®šä¹‰å­å¥&gt;|&lt;æˆæƒå®šä¹‰å­å¥&gt;]</strong></p></li></ul></li><li><p>åˆ é™¤æ¨¡å¼</p><p>**DROP SCHEMA &lt;æ¨¡å¼å&gt; **</p><ul><li>CASCADE(çº§è”)</li></ul><p>åˆ é™¤æ¨¡å¼çš„åŒæ—¶æŠŠè¯¥æ¨¡å¼ä¸­æ‰€æœ‰çš„æ•°æ®åº“å¯¹è±¡å…¨éƒ¨åˆ é™¤</p><ul><li>RESTRICT(é™åˆ¶)</li></ul><p>å¦‚æœè¯¥æ¨¡å¼ä¸­å®šä¹‰äº†ä¸‹å±çš„æ•°æ®åº“å¯¹è±¡ï¼ˆå¦‚è¡¨ã€è§†å›¾ç­‰ï¼‰ï¼Œåˆ™æ‹’ç»è¯¥åˆ é™¤è¯­å¥çš„æ‰§è¡Œã€‚å½“è¯¥æ¨¡å¼ä¸­æ²¡æœ‰ä»»ä½•ä¸‹å±çš„å¯¹è±¡æ—¶ æ‰èƒ½æ‰§è¡Œã€‚</p></li><li><p>å®šä¹‰åŸºæœ¬è¡¨</p><p><strong>CREATE TABLE &lt;è¡¨å&gt;</strong></p><p><strong>ï¼ˆ&lt;åˆ—å&gt; &lt;æ•°æ®ç±»å‹&gt;[ &lt;åˆ—çº§å®Œæ•´æ€§çº¦æŸæ¡ä»¶&gt; ]</strong></p><p><strong>[ï¼Œ&lt;åˆ—å&gt; &lt;æ•°æ®ç±»å‹&gt;[ &lt;åˆ—çº§å®Œæ•´æ€§çº¦æŸæ¡ä»¶&gt;] ] â€¦</strong></p><p><strong>[ï¼Œ&lt;è¡¨çº§å®Œæ•´æ€§çº¦æŸæ¡ä»¶&gt; ] ï¼‰ï¼›</strong></p><p>å¦‚æœå®Œæ•´æ€§çº¦æŸæ¡ä»¶æ¶‰åŠåˆ°è¯¥è¡¨çš„å¤šä¸ªå±æ€§åˆ—ï¼Œåˆ™å¿…é¡»å®šä¹‰åœ¨è¡¨çº§ä¸Šï¼Œå¦åˆ™æ—¢å¯ä»¥å®šä¹‰åœ¨åˆ—çº§ä¹Ÿå¯ä»¥å®šä¹‰åœ¨è¡¨çº§ã€‚</p></li><li><p>æ•°æ®ç±»å‹</p><p><img src="https://images.cnblogs.com/cnblogs_com/luowei010101/201110/201110212302541124.png" alt="img"></p></li><li><p>æ¨¡å¼ä¸è¡¨</p><ul><li><p>æ¯ä¸€ä¸ªåŸºæœ¬è¡¨éƒ½å±äºæŸä¸€ä¸ªæ¨¡å¼</p></li><li><p>ä¸€ä¸ªæ¨¡å¼åŒ…å«å¤šä¸ªåŸºæœ¬è¡¨</p></li><li><p>å®šä¹‰åŸºæœ¬è¡¨æ‰€å±æ¨¡å¼</p></li><li><p>æ–¹æ³•ä¸€ï¼šåœ¨è¡¨åä¸­æ˜æ˜¾åœ°ç»™å‡ºæ¨¡å¼å</p><p><strong>Create table â€œS-Tâ€.Studentï¼ˆâ€¦â€¦ï¼‰; /*æ¨¡å¼åä¸º S-T*/</strong></p><p><strong>Create table â€œS-Tâ€.Courceï¼ˆâ€¦â€¦ï¼‰;</strong></p><p><strong>Create table â€œS-Tâ€.SCï¼ˆâ€¦â€¦ï¼‰;</strong></p></li><li><p>æ–¹æ³•äºŒï¼šåœ¨åˆ›å»ºæ¨¡å¼è¯­å¥ä¸­åŒæ—¶åˆ›å»ºè¡¨</p></li><li><p>æ–¹æ³•ä¸‰ï¼šè®¾ç½®æ‰€å±çš„æ¨¡å¼</p></li></ul></li><li><p>ä¿®æ”¹åŸºæœ¬è¡¨</p><p><strong>ALTER TABLE &lt;è¡¨å&gt;</strong></p><p><strong>[ ADD &lt;æ–°åˆ—å&gt; &lt;æ•°æ®ç±»å‹&gt; [ å®Œæ•´æ€§çº¦æŸ ] ]</strong></p><p><strong>[ DROP &lt;å®Œæ•´æ€§çº¦æŸå&gt; ]</strong></p><p><strong>[ ALTER COLUMN&lt;åˆ—å&gt; &lt;æ•°æ®ç±»å‹&gt; ]ï¼›</strong></p></li><li><p>åˆ é™¤åŸºæœ¬è¡¨</p><p><strong>DROP TABLE &lt;è¡¨å&gt;ï¼»RESTRICT| CASCADEï¼½ï¼›</strong></p><ul><li>RESTRICTï¼šåˆ é™¤è¡¨æ˜¯æœ‰é™åˆ¶çš„ã€‚<ul><li>æ¬²åˆ é™¤çš„åŸºæœ¬è¡¨ä¸èƒ½è¢«å…¶ä»–è¡¨çš„çº¦æŸæ‰€å¼•ç”¨</li><li>å¦‚æœå­˜åœ¨ä¾èµ–è¯¥è¡¨çš„å¯¹è±¡ï¼Œåˆ™æ­¤è¡¨ä¸èƒ½è¢«åˆ é™¤</li></ul></li><li>CASCADEï¼šåˆ é™¤è¯¥è¡¨æ²¡æœ‰é™åˆ¶ã€‚<ul><li>åœ¨åˆ é™¤åŸºæœ¬è¡¨çš„åŒæ—¶ï¼Œç›¸å…³çš„ä¾èµ–å¯¹è±¡ä¸€èµ·åˆ é™¤</li></ul></li></ul></li><li><p>ç´¢ å¼•</p><ul><li>RDBMSä¸­ç´¢å¼•ä¸€èˆ¬é‡‡ç”¨B+æ ‘ã€HASHç´¢å¼•æ¥å®ç°<ul><li>B+æ ‘ç´¢å¼•å…·æœ‰åŠ¨æ€å¹³è¡¡çš„ä¼˜ç‚¹</li><li>HASHç´¢å¼•å…·æœ‰æŸ¥æ‰¾é€Ÿåº¦å¿«çš„ç‰¹ç‚¹</li></ul></li><li>é‡‡ç”¨B+æ ‘ï¼Œè¿˜æ˜¯HASHç´¢å¼• åˆ™ç”±å…·ä½“çš„RDBMSæ¥å†³å®š</li><li>ç´¢å¼•æ˜¯å…³ç³»æ•°æ®åº“çš„å†…éƒ¨å®ç°æŠ€æœ¯ï¼Œå±äºå†…æ¨¡å¼çš„èŒƒç•´</li><li>CREATE INDEXè¯­å¥å®šä¹‰ç´¢å¼•æ—¶ï¼Œå¯ä»¥å®šä¹‰ç´¢å¼•æ˜¯å”¯ä¸€ç´¢å¼•ã€éå”¯ä¸€ç´¢å¼•æˆ–èšç°‡ç´¢å¼•</li></ul></li><li><p>å»ºç«‹ç´¢å¼•</p><ul><li><p>è¯­å¥æ ¼å¼</p><p><strong>CREATE [UNIQUE] [CLUSTER] INDEX &lt;ç´¢å¼•å&gt;</strong></p><p><strong>ON &lt;è¡¨å&gt;(&lt;åˆ—å&gt;[&lt;æ¬¡åº&gt;][,&lt;åˆ—å&gt;[&lt;æ¬¡åº&gt;] ]â€¦)ï¼›</strong></p><ul><li>åœ¨æœ€ç»å¸¸æŸ¥è¯¢çš„åˆ—ä¸Šå»ºç«‹èšç°‡ç´¢å¼•ä»¥æé«˜æŸ¥è¯¢æ•ˆç‡</li><li>ä¸€ä¸ªåŸºæœ¬è¡¨ä¸Šæœ€å¤šåªèƒ½å»ºç«‹ä¸€ä¸ªèšç°‡ç´¢å¼•</li><li>ç»å¸¸æ›´æ–°çš„åˆ—ä¸å®œå»ºç«‹èšç°‡ç´¢å¼•</li></ul></li></ul></li><li><p>åˆ é™¤ç´¢å¼•</p><p><strong>DROP INDEX &lt;ç´¢å¼•å&gt;ï¼›</strong></p></li></ul><ol><li>æ•°æ®æŸ¥è¯¢</li></ol><ul><li><p>è¯­å¥æ ¼å¼</p><p><strong>SELECT [ALL|DISTINCT] &lt;ç›®æ ‡åˆ—è¡¨è¾¾å¼&gt;[ï¼Œ&lt;ç›®æ ‡åˆ—è¡¨è¾¾å¼&gt;] â€¦</strong></p><p><strong>FROM &lt;è¡¨åæˆ–è§†å›¾å&gt;[ï¼Œ &lt;è¡¨åæˆ–è§†å›¾å&gt; ] â€¦</strong></p><p><strong>[ WHERE &lt;æ¡ä»¶è¡¨è¾¾å¼&gt; ]</strong></p><p><strong>[ GROUP BY &lt;åˆ—å1&gt; [ HAVING &lt;æ¡ä»¶è¡¨è¾¾å¼&gt; ] ]</strong></p><p><strong>[ ORDER BY &lt;åˆ—å2&gt; [ ASC|DESC ] ]ï¼›</strong></p></li><li><p>å•è¡¨æŸ¥è¯¢</p><ul><li>é€‰æ‹©è¡¨ä¸­çš„è‹¥å¹²åˆ—</li><li>é€‰æ‹©è¡¨ä¸­çš„è‹¥å¹²å…ƒç»„</li><li>ORDER BYå­å¥<ul><li>å¯ä»¥æŒ‰ä¸€ä¸ªæˆ–å¤šä¸ªå±æ€§åˆ—æ’åº</li><li>å‡åºï¼šASCï¼›é™åºï¼šDESCï¼›ç¼ºçœå€¼ä¸ºå‡åº</li><li>å½“æ’åºåˆ—å«ç©ºå€¼æ—¶</li><li>ASCï¼šæ’åºåˆ—ä¸ºç©ºå€¼çš„å…ƒç»„æœ€åæ˜¾ç¤º</li><li>DESCï¼šæ’åºåˆ—ä¸ºç©ºå€¼çš„å…ƒç»„æœ€å…ˆæ˜¾ç¤º</li></ul></li><li>èšé›†å‡½æ•°<ul><li>è®¡æ•°</li><li>COUNTï¼ˆ[DISTINCT|ALL] *ï¼‰</li><li>COUNTï¼ˆ[DISTINCT|ALL] &lt;åˆ—å&gt;ï¼‰</li><li>è®¡ç®—æ€»å’Œ</li><li>SUMï¼ˆ[DISTINCT|ALL] &lt;åˆ—å&gt;ï¼‰  </li><li>è®¡ç®—å¹³å‡å€¼</li><li>AVGï¼ˆ[DISTINCT|ALL] &lt;åˆ—å&gt;ï¼‰</li><li>æœ€å¤§æœ€å°å€¼</li><li>MAXï¼ˆ[DISTINCT|ALL] &lt;åˆ—å&gt;ï¼‰</li><li>MINï¼ˆ[DISTINCT|ALL] &lt;åˆ—å&gt;ï¼‰</li></ul></li><li>GROUP BYå­å¥</li></ul></li><li><p>æŸ¥è¯¢çš„ä¸€èˆ¬è§„å¾‹ï¼šå…ˆä¾æ®æ¡ä»¶æŸ¥è¯¢å¾—åˆ°ç»“æœé›†ï¼Œå†å°†åˆ†ç»„åçš„ç»“æœé›†ç­›é€‰å¹¶æ’åºã€‚</p></li><li><p>HAVINGçŸ­è¯­ä¸WHEREå­å¥çš„åŒºåˆ«ï¼š</p><ul><li>ä½œç”¨å¯¹è±¡ä¸åŒ</li><li>WHEREå­å¥ä½œç”¨äºåŸºè¡¨æˆ–è§†å›¾ï¼Œä»ä¸­é€‰æ‹©æ»¡è¶³æ¡ä»¶çš„å…ƒç»„</li><li>HAVINGçŸ­è¯­ä½œç”¨äºç»„ï¼Œä»ä¸­é€‰æ‹©æ»¡è¶³æ¡ä»¶çš„ç»„ã€‚</li></ul></li><li><p>å¸¸ç”¨çš„æŸ¥è¯¢æ¡ä»¶</p></li></ul><p>æŸ¥ è¯¢ æ¡ ä»¶</p><p>è°“ è¯</p><p>æ¯” è¾ƒ</p><p>=ï¼Œ&gt;ï¼Œ&lt;ï¼Œ&gt;=ï¼Œ&lt;=ï¼Œ!=ï¼Œ&lt;&gt;ï¼Œ!&gt;ï¼Œ!&lt;ï¼›NOT+ä¸Šè¿°æ¯”è¾ƒè¿ç®—ç¬¦</p><p>ç¡®å®šèŒƒå›´</p><p>BETWEEN ANDï¼ŒNOT BETWEEN AND</p><p>ç¡®å®šé›†åˆ</p><p>INï¼ŒNOT IN</p><p>å­—ç¬¦åŒ¹é…</p><p>LIKEï¼ŒNOT LIKE</p><p>ç©º å€¼</p><p>IS NULLï¼ŒIS NOT NULL</p><p>å¤šé‡æ¡ä»¶ï¼ˆé€»è¾‘è¿ç®—ï¼‰</p><p>ANDï¼ŒORï¼ŒNOT</p><ul><li><p>ESCAPE â€˜ï¼¼â€™ è¡¨ç¤ºâ€ ï¼¼â€ ä¸ºæ¢ç å­—ç¬¦</p></li><li><p>è¿æ¥æŸ¥è¯¢</p><ul><li>ç­‰å€¼ä¸éç­‰å€¼è¿æ¥æŸ¥è¯¢</li><li>è‡ªèº«è¿æ¥<ul><li>ä¸€ä¸ªè¡¨ä¸å…¶è‡ªå·±è¿›è¡Œè¿æ¥<ul><li>éœ€è¦ç»™è¡¨èµ·åˆ«åä»¥ç¤ºåŒºåˆ«</li><li>ç”±äºæ‰€æœ‰å±æ€§åéƒ½æ˜¯åŒåå±æ€§ï¼Œå› æ­¤å¿…é¡»ä½¿ç”¨åˆ«åå‰ç¼€</li></ul></li></ul></li><li>å¤–è¿æ¥<ul><li>å¤–è¿æ¥ä¸æ™®é€šè¿æ¥çš„åŒºåˆ«<ul><li>æ™®é€šè¿æ¥æ“ä½œåªè¾“å‡ºæ»¡è¶³è¿æ¥æ¡ä»¶çš„å…ƒç»„</li><li>å¤–è¿æ¥æ“ä½œä»¥æŒ‡å®šè¡¨ä¸ºè¿æ¥ä¸»ä½“ï¼Œå°†ä¸»ä½“è¡¨ä¸­ä¸æ»¡è¶³è¿æ¥æ¡ä»¶çš„å…ƒç»„ä¸€å¹¶è¾“å‡º</li></ul></li><li>å·¦å¤–è¿æ¥<ul><li>åˆ—å‡ºå·¦è¾¹å…³ç³»ï¼ˆå¦‚æœ¬ä¾‹Studentï¼‰ä¸­æ‰€æœ‰çš„å…ƒç»„</li></ul></li><li>å³å¤–è¿æ¥<ul><li>åˆ—å‡ºå³è¾¹å…³ç³»ä¸­æ‰€æœ‰çš„å…ƒç»„</li></ul></li></ul></li><li>å¤åˆæ¡ä»¶è¿æ¥</li></ul></li><li><p>åµŒå¥—æŸ¥è¯¢</p><p>ä¸€ä¸ªSELECT-FROM-WHEREè¯­å¥ç§°ä¸ºä¸€ä¸ªæŸ¥è¯¢å—</p><p>å°†ä¸€ä¸ªæŸ¥è¯¢å—åµŒå¥—åœ¨å¦ä¸€ä¸ªæŸ¥è¯¢å—çš„WHEREå­å¥æˆ–HAVINGçŸ­è¯­çš„æ¡ä»¶ä¸­çš„æŸ¥è¯¢ç§°ä¸ºåµŒå¥—æŸ¥è¯¢</p><ul><li>å­æŸ¥è¯¢çš„é™åˆ¶<ul><li>ä¸èƒ½ä½¿ç”¨ORDER BYå­å¥<ul><li>å±‚å±‚åµŒå¥—æ–¹å¼åæ˜ äº† SQLè¯­è¨€çš„ç»“æ„åŒ–</li><li>æœ‰äº›åµŒå¥—æŸ¥è¯¢å¯ä»¥ç”¨è¿æ¥è¿ç®—æ›¿ä»£</li></ul></li></ul></li><li>åµŒå¥—æŸ¥è¯¢æ±‚è§£æ–¹æ³•<ul><li>å­æŸ¥è¯¢çš„æŸ¥è¯¢æ¡ä»¶ä¸ä¾èµ–äºçˆ¶æŸ¥è¯¢<ul><li>ç”±é‡Œå‘å¤– é€å±‚å¤„ç†ã€‚å³æ¯ä¸ªå­æŸ¥è¯¢åœ¨ä¸Šä¸€çº§æŸ¥è¯¢å¤„ç†ä¹‹å‰æ±‚è§£ï¼Œå­æŸ¥è¯¢çš„ç»“æœç”¨äºå»ºç«‹å…¶çˆ¶æŸ¥è¯¢çš„æŸ¥æ‰¾æ¡ä»¶ã€‚</li><li>é¦–å…ˆå–å¤–å±‚æŸ¥è¯¢ä¸­è¡¨çš„ç¬¬ä¸€ä¸ªå…ƒç»„ï¼Œæ ¹æ®å®ƒä¸å†…å±‚æŸ¥è¯¢ç›¸å…³çš„å±æ€§å€¼å¤„ç†å†…å±‚æŸ¥è¯¢ï¼Œè‹¥WHEREå­å¥è¿”å›å€¼ä¸ºçœŸï¼Œåˆ™å–æ­¤å…ƒç»„æ”¾å…¥ç»“æœè¡¨</li><li>ç„¶åå†å–å¤–å±‚è¡¨çš„ä¸‹ä¸€ä¸ªå…ƒç»„</li><li>é‡å¤è¿™ä¸€è¿‡ç¨‹ï¼Œç›´è‡³å¤–å±‚è¡¨å…¨éƒ¨æ£€æŸ¥å®Œä¸ºæ­¢</li></ul></li></ul></li><li>å¸¦æœ‰æ¯”è¾ƒè¿ç®—ç¬¦çš„å­æŸ¥è¯¢<ul><li>å½“èƒ½ç¡®åˆ‡çŸ¥é“å†…å±‚æŸ¥è¯¢è¿”å›å•å€¼æ—¶ï¼Œå¯ç”¨æ¯”è¾ƒè¿ç®—ç¬¦ï¼ˆ&gt;ï¼Œ&lt;ï¼Œ=ï¼Œ&gt;=ï¼Œ&lt;=ï¼Œ!=æˆ–&lt; &gt;ï¼‰ã€‚</li><li>ä¸ANYæˆ–ALLè°“è¯é…åˆä½¿ç”¨</li></ul></li><li>å¸¦æœ‰ANYï¼ˆSOMEï¼‰æˆ–ALLè°“è¯çš„å­æŸ¥è¯¢<ul><li>éœ€è¦é…åˆä½¿ç”¨æ¯”è¾ƒè¿ç®—ç¬¦<ul><li>&gt; ANY  å¤§äºå­æŸ¥è¯¢ç»“æœä¸­çš„æŸä¸ªå€¼</li><li>&gt; ALL  å¤§äºå­æŸ¥è¯¢ç»“æœä¸­çš„æ‰€æœ‰å€¼</li><li>&lt; ANY  å°äºå­æŸ¥è¯¢ç»“æœä¸­çš„æŸä¸ªå€¼</li><li>&lt; ALL  å°äºå­æŸ¥è¯¢ç»“æœä¸­çš„æ‰€æœ‰å€¼</li><li>&gt;= ANY  å¤§äºç­‰äºå­æŸ¥è¯¢ç»“æœä¸­çš„æŸä¸ªå€¼</li><li>&gt;= ALL  å¤§äºç­‰äºå­æŸ¥è¯¢ç»“æœä¸­çš„æ‰€æœ‰å€¼</li><li>&lt;= ANY  å°äºç­‰äºå­æŸ¥è¯¢ç»“æœä¸­çš„æŸä¸ªå€¼</li><li>&lt;= ALL  å°äºç­‰äºå­æŸ¥è¯¢ç»“æœä¸­çš„æ‰€æœ‰å€¼</li><li>= ANY  ç­‰äºå­æŸ¥è¯¢ç»“æœä¸­çš„æŸä¸ªå€¼</li><li>=ALL  ç­‰äºå­æŸ¥è¯¢ç»“æœä¸­çš„æ‰€æœ‰å€¼ï¼ˆé€šå¸¸æ²¡æœ‰å®é™…æ„ä¹‰ï¼‰</li><li>!=ï¼ˆæˆ–&lt;&gt;ï¼‰ANY  ä¸ç­‰äºå­æŸ¥è¯¢ç»“æœä¸­çš„æŸä¸ªå€¼</li><li>!=ï¼ˆæˆ–&lt;&gt;ï¼‰ALL  ä¸ç­‰äºå­æŸ¥è¯¢ç»“æœä¸­çš„ä»»ä½•ä¸€ä¸ªå€¼</li></ul></li></ul></li><li>å¸¦æœ‰EXISTSè°“è¯çš„å­æŸ¥è¯¢<ul><li>\1. EXISTSè°“è¯,å­˜åœ¨é‡è¯$</li><li>å¸¦æœ‰EXISTSè°“è¯çš„å­æŸ¥è¯¢ä¸è¿”å›ä»»ä½•æ•°æ®ï¼Œåªäº§ç”Ÿé€»è¾‘çœŸå€¼â€trueâ€æˆ–é€»è¾‘å‡å€¼â€falseâ€ã€‚<ul><li>è‹¥å†…å±‚æŸ¥è¯¢ç»“æœéç©ºï¼Œåˆ™å¤–å±‚çš„WHEREå­å¥è¿”å›çœŸå€¼</li><li>è‹¥å†…å±‚æŸ¥è¯¢ç»“æœä¸ºç©ºï¼Œåˆ™å¤–å±‚çš„WHEREå­å¥è¿”å›å‡å€¼</li></ul></li><li>ç”±EXISTSå¼•å‡ºçš„å­æŸ¥è¯¢ï¼Œå…¶ç›®æ ‡åˆ—è¡¨è¾¾å¼é€šå¸¸éƒ½ç”¨* ï¼Œå› ä¸ºå¸¦EXISTSçš„å­æŸ¥è¯¢åªè¿”å›çœŸå€¼æˆ–å‡å€¼ï¼Œç»™å‡ºåˆ—åæ— å®é™…æ„ä¹‰</li><li>\2. NOT EXISTSè°“è¯<ul><li>è‹¥å†…å±‚æŸ¥è¯¢ç»“æœéç©ºï¼Œåˆ™å¤–å±‚çš„WHEREå­å¥è¿”å›å‡å€¼</li><li>è‹¥å†…å±‚æŸ¥è¯¢ç»“æœä¸ºç©ºï¼Œåˆ™å¤–å±‚çš„WHEREå­å¥è¿”å›çœŸå€¼</li></ul></li></ul></li></ul></li><li><p>é›†åˆæŸ¥è¯¢</p><ul><li>é›†åˆæ“ä½œçš„ç§ç±»<ul><li>å¹¶æ“ä½œUNION</li><li>äº¤æ“ä½œINTERSECT</li><li>å·®æ“ä½œEXCEPT</li></ul></li><li>å‚åŠ é›†åˆæ“ä½œçš„å„æŸ¥è¯¢ç»“æœçš„åˆ—æ•°å¿…é¡»ç›¸åŒï¼›å¯¹åº”é¡¹çš„æ•°æ®ç±»å‹ä¹Ÿå¿…é¡»ç›¸åŒ</li></ul></li><li><p>SELECTè¯­å¥çš„ä¸€èˆ¬æ ¼å¼</p><p><strong>SELECT [ALL|DISTINCT]</strong></p><p><strong>&lt;ç›®æ ‡åˆ—è¡¨è¾¾å¼&gt; [åˆ«å] [ ï¼Œ&lt;ç›®æ ‡åˆ—è¡¨è¾¾å¼&gt; [åˆ«å]] â€¦</strong></p><p><strong>FROM &lt;è¡¨åæˆ–è§†å›¾å&gt; [åˆ«å]</strong></p><p><strong>[ ï¼Œ&lt;è¡¨åæˆ–è§†å›¾å&gt; [åˆ«å]] â€¦</strong></p><p><strong>[WHERE &lt;æ¡ä»¶è¡¨è¾¾å¼&gt;]</strong></p><p><strong>[GROUP BY &lt;åˆ—å1&gt;</strong></p><p><strong>[HAVING &lt;æ¡ä»¶è¡¨è¾¾å¼&gt;]]</strong></p><p><strong>[ORDER BY &lt;åˆ—å2&gt; [ASC|DESC]</strong></p></li></ul><ol><li>æ•°æ®æ›´æ–°</li></ol><ul><li><p>æ’å…¥æ•°æ®</p><ul><li><p>æ’å…¥å…ƒç»„</p><ul><li><p>è¯­å¥æ ¼å¼</p><p><strong>INSERT</strong></p><p><strong>INTO &lt;è¡¨å&gt; [(&lt;å±æ€§åˆ—1&gt;[ï¼Œ&lt;å±æ€§åˆ—2 &gt;â€¦)]</strong></p><p><strong>VALUES (&lt;å¸¸é‡1&gt; [ï¼Œ&lt;å¸¸é‡2&gt;] â€¦ )</strong></p></li></ul></li><li><p>æ’å…¥å­æŸ¥è¯¢ç»“æœ</p><ul><li>è¯­å¥æ ¼å¼</li></ul><p><strong>INSERT</strong></p><p><strong>INTO &lt;è¡¨å&gt; [(&lt;å±æ€§åˆ—1&gt; [ï¼Œ&lt;å±æ€§åˆ—2&gt;â€¦ )]</strong></p><p><strong>å­æŸ¥è¯¢ï¼›</strong></p><ul><li>å­æŸ¥è¯¢</li></ul><p>SELECTå­å¥ç›®æ ‡åˆ—å¿…é¡»ä¸INTOå­å¥åŒ¹é…</p><ul><li>å€¼çš„ä¸ªæ•°</li><li>å€¼çš„ç±»å‹</li></ul></li></ul></li></ul><ol><li>ä¿®æ”¹æ•°æ®</li></ol><ul><li><p>è¯­å¥æ ¼å¼</p><p><strong>UPDATE &lt;è¡¨å&gt;</strong></p><p><strong>SET &lt;åˆ—å&gt;=&lt;è¡¨è¾¾å¼&gt;[ï¼Œ&lt;åˆ—å&gt;=&lt;è¡¨è¾¾å¼&gt;]â€¦</strong></p><p><strong>[WHERE &lt;æ¡ä»¶&gt;]ï¼›</strong></p></li></ul><ol><li>åˆ é™¤æ•°æ®</li></ol><ul><li><p>è¯­å¥æ ¼å¼</p><p><strong>DELETE</strong></p><p><strong>FROM &lt;è¡¨å&gt;</strong></p><p><strong>[WHERE &lt;æ¡ä»¶&gt;]ï¼›</strong></p></li></ul><ol><li>è§† å›¾</li></ol><ul><li><p>è™šè¡¨ï¼Œæ˜¯ä»ä¸€ä¸ªæˆ–å‡ ä¸ªåŸºæœ¬è¡¨ï¼ˆæˆ–è§†å›¾ï¼‰å¯¼å‡ºçš„è¡¨</p></li><li><p>åªå­˜æ”¾è§†å›¾çš„å®šä¹‰ï¼Œä¸å­˜æ”¾è§†å›¾å¯¹åº”çš„æ•°æ®</p></li><li><p>åŸºè¡¨ä¸­çš„æ•°æ®å‘ç”Ÿå˜åŒ–ï¼Œä»è§†å›¾ä¸­æŸ¥è¯¢å‡ºçš„æ•°æ®ä¹Ÿéšä¹‹æ”¹å˜</p></li><li><p>å»ºç«‹è§†å›¾</p><ul><li>è¯­å¥æ ¼å¼</li></ul><p><strong>CREATE VIEW</strong></p><p><strong>&lt;è§†å›¾å&gt; [(&lt;åˆ—å&gt; [ï¼Œ&lt;åˆ—å&gt;]â€¦)]</strong></p><p><strong>AS &lt;å­æŸ¥è¯¢&gt;</strong></p><p><strong>[WITH CHECK OPTION]ï¼›</strong></p></li><li><p>åˆ é™¤è§†å›¾</p><p><strong>DROP VIEW &lt;è§†å›¾å&gt;ï¼›</strong></p></li><li><p>æŸ¥è¯¢è§†å›¾</p><ul><li>ç”¨æˆ·è§’åº¦ï¼šæŸ¥è¯¢è§†å›¾ä¸æŸ¥è¯¢åŸºæœ¬è¡¨ç›¸åŒ</li></ul></li><li><p>è§†å›¾çš„ä½œç”¨</p></li></ul><ol><li>è§†å›¾èƒ½å¤Ÿç®€åŒ–ç”¨æˆ·çš„æ“ä½œ</li><li>è§†å›¾ä½¿ç”¨æˆ·èƒ½ä»¥å¤šç§è§’åº¦çœ‹å¾…åŒä¸€æ•°æ®</li><li>è§†å›¾å¯¹é‡æ„æ•°æ®åº“æä¾›äº†ä¸€å®šç¨‹åº¦çš„é€»è¾‘ç‹¬ç«‹æ€§</li><li>è§†å›¾èƒ½å¤Ÿå¯¹æœºå¯†æ•°æ®æä¾›å®‰å…¨ä¿æŠ¤</li><li>é€‚å½“çš„åˆ©ç”¨è§†å›¾å¯ä»¥æ›´æ¸…æ™°çš„è¡¨è¾¾æŸ¥è¯¢</li></ol><p><strong>æ•°æ®åº“å®‰å…¨æ€§</strong></p><ol><li>æ•°æ®åº“å®‰å…¨æ€§æ§åˆ¶çš„å¸¸ç”¨æ–¹æ³•</li></ol><ul><li>ç”¨æˆ·æ ‡è¯†å’Œé‰´å®š</li><li>å­˜å–æ§åˆ¶</li><li>è§†å›¾</li><li>å®¡è®¡</li><li>å¯†ç å­˜å‚¨</li></ul><ol><li><p>å…³ç³»æ•°æ®åº“ç³»ç»Ÿä¸­å­˜å–æ§åˆ¶å¯¹è±¡</p><p><img src="https://images.cnblogs.com/cnblogs_com/luowei010101/201110/201110212302543665.png" alt="img"></p></li><li><p>æˆæƒä¸å›æ”¶</p></li></ol><ul><li><p>GRANT</p><ul><li>GRANTè¯­å¥çš„ä¸€èˆ¬æ ¼å¼ï¼š</li></ul><p><strong>GRANT &lt;æƒé™&gt;[,&lt;æƒé™&gt;]â€¦</strong></p><p><strong>[ON &lt;å¯¹è±¡ç±»å‹&gt; &lt;å¯¹è±¡å&gt;]</strong></p><p><strong>TO &lt;ç”¨æˆ·&gt;[,&lt;ç”¨æˆ·&gt;]â€¦</strong></p><p><strong>[WITH GRANT OPTION];</strong></p></li><li><p>è¯­ä¹‰ï¼šå°†å¯¹æŒ‡å®šæ“ä½œå¯¹è±¡çš„æŒ‡å®šæ“ä½œæƒé™æˆäºˆæŒ‡å®šçš„ç”¨æˆ·</p></li><li><p>WITH GRANT OPTIONå­å¥</p><ul><li>WITH GRANT OPTIONå­å¥:<ul><li>æŒ‡å®šï¼šå¯ä»¥å†æˆäºˆ</li><li>æ²¡æœ‰æŒ‡å®šï¼šä¸èƒ½ä¼ æ’­</li></ul></li><li>ä¸å…è®¸å¾ªç¯æˆæƒ</li></ul></li><li><p>REVOKE</p><ul><li>æˆäºˆçš„æƒé™å¯ä»¥ç”±DBAæˆ–å…¶ä»–æˆæƒè€…ç”¨REVOKEè¯­å¥æ”¶å›</li><li>REVOKEè¯­å¥çš„ä¸€èˆ¬æ ¼å¼ä¸ºï¼š</li></ul><p><strong>REVOKE &lt;æƒé™&gt;[,&lt;æƒé™&gt;]â€¦</strong></p><p><strong>[ON &lt;å¯¹è±¡ç±»å‹&gt; &lt;å¯¹è±¡å&gt;]</strong></p><p><strong>FROM &lt;ç”¨æˆ·&gt;[,&lt;ç”¨æˆ·&gt;]â€¦;</strong></p></li><li><p>åˆ›å»ºæ•°æ®åº“æ¨¡å¼çš„æƒé™</p><ul><li>DBAåœ¨åˆ›å»ºç”¨æˆ·æ—¶å®ç°</li><li>CREATE USERè¯­å¥æ ¼å¼</li></ul><p>**CREATE USER **</p><p><strong>[WITH][DBA | RESOURCE | CONNECT]</strong></p></li></ul><ol><li>æ•°æ®åº“è§’è‰²</li></ol><ul><li><p>æ•°æ®åº“è§’è‰²ï¼šè¢«å‘½åçš„ä¸€ç»„ä¸æ•°æ®åº“æ“ä½œç›¸å…³çš„æƒé™</p><ul><li>è§’è‰²æ˜¯æƒé™çš„é›†åˆ</li><li>å¯ä»¥ä¸ºä¸€ç»„å…·æœ‰ç›¸åŒæƒé™çš„ç”¨æˆ·åˆ›å»ºä¸€ä¸ªè§’è‰²</li><li>ç®€åŒ–æˆæƒçš„è¿‡ç¨‹</li></ul></li><li><p>è§’è‰²çš„åˆ›å»º</p><p><strong>CREATE ROLE &lt;è§’è‰²å&gt;</strong></p></li><li><p>ç»™è§’è‰²æˆæƒ</p><p><strong>GRANT &lt;æƒé™&gt;ï¼»ï¼Œ&lt;æƒé™&gt;ï¼½â€¦</strong></p><p><strong>ON &lt;å¯¹è±¡ç±»å‹&gt;å¯¹è±¡å</strong></p><p><strong>TO &lt;è§’è‰²&gt;ï¼»ï¼Œ&lt;è§’è‰²&gt;ï¼½â€¦</strong></p></li><li><p>å°†ä¸€ä¸ªè§’è‰²æˆäºˆå…¶ä»–çš„è§’è‰²æˆ–ç”¨æˆ·</p><p><strong>GRANT &lt;è§’è‰²1&gt;ï¼»ï¼Œ&lt;è§’è‰²2&gt;ï¼½â€¦</strong></p><p><strong>TO &lt;è§’è‰²3&gt;ï¼»ï¼Œ&lt;ç”¨æˆ·1&gt;ï¼½â€¦</strong></p><p><strong>ï¼»WITH ADMIN OPTIONï¼½</strong></p></li><li><p>è§’è‰²æƒé™çš„æ”¶å›</p><p><strong>REVOKE &lt;æƒé™&gt;ï¼»ï¼Œ&lt;æƒé™&gt;ï¼½â€¦</strong></p><p><strong>ON &lt;å¯¹è±¡ç±»å‹&gt; &lt;å¯¹è±¡å&gt;</strong></p><p><strong>FROM &lt;è§’è‰²&gt;ï¼»ï¼Œ&lt;è§’è‰²&gt;ï¼½â€¦</strong></p></li></ul><p><strong>æ•°æ®åº“å®Œæ•´æ€§</strong></p><ul><li>æ•°æ®åº“çš„å®Œæ•´æ€§<ul><li>æ•°æ®çš„æ­£ç¡®æ€§å’Œç›¸å®¹æ€§</li></ul></li><li>æ•°æ®çš„å®Œæ•´æ€§å’Œå®‰å…¨æ€§æ˜¯ä¸¤ä¸ªä¸åŒæ¦‚å¿µ<ul><li>æ•°æ®çš„å®Œæ•´æ€§<ul><li>é˜²æ­¢æ•°æ®åº“ä¸­å­˜åœ¨ä¸ç¬¦åˆè¯­ä¹‰çš„æ•°æ®ï¼Œä¹Ÿå°±æ˜¯é˜²æ­¢æ•°æ®åº“ä¸­å­˜åœ¨ä¸æ­£ç¡®çš„æ•°æ®</li><li>é˜²èŒƒå¯¹è±¡ï¼šä¸åˆè¯­ä¹‰çš„ã€ä¸æ­£ç¡®çš„æ•°æ®</li></ul></li><li>æ•°æ®çš„å®‰å…¨æ€§<ul><li>ä¿æŠ¤æ•°æ®åº“é˜²æ­¢æ¶æ„çš„ç ´åå’Œéæ³•çš„å­˜å–</li><li>é˜²èŒƒå¯¹è±¡ï¼šéæ³•ç”¨æˆ·å’Œéæ³•æ“ä½œ</li></ul></li></ul></li><li><strong>å®ä½“å®Œæ•´æ€§</strong><ul><li>å…³ç³»æ¨¡å‹çš„å®ä½“å®Œæ•´æ€§<ul><li>CREATE TABLEä¸­ç”¨PRIMARY KEYå®šä¹‰</li></ul></li><li>å•å±æ€§æ„æˆçš„ç æœ‰ä¸¤ç§è¯´æ˜æ–¹æ³•<ul><li>å®šä¹‰ä¸ºåˆ—çº§çº¦æŸæ¡ä»¶</li><li>å®šä¹‰ä¸ºè¡¨çº§çº¦æŸæ¡ä»¶</li></ul></li><li>å¯¹å¤šä¸ªå±æ€§æ„æˆçš„ç åªæœ‰ä¸€ç§è¯´æ˜æ–¹æ³•<ul><li>å®šä¹‰ä¸ºè¡¨çº§çº¦æŸæ¡ä»¶</li></ul></li><li>æ’å…¥æˆ–å¯¹ä¸»ç åˆ—è¿›è¡Œæ›´æ–°æ“ä½œæ—¶ï¼ŒRDBMSæŒ‰ç…§å®ä½“å®Œæ•´æ€§è§„åˆ™è‡ªåŠ¨è¿›è¡Œæ£€æŸ¥ã€‚åŒ…æ‹¬ï¼š</li></ul></li></ul><ol><li>æ£€æŸ¥ä¸»ç å€¼æ˜¯å¦å”¯ä¸€ï¼Œå¦‚æœä¸å”¯ä¸€åˆ™æ‹’ç»æ’å…¥æˆ–ä¿®æ”¹</li><li>æ£€æŸ¥ä¸»ç çš„å„ä¸ªå±æ€§æ˜¯å¦ä¸ºç©ºï¼Œåªè¦æœ‰ä¸€ä¸ªä¸ºç©ºå°±æ‹’ç»æ’å…¥æˆ–ä¿®æ”¹</li></ol><ul><li><p>æ£€æŸ¥è®°å½•ä¸­ä¸»ç å€¼æ˜¯å¦å”¯ä¸€çš„ä¸€ç§æ–¹æ³•æ˜¯è¿›è¡Œå…¨è¡¨æ‰«æ</p></li><li><p><strong>å‚ç…§å®Œæ•´æ€§</strong></p><ul><li><p>å…³ç³»æ¨¡å‹çš„å‚ç…§å®Œæ•´æ€§å®šä¹‰</p><ul><li><p>åœ¨CREATE TABLEä¸­ç”¨FOREIGN KEYçŸ­è¯­å®šä¹‰å“ªäº›åˆ—ä¸ºå¤–ç </p></li><li><p>ç”¨REFERENCESçŸ­è¯­æŒ‡æ˜è¿™äº›å¤–ç å‚ç…§å“ªäº›è¡¨çš„ä¸»ç </p><p>ä¾‹å¦‚ï¼Œå…³ç³»SCä¸­ä¸€ä¸ªå…ƒç»„è¡¨ç¤ºä¸€ä¸ªå­¦ç”Ÿé€‰ä¿®çš„æŸé—¨è¯¾ç¨‹çš„æˆç»©ï¼Œï¼ˆSnoï¼ŒCnoï¼‰æ˜¯ä¸»ç ã€‚Snoï¼ŒCnoåˆ†åˆ«å‚ç…§å¼•ç”¨Studentè¡¨çš„ä¸»ç å’ŒCourseè¡¨çš„ä¸»ç </p><p>ï¼»ä¾‹3ï¼½ å®šä¹‰SCä¸­çš„å‚ç…§å®Œæ•´æ€§</p><p>CREATE TABLE SC</p><p>(Sno CHAR(9) NOT NULLï¼Œ</p><p>Cno CHAR(4) NOT NULLï¼Œ</p><p>Grade SMALLINTï¼Œ</p><p>PRIMARY KEY (Snoï¼Œ Cno)ï¼Œ /<em>åœ¨è¡¨çº§å®šä¹‰å®ä½“å®Œæ•´æ€§</em>/</p><p>FOREIGN KEY (Sno) REFERENCES Student(Sno)ï¼Œ</p><p>/<em>åœ¨è¡¨çº§å®šä¹‰å‚ç…§å®Œæ•´æ€§</em>/</p><p>FOREIGN KEY (Cno) REFERENCES Course(Cno)</p><p>/<em>åœ¨è¡¨çº§å®šä¹‰å‚ç…§å®Œæ•´æ€§</em>/</p><p>);</p></li></ul></li></ul></li><li><p><strong>ç”¨æˆ·å®šä¹‰çš„å®Œæ•´æ€§</strong></p><ul><li>å±æ€§ä¸Šçš„çº¦æŸæ¡ä»¶çš„å®šä¹‰<ul><li>CREATE TABLEæ—¶å®šä¹‰</li><li>åˆ—å€¼éç©ºï¼ˆNOT NULLï¼‰</li><li>åˆ—å€¼å”¯ä¸€ï¼ˆUNIQUEï¼‰</li><li>æ£€æŸ¥åˆ—å€¼æ˜¯å¦æ»¡è¶³ä¸€ä¸ªå¸ƒå°”è¡¨è¾¾å¼ï¼ˆCHECKï¼‰</li></ul></li><li>å±æ€§ä¸Šçš„çº¦æŸæ¡ä»¶æ£€æŸ¥å’Œè¿çº¦å¤„ç†<ul><li>æ’å…¥å…ƒç»„æˆ–ä¿®æ”¹å±æ€§çš„å€¼æ—¶ï¼ŒRDBMSæ£€æŸ¥å±æ€§ä¸Šçš„çº¦æŸæ¡ä»¶æ˜¯å¦è¢«æ»¡è¶³</li><li>å¦‚æœä¸æ»¡è¶³åˆ™æ“ä½œè¢«æ‹’ç»æ‰§è¡Œ</li></ul></li><li>å…ƒç»„ä¸Šçš„çº¦æŸæ¡ä»¶çš„å®šä¹‰<ul><li>åœ¨CREATE TABLEæ—¶å¯ä»¥ç”¨CHECKçŸ­è¯­å®šä¹‰å…ƒç»„ä¸Šçš„çº¦æŸæ¡ä»¶ï¼Œå³å…ƒç»„çº§çš„é™åˆ¶</li><li>åŒå±æ€§å€¼é™åˆ¶ç›¸æ¯”ï¼Œå…ƒç»„çº§çš„é™åˆ¶å¯ä»¥è®¾ç½®ä¸åŒå±æ€§ä¹‹é—´çš„å–å€¼çš„ç›¸äº’çº¦æŸæ¡ä»¶</li></ul></li><li>å…ƒç»„ä¸Šçš„çº¦æŸæ¡ä»¶æ£€æŸ¥å’Œè¿çº¦å¤„ç†<ul><li>æ’å…¥å…ƒç»„æˆ–ä¿®æ”¹å±æ€§çš„å€¼æ—¶ï¼ŒRDBMSæ£€æŸ¥å…ƒç»„ä¸Šçš„çº¦æŸæ¡ä»¶æ˜¯å¦è¢«æ»¡è¶³</li><li>å¦‚æœä¸æ»¡è¶³åˆ™æ“ä½œè¢«æ‹’ç»æ‰§è¡Œ</li></ul></li></ul></li><li><p><strong>å®Œæ•´æ€§çº¦æŸå‘½åå­å¥</strong></p><ul><li><p>CONSTRAINT çº¦æŸ</p><p><strong>CONSTRAINT &lt;å®Œæ•´æ€§çº¦æŸæ¡ä»¶å&gt;</strong></p><p><strong>ï¼»PRIMARY KEYçŸ­è¯­</strong></p><p><strong>|FOREIGN KEYçŸ­è¯­</strong></p><p><strong>|CHECKçŸ­è¯­ï¼½</strong></p></li><li><p>ä½¿ç”¨ALTER TABLEè¯­å¥ä¿®æ”¹è¡¨ä¸­çš„å®Œæ•´æ€§é™åˆ¶</p></li><li><p>SQLæ”¯æŒåŸŸçš„æ¦‚å¿µï¼Œå¹¶å¯ä»¥ç”¨CREATE DOMAINè¯­å¥å»ºç«‹ä¸€ä¸ªåŸŸä»¥åŠè¯¥åŸŸåº”è¯¥æ»¡è¶³çš„å®Œæ•´æ€§çº¦æŸæ¡ä»¶ã€‚</p></li></ul></li><li><p><strong>è§¦å‘å™¨</strong></p><ul><li><p>å®šä¹‰è§¦å‘å™¨</p><ul><li><p>CREATE TRIGGERè¯­æ³•æ ¼å¼</p><p><strong>CREATE TRIGGER &lt;è§¦å‘å™¨å&gt;</strong></p><p><strong>{BEFORE | AFTER} &lt;è§¦å‘äº‹ä»¶&gt; ON &lt;è¡¨å&gt;</strong></p><p><strong>FOR EACH {ROW | STATEMENT}</strong></p><p><strong>ï¼»WHEN &lt;è§¦å‘æ¡ä»¶&gt;ï¼½</strong></p><p><strong>&lt;è§¦å‘åŠ¨ä½œä½“&gt;</strong></p></li></ul></li><li><p>å®šä¹‰è§¦å‘å™¨çš„è¯­æ³•è¯´æ˜:</p><ul><li>\1. åˆ›å»ºè€…ï¼šè¡¨çš„æ‹¥æœ‰è€…</li><li>\2. è§¦å‘å™¨å</li><li>\3. è¡¨åï¼šè§¦å‘å™¨çš„ç›®æ ‡è¡¨</li><li>\4. è§¦å‘äº‹ä»¶ï¼šINSERTã€DELETEã€UPDATE</li><li>\5. è§¦å‘å™¨ç±»å‹<ul><li>è¡Œçº§è§¦å‘å™¨ï¼ˆFOR EACH ROWï¼‰</li><li>è¯­å¥çº§è§¦å‘å™¨ï¼ˆFOR EACH STATEMENTï¼‰</li></ul></li><li>\6. è§¦å‘æ¡ä»¶<ul><li>è§¦å‘æ¡ä»¶ä¸ºçœŸ</li><li>çœç•¥WHENè§¦å‘æ¡ä»¶</li></ul></li><li>\7. è§¦å‘åŠ¨ä½œä½“<ul><li>è§¦å‘åŠ¨ä½œä½“å¯ä»¥æ˜¯ä¸€ä¸ªåŒ¿åPL/SQLè¿‡ç¨‹å—</li><li>ä¹Ÿå¯ä»¥æ˜¯å¯¹å·²åˆ›å»ºå­˜å‚¨è¿‡ç¨‹çš„è°ƒç”¨</li></ul></li></ul></li><li><p>æ¿€æ´»è§¦å‘å™¨</p><ul><li>è§¦å‘å™¨çš„æ‰§è¡Œï¼Œæ˜¯ç”±è§¦å‘äº‹ä»¶æ¿€æ´»çš„ï¼Œå¹¶ç”±æ•°æ®åº“æœåŠ¡å™¨è‡ªåŠ¨æ‰§è¡Œ</li><li>ä¸€ä¸ªæ•°æ®è¡¨ä¸Šå¯èƒ½å®šä¹‰äº†å¤šä¸ªè§¦å‘å™¨<ul><li>åŒä¸€ä¸ªè¡¨ä¸Šçš„å¤šä¸ªè§¦å‘å™¨æ¿€æ´»æ—¶éµå¾ªå¦‚ä¸‹çš„æ‰§è¡Œé¡ºåºï¼š</li><li>ï¼ˆ1ï¼‰ æ‰§è¡Œè¯¥è¡¨ä¸Šçš„BEFOREè§¦å‘å™¨ï¼›</li><li>ï¼ˆ2ï¼‰ æ¿€æ´»è§¦å‘å™¨çš„SQLè¯­å¥ï¼›</li><li>ï¼ˆ3ï¼‰ æ‰§è¡Œè¯¥è¡¨ä¸Šçš„AFTERè§¦å‘å™¨ã€‚</li></ul></li></ul></li><li><p>åˆ é™¤è§¦å‘å™¨</p><ul><li><p>åˆ é™¤è§¦å‘å™¨çš„SQLè¯­æ³•ï¼š</p><p><strong>DROP TRIGGER &lt;è§¦å‘å™¨å&gt; ON &lt;è¡¨å&gt;;</strong></p></li><li><p>è§¦å‘å™¨å¿…é¡»æ˜¯ä¸€ä¸ªå·²ç»åˆ›å»ºçš„è§¦å‘å™¨ï¼Œå¹¶ä¸”åªèƒ½ç”±å…·æœ‰ç›¸åº”æƒé™çš„ç”¨æˆ·åˆ é™¤ã€‚</p></li></ul></li></ul></li></ul><p><strong>å…³ç³»æ•°æ®ç†è®º</strong></p><ul><li><p><strong>æ•°æ®ä¾èµ–</strong></p><ul><li><p>æ•°æ®ä¾èµ–çš„ç±»å‹</p><ul><li>å‡½æ•°ä¾èµ–ï¼ˆFunctional Dependencyï¼Œç®€è®°ä¸ºFDï¼‰</li><li>å¤šå€¼ä¾èµ–ï¼ˆMultivalued Dependencyï¼Œç®€è®°ä¸ºMVDï¼‰</li><li>å…¶ä»–</li></ul></li><li><p>æ•°æ®ä¾èµ–å¯¹å…³ç³»æ¨¡å¼çš„å½±å“</p><ul><li>â€œå¥½â€çš„æ¨¡å¼ï¼š<ul><li>ä¸ä¼šå‘ç”Ÿæ’å…¥å¼‚å¸¸ã€åˆ é™¤å¼‚å¸¸ã€æ›´æ–°å¼‚å¸¸ï¼Œ</li><li>æ•°æ®å†—ä½™åº”å°½å¯èƒ½å°‘</li><li>åŸå› ï¼šç”±å­˜åœ¨äºæ¨¡å¼ä¸­çš„æŸäº›æ•°æ®ä¾èµ–å¼•èµ·çš„</li><li>è§£å†³æ–¹æ³•ï¼šé€šè¿‡åˆ†è§£å…³ç³»æ¨¡å¼æ¥æ¶ˆé™¤å…¶ä¸­ä¸åˆé€‚çš„æ•°æ®ä¾èµ–</li></ul></li></ul></li><li><p>å‡½æ•°ä¾èµ–</p><ul><li><p><strong>å®šä¹‰6.1</strong> è®¾R(U)æ˜¯ä¸€ä¸ªå±æ€§é›†Uä¸Šçš„å…³ç³»æ¨¡å¼ï¼ŒXå’ŒYæ˜¯Uçš„å­é›†ã€‚è‹¥å¯¹äºR(U)çš„ä»»æ„ä¸€ä¸ªå¯èƒ½çš„å…³ç³»rï¼Œrä¸­ä¸å¯èƒ½å­˜åœ¨ä¸¤ä¸ªå…ƒç»„åœ¨Xä¸Šçš„å±æ€§å€¼ç›¸ç­‰ï¼Œ è€Œåœ¨Yä¸Šçš„å±æ€§å€¼ä¸ç­‰ï¼Œ åˆ™ç§° â€œXå‡½æ•°ç¡®å®šYâ€ æˆ– â€œYå‡½æ•°ä¾èµ–äºXâ€ï¼Œè®°ä½œXâ†’Yã€‚</p></li><li><p>åœ¨å…³ç³»æ¨¡å¼R(U)ä¸­ï¼Œå¯¹äºUçš„å­é›†Xå’ŒYï¼Œ</p><ul><li>å¦‚æœXâ†’Yï¼Œä½†Y Ã Xï¼Œåˆ™ç§°Xâ†’Yæ˜¯éå¹³å‡¡çš„å‡½æ•°ä¾èµ–</li><li>è‹¥Xâ†’Yï¼Œä½†Y Ã X, åˆ™ç§°Xâ†’Yæ˜¯å¹³å‡¡çš„å‡½æ•°ä¾èµ–</li><li>è‹¥Xâ†’Yï¼Œåˆ™Xç§°ä¸ºè¿™ä¸ªå‡½æ•°ä¾èµ–çš„å†³å®šå±æ€§ç»„ï¼Œä¹Ÿç§°ä¸ºå†³å®šå› ç´ ï¼ˆDeterminantï¼‰ã€‚</li><li>è‹¥Xâ†’Yï¼ŒYâ†’Xï¼Œåˆ™è®°ä½œXâ†â†’Yã€‚</li><li>è‹¥Yä¸å‡½æ•°ä¾èµ–äºXï¼Œåˆ™è®°ä½œXâ†’Yã€‚</li></ul></li></ul></li><li><p>å®Œå…¨å‡½æ•°ä¾èµ–ä¸éƒ¨åˆ†å‡½æ•°ä¾èµ–</p><ul><li><strong>å®šä¹‰6.2</strong> åœ¨R(U)ä¸­ï¼Œå¦‚æœXâ†’Yï¼Œå¹¶ä¸”å¯¹äºXçš„ä»»ä½•ä¸€ä¸ªçœŸå­é›†Xâ€™ï¼Œéƒ½æœ‰Xâ€™ Y, åˆ™ç§°Yå¯¹Xå®Œå…¨å‡½æ•°ä¾èµ–ï¼Œè®°ä½œXâ†’F Y ã€‚ è‹¥Xâ†’Yï¼Œä½†Yä¸å®Œå…¨å‡½æ•°ä¾èµ–äºXï¼Œåˆ™ç§°Yå¯¹Xéƒ¨åˆ†å‡½æ•°ä¾èµ–ï¼Œè®°ä½œXâ†’P Yã€‚</li></ul></li><li><p>ä¼ é€’å‡½æ•°ä¾èµ–</p><ul><li><p><strong>å®šä¹‰6.3</strong> åœ¨R(U)ä¸­ï¼Œå¦‚æœXâ†’Yï¼Œ(Y ÃX) ,Yâ†’X Yâ†’Zï¼Œ åˆ™ç§°Zå¯¹Xä¼ é€’å‡½æ•°ä¾èµ–ã€‚è®°ä¸ºï¼šX â†’ä¼ é€’ Z</p></li><li><p>æ³¨: å¦‚æœYâ†’Xï¼Œ å³Xâ†â†’Yï¼Œåˆ™Zç›´æ¥ä¾èµ–äºXã€‚</p></li></ul></li><li><p>ç </p><ul><li><p><strong>å®šä¹‰6.4</strong> è®¾Kä¸ºR&lt;U,F&gt;ä¸­çš„å±æ€§æˆ–å±æ€§ç»„åˆã€‚è‹¥K Uï¼Œ åˆ™Kç§°ä¸ºRçš„ä¾¯é€‰ç ï¼ˆCandidate Keyï¼‰ã€‚è‹¥å€™é€‰ç å¤šäºä¸€ä¸ªï¼Œåˆ™é€‰å®šå…¶ä¸­çš„ä¸€ä¸ªåšä¸ºä¸»ç ï¼ˆPrimary Keyï¼‰ã€‚</p></li><li><p>ä¸»å±æ€§ä¸éä¸»å±æ€§</p><ul><li>åŒ…å«åœ¨ä»»ä½•ä¸€ä¸ªå€™é€‰ç ä¸­çš„å±æ€§ ï¼Œç§°ä¸ºä¸»å±æ€§ï¼ˆPrime attributeï¼‰</li><li>ä¸åŒ…å«åœ¨ä»»ä½•ç ä¸­çš„å±æ€§ç§°ä¸ºéä¸»å±æ€§ï¼ˆNonprime attributeï¼‰æˆ–éç å±æ€§ï¼ˆNon-key attributeï¼‰</li></ul></li><li><p>å…¨ç </p><ul><li>æ•´ä¸ªå±æ€§ç»„æ˜¯ç ï¼Œç§°ä¸ºå…¨ç ï¼ˆAll-keyï¼‰</li></ul></li></ul></li><li><p>å¤–éƒ¨ç </p><ul><li>å®šä¹‰6.5 å…³ç³»æ¨¡å¼ R ä¸­å±æ€§æˆ–å±æ€§ç»„X å¹¶é Rçš„ç ï¼Œä½† X æ˜¯å¦ä¸€ä¸ªå…³ç³»æ¨¡å¼çš„ç ï¼Œåˆ™ç§° X æ˜¯R çš„å¤–éƒ¨ç ï¼ˆForeign keyï¼‰ä¹Ÿç§°å¤–ç </li></ul></li></ul></li><li><p><strong>èŒƒå¼</strong></p><ul><li>èŒƒå¼æ˜¯ç¬¦åˆæŸä¸€ç§çº§åˆ«çš„å…³ç³»æ¨¡å¼çš„é›†åˆ</li><li>å…³ç³»æ•°æ®åº“ä¸­çš„å…³ç³»å¿…é¡»æ»¡è¶³ä¸€å®šçš„è¦æ±‚ã€‚æ»¡è¶³ä¸åŒç¨‹åº¦è¦æ±‚çš„ä¸ºä¸åŒèŒƒå¼</li><li>èŒƒå¼çš„ç§ç±»ï¼š  <ul><li>ç¬¬ä¸€èŒƒå¼(1NF)</li><li>ç¬¬äºŒèŒƒå¼(2NF)</li><li>ç¬¬ä¸‰èŒƒå¼(3NF)</li><li>BCèŒƒå¼(BCNF)</li><li>ç¬¬å››èŒƒå¼(4NF)</li><li>ç¬¬äº”èŒƒå¼(5NF)</li></ul></li><li>å„ç§èŒƒå¼ä¹‹é—´å­˜åœ¨è”ç³»ï¼š</li><li>æŸä¸€å…³ç³»æ¨¡å¼Rä¸ºç¬¬nèŒƒå¼ï¼Œå¯ç®€è®°ä¸ºRâˆˆnNFã€‚</li><li>ä¸€ä¸ªä½ä¸€çº§èŒƒå¼çš„å…³ç³»æ¨¡å¼ï¼Œé€šè¿‡æ¨¡å¼åˆ†è§£å¯ä»¥è½¬æ¢ä¸ºè‹¥å¹²ä¸ªé«˜ä¸€çº§èŒƒå¼çš„å…³ç³»æ¨¡å¼çš„é›†åˆï¼Œè¿™ç§è¿‡ç¨‹å°±å«è§„èŒƒåŒ–</li><li>1NF<ul><li>1NFçš„å®šä¹‰<ul><li>å¦‚æœä¸€ä¸ªå…³ç³»æ¨¡å¼Rçš„<strong>æ‰€æœ‰å±æ€§éƒ½æ˜¯ä¸å¯åˆ†çš„åŸºæœ¬æ•°æ®é¡¹</strong>ï¼Œåˆ™Râˆˆ1NF</li></ul></li><li>ç¬¬ä¸€èŒƒå¼æ˜¯å¯¹å…³ç³»æ¨¡å¼çš„æœ€èµ·ç çš„è¦æ±‚ã€‚ä¸æ»¡è¶³ç¬¬ä¸€èŒƒå¼çš„æ•°æ®åº“æ¨¡å¼ä¸èƒ½ç§°ä¸ºå…³ç³»æ•°æ®åº“</li><li>ä½†æ˜¯æ»¡è¶³ç¬¬ä¸€èŒƒå¼çš„å…³ç³»æ¨¡å¼å¹¶ä¸ä¸€å®šæ˜¯ä¸€ä¸ªå¥½çš„å…³ç³»æ¨¡å¼</li></ul></li><li>2NF<ul><li>2NFçš„å®šä¹‰<ul><li>  å®šä¹‰6.6 è‹¥<strong>Râˆˆ1NFï¼Œä¸”æ¯ä¸€ä¸ªéä¸»å±æ€§å®Œå…¨å‡½æ•°ä¾èµ–äºç </strong>ï¼Œåˆ™Râˆˆ2NFã€‚</li></ul></li></ul></li><li>3NF<ul><li>3NFçš„å®šä¹‰<ul><li>å®šä¹‰6.7 å…³ç³»æ¨¡å¼R&lt;Uï¼ŒF&gt; ä¸­è‹¥ä¸å­˜åœ¨è¿™æ ·çš„ç Xã€å±æ€§ç»„YåŠéä¸»å±æ€§Zï¼ˆZ Ã Yï¼‰, ä½¿å¾—Xâ†’Yï¼ŒYâ†’Zæˆç«‹ï¼Œ Y â†’ Xï¼Œåˆ™ç§°R&lt;Uï¼ŒF&gt; âˆˆ 3NFã€‚</li><li>è‹¥Râˆˆ3NFï¼Œåˆ™<strong>æ¯ä¸€ä¸ªéä¸»å±æ€§æ—¢ä¸éƒ¨åˆ†ä¾èµ–äºç ä¹Ÿä¸ä¼ é€’ä¾èµ–äºç </strong>ã€‚</li></ul></li></ul></li><li>BCèŒƒå¼ï¼ˆBCNFï¼‰<ul><li>å®šä¹‰6.8 å…³ç³»æ¨¡å¼R&lt;Uï¼ŒF&gt;âˆˆ1NFï¼Œè‹¥Xâ†’Yä¸”Y Ã Xæ—¶ï¼ŒXå¿…å«æœ‰ç ï¼Œåˆ™R&lt;Uï¼ŒF&gt; âˆˆBCNFã€‚</li><li>ç­‰ä»·äºï¼šæ¯ä¸€ä¸ªå†³å®šå±æ€§å› ç´ éƒ½åŒ…å«ç </li><li>è‹¥RâˆˆBCNF<ul><li>æ‰€æœ‰éä¸»å±æ€§å¯¹æ¯ä¸€ä¸ªç éƒ½æ˜¯å®Œå…¨å‡½æ•°ä¾èµ–</li><li>æ‰€æœ‰çš„ä¸»å±æ€§å¯¹æ¯ä¸€ä¸ªä¸åŒ…å«å®ƒçš„ç ï¼Œä¹Ÿæ˜¯å®Œå…¨å‡½æ•°ä¾èµ–</li><li>æ²¡æœ‰ä»»ä½•å±æ€§å®Œå…¨å‡½æ•°ä¾èµ–äºéç çš„ä»»ä½•ä¸€ç»„å±æ€§</li></ul></li><li>R âˆˆBCNF <img src="https://images.cnblogs.com/cnblogs_com/luowei010101/201110/201110212302542269.png" alt="img"><img src="https://images.cnblogs.com/cnblogs_com/luowei010101/201110/201110212302559238.png" alt="img"> R âˆˆ3NF</li></ul></li></ul></li><li><p><strong>å¤šå€¼ä¾èµ–</strong></p><ul><li>å®šä¹‰6.9<ul><li>è®¾R(U)æ˜¯ä¸€ä¸ªå±æ€§é›†Uä¸Šçš„ä¸€ä¸ªå…³ç³»æ¨¡å¼ï¼Œ Xã€ Yå’ŒZæ˜¯Uçš„å­é›†ï¼Œå¹¶ä¸”Zï¼Uï¼Xï¼Yã€‚å…³ç³»æ¨¡å¼R(U)ä¸­å¤šå€¼ä¾èµ– Xâ†’â†’Yæˆç«‹ï¼Œå½“ä¸”ä»…å½“å¯¹R(U)çš„ä»»ä¸€å…³ç³»rï¼Œç»™å®šçš„ä¸€å¯¹ï¼ˆxï¼Œzï¼‰å€¼ï¼Œæœ‰ä¸€ç»„Yçš„å€¼ï¼Œè¿™ç»„å€¼ä»…ä»…å†³å®šäºxå€¼è€Œä¸zå€¼æ— å…³</li></ul></li><li>å¤šå€¼ä¾èµ–çš„å¦ä¸€ä¸ªç­‰ä»·çš„å½¢å¼åŒ–çš„å®šä¹‰ï¼š<ul><li>åœ¨Rï¼ˆUï¼‰çš„ä»»ä¸€å…³ç³»rä¸­ï¼Œå¦‚æœå­˜åœ¨å…ƒç»„tï¼Œs ä½¿å¾—t[X]=s[X]ï¼Œé‚£ä¹ˆå°±å¿…ç„¶å­˜åœ¨å…ƒç»„ wï¼ŒvÃ rï¼Œï¼ˆwï¼Œvå¯ä»¥ä¸sï¼Œtç›¸åŒï¼‰ï¼Œä½¿å¾—w[X]=v[X]=t[X]ï¼Œè€Œw[Y]=t[Y]ï¼Œw[Z]=s[Z]ï¼Œv[Y]=s[Y]ï¼Œv[Z]=t[Z]ï¼ˆå³äº¤æ¢sï¼Œtå…ƒç»„çš„Yå€¼æ‰€å¾—çš„ä¸¤ä¸ªæ–°å…ƒç»„å¿…åœ¨rä¸­ï¼‰ï¼Œåˆ™Yå¤šå€¼ä¾èµ–äºXï¼Œè®°ä¸ºXâ†’â†’Yã€‚ è¿™é‡Œï¼ŒXï¼ŒYæ˜¯Uçš„å­é›†ï¼ŒZ=U-X-Yã€‚</li></ul></li><li>å¹³å‡¡å¤šå€¼ä¾èµ–å’Œéå¹³å‡¡çš„å¤šå€¼ä¾èµ–<ul><li>è‹¥Xâ†’â†’Yï¼Œè€ŒZï¼Ï†ï¼Œåˆ™ç§°Xâ†’â†’Yä¸ºå¹³å‡¡çš„å¤šå€¼ä¾èµ–</li><li>å¦åˆ™ç§°Xâ†’â†’Yä¸ºéå¹³å‡¡çš„å¤šå€¼ä¾èµ–</li></ul></li><li>å¤šå€¼ä¾èµ–çš„æ€§è´¨<ul><li>ï¼ˆ1ï¼‰å¤šå€¼ä¾èµ–å…·æœ‰å¯¹ç§°æ€§ã€‚è‹¥Xâ†’â†’Yï¼Œåˆ™Xâ†’â†’Zï¼Œå…¶ä¸­Zï¼Uï¼Xï¼Y</li><li>ï¼ˆ2ï¼‰å¤šå€¼ä¾èµ–å…·æœ‰ä¼ é€’æ€§ã€‚è‹¥Xâ†’â†’Yï¼ŒYâ†’â†’Zï¼Œ åˆ™Xâ†’â†’Z â€“Y</li><li>ï¼ˆ3ï¼‰å‡½æ•°ä¾èµ–æ˜¯å¤šå€¼ä¾èµ–çš„ç‰¹æ®Šæƒ…å†µã€‚è‹¥Xâ†’Yï¼Œåˆ™Xâ†’â†’Yã€‚</li><li>ï¼ˆ4ï¼‰è‹¥Xâ†’â†’Yï¼ŒXâ†’â†’Zï¼Œåˆ™Xâ†’â†’YÃˆ Zã€‚</li><li>ï¼ˆ5ï¼‰è‹¥Xâ†’â†’Yï¼ŒXâ†’â†’Zï¼Œåˆ™Xâ†’â†’Yâˆ©Zã€‚</li><li>ï¼ˆ6ï¼‰è‹¥Xâ†’â†’Yï¼ŒXâ†’â†’Zï¼Œåˆ™Xâ†’â†’Y-Zï¼ŒXâ†’â†’Z -Yã€‚</li></ul></li><li>å¤šå€¼ä¾èµ–ä¸å‡½æ•°ä¾èµ–çš„åŒºåˆ«<ul><li>(1) å¤šå€¼ä¾èµ–çš„æœ‰æ•ˆæ€§ä¸å±æ€§é›†çš„èŒƒå›´æœ‰å…³</li><li>(2)<ul><li>è‹¥å‡½æ•°ä¾èµ–Xâ†’Yåœ¨Rï¼ˆUï¼‰ä¸Šæˆç«‹ï¼Œåˆ™å¯¹äºä»»ä½•Yâ€™ ÃŒ Yå‡æœ‰Xâ†’Yâ€™ æˆç«‹</li><li>å¤šå€¼ä¾èµ–Xâ†’â†’Yè‹¥åœ¨R(U)ä¸Šæˆç«‹ï¼Œä¸èƒ½æ–­è¨€å¯¹äºä»»ä½•Yâ€™ ÃŒ Yæœ‰Xâ†’â†’Yâ€™ æˆç«‹</li></ul></li></ul></li><li>4NF<ul><li>å®šä¹‰6.10 å…³ç³»æ¨¡å¼R&lt;Uï¼ŒF&gt;âˆˆ1NFï¼Œå¦‚æœå¯¹äºRçš„æ¯ä¸ªéå¹³å‡¡å¤šå€¼ä¾èµ–Xâ†’â†’Yï¼ˆY Ã Xï¼‰ï¼ŒXéƒ½å«æœ‰ç ï¼Œåˆ™Râˆˆ4NFã€‚</li><li>å¦‚æœR âˆˆ 4NFï¼Œ åˆ™R âˆˆ BCNF<ul><li>ä¸å…è®¸æœ‰éå¹³å‡¡ä¸”éå‡½æ•°ä¾èµ–çš„å¤šå€¼ä¾èµ–</li><li>å…è®¸çš„éå¹³å‡¡å¤šå€¼ä¾èµ–æ˜¯å‡½æ•°ä¾èµ–</li></ul></li></ul></li></ul></li><li><p><strong>æ•°æ®ä¾èµ–çš„å…¬ç†ç³»ç»Ÿ</strong></p><ul><li><p>é€»è¾‘è•´å«</p><ul><li>å®šä¹‰6.11 å¯¹äºæ»¡è¶³ä¸€ç»„å‡½æ•°ä¾èµ– F çš„å…³ç³»æ¨¡å¼R &lt;Uï¼ŒF&gt;ï¼Œå…¶ä»»ä½•ä¸€ä¸ªå…³ç³»rï¼Œè‹¥å‡½æ•°ä¾èµ–Xâ†’Yéƒ½æˆç«‹, ï¼ˆå³rä¸­ä»»æ„ä¸¤å…ƒç»„tï¼Œsï¼Œè‹¥tXï¼½=sXï¼½ï¼Œåˆ™tYï¼½=sYï¼½ï¼‰ï¼Œåˆ™ç§°Fé€»è¾‘è•´å«X â†’Y</li></ul></li><li><p>å…³ç³»æ¨¡å¼R &lt;Uï¼ŒF &gt;æ¥è¯´æœ‰ä»¥ä¸‹çš„æ¨ç†è§„åˆ™ï¼š</p><ul><li><p>A1.è‡ªåå¾‹ï¼ˆReflexivityï¼‰ï¼šè‹¥Y Ã X Ã Uï¼Œåˆ™X â†’Yä¸ºFæ‰€è•´å«ã€‚</p></li><li><p>A2.å¢å¹¿å¾‹ï¼ˆAugmentationï¼‰ï¼šè‹¥Xâ†’Yä¸ºFæ‰€è•´å«ï¼Œä¸”Z Ã Uï¼Œåˆ™XZâ†’YZä¸ºFæ‰€è•´å«ã€‚</p></li><li><p>A3.ä¼ é€’å¾‹ï¼ˆTransitivityï¼‰ï¼šè‹¥Xâ†’YåŠYâ†’Zä¸ºFæ‰€è•´å«ï¼Œåˆ™Xâ†’Zä¸ºFæ‰€è•´å«ã€‚</p><ul><li><p>è‡ªåå¾‹: è‹¥Y Ã X Ã Uï¼Œåˆ™X â†’Yä¸ºFæ‰€è•´å«</p><p>è¯: è®¾Y Ã X Ã U</p><p>å¯¹R &lt;Uï¼ŒF&gt; çš„ä»»ä¸€å…³ç³»rä¸­çš„ä»»æ„ä¸¤ä¸ªå…ƒç»„tï¼Œsï¼š</p><p>è‹¥t[X]=s[X]ï¼Œç”±äºY Ã Xï¼Œæœ‰t[y]=s[y]ï¼Œ</p><p>æ‰€ä»¥Xâ†’Yæˆç«‹ï¼Œè‡ªåå¾‹å¾—è¯</p></li><li><p>å¢å¹¿å¾‹: è‹¥Xâ†’Yä¸ºFæ‰€è•´å«ï¼Œä¸”Z Ã Uï¼Œåˆ™XZâ†’YZ ä¸ºFæ‰€è•´å«ã€‚</p><p>è¯ï¼šè®¾Xâ†’Yä¸ºFæ‰€è•´å«ï¼Œä¸”Z Ã Uã€‚</p><p>è®¾R&lt;Uï¼ŒF&gt; çš„ä»»ä¸€å…³ç³»rä¸­ä»»æ„çš„ä¸¤ä¸ªå…ƒç»„tï¼Œsï¼š</p><p>è‹¥t[XZ]=s[XZ]ï¼Œåˆ™æœ‰t[X]=s[X]å’Œt[Z]=s[Z]ï¼›</p><p>ç”±Xâ†’Yï¼Œäºæ˜¯æœ‰t[Y]=s[Y]ï¼Œæ‰€ä»¥t[YZ]=s[YZ]ï¼Œæ‰€ä»¥</p><p>XZâ†’YZä¸ºFæ‰€è•´å«ï¼Œå¢å¹¿å¾‹å¾—è¯ã€‚</p></li><li><p>ä¼ é€’å¾‹ï¼šè‹¥Xâ†’YåŠYâ†’Zä¸ºFæ‰€è•´å«ï¼Œåˆ™Xâ†’Zä¸º Fæ‰€è•´å«ã€‚</p><p>è¯ï¼šè®¾Xâ†’YåŠYâ†’Zä¸ºFæ‰€è•´å«ã€‚</p><p>å¯¹R&lt;Uï¼ŒF&gt; çš„ä»»ä¸€å…³ç³» rä¸­çš„ä»»æ„ä¸¤ä¸ªå…ƒç»„ tï¼Œsï¼š</p><p>è‹¥t[X]=s[X]ï¼Œç”±äºXâ†’Yï¼Œæœ‰ t[Y]=s[Y]ï¼›</p><p>å†ç”±Yâ†’Zï¼Œæœ‰t[Z]=s[Z]ï¼Œæ‰€ä»¥Xâ†’Zä¸ºFæ‰€è•´å«ï¼Œä¼ é€’å¾‹å¾—è¯ã€‚</p></li></ul></li></ul></li><li><p>å¯¼å‡ºè§„åˆ™</p><ul><li><p>1.æ ¹æ®A1ï¼ŒA2ï¼ŒA3è¿™ä¸‰æ¡æ¨ç†è§„åˆ™å¯ä»¥å¾—åˆ°ä¸‹é¢ä¸‰æ¡æ¨ç†è§„åˆ™ï¼š</p><ul><li><p>åˆå¹¶è§„åˆ™ï¼šç”±Xâ†’Yï¼ŒXâ†’Zï¼Œæœ‰Xâ†’YZã€‚</p><p>ï¼ˆA2ï¼Œ A3ï¼‰</p></li><li><p>ä¼ªä¼ é€’è§„åˆ™ï¼šç”±Xâ†’Yï¼ŒWYâ†’Zï¼Œæœ‰XWâ†’Zã€‚</p><p>ï¼ˆA2ï¼Œ A3ï¼‰</p></li><li><p>åˆ†è§£è§„åˆ™ï¼šç”±Xâ†’YåŠ ZÃYï¼Œæœ‰Xâ†’Zã€‚</p><p>ï¼ˆA1ï¼Œ A3ï¼‰</p></li></ul></li><li><p>2.æ ¹æ®åˆå¹¶è§„åˆ™å’Œåˆ†è§£è§„åˆ™ï¼Œå¯å¾—å¼•ç†6.1</p><ul><li>å¼•ç†6.l Xâ†’A1 A2â€¦Akæˆç«‹çš„å……åˆ†å¿…è¦æ¡ä»¶æ˜¯Xâ†’Aiæˆç«‹ï¼ˆi=lï¼Œ2ï¼Œâ€¦ï¼Œkï¼‰</li></ul></li></ul></li><li><p>å‡½æ•°ä¾èµ–é—­åŒ…</p><ul><li>å®šä¹‰6.l2 åœ¨å…³ç³»æ¨¡å¼R&lt;Uï¼ŒF&gt;ä¸­ä¸ºFæ‰€é€»è¾‘è•´å«çš„å‡½æ•°ä¾èµ–çš„å…¨ä½“å«ä½œ Fçš„é—­åŒ…ï¼Œè®°ä¸ºF+ã€‚</li><li>å®šä¹‰6.13 è®¾Fä¸ºå±æ€§é›†Uä¸Šçš„ä¸€ç»„å‡½æ•°ä¾èµ–ï¼ŒX ÃUï¼Œ XF+ ={ A|Xâ†’Aèƒ½ç”±F æ ¹æ®Armstrongå…¬ç†å¯¼å‡º}ï¼ŒXF+ç§°ä¸ºå±æ€§é›†Xå…³äºå‡½æ•°ä¾èµ–é›†F çš„é—­åŒ…</li></ul></li><li><p>å‡½æ•°ä¾èµ–é›†ç­‰ä»·</p><ul><li><p>å®šä¹‰6.14 å¦‚æœG+=F+ï¼Œå°±è¯´å‡½æ•°ä¾èµ–é›†Fè¦†ç›–Gï¼ˆFæ˜¯Gçš„è¦†ç›–ï¼Œæˆ–Gæ˜¯Fçš„è¦†ç›–ï¼‰ï¼Œæˆ–Fä¸Gç­‰ä»·ã€‚</p></li><li><p>å¼•ç†6.3 F+ = G+ çš„å……åˆ†å¿…è¦æ¡ä»¶æ˜¯F Ã G+ ï¼Œå’ŒG Ã F+</p><p>è¯: å¿…è¦æ€§æ˜¾ç„¶ï¼Œåªè¯å……åˆ†æ€§ã€‚</p><p>ï¼ˆ1ï¼‰è‹¥FÃG+ ï¼Œåˆ™XF+ Ã XG++ ã€‚</p><p>ï¼ˆ2ï¼‰ä»»å–Xâ†’YÃF+ åˆ™æœ‰ Y Ã XF+ Ã XG++ ã€‚</p><p>â€‹     æ‰€ä»¥Xâ†’Y Ã (G+ï¼‰+= G+ã€‚å³F+ Ã G+ã€‚</p><p>ï¼ˆ3ï¼‰åŒç†å¯è¯G+ Ã F+ ï¼Œæ‰€ä»¥F+ = G+ã€‚</p></li></ul></li><li><p>æœ€å°ä¾èµ–é›†</p><ul><li>å®šä¹‰6.15 å¦‚æœå‡½æ•°ä¾èµ–é›†Fæ»¡è¶³ä¸‹åˆ—æ¡ä»¶ï¼Œåˆ™ç§°Fä¸ºä¸€ä¸ªæå°å‡½æ•°ä¾èµ–é›†ã€‚äº¦ç§°ä¸ºæœ€å°ä¾èµ–é›†æˆ–æœ€å°è¦†ç›–ã€‚<ul><li>(1) Fä¸­ä»»ä¸€å‡½æ•°ä¾èµ–çš„å³éƒ¨ä»…å«æœ‰ä¸€ä¸ªå±æ€§ã€‚</li><li>(2) Fä¸­ä¸å­˜åœ¨è¿™æ ·çš„å‡½æ•°ä¾èµ–Xâ†’Aï¼Œä½¿å¾—Fä¸F-{Xâ†’A}ç­‰ä»·ã€‚</li><li>(3) Fä¸­ä¸å­˜åœ¨è¿™æ ·çš„å‡½æ•°ä¾èµ–Xâ†’Aï¼Œ Xæœ‰çœŸå­é›†Zä½¿å¾—F-{Xâ†’A}âˆª{Zâ†’A}ä¸Fç­‰ä»·ã€‚</li></ul></li></ul></li><li><p>æå°åŒ–è¿‡ç¨‹</p><ul><li><p>å®šç†6.3 æ¯ä¸€ä¸ªå‡½æ•°ä¾èµ–é›†Få‡ç­‰ä»·äºä¸€ä¸ªæå°å‡½æ•°ä¾èµ–é›†Fmã€‚æ­¤Fmç§°ä¸ºFçš„æœ€å°ä¾èµ–é›†ã€‚</p><p>è¯æ˜: æ„é€ æ€§è¯æ˜ï¼Œæ‰¾å‡ºFçš„ä¸€ä¸ªæœ€å°ä¾èµ–é›†ã€‚</p><p>(1)é€ä¸€æ£€æŸ¥Fä¸­å„å‡½æ•°ä¾èµ–FDiï¼šXâ†’Yï¼Œè‹¥Y=A1A2 â€¦Akï¼Œk &gt; 2ï¼Œ</p><p>åˆ™ç”¨ { Xâ†’Aj |j=1ï¼Œ2ï¼Œâ€¦ï¼Œ k} æ¥å–ä»£Xâ†’Yã€‚</p><p>(2)é€ä¸€æ£€æŸ¥Fä¸­å„å‡½æ•°ä¾èµ–FDiï¼šXâ†’Aï¼Œä»¤G=F-{Xâ†’A}ï¼Œ</p><p>è‹¥AÃXG+ï¼Œ åˆ™ä»Fä¸­å»æ‰æ­¤å‡½æ•°ä¾èµ–ã€‚</p><p>(3)é€ä¸€å–å‡ºFä¸­å„å‡½æ•°ä¾èµ–FDiï¼šXâ†’Aï¼Œè®¾X=B1B2â€¦Bmï¼Œ</p><p>é€ä¸€è€ƒæŸ¥Bi ï¼ˆi=lï¼Œ2ï¼Œâ€¦ï¼Œmï¼‰ï¼Œè‹¥A Ãï¼ˆX-Bi ï¼‰F+ ï¼Œ</p><p>åˆ™ä»¥X-Bi å–ä»£Xã€‚</p></li></ul></li><li><p>æ¨¡å¼çš„åˆ†è§£</p><ul><li>ä¸‰ç§æ¨¡å¼åˆ†è§£ç­‰ä»·çš„å®šä¹‰ï¼š<ul><li>â’ˆ åˆ†è§£å…·æœ‰æ— æŸè¿æ¥æ€§</li><li>â’‰ åˆ†è§£è¦ä¿æŒå‡½æ•°ä¾èµ–</li><li>â’Š åˆ†è§£æ—¢è¦ä¿æŒå‡½æ•°ä¾èµ–ï¼Œåˆè¦å…·æœ‰æ— æŸè¿æ¥æ€§</li></ul></li><li>å®šä¹‰6.16 å…³ç³»æ¨¡å¼R&lt;U,F&gt;çš„ä¸€ä¸ªåˆ†è§£ï¼š<em>Ï</em>={ R1&lt;U1,F1&gt;ï¼ŒR2&lt;U2,F2&gt;ï¼Œâ€¦ï¼ŒRn&lt;Un,Fn&gt;}ï¼ŒU= âˆªU<em>i</em>ï¼Œä¸”ä¸å­˜åœ¨ Ui Ã Ujï¼ŒFi ä¸º Fåœ¨ Ui ä¸Šçš„æŠ•å½±</li><li>å®šä¹‰6.17 å‡½æ•°ä¾èµ–é›†åˆ{Xâ†’Y | Xâ†’Y Ã F+âˆ§XY ÃUi} çš„ä¸€ä¸ªè¦†ç›– Fi å«ä½œ F åœ¨å±æ€§ Ui ä¸Šçš„æŠ•å½±</li></ul></li><li><p>å…·æœ‰æ— æŸè¿æ¥æ€§çš„æ¨¡å¼åˆ†è§£</p><ul><li>å…³ç³»æ¨¡å¼R&lt;U,F&gt;çš„ä¸€ä¸ªåˆ†è§£ Ï={ R1&lt;U1,F1&gt;ï¼ŒR2&lt;U2,F2&gt;ï¼Œ â€¦ï¼ŒRn&lt;Un,Fn&gt;}ï¼Œè‹¥Rä¸R1ã€R2ã€â€¦ã€Rnè‡ªç„¶è¿æ¥çš„ç»“æœç›¸ç­‰ï¼Œåˆ™ç§°å…³ç³»æ¨¡å¼Rçš„è¿™ä¸ªåˆ†è§£Ïå…·æœ‰æ— æŸè¿æ¥æ€§ï¼ˆLossless joinï¼‰</li><li>å…·æœ‰æ— æŸè¿æ¥æ€§çš„åˆ†è§£ä¿è¯ä¸ä¸¢å¤±ä¿¡æ¯</li><li>æ— æŸè¿æ¥æ€§ä¸ä¸€å®šèƒ½è§£å†³æ’å…¥å¼‚å¸¸ã€åˆ é™¤å¼‚å¸¸ã€ä¿®æ”¹å¤æ‚ã€æ•°æ®å†—ä½™ç­‰é—®é¢˜</li></ul></li><li><p>ä¿æŒå‡½æ•°ä¾èµ–çš„æ¨¡å¼åˆ†è§£</p><ul><li>è®¾å…³ç³»æ¨¡å¼R&lt;U,F&gt;è¢«åˆ†è§£ä¸ºè‹¥å¹²ä¸ªå…³ç³»æ¨¡å¼ï¼ŒR1&lt;U1,F1&gt;ï¼ŒR2&lt;U2,F2&gt;ï¼Œâ€¦ï¼ŒRn&lt;Un,Fn&gt; ï¼Œï¼ˆå…¶ä¸­U=U1âˆªU2âˆªâ€¦âˆªUnï¼Œä¸”ä¸å­˜åœ¨Ui Ã Ujï¼ŒFiä¸ºFåœ¨Uiä¸Šçš„æŠ•å½±ï¼‰ï¼Œè‹¥Fæ‰€é€»è¾‘è•´å«çš„å‡½æ•°ä¾èµ–ä¸€å®šä¹Ÿç”±åˆ†è§£å¾—åˆ°çš„æŸä¸ªå…³ç³»æ¨¡å¼ä¸­çš„å‡½æ•°ä¾èµ–Fiæ‰€é€»è¾‘è•´å«ï¼Œåˆ™ç§°å…³ç³»æ¨¡å¼Rçš„è¿™ä¸ªåˆ†è§£æ˜¯ä¿æŒå‡½æ•°ä¾èµ–çš„ï¼ˆPreserve dependencyï¼‰</li></ul></li><li><p>å…³ç³»æ¨¡å¼çš„è§„èŒƒåŒ–ï¼Œå…¶åŸºæœ¬æ€æƒ³ï¼š</p><p><img src="https://images.cnblogs.com/cnblogs_com/luowei010101/201110/20111021230255351.png" alt="img"></p></li><li><p>å°ç»“</p><ul><li>è‹¥è¦æ±‚åˆ†è§£å…·æœ‰æ— æŸè¿æ¥æ€§ï¼Œé‚£ä¹ˆæ¨¡å¼åˆ†è§£ä¸€å®šèƒ½å¤Ÿè¾¾åˆ°4NF</li><li>è‹¥è¦æ±‚åˆ†è§£ä¿æŒå‡½æ•°ä¾èµ–ï¼Œé‚£ä¹ˆæ¨¡å¼åˆ†è§£ä¸€å®šèƒ½å¤Ÿè¾¾åˆ°3NFï¼Œä½†ä¸ä¸€å®šèƒ½å¤Ÿè¾¾åˆ°BCNF</li><li>è‹¥è¦æ±‚åˆ†è§£æ—¢å…·æœ‰æ— æŸè¿æ¥æ€§ï¼Œåˆä¿æŒå‡½æ•°ä¾èµ–ï¼Œåˆ™æ¨¡å¼åˆ†è§£ä¸€å®šèƒ½å¤Ÿè¾¾åˆ°3NFï¼Œä½†ä¸ä¸€å®šèƒ½å¤Ÿè¾¾åˆ°BCNF</li></ul></li></ul></li></ul><p><strong>æ•°æ®åº“è®¾è®¡</strong></p><ol><li><p>æ•°æ®åº“è®¾è®¡çš„ç‰¹ç‚¹</p><p><img src="https://images.cnblogs.com/cnblogs_com/luowei010101/201110/201110212302558747.png" alt="img"></p></li><li><p>æ•°æ®åº“è®¾è®¡æ–¹æ³•</p></li></ol><ul><li>åŸºæœ¬æ€æƒ³ï¼šè¿‡ç¨‹è¿­ä»£å’Œé€æ­¥æ±‚ç²¾<ul><li>æ–°å¥¥å°”è‰¯ï¼ˆNew Orleansï¼‰æ–¹æ³•<ul><li>å°†æ•°æ®åº“è®¾è®¡åˆ†ä¸ºè‹¥å¹²é˜¶æ®µå’Œæ­¥éª¤</li></ul></li><li>åŸºäºE-Ræ¨¡å‹çš„æ•°æ®åº“è®¾è®¡æ–¹æ³•<ul><li>æ¦‚å¿µè®¾è®¡é˜¶æ®µå¹¿æ³›é‡‡ç”¨</li></ul></li><li>3NFï¼ˆç¬¬ä¸‰èŒƒå¼ï¼‰çš„è®¾è®¡æ–¹æ³•<ul><li>é€»è¾‘é˜¶æ®µå¯é‡‡ç”¨çš„æœ‰æ•ˆæ–¹æ³•</li></ul></li><li>ODLï¼ˆObject Definition Languageï¼‰æ–¹æ³•<ul><li>é¢å‘å¯¹è±¡çš„æ•°æ®åº“è®¾è®¡æ–¹æ³•</li></ul></li><li>è®¡ç®—æœºè¾…åŠ©è®¾è®¡<ul><li>ORACLE Designer 2000</li><li>SYBASE PowerDesigner</li></ul></li></ul></li><li>æ•°æ®åº“è®¾è®¡çš„åŸºæœ¬æ­¥éª¤<ul><li>æ•°æ®åº“è®¾è®¡åˆ†6ä¸ªé˜¶æ®µ<ul><li>éœ€æ±‚åˆ†æ</li><li>æ¦‚å¿µç»“æ„è®¾è®¡</li><li>é€»è¾‘ç»“æ„è®¾è®¡</li><li>ç‰©ç†ç»“æ„è®¾è®¡</li><li>æ•°æ®åº“å®æ–½</li><li>æ•°æ®åº“è¿è¡Œå’Œç»´æŠ¤</li></ul></li><li>éœ€æ±‚åˆ†æå’Œæ¦‚å¿µè®¾è®¡ç‹¬ç«‹äºä»»ä½•æ•°æ®åº“ç®¡ç†ç³»ç»Ÿ</li><li>é€»è¾‘è®¾è®¡å’Œç‰©ç†è®¾è®¡ä¸é€‰ç”¨çš„DBMSå¯†åˆ‡ç›¸å…³</li></ul></li></ul><p><img src="https://images.cnblogs.com/cnblogs_com/luowei010101/201110/201110212302576437.png" alt="img"></p><ol><li>æ•°æ®åº“è®¾è®¡è¿‡ç¨‹ä¸­çš„å„çº§æ¨¡å¼</li></ol><ul><li><p>æ•°æ®åº“è®¾è®¡ä¸åŒé˜¶æ®µå½¢æˆçš„æ•°æ®åº“å„çº§æ¨¡å¼</p><p><img src="https://images.cnblogs.com/cnblogs_com/luowei010101/201110/201110212302577583.png" alt="img"></p></li></ul><ol><li>ç»“æ„åŒ–åˆ†ææ–¹æ³•ï¼ˆStructured Analysisï¼Œç®€ç§°SAæ–¹æ³•ï¼‰</li></ol><ul><li><p>ä»æœ€ä¸Šå±‚çš„ç³»ç»Ÿç»„ç»‡æœºæ„å…¥æ‰‹</p></li><li><p>è‡ªé¡¶å‘ä¸‹ã€é€å±‚åˆ†è§£åˆ†æç³»ç»Ÿ</p><ul><li>1ï¼é¦–å…ˆæŠŠä»»ä½•ä¸€ä¸ªç³»ç»Ÿéƒ½æŠ½è±¡ä¸ºï¼š</li></ul><p><img src="https://images.cnblogs.com/cnblogs_com/luowei010101/201110/20111021230258648.png" alt="img"></p><ul><li><p>2ï¼åˆ†è§£å¤„ç†åŠŸèƒ½å’Œæ•°æ®</p><ul><li>(1)åˆ†è§£å¤„ç†åŠŸèƒ½<ul><li>å°†å¤„ç†åŠŸèƒ½çš„å…·ä½“å†…å®¹åˆ†è§£ä¸ºè‹¥å¹²å­åŠŸèƒ½</li></ul></li><li>(2)åˆ†è§£æ•°æ®<ul><li>å¤„ç†åŠŸèƒ½é€æ­¥åˆ†è§£åŒæ—¶ï¼Œé€çº§åˆ†è§£æ‰€ç”¨æ•°æ®ï¼Œå½¢æˆè‹¥å¹²å±‚æ¬¡çš„æ•°æ®æµå›¾</li></ul></li><li>(3)è¡¨è¾¾æ–¹æ³•<ul><li>å¤„ç†é€»è¾‘ï¼šç”¨åˆ¤å®šè¡¨æˆ–åˆ¤å®šæ ‘æ¥æè¿°</li><li>æ•°æ®ï¼šç”¨æ•°æ®å­—å…¸æ¥æè¿°</li></ul></li></ul></li><li><p>3ï¼å°†åˆ†æç»“æœå†æ¬¡æäº¤ç»™ç”¨æˆ·ï¼Œå¾å¾—ç”¨æˆ·çš„è®¤å¯</p><p><img src="https://images.cnblogs.com/cnblogs_com/luowei010101/201110/201110212302588239.png" alt="img"></p></li></ul></li></ul><ol><li>æ•°æ®å­—å…¸</li></ol><ul><li><p>æ•°æ®å­—å…¸çš„ç”¨é€”</p><ul><li>è¿›è¡Œè¯¦ç»†çš„æ•°æ®æ”¶é›†å’Œæ•°æ®åˆ†ææ‰€è·å¾—çš„ä¸»è¦ç»“æœ</li></ul></li><li><p>æ•°æ®å­—å…¸çš„å†…å®¹</p><ul><li>æ•°æ®é¡¹</li><li>æ•°æ®ç»“æ„</li><li>æ•°æ®æµ</li><li>æ•°æ®å­˜å‚¨</li><li>å¤„ç†è¿‡ç¨‹</li></ul></li><li><p>â’ˆ æ•°æ®é¡¹</p><ul><li><p>æ•°æ®é¡¹æ˜¯ä¸å¯å†åˆ†çš„æ•°æ®å•ä½</p></li><li><p>å¯¹æ•°æ®é¡¹çš„æè¿°</p><p>æ•°æ®é¡¹æè¿°ï¼ï½›æ•°æ®é¡¹åï¼Œæ•°æ®é¡¹å«ä¹‰è¯´æ˜ï¼Œåˆ«åï¼Œ</p><p>æ•°æ®ç±»å‹ï¼Œé•¿åº¦ï¼Œå–å€¼èŒƒå›´ï¼Œå–å€¼å«ä¹‰ï¼Œ</p><p>â€‹      ä¸å…¶ä»–æ•°æ®é¡¹çš„é€»è¾‘å…³ç³»ï¼Œæ•°æ®é¡¹ä¹‹é—´çš„è”ç³» ï½</p></li></ul></li><li><p>â’‰ æ•°æ®ç»“æ„</p><ul><li><p>æ•°æ®ç»“æ„åæ˜ äº†æ•°æ®ä¹‹é—´çš„ç»„åˆå…³ç³»ã€‚</p></li><li><p>ä¸€ä¸ªæ•°æ®ç»“æ„å¯ä»¥ç”±è‹¥å¹²ä¸ªæ•°æ®é¡¹ç»„æˆï¼Œä¹Ÿå¯ä»¥ç”±è‹¥å¹²ä¸ªæ•°æ®ç»“æ„ç»„æˆï¼Œæˆ–ç”±è‹¥å¹²ä¸ªæ•°æ®é¡¹å’Œæ•°æ®ç»“æ„æ··åˆç»„æˆã€‚</p></li><li><p>å¯¹æ•°æ®ç»“æ„çš„æè¿°</p><p>æ•°æ®ç»“æ„æè¿°ï¼ï½›æ•°æ®ç»“æ„åï¼Œå«ä¹‰è¯´æ˜ï¼Œ</p><p>ç»„æˆ:ï½›æ•°æ®é¡¹æˆ–æ•°æ®ç»“æ„ï½ï½</p></li></ul></li><li><p>â’Š æ•°æ®æµ</p><ul><li><p>æ•°æ®æµæ˜¯æ•°æ®ç»“æ„åœ¨ç³»ç»Ÿå†…ä¼ è¾“çš„è·¯å¾„ã€‚</p></li><li><p>å¯¹æ•°æ®æµçš„æè¿°</p><p>æ•°æ®æµæè¿°ï¼ï½› æ•°æ®æµåï¼Œè¯´æ˜ï¼Œæ•°æ®æµæ¥æºï¼Œ</p><p>æ•°æ®æµå»å‘ï¼Œç»„æˆ:ï½›æ•°æ®ç»“æ„ï½ï¼Œ</p><p>å¹³å‡æµé‡ï¼Œé«˜å³°æœŸæµé‡ï½</p></li></ul></li><li><p>â’‹ æ•°æ®å­˜å‚¨</p><ul><li><p>æ•°æ®å­˜å‚¨æ˜¯æ•°æ®ç»“æ„åœç•™æˆ–ä¿å­˜çš„åœ°æ–¹ï¼Œä¹Ÿæ˜¯æ•°æ®æµçš„æ¥æºå’Œå»å‘ä¹‹ä¸€ã€‚</p></li><li><p>å¯¹æ•°æ®å­˜å‚¨çš„æè¿°</p><p>æ•°æ®å­˜å‚¨æè¿°ï¼ï½›æ•°æ®å­˜å‚¨åï¼Œè¯´æ˜ï¼Œç¼–å·ï¼Œ</p><p>â€‹       è¾“å…¥çš„æ•°æ®æµ ï¼Œè¾“å‡ºçš„æ•°æ®æµ ï¼Œ</p><p>â€‹       ç»„æˆ:ï½›æ•°æ®ç»“æ„ï½ï¼Œæ•°æ®é‡ï¼Œå­˜å–é¢‘åº¦ï¼Œå­˜å–æ–¹å¼ï½</p></li></ul></li><li><p>â’Œ å¤„ç†è¿‡ç¨‹</p><ul><li><p>å…·ä½“å¤„ç†é€»è¾‘ä¸€èˆ¬ç”¨åˆ¤å®šè¡¨æˆ–åˆ¤å®šæ ‘æ¥æè¿°</p></li><li><p>å¤„ç†è¿‡ç¨‹è¯´æ˜æ€§ä¿¡æ¯çš„æè¿°</p><p>å¤„ç†è¿‡ç¨‹æè¿°ï¼ï½›å¤„ç†è¿‡ç¨‹åï¼Œè¯´æ˜ï¼Œè¾“å…¥:ï½›æ•°æ®æµï½ï¼Œ</p><p>è¾“å‡º:ï½›æ•°æ®æµï½ï¼Œå¤„ç†:ï½›ç®€è¦è¯´æ˜ï½ï½</p></li></ul></li></ul><ol><li>æ¦‚å¿µç»“æ„è®¾è®¡</li></ol><ul><li>è®¾è®¡æ¦‚å¿µç»“æ„çš„å››ç±»æ–¹æ³•<ul><li>è‡ªé¡¶å‘ä¸‹</li></ul></li></ul><ol><li>é¦–å…ˆå®šä¹‰å…¨å±€æ¦‚å¿µç»“æ„çš„æ¡†æ¶ï¼Œç„¶åé€æ­¥ç»†åŒ–</li></ol><ul><li>è‡ªåº•å‘ä¸Š</li></ul><ol><li>é¦–å…ˆå®šä¹‰å„å±€éƒ¨åº”ç”¨çš„æ¦‚å¿µç»“æ„ï¼Œç„¶åå°†å®ƒä»¬é›†æˆèµ·æ¥ï¼Œå¾—åˆ°å…¨å±€æ¦‚å¿µç»“æ„</li></ol><ul><li>é€æ­¥æ‰©å¼ </li></ul><ol><li>é¦–å…ˆå®šä¹‰æœ€é‡è¦çš„æ ¸å¿ƒæ¦‚å¿µç»“æ„ï¼Œç„¶åå‘å¤–æ‰©å……ï¼Œä»¥æ»šé›ªçƒçš„æ–¹å¼é€æ­¥ç”Ÿæˆå…¶ä»–æ¦‚å¿µç»“æ„ï¼Œç›´è‡³æ€»ä½“æ¦‚å¿µç»“æ„</li></ol><ul><li>æ··åˆç­–ç•¥</li></ul><ol><li>å°†è‡ªé¡¶å‘ä¸‹å’Œè‡ªåº•å‘ä¸Šç›¸ç»“åˆï¼Œç”¨è‡ªé¡¶å‘ä¸‹ç­–ç•¥è®¾è®¡ä¸€ä¸ªå…¨å±€æ¦‚å¿µç»“æ„çš„æ¡†æ¶ï¼Œä»¥å®ƒä¸ºéª¨æ¶é›†æˆç”±è‡ªåº•å‘ä¸Šç­–ç•¥ä¸­è®¾è®¡çš„å„å±€éƒ¨æ¦‚å¿µç»“æ„ã€‚</li></ol><ul><li><p>å¸¸ç”¨ç­–ç•¥</p><ul><li><p>è‡ªé¡¶å‘ä¸‹åœ°è¿›è¡Œéœ€æ±‚åˆ†æ</p></li><li><p>è‡ªåº•å‘ä¸Šåœ°è®¾è®¡æ¦‚å¿µç»“æ„</p><p><img src="https://images.cnblogs.com/cnblogs_com/luowei010101/201110/201110212302594127.png" alt="img"></p></li></ul></li><li><p>è‡ªåº•å‘ä¸Šè®¾è®¡æ¦‚å¿µç»“æ„çš„æ­¥éª¤</p><ul><li><p>  ç¬¬1æ­¥ï¼šæŠ½è±¡æ•°æ®å¹¶è®¾è®¡å±€éƒ¨è§†å›¾</p></li><li><p>ç¬¬2æ­¥ï¼šé›†æˆå±€éƒ¨è§†å›¾ï¼Œå¾—åˆ°å…¨å±€æ¦‚å¿µç»“æ„</p><p><img src="https://images.cnblogs.com/cnblogs_com/luowei010101/201110/20111021230259780.png" alt="img"></p></li></ul></li><li><p>æ•°æ®æŠ½è±¡ä¸å±€éƒ¨è§†å›¾è®¾è®¡</p><ul><li><p>æ•°æ®æŠ½è±¡</p><ul><li>ä¸‰ç§å¸¸ç”¨æŠ½è±¡<ul><li>\1. åˆ†ç±»ï¼ˆClassificationï¼‰<ul><li>å®šä¹‰æŸä¸€ç±»æ¦‚å¿µä½œä¸ºç°å®ä¸–ç•Œä¸­ä¸€ç»„å¯¹è±¡çš„ç±»å‹</li><li>æŠ½è±¡äº†å¯¹è±¡å€¼å’Œå‹ä¹‹é—´çš„â€is member ofâ€çš„è¯­ä¹‰</li></ul></li></ul></li></ul><p><img src="https://images.cnblogs.com/cnblogs_com/luowei010101/201110/201110212302596668.png" alt="img"></p><ul><li>\2. èšé›†ï¼ˆAggregationï¼‰<ul><li>å®šä¹‰æŸä¸€ç±»å‹çš„ç»„æˆæˆåˆ†</li><li>æŠ½è±¡äº†å¯¹è±¡å†…éƒ¨ç±»å‹å’Œæˆåˆ†ä¹‹é—´â€is part ofâ€çš„è¯­ä¹‰</li></ul></li></ul><p><img src="https://images.cnblogs.com/cnblogs_com/luowei010101/201110/201110212302596145.png" alt="img"></p><ul><li>å¤æ‚çš„èšé›†ï¼ŒæŸä¸€ç±»å‹çš„æˆåˆ†ä»æ˜¯ä¸€ä¸ªèšé›†</li></ul><p><img src="https://images.cnblogs.com/cnblogs_com/luowei010101/201110/201110212303001195.png" alt="img"></p><ul><li>\3. æ¦‚æ‹¬ï¼ˆGeneralizationï¼‰<ul><li>å®šä¹‰ç±»å‹ä¹‹é—´çš„ä¸€ç§å­é›†è”ç³»</li><li>æŠ½è±¡äº†ç±»å‹ä¹‹é—´çš„â€is subset ofâ€çš„è¯­ä¹‰</li><li>ç»§æ‰¿æ€§</li></ul></li></ul><p><img src="https://images.cnblogs.com/cnblogs_com/luowei010101/201110/201110212303002307.png" alt="img"></p></li><li><p>å±€éƒ¨è§†å›¾è®¾è®¡</p><ul><li>è®¾è®¡åˆ†E-Rå›¾çš„æ­¥éª¤:<ul><li>â’ˆé€‰æ‹©å±€éƒ¨åº”ç”¨<ul><li>åœ¨å¤šå±‚çš„æ•°æ®æµå›¾ä¸­é€‰æ‹©ä¸€ä¸ªé€‚å½“å±‚æ¬¡çš„æ•°æ®æµå›¾ï¼Œä½œä¸ºè®¾è®¡åˆ†E-Rå›¾çš„å‡ºå‘ç‚¹</li><li>é€šå¸¸ä»¥ä¸­å±‚æ•°æ®æµå›¾ä½œä¸ºè®¾è®¡åˆ†E-Rå›¾çš„ä¾æ®</li></ul></li></ul></li></ul><p><img src="https://images.cnblogs.com/cnblogs_com/luowei010101/201110/201110212303015438.png" alt="img"></p><ul><li>â’‰é€ä¸€è®¾è®¡åˆ†E-Rå›¾<ul><li>ä»»åŠ¡<ul><li>å°†å„å±€éƒ¨åº”ç”¨æ¶‰åŠçš„æ•°æ®åˆ†åˆ«ä»æ•°æ®å­—å…¸ä¸­æŠ½å–å‡ºæ¥</li><li>å‚ç…§æ•°æ®æµå›¾ï¼Œæ ‡å®šå„å±€éƒ¨åº”ç”¨ä¸­çš„å®ä½“ã€å®ä½“çš„å±æ€§ã€æ ‡è¯†å®ä½“çš„ç </li><li>ç¡®å®šå®ä½“ä¹‹é—´çš„è”ç³»åŠå…¶ç±»å‹ï¼ˆ1:1ï¼Œ1:nï¼Œm:nï¼‰</li></ul></li><li>ä¸¤æ¡å‡†åˆ™ï¼š<ul><li>ï¼ˆ1ï¼‰å±æ€§ä¸èƒ½å†å…·æœ‰éœ€è¦æè¿°çš„æ€§è´¨ã€‚å³å±æ€§å¿…é¡»æ˜¯ä¸å¯åˆ†çš„æ•°æ®é¡¹ï¼Œä¸èƒ½å†ç”±å¦ä¸€äº›å±æ€§ç»„æˆ</li><li>ï¼ˆ2ï¼‰å±æ€§ä¸èƒ½ä¸å…¶ä»–å®ä½“å…·æœ‰è”ç³»ã€‚è”ç³»åªå‘ç”Ÿåœ¨å®ä½“ä¹‹é—´</li></ul></li><li>ä¸¾ä¾‹</li></ul></li></ul><p><img src="https://images.cnblogs.com/cnblogs_com/luowei010101/201110/201110212303024981.png" alt="img"></p><p><img src="https://images.cnblogs.com/cnblogs_com/luowei010101/201110/201110212303025570.png" alt="img"></p><p><img src="https://images.cnblogs.com/cnblogs_com/luowei010101/201110/201110212303028983.png" alt="img"></p></li></ul></li></ul><ol><li>é€»è¾‘ç»“æ„è®¾è®¡</li></ol><ul><li>E-Rå›¾å‘å…³ç³»æ¨¡å‹çš„è½¬æ¢</li><li>æ•°æ®æ¨¡å‹çš„ä¼˜åŒ–<ul><li>ä¼˜åŒ–æ•°æ®æ¨¡å‹çš„æ–¹æ³•<ul><li>1ç¡®å®šæ•°æ®ä¾èµ–<ul><li>æŒ‰éœ€æ±‚åˆ†æé˜¶æ®µæ‰€å¾—åˆ°çš„è¯­ä¹‰ï¼Œåˆ†åˆ«å†™å‡ºæ¯ä¸ªå…³ç³»æ¨¡å¼å†…éƒ¨å„å±æ€§ä¹‹é—´çš„æ•°æ®ä¾èµ–ä»¥åŠä¸åŒå…³ç³»æ¨¡å¼å±æ€§ä¹‹é—´æ•°æ®ä¾èµ–</li></ul></li><li>2æ¶ˆé™¤ å†—ä½™çš„è”ç³»<ul><li>å¯¹äºå„ä¸ªå…³ç³»æ¨¡å¼ä¹‹é—´çš„æ•°æ®ä¾èµ–è¿›è¡Œæå°åŒ–å¤„ç†ï¼Œæ¶ˆé™¤ å†—ä½™çš„è”ç³»ã€‚</li></ul></li><li>3ç¡®å®šæ‰€å±èŒƒå¼<ul><li>æŒ‰ç…§æ•°æ®ä¾èµ–çš„ç†è®ºå¯¹å…³ç³»æ¨¡å¼é€ä¸€è¿›è¡Œåˆ†æ</li><li>è€ƒæŸ¥æ˜¯å¦å­˜åœ¨éƒ¨åˆ†å‡½æ•°ä¾èµ–ã€ä¼ é€’å‡½æ•°ä¾èµ–ã€å¤šå€¼ä¾èµ–ç­‰</li><li>ç¡®å®šå„å…³ç³»æ¨¡å¼åˆ†åˆ«å±äºç¬¬å‡ èŒƒå¼</li></ul></li><li>4æŒ‰ç…§éœ€æ±‚åˆ†æé˜¶æ®µå¾—åˆ°çš„å„ç§åº”ç”¨å¯¹æ•°æ®å¤„ç†çš„è¦æ±‚ï¼Œåˆ†æå¯¹äºè¿™æ ·çš„åº”ç”¨ç¯å¢ƒè¿™äº›æ¨¡å¼æ˜¯å¦åˆé€‚ï¼Œç¡®å®šæ˜¯å¦è¦å¯¹å®ƒä»¬è¿›è¡Œåˆå¹¶æˆ–åˆ†è§£ã€‚</li><li>æ³¨æ„ï¼šå¹¶ä¸æ˜¯è§„èŒƒåŒ–ç¨‹åº¦è¶Šé«˜çš„å…³ç³»å°±è¶Šä¼˜ï¼Œä¸€èˆ¬è¯´æ¥ï¼Œç¬¬ä¸‰èŒƒå¼å°±è¶³å¤Ÿäº†</li><li>5æŒ‰ç…§éœ€æ±‚åˆ†æé˜¶æ®µå¾—åˆ°çš„å„ç§åº”ç”¨å¯¹æ•°æ®å¤„ç†çš„è¦æ±‚ï¼Œå¯¹å…³ç³»æ¨¡å¼è¿›è¡Œå¿…è¦çš„åˆ†è§£ï¼Œä»¥æé«˜æ•°æ®æ“ä½œçš„æ•ˆç‡å’Œå­˜å‚¨ç©ºé—´çš„åˆ©ç”¨ç‡</li></ul></li></ul></li><li>è®¾è®¡ç”¨æˆ·å­æ¨¡å¼<ul><li>å®šä¹‰ç”¨æˆ·å¤–æ¨¡å¼æ—¶åº”è¯¥æ³¨é‡çš„é—®é¢˜<ul><li>åŒ…æ‹¬ä¸‰ä¸ªæ–¹é¢ï¼š<ul><li>(1) ä½¿ç”¨æ›´ç¬¦åˆç”¨æˆ·ä¹ æƒ¯çš„åˆ«å</li><li>(2) é’ˆå¯¹ä¸åŒçº§åˆ«çš„ç”¨æˆ·å®šä¹‰ä¸åŒçš„View ï¼Œä»¥æ»¡è¶³ç³»ç»Ÿå¯¹å®‰å…¨æ€§çš„è¦æ±‚ã€‚</li><li>(3) ç®€åŒ–ç”¨æˆ·å¯¹ç³»ç»Ÿçš„ä½¿ç”¨</li></ul></li></ul></li></ul></li></ul><ol><li>æ•°æ®åº“çš„ç‰©ç†è®¾è®¡</li></ol><ul><li>æ•°æ®åº“ç‰©ç†è®¾è®¡çš„å†…å®¹å’Œæ–¹æ³•</li><li>å…³ç³»æ¨¡å¼å­˜å–æ–¹æ³•é€‰æ‹©<ul><li>DBMSå¸¸ç”¨å­˜å–æ–¹æ³•<ul><li>ç´¢å¼•æ–¹æ³•<ul><li>ç›®å‰ä¸»è¦æ˜¯B+æ ‘ç´¢å¼•æ–¹æ³•</li><li>ç»å…¸å­˜å–æ–¹æ³•ï¼Œä½¿ç”¨æœ€æ™®é</li></ul></li><li>èšç°‡ï¼ˆClusterï¼‰æ–¹æ³•<ul><li>HASHæ–¹æ³•</li></ul></li></ul></li><li>é€‰æ‹©ç´¢å¼•å­˜å–æ–¹æ³•çš„ä¸€èˆ¬è§„åˆ™<ul><li>å¦‚æœä¸€ä¸ª(æˆ–ä¸€ç»„)å±æ€§ç»å¸¸åœ¨æŸ¥è¯¢æ¡ä»¶ä¸­å‡ºç°ï¼Œåˆ™è€ƒè™‘åœ¨è¿™ä¸ª(æˆ–è¿™ç»„)å±æ€§ä¸Šå»ºç«‹ç´¢å¼•(æˆ–ç»„åˆç´¢å¼•)</li><li>å¦‚æœä¸€ä¸ªå±æ€§ç»å¸¸ä½œä¸ºæœ€å¤§å€¼å’Œæœ€å°å€¼ç­‰èšé›†å‡½æ•°çš„å‚æ•°ï¼Œåˆ™è€ƒè™‘åœ¨è¿™ä¸ªå±æ€§ä¸Šå»ºç«‹ç´¢å¼•</li><li>å¦‚æœä¸€ä¸ª(æˆ–ä¸€ç»„)å±æ€§ç»å¸¸åœ¨è¿æ¥æ“ä½œçš„è¿æ¥æ¡ä»¶ä¸­å‡ºç°ï¼Œåˆ™è€ƒè™‘åœ¨è¿™ä¸ª(æˆ–è¿™ç»„)å±æ€§ä¸Šå»ºç«‹ç´¢å¼•</li></ul></li><li>èšç°‡<ul><li>ä¸ºäº†æé«˜æŸä¸ªå±æ€§ï¼ˆæˆ–å±æ€§ç»„ï¼‰çš„æŸ¥è¯¢é€Ÿåº¦ï¼ŒæŠŠè¿™ä¸ªæˆ–è¿™äº›å±æ€§ï¼ˆç§°ä¸ºèšç°‡ç ï¼‰ä¸Šå…·æœ‰ç›¸åŒå€¼çš„å…ƒç»„é›†ä¸­å­˜æ”¾åœ¨è¿ç»­çš„ç‰©ç†å—ç§°ä¸ºèšç°‡</li></ul></li><li>èšç°‡çš„ç”¨é€”<ul><li>\1. å¤§å¤§æé«˜æŒ‰èšç°‡ç è¿›è¡ŒæŸ¥è¯¢çš„æ•ˆç‡</li><li>\2. èŠ‚çœå­˜å‚¨ç©ºé—´<ul><li>èšç°‡ä»¥åï¼Œèšç°‡ç ç›¸åŒçš„å…ƒç»„é›†ä¸­åœ¨ä¸€èµ·äº†ï¼Œå› è€Œèšç°‡ç å€¼ä¸å¿…åœ¨æ¯ä¸ªå…ƒç»„ä¸­é‡å¤å­˜å‚¨ï¼Œåªè¦åœ¨ä¸€ç»„ä¸­å­˜ä¸€æ¬¡å°±è¡Œäº†</li></ul></li></ul></li><li>èšç°‡çš„å±€é™æ€§<ul><li>\1. èšç°‡åªèƒ½æé«˜æŸäº›ç‰¹å®šåº”ç”¨çš„æ€§èƒ½</li><li>\2. å»ºç«‹ä¸ç»´æŠ¤èšç°‡çš„å¼€é”€ç›¸å½“å¤§<ul><li>å¯¹å·²æœ‰å…³ç³»å»ºç«‹èšç°‡ï¼Œå°†å¯¼è‡´å…³ç³»ä¸­å…ƒç»„ç§»åŠ¨å…¶ç‰©ç†å­˜å‚¨ä½ç½®ï¼Œå¹¶ä½¿æ­¤å…³ç³»ä¸ŠåŸæœ‰çš„ç´¢å¼•æ— æ•ˆï¼Œå¿…é¡»é‡å»º</li><li>å½“ä¸€ä¸ªå…ƒç»„çš„èšç°‡ç æ”¹å˜æ—¶ï¼Œè¯¥å…ƒç»„çš„å­˜å‚¨ä½ç½®ä¹Ÿè¦åšç›¸åº”ç§»åŠ¨</li></ul></li></ul></li></ul></li><li>ç¡®å®šæ•°æ®çš„å­˜æ”¾ä½ç½®<ul><li>æ ¹æ®åº”ç”¨æƒ…å†µå°†<ul><li>æ˜“å˜éƒ¨åˆ†ä¸ç¨³å®šéƒ¨åˆ†åˆ†å¼€å­˜æ”¾</li><li>å­˜å–é¢‘ç‡è¾ƒé«˜éƒ¨åˆ†ä¸å­˜å–é¢‘ç‡è¾ƒä½éƒ¨åˆ†ï¼Œåˆ†å¼€å­˜æ”¾</li></ul></li></ul></li><li>è¯„ä»·ç‰©ç†ç»“æ„</li></ul><ol><li>å°ç»“ï¼ˆç»­ï¼‰</li></ol><ul><li>åœ¨é€»è¾‘è®¾è®¡é˜¶æ®µå°†E-Rå›¾è½¬æ¢æˆå…·ä½“çš„æ•°æ®åº“äº§å“æ”¯æŒçš„æ•°æ®æ¨¡å‹å¦‚å…³ç³»æ¨¡å‹ï¼Œå½¢æˆæ•°æ®åº“é€»è¾‘æ¨¡å¼ã€‚ç„¶åæ ¹æ®ç”¨æˆ·å¤„ç†çš„è¦æ±‚ï¼Œå®‰å…¨æ€§çš„è€ƒè™‘ï¼Œåœ¨åŸºæœ¬è¡¨çš„åŸºç¡€ä¸Šå†å»ºç«‹å¿…è¦çš„è§†å›¾ï¼ˆVIEWï¼‰å½¢æˆæ•°æ®çš„å¤–æ¨¡å¼</li><li>åœ¨ç‰©ç†è®¾è®¡é˜¶æ®µæ ¹æ®DBMSç‰¹ç‚¹å’Œå¤„ç†çš„éœ€è¦ï¼Œè¿›è¡Œç‰©ç†å­˜å‚¨å®‰æ’ï¼Œè®¾è®¡ç´¢å¼•ï¼Œå½¢æˆæ•°æ®åº“å†…æ¨¡å¼</li></ul><p><strong>æ•°æ®åº“ç¼–ç¨‹</strong></p><ul><li>åµŒå…¥å¼SQL</li></ul><ol><li>åµŒå…¥å¼SQLçš„å¤„ç†è¿‡ç¨‹</li></ol><ul><li>æ•°æ®åº“å·¥ä½œå•å…ƒä¸æºç¨‹åºå·¥ä½œå•å…ƒä¹‹é—´çš„é€šä¿¡ï¼š<ul><li>\1. SQLé€šä¿¡åŒº<ul><li>å‘ä¸»è¯­è¨€ä¼ é€’SQLè¯­å¥çš„æ‰§è¡ŒçŠ¶æ€ä¿¡æ¯</li><li>ä½¿ä¸»è¯­è¨€èƒ½å¤Ÿæ®æ­¤æ§åˆ¶ç¨‹åºæµç¨‹</li></ul></li><li>\2. ä¸»å˜é‡<ul><li>ä¸»è¯­è¨€å‘SQLè¯­å¥æä¾›å‚æ•°</li><li>å°†SQLè¯­å¥æŸ¥è¯¢æ•°æ®åº“çš„ç»“æœäº¤ä¸»è¯­è¨€è¿›ä¸€æ­¥å¤„ç†</li></ul></li><li>\3. æ¸¸æ ‡<ul><li>è§£å†³é›†åˆæ€§æ“ä½œè¯­è¨€ä¸è¿‡ç¨‹æ€§æ“ä½œè¯­è¨€çš„ä¸åŒ¹é…</li></ul></li></ul></li></ul><ol><li>åµŒå…¥å¼SQLä¸ä¸»è¯­è¨€çš„é€šä¿¡</li></ol><ul><li><p>åœ¨SQLè¯­å¥ä¸­ä½¿ç”¨ä¸»å˜é‡å’ŒæŒ‡ç¤ºå˜é‡çš„æ–¹æ³•</p><ul><li><ol><li>è¯´æ˜ä¸»å˜é‡å’ŒæŒ‡ç¤ºå˜é‡</li></ol><p><strong>BEGIN DECLARE SECTION</strong></p><p>  <strong>â€¦â€¦â€¦</strong></p><p>  <strong>â€¦â€¦â€¦ (è¯´æ˜ä¸»å˜é‡å’ŒæŒ‡ç¤ºå˜é‡)</strong></p><p>  <strong>â€¦â€¦â€¦</strong></p><p><strong>END DECLARE SECTION</strong></p></li><li><ol start="2"><li>ä½¿ç”¨ä¸»å˜é‡</li></ol><ul><li>è¯´æ˜ä¹‹åçš„ä¸»å˜é‡å¯ä»¥åœ¨SQLè¯­å¥ä¸­ä»»ä½•ä¸€ä¸ªèƒ½å¤Ÿä½¿ç”¨è¡¨è¾¾å¼çš„åœ°æ–¹å‡ºç°</li><li>ä¸ºäº†ä¸æ•°æ®åº“å¯¹è±¡åï¼ˆè¡¨åã€è§†å›¾åã€åˆ—åç­‰ï¼‰åŒºåˆ«ï¼ŒSQLè¯­å¥ä¸­çš„ä¸»å˜é‡åå‰è¦åŠ å†’å·ï¼ˆ:ï¼‰ä½œä¸ºæ ‡å¿—</li></ul></li><li><ol start="3"><li>ä½¿ç”¨æŒ‡ç¤ºå˜é‡</li></ol><ul><li>æŒ‡ç¤ºå˜é‡å‰ä¹Ÿå¿…é¡»åŠ å†’å·æ ‡å¿—</li><li>å¿…é¡»ç´§è·Ÿåœ¨æ‰€æŒ‡ä¸»å˜é‡ä¹‹å</li></ul></li></ul></li><li><p>åœ¨SQLè¯­å¥ä¹‹å¤–(ä¸»è¯­è¨€è¯­å¥ä¸­)ä½¿ç”¨ä¸»å˜é‡å’ŒæŒ‡ç¤ºå˜é‡çš„æ–¹æ³•</p><ul><li>å¯ä»¥ç›´æ¥å¼•ç”¨ï¼Œä¸å¿…åŠ å†’å·</li></ul></li><li><p>æ¸¸æ ‡ï¼ˆcursorï¼‰</p><ul><li>SQLè¯­è¨€ä¸ä¸»è¯­è¨€å…·æœ‰ä¸åŒæ•°æ®å¤„ç†æ–¹å¼</li><li>SQLè¯­è¨€æ˜¯é¢å‘é›†åˆçš„ï¼Œä¸€æ¡SQLè¯­å¥åŸåˆ™ä¸Šå¯ä»¥äº§ç”Ÿæˆ–å¤„ç†å¤šæ¡è®°å½•</li><li>ä¸»è¯­è¨€æ˜¯é¢å‘è®°å½•çš„ï¼Œä¸€ç»„ä¸»å˜é‡ä¸€æ¬¡åªèƒ½å­˜æ”¾ä¸€æ¡è®°å½•</li><li>ä»…ä½¿ç”¨ä¸»å˜é‡å¹¶ä¸èƒ½å®Œå…¨æ»¡è¶³SQLè¯­å¥å‘åº”ç”¨ç¨‹åºè¾“å‡ºæ•°æ®çš„è¦æ±‚</li><li>åµŒå…¥å¼SQLå¼•å…¥äº†æ¸¸æ ‡çš„æ¦‚å¿µï¼Œç”¨æ¥åè°ƒè¿™ä¸¤ç§ä¸åŒçš„å¤„ç†æ–¹å¼</li><li>æ¸¸æ ‡æ˜¯ç³»ç»Ÿä¸ºç”¨æˆ·å¼€è®¾çš„ä¸€ä¸ªæ•°æ®ç¼“å†²åŒºï¼Œå­˜æ”¾SQLè¯­å¥çš„æ‰§è¡Œç»“æœ</li><li>æ¯ä¸ªæ¸¸æ ‡åŒºéƒ½æœ‰ä¸€ä¸ªåå­—</li><li>ç”¨æˆ·å¯ä»¥ç”¨SQLè¯­å¥é€ä¸€ä»æ¸¸æ ‡ä¸­è·å–è®°å½•ï¼Œå¹¶èµ‹ç»™ä¸»å˜é‡ï¼Œäº¤ç”±ä¸»è¯­è¨€è¿›ä¸€æ­¥å¤„ç†</li></ul></li><li><p>å»ºç«‹å’Œå…³é—­æ•°æ®åº“è¿æ¥</p><ul><li><p>å»ºç«‹æ•°æ®åº“è¿æ¥</p><p><strong>EXEC SQL CONNECT TO target [AS connection-name] [USER user-name];</strong></p><ul><li>targetæ˜¯è¦è¿æ¥çš„æ•°æ®åº“æœåŠ¡å™¨ï¼š<ul><li>å¸¸è§çš„æœåŠ¡å™¨æ ‡è¯†ä¸²ï¼Œå¦‚<dbname>@<hostname>:<port></port></hostname></dbname></li><li>åŒ…å«æœåŠ¡å™¨æ ‡è¯†çš„SQLä¸²å¸¸é‡</li><li>DEFAULT</li></ul></li><li>connect-nameæ˜¯å¯é€‰çš„è¿æ¥åï¼Œè¿æ¥å¿…é¡»æ˜¯ä¸€ä¸ªæœ‰æ•ˆçš„æ ‡è¯†ç¬¦ åœ¨æ•´ä¸ªç¨‹åºå†…åªæœ‰ä¸€ä¸ªè¿æ¥æ—¶å¯ä»¥ä¸æŒ‡å®šè¿æ¥å</li></ul></li><li><p>å…³é—­æ•°æ®åº“è¿æ¥</p><p><strong>EXEC SQL DISCONNECT [connection];</strong></p></li><li><p>ç¨‹åºè¿è¡Œè¿‡ç¨‹ä¸­å¯ä»¥ä¿®æ”¹å½“å‰è¿æ¥ ï¼š</p><p><strong>EXEC SQL SET CONNECTION connection-name | DEFAULT;</strong></p></li></ul></li><li><p>ä¸ç”¨æ¸¸æ ‡çš„SQLè¯­å¥çš„ç§ç±»</p><ul><li>è¯´æ˜æ€§è¯­å¥</li><li>æ•°æ®å®šä¹‰è¯­å¥</li><li>æ•°æ®æ§åˆ¶è¯­å¥</li><li>æŸ¥è¯¢ç»“æœä¸ºå•è®°å½•çš„SELECTè¯­å¥</li><li>éCURRENTå½¢å¼çš„å¢åˆ æ”¹è¯­å¥</li></ul></li><li><p>ä½¿ç”¨æ¸¸æ ‡çš„SQLè¯­å¥</p><ul><li><p>æŸ¥è¯¢ç»“æœä¸ºå¤šæ¡è®°å½•çš„SELECTè¯­å¥</p><ul><li><p>ä½¿ç”¨æ¸¸æ ‡çš„æ­¥éª¤</p><ul><li><p>\1. è¯´æ˜æ¸¸æ ‡</p><ul><li><p>ä½¿ç”¨DECLAREè¯­å¥</p></li><li><p>è¯­å¥æ ¼å¼</p><p><strong>EXEC SQL DECLARE &lt;æ¸¸æ ‡å&gt; CURSOR</strong></p><p><strong>FOR ;</strong></p></li><li><p>åŠŸèƒ½</p><p>æ˜¯ä¸€æ¡è¯´æ˜æ€§è¯­å¥ï¼Œè¿™æ—¶DBMSå¹¶ä¸æ‰§è¡ŒSELECTæŒ‡å®šçš„æŸ¥è¯¢æ“ä½œã€‚</p></li></ul></li><li><p>\2. æ‰“å¼€æ¸¸æ ‡</p><ul><li><p>ä½¿ç”¨OPENè¯­å¥</p></li><li><p>è¯­å¥æ ¼å¼</p><p><strong>EXEC SQL OPEN &lt;æ¸¸æ ‡å&gt;;</strong></p></li><li><p>åŠŸèƒ½</p><p>æ‰“å¼€æ¸¸æ ‡å®é™…ä¸Šæ˜¯æ‰§è¡Œç›¸åº”çš„SELECTè¯­å¥ï¼ŒæŠŠæ‰€æœ‰æ»¡è¶³æŸ¥è¯¢æ¡ä»¶çš„è®°å½•ä»æŒ‡å®šè¡¨å–åˆ°ç¼“å†²åŒºä¸­è¿™æ—¶æ¸¸æ ‡å¤„äºæ´»åŠ¨çŠ¶æ€ï¼ŒæŒ‡é’ˆæŒ‡å‘æŸ¥è¯¢ç»“æœé›†ä¸­ç¬¬ä¸€æ¡è®°å½•</p></li></ul></li><li><p>3.æ¨è¿›æ¸¸æ ‡æŒ‡é’ˆå¹¶å–å½“å‰è®°å½•</p><ul><li><p>ä½¿ç”¨FETCHè¯­å¥</p></li><li><p>è¯­å¥æ ¼å¼</p><p><strong>EXEC SQL FETCH [[NEXT|PRIOR|</strong></p><p><strong>FIRST|LAST] FROM] &lt;æ¸¸æ ‡å&gt;</strong></p><p><strong>INTO &lt;ä¸»å˜é‡&gt;[&lt;æŒ‡ç¤ºå˜é‡&gt;][,&lt;ä¸»å˜é‡&gt;[&lt;æŒ‡ç¤ºå˜é‡&gt;]]â€¦;</strong></p></li><li><p>åŠŸèƒ½</p><p>æŒ‡å®šæ–¹å‘æ¨åŠ¨æ¸¸æ ‡æŒ‡é’ˆï¼Œç„¶åå°†ç¼“å†²åŒºä¸­çš„å½“å‰è®°å½•å–å‡ºæ¥é€è‡³ä¸»å˜é‡ä¾›ä¸»è¯­è¨€è¿›ä¸€æ­¥å¤„ç†</p><p>NEXT|PRIOR|FIRST|LASTï¼šæŒ‡å®šæ¨åŠ¨æ¸¸æ ‡æŒ‡é’ˆçš„æ–¹å¼</p><p>NEXTï¼šå‘å‰æ¨è¿›ä¸€æ¡è®°å½•</p><p>PRIORï¼šå‘å›é€€ä¸€æ¡è®°å½•</p><p>FIRSTï¼šæ¨å‘ç¬¬ä¸€æ¡è®°å½•</p><p>LASTï¼šæ¨å‘æœ€åä¸€æ¡è®°å½•</p><p>ç¼ºçœå€¼ä¸ºNEXT</p></li></ul></li><li><p>\4. å…³é—­æ¸¸æ ‡</p><ul><li><p>ä½¿ç”¨CLOSEè¯­å¥</p></li><li><p>è¯­å¥æ ¼å¼</p><p><strong>EXEC SQL CLOSE &lt;æ¸¸æ ‡å&gt;;</strong></p></li><li><p>åŠŸèƒ½</p><p>å…³é—­æ¸¸æ ‡ï¼Œé‡Šæ”¾ç»“æœé›†å ç”¨çš„ç¼“å†²åŒºåŠå…¶ä»–èµ„æº</p></li><li><p>è¯´æ˜</p><p>æ¸¸æ ‡è¢«å…³é—­åï¼Œå°±ä¸å†å’ŒåŸæ¥çš„æŸ¥è¯¢ç»“æœé›†ç›¸è”ç³»</p><p>è¢«å…³é—­çš„æ¸¸æ ‡å¯ä»¥å†æ¬¡è¢«æ‰“å¼€ï¼Œä¸æ–°çš„æŸ¥è¯¢ç»“æœç›¸è”ç³»</p></li></ul></li></ul></li></ul></li><li><p>CURRENTå½¢å¼çš„UPDATEè¯­å¥</p><ul><li><p>CURRENTå½¢å¼çš„UPDATEè¯­å¥å’ŒDELETEè¯­å¥çš„ç”¨é€”</p><ul><li>é¢å‘é›†åˆçš„æ“ä½œ</li><li>ä¸€æ¬¡ä¿®æ”¹æˆ–åˆ é™¤æ‰€æœ‰æ»¡è¶³æ¡ä»¶çš„è®°å½•</li></ul></li><li><p>å¦‚æœåªæƒ³ä¿®æ”¹æˆ–åˆ é™¤å…¶ä¸­æŸä¸ªè®°å½•</p><ul><li><p>ç”¨å¸¦æ¸¸æ ‡çš„SELECTè¯­å¥æŸ¥å‡ºæ‰€æœ‰æ»¡è¶³æ¡ä»¶çš„è®°å½•</p></li><li><p>ä»ä¸­è¿›ä¸€æ­¥æ‰¾å‡ºè¦ä¿®æ”¹æˆ–åˆ é™¤çš„è®°å½•</p></li><li><p>ç”¨CURRENTå½¢å¼çš„UPDATEè¯­å¥å’ŒDELETEè¯­å¥ä¿®æ”¹æˆ–åˆ é™¤ä¹‹</p></li><li><p>UPDATEè¯­å¥å’ŒDELETEè¯­å¥ä¸­çš„å­å¥ï¼š</p><p><strong>WHERE CURRENT OF &lt;æ¸¸æ ‡å&gt;</strong></p><p>è¡¨ç¤ºä¿®æ”¹æˆ–åˆ é™¤çš„æ˜¯æœ€è¿‘ä¸€æ¬¡å–å‡ºçš„è®°å½•ï¼Œå³æ¸¸æ ‡æŒ‡é’ˆæŒ‡å‘çš„è®°å½•</p></li></ul></li><li><p>ä¸èƒ½ä½¿ç”¨CURRENTå½¢å¼çš„UPDATEè¯­å¥å’ŒDELETEè¯­å¥ :</p><ul><li>å½“æ¸¸æ ‡å®šä¹‰ä¸­çš„SELECTè¯­å¥å¸¦æœ‰UNIONæˆ–ORDER BYå­å¥</li><li>è¯¥SELECTè¯­å¥ç›¸å½“äºå®šä¹‰äº†ä¸€ä¸ªä¸å¯æ›´æ–°çš„è§†å›¾</li></ul></li><li></li></ul></li></ul></li></ul><ol><li>åŠ¨æ€SQL</li></ol><ul><li><p>é™æ€åµŒå…¥å¼SQL</p><ul><li>é™æ€åµŒå…¥å¼SQLè¯­å¥èƒ½å¤Ÿæ»¡è¶³ä¸€èˆ¬è¦æ±‚</li><li>æ— æ³•æ»¡è¶³è¦åˆ°æ‰§è¡Œæ—¶æ‰èƒ½å¤Ÿç¡®å®šè¦æäº¤çš„SQLè¯­å¥</li></ul></li><li><p>åŠ¨æ€åµŒå…¥å¼SQL</p><ul><li>å…è®¸åœ¨ç¨‹åºè¿è¡Œè¿‡ç¨‹ä¸­ä¸´æ—¶â€ç»„è£…â€SQLè¯­å¥</li><li>æ”¯æŒåŠ¨æ€ç»„è£…SQLè¯­å¥å’ŒåŠ¨æ€å‚æ•°ä¸¤ç§å½¢å¼</li></ul></li><li><p>SQLè¯­å¥ä¸»å˜é‡ï¼š</p><ul><li>ç¨‹åºä¸»å˜é‡åŒ…å«çš„å†…å®¹æ˜¯SQLè¯­å¥çš„å†…å®¹ï¼Œè€Œä¸æ˜¯åŸæ¥ä¿å­˜æ•°æ®çš„è¾“å…¥æˆ–è¾“å‡ºå˜é‡</li><li>SQLè¯­å¥ä¸»å˜é‡åœ¨ç¨‹åºæ‰§è¡ŒæœŸé—´å¯ä»¥è®¾å®šä¸åŒçš„SQLè¯­å¥ï¼Œç„¶åç«‹å³æ‰§è¡Œ</li></ul></li><li><p>åŠ¨æ€å‚æ•°</p><ul><li>SQLè¯­å¥ä¸­çš„å¯å˜å…ƒç´ </li><li>ä½¿ç”¨å‚æ•°ç¬¦å·(?)è¡¨ç¤ºè¯¥ä½ç½®çš„æ•°æ®åœ¨è¿è¡Œæ—¶è®¾å®š</li></ul></li><li><p>å’Œä¸»å˜é‡çš„åŒºåˆ«</p><ul><li>åŠ¨æ€å‚æ•°çš„è¾“å…¥ä¸æ˜¯ç¼–è¯‘æ—¶å®Œæˆç»‘å®š</li><li>è€Œæ˜¯é€šè¿‡ (prepare)è¯­å¥å‡†å¤‡ä¸»å˜é‡å’Œæ‰§è¡Œ(execute)æ—¶ç»‘å®šæ•°æ®æˆ–ä¸»å˜é‡æ¥å®Œæˆ</li></ul></li><li><p>ä½¿ç”¨åŠ¨æ€å‚æ•°çš„æ­¥éª¤ï¼š</p><ul><li><p>1.å£°æ˜SQLè¯­å¥ä¸»å˜é‡ã€‚</p></li><li><p>2.å‡†å¤‡SQLè¯­å¥(PREPARE)ã€‚</p><p><strong>EXEC SQL PREPARE &lt;è¯­å¥å&gt; FROM ;</strong></p></li><li><p>3.æ‰§è¡Œå‡†å¤‡å¥½çš„è¯­å¥(EXECUTE)</p><p><strong>EXEC SQL EXECUTE &lt;è¯­å¥å&gt; [INTO &lt;ä¸»å˜é‡è¡¨&gt;] [USING &lt;  ä¸»å˜é‡æˆ–å¸¸é‡&gt;];</strong></p></li></ul></li><li><p>å­˜å‚¨è¿‡ç¨‹</p></li></ul><ol><li>PL/SQLçš„å—ç»“æ„</li></ol><ul><li><p>PL/SOLå—çš„åŸºæœ¬ç»“æ„ï¼š</p><ul><li><p>1.å®šä¹‰éƒ¨åˆ†</p><p><strong>DECLARE</strong>  </p><p><strong>â€”â€”å˜é‡ã€å¸¸é‡ã€æ¸¸æ ‡ã€å¼‚å¸¸ç­‰</strong></p><ul><li>å®šä¹‰çš„å˜é‡ã€å¸¸é‡ç­‰åªèƒ½åœ¨è¯¥åŸºæœ¬å—ä¸­ä½¿ç”¨</li><li>å½“åŸºæœ¬å—æ‰§è¡Œç»“æŸæ—¶ï¼Œå®šä¹‰å°±ä¸å†å­˜åœ¨</li></ul></li><li><p>2.æ‰§è¡Œéƒ¨åˆ†</p><p><strong>BEGIN</strong></p><p><strong>â€”â€”SQLè¯­å¥ã€PL/SQLçš„æµç¨‹æ§åˆ¶è¯­å¥</strong></p><p><strong>EXCEPTION</strong></p><p><strong>â€”â€”å¼‚å¸¸å¤„ç†éƒ¨åˆ†</strong>    </p><p><strong>ENDï¼›</strong></p></li></ul></li><li><p>å˜é‡å¸¸é‡çš„å®šä¹‰</p><ul><li>\1. PL/SQLä¸­å®šä¹‰å˜é‡çš„è¯­æ³•å½¢å¼æ˜¯:<ul><li>å˜é‡å æ•°æ®ç±»å‹ ï¼» ï¼»NOT NULLï¼½:=åˆå€¼è¡¨è¾¾å¼ï¼½æˆ–</li><li>å˜é‡å æ•°æ®ç±»å‹ ï¼» ï¼»NOT NULLï¼½åˆå€¼è¡¨è¾¾å¼ï¼½</li></ul></li><li>\2. å¸¸é‡çš„å®šä¹‰ç±»ä¼¼äºå˜é‡çš„å®šä¹‰:<ul><li>å¸¸é‡å æ•°æ®ç±»å‹ CONSTANT :=å¸¸é‡è¡¨è¾¾å¼</li><li>å¸¸é‡å¿…é¡»è¦ç»™ä¸€ä¸ªå€¼ï¼Œå¹¶ä¸”è¯¥å€¼åœ¨å­˜åœ¨æœŸé—´æˆ–å¸¸é‡çš„ä½œç”¨åŸŸå†…ä¸èƒ½æ”¹å˜ã€‚å¦‚æœè¯•å›¾ä¿®æ”¹å®ƒï¼ŒPL/SQLå°†è¿”å›ä¸€ä¸ªå¼‚å¸¸ã€‚</li></ul></li><li>\3. èµ‹å€¼è¯­å¥<ul><li>å˜é‡åç§°:=è¡¨è¾¾å¼</li></ul></li><li>æ§åˆ¶ç»“æ„</li></ul></li><li><p>ä¸€ã€æ¡ä»¶æ§åˆ¶è¯­å¥</p><ul><li><p>IF-THENï¼Œ IF-THEN-ELSEå’ŒåµŒå¥—çš„IFè¯­å¥</p><p>  <strong>1. IF condition THEN</strong></p><p>   <strong>Sequence_of_statements;</strong></p><p>   <strong>END IF</strong></p><p>  <strong>2. IF condition THEN</strong></p><p>   <strong>Sequence_of_statements1;</strong></p><p>   <strong>ELSE</strong></p><p>   <strong>Sequence_of_statements2;</strong></p><p>   <strong>END IF;</strong></p><p>  <strong>3. åœ¨THENå’ŒELSEå­å¥ä¸­è¿˜å¯ä»¥å†åŒ…æ‹¬IFè¯­å¥ï¼Œå³IFè¯­å¥å¯ä»¥åµŒå¥—</strong></p></li></ul></li><li><p>äºŒã€å¾ªç¯æ§åˆ¶è¯­å¥</p><ul><li><p>LOOPï¼Œ WHILE-LOOPå’ŒFOR-LOOP</p><p><strong>1.æœ€ç®€å•çš„å¾ªç¯è¯­å¥LOOP</strong></p><p>   <strong>LOOP</strong></p><p>   <strong>Sequence_of_statements;</strong></p><p>   <strong>END LOOP;</strong></p><p>  <strong>å¤šæ•°æ•°æ®åº“æœåŠ¡å™¨çš„PL/SQLéƒ½æä¾›EXITã€BREAKæˆ–LEAVEç­‰å¾ªç¯ç»“æŸè¯­å¥ï¼Œä¿è¯LOOPè¯­å¥å—èƒ½å¤Ÿç»“æŸã€‚</strong></p><p><strong>2. WHILE-LOOP</strong></p><p><strong>WHILE condition LOOP</strong></p><p>   <strong>Sequence_of_statements;</strong></p><p>  <strong>END LOOP;</strong></p><p><strong>æ¯æ¬¡æ‰§è¡Œå¾ªç¯ä½“è¯­å¥ä¹‹å‰ï¼Œé¦–å…ˆå¯¹æ¡ä»¶è¿›è¡Œæ±‚å€¼</strong></p><p><strong>å¦‚æœæ¡ä»¶ä¸ºçœŸï¼Œåˆ™æ‰§è¡Œå¾ªç¯ä½“å†…çš„è¯­å¥åºåˆ—ã€‚</strong></p><p><strong>å¦‚æœæ¡ä»¶ä¸ºå‡ï¼Œåˆ™è·³è¿‡å¾ªç¯å¹¶æŠŠæ§åˆ¶ä¼ é€’ç»™ä¸‹ä¸€ä¸ªè¯­å¥</strong></p><p><strong>3. FOR-LOOP</strong></p><p>  <strong>FOR count IN ï¼»REVERSEï¼½bound1 â€¦ bound2 LOOP</strong></p><p>   <strong>Sequence_of_statements;</strong></p><p>  <strong>END LOOP;</strong></p></li></ul></li></ul><ol><li>å­˜å‚¨è¿‡ç¨‹çš„ç”¨æˆ·æ¥å£</li></ol><ul><li><p>\1. åˆ›å»ºå­˜å‚¨è¿‡ç¨‹ï¼š</p><p>  <strong>CREATE Procedure è¿‡ç¨‹åï¼ˆï¼»å‚æ•°1ï¼Œå‚æ•°2ï¼Œâ€¦ï¼½ï¼‰ AS</strong></p><p>  <strong>ï¼›</strong></p><ul><li><p>è¿‡ç¨‹åï¼šæ•°æ®åº“æœåŠ¡å™¨åˆæ³•çš„å¯¹è±¡æ ‡è¯†</p></li><li><p>å‚æ•°åˆ—è¡¨ï¼šç”¨åå­—æ¥æ ‡è¯†è°ƒç”¨æ—¶ç»™å‡ºçš„å‚æ•°å€¼ï¼Œå¿…é¡»æŒ‡å®šå€¼çš„æ•°æ®ç±»å‹ã€‚å‚æ•°ä¹Ÿå¯ä»¥å®šä¹‰è¾“å…¥å‚æ•°ã€è¾“å‡ºå‚æ•°æˆ–è¾“å…¥/è¾“å‡ºå‚æ•°ã€‚é»˜è®¤ä¸ºè¾“å…¥å‚æ•°ã€‚</p></li><li><p>è¿‡ç¨‹ä½“ï¼šæ˜¯ä¸€ä¸ª&lt;PL/SQLå—&gt;ã€‚åŒ…æ‹¬å£°æ˜éƒ¨åˆ†å’Œå¯æ‰§è¡Œè¯­å¥éƒ¨åˆ†</p></li><li><p>é‡å‘½åå­˜å‚¨è¿‡ç¨‹</p><p><strong>ALTER Procedure è¿‡ç¨‹å1 RENAME TO è¿‡ç¨‹å2;</strong></p></li></ul></li><li><p>\2. æ‰§è¡Œå­˜å‚¨è¿‡ç¨‹ï¼š</p><p><strong>CALL/PERFORM Procedure è¿‡ç¨‹å(ï¼»å‚æ•°1ï¼Œå‚æ•°2ï¼Œâ€¦ï¼½)ï¼›</strong></p><ul><li>ä½¿ç”¨CALLæˆ–è€…PERFORMç­‰æ–¹å¼æ¿€æ´»å­˜å‚¨è¿‡ç¨‹çš„æ‰§è¡Œã€‚</li><li>åœ¨PL/SQLä¸­ï¼Œæ•°æ®åº“æœåŠ¡å™¨æ”¯æŒåœ¨è¿‡ç¨‹ä½“ä¸­è°ƒç”¨å…¶ä»–å­˜å‚¨è¿‡ç¨‹</li></ul></li><li><p>\3. åˆ é™¤å­˜å‚¨è¿‡ç¨‹</p><p><strong>DROP PROCEDURE è¿‡ç¨‹åï¼ˆï¼‰ï¼›</strong></p></li></ul><ol><li>ODBCç¼–ç¨‹</li></ol><p><strong>å¯¹è±¡å…³ç³»æ•°æ®åº“ç³»ç»Ÿ</strong></p><ul><li>å¯¹è±¡å…³ç³»æ•°æ®åº“ç³»ç»Ÿ(Object Relational Database Systemï¼ŒORDBS)æ˜¯é¢å‘å¯¹è±¡æ•°æ®æ¨¡å‹(Object Oriented Data Modelï¼Œç®€ç§°OOæ¨¡å‹)å’Œå…³ç³»æ•°æ®æ¨¡å‹ç›¸ç»“åˆçš„äº§ç‰©</li><li>é¢å‘å¯¹è±¡æ•°æ®æ¨¡å‹</li></ul><ol><li>OOæ¨¡å‹çš„æ ¸å¿ƒæ¦‚å¿µ</li></ol><ul><li>1.å¯¹è±¡<ul><li>å®šä¹‰ï¼šå¯¹è±¡æ˜¯ç”±ä¸€ç»„æ•°æ®ç»“æ„å’Œåœ¨è¿™ç»„æ•°æ®ç»“æ„ä¸Šçš„æ“ä½œçš„ç¨‹åºä»£ç å°è£…èµ·æ¥çš„åŸºæœ¬å•ä½ã€‚</li><li>ç»„æˆéƒ¨åˆ†<ul><li>å±æ€§(Attribute)é›†åˆ<ul><li>å±æ€§æè¿°å¯¹è±¡çš„çŠ¶æ€ã€ç»„æˆå’Œç‰¹æ€§</li></ul></li><li>æ–¹æ³•(Method)é›†åˆ<ul><li>æè¿°äº†å¯¹è±¡çš„è¡Œä¸ºç‰¹æ€§</li></ul></li></ul></li></ul></li><li>\2. å¯¹è±¡æ ‡è¯†OID(Object IDentifier)<ul><li>æ¦‚å¿µï¼šé¢å‘å¯¹è±¡æ•°æ®åº“ä¸­çš„æ¯ä¸ªå¯¹è±¡éƒ½æœ‰ä¸€ä¸ªå”¯ä¸€çš„ä¸å˜çš„æ ‡è¯†ç§°ä¸ºå¯¹è±¡æ ‡è¯†(OID)</li><li>ç‰¹ç‚¹ï¼š<ul><li>æ°¸ä¹…æŒä¹…æ€§</li><li>ç‹¬ç«‹äºå€¼çš„ã€ç³»ç»Ÿå…¨å±€å”¯ä¸€çš„</li></ul></li></ul></li><li>\3. å°è£…(Encapsulation)<ul><li>æ¯ä¸€ä¸ªå¯¹è±¡æ˜¯å…¶çŠ¶æ€ä¸è¡Œä¸ºçš„å°è£…</li><li>å°è£…æ˜¯å¯¹è±¡çš„å¤–éƒ¨ç•Œé¢ä¸å†…éƒ¨å®ç°ä¹‹é—´å®è¡Œæ¸…æ™°éš”ç¦»çš„ä¸€ç§æŠ½è±¡ï¼Œå¤–éƒ¨ä¸å¯¹è±¡çš„é€šä¿¡åªèƒ½é€šè¿‡æ¶ˆæ¯</li><li>å¯¹è±¡å°è£…ä¹‹åæŸ¥è¯¢å±æ€§å€¼å¿…é¡»é€šè¿‡è°ƒç”¨æ–¹æ³•</li></ul></li><li>\4. ç±»(Class)<ul><li>å¯¹è±¡ç±»(ç®€ç§°ç±»)ï¼šå…±äº«åŒæ ·å±æ€§å’Œæ–¹æ³•é›†çš„æ‰€æœ‰å¯¹è±¡æ„æˆäº†ä¸€ä¸ªå¯¹è±¡ç±»</li><li>å®ä¾‹ï¼šä¸€ä¸ªå¯¹è±¡æ˜¯æŸä¸€ç±»çš„ä¸€ä¸ªå®ä¾‹(instance)</li><li>åœ¨OODBä¸­ï¼Œç±»æ˜¯â€å‹â€ï¼Œå¯¹è±¡æ˜¯æŸä¸€ç±»çš„ä¸€ä¸ªâ€å€¼â€</li></ul></li></ul><ol><li><p>ç±»å±‚æ¬¡(ç»“æ„)</p></li><li><p>ç»§æ‰¿</p></li><li><p>å¯¹è±¡çš„åµŒå¥—</p></li><li><p>å…³ç³»æ•°æ®æ¨¡å‹ä¸OOæ¨¡å‹çš„æ¯”è¾ƒ</p><p><img src="https://images.cnblogs.com/cnblogs_com/luowei010101/201110/201110212303037065.png" alt="img"></p></li></ol><ul><li>å¯¹è±¡-å…³ç³»æ•°æ®åº“</li></ul><ol><li>å¯¹è±¡å…³ç³»æ•°æ®åº“ç³»ç»Ÿä¸­æ‰©å±•çš„å…³ç³»æ•°æ®ç±»å‹</li></ol><ul><li><p>1.å¤§å¯¹è±¡LOB(Large OBject )ç±»å‹</p><ul><li>LOBå¯å­˜å‚¨å¤šè¾¾åäº¿å­—èŠ‚çš„ä¸²ã€‚</li><li>LOBåˆ†ç±»<ul><li>äºŒè¿›åˆ¶å¤§å¯¹è±¡BLOB(Binary Large OBject)</li><li>BLOBç”¨äºå­˜å‚¨éŸ³é¢‘ã€å›¾åƒæ•°æ®</li><li>å­—ç¬¦ä¸²å¤§å¯¹è±¡CLOB(Character Large OBject)ã€‚</li><li>CLOBç”¨äºå­˜å‚¨é•¿å­—ç¬¦ä¸²æ•°æ®</li></ul></li></ul></li><li><p>2.BOOLEANç±»å‹</p><ul><li>å¸ƒå°”ç±»å‹ï¼Œæ”¯æŒ3ä¸ªçœŸå€¼ï¼štrueã€falseå’Œunknown</li><li>æ“ä½œç¬¦ï¼šNOTã€ANDã€ORã€EVERYã€ANY<ul><li>ä¾‹å¦‚ WHERE EVERY(QTY&gt;200)</li><li>   æˆ–WHERE ANY(QTY&gt;200)</li><li>QTYåˆ—ä¸ºç©ºå€¼ï¼šè¿”å›unknownï¼›</li><li>QTYåˆ—ä¸ºéç©ºï¼š</li><li>å½“è¯¥åˆ—çš„æ¯ä¸€ä¸ªå€¼éƒ½ä½¿(QTY&gt;200)ä¸ºtrueæ—¶ï¼ŒEVERYè¿”å›trueï¼Œå¦åˆ™ä¸ºfalseï¼›</li><li>å½“è¯¥åˆ—çš„æ¯ä¸€ä¸ªå€¼éƒ½ä½¿(QTY&gt;200)ä¸ºfalseæ—¶ï¼ŒANYè¿”å›falseï¼Œå¦åˆ™ä¸ºtrueã€‚</li></ul></li></ul></li><li><p>3.é›†åˆç±»å‹(Collection Type)ARRAY</p><ul><li><p>ç›¸åŒç±»å‹å…ƒç´ çš„æœ‰åºé›†åˆç§°ä¸ºæ•°ç»„ARRAY</p><ul><li>SQL3æ–°å¢çš„é›†åˆç±»å‹</li><li>å…è®¸åœ¨æ•°æ®åº“çš„ä¸€åˆ—ä¸­å­˜å‚¨æ•°ç»„</li></ul></li><li><p>SQL3çš„æ•°ç»„åªèƒ½æ˜¯ä¸€ç»´çš„</p><ul><li><p>æ•°ç»„ä¸­çš„å…ƒç´ ä¸èƒ½å†æ˜¯æ•°ç»„</p></li><li><p>ï¼»ä¾‹2ï¼½</p><p><strong>CREATE</strong> <strong>TABLE</strong> SALES</p><p><strong>(</strong></p><p>ITEM_NO <strong>CHAR(**20</strong>)**ï¼Œ /<em>å•†å“å·</em>/</p><p>QTY <strong>INTEGER</strong> <strong>ARRAY</strong>ï¼»12ï¼½ï¼Œ /<em>æ•´æ•°æ•°ç»„ï¼Œå­˜æ”¾é”€å”®é¢</em>/</p><p><strong>PRIMARY</strong> <strong>KEY(**ITEM_NO</strong>)**</p><p>**)**ï¼›</p></li><li><p>å‘SALESè¡¨æ’å…¥ä¸€ä¸ªå…ƒç»„ï¼š</p></li></ul><p><strong>INSERT</strong> <strong>INTO</strong> SALES**(<strong>ITEM_NOï¼ŒQTY</strong>)VALUES**</p><p><strong>(</strong>â€˜T**-<strong>shirt2000â€™ï¼Œ</strong>ARRAY**ï¼»200ï¼Œ150ï¼Œ200ï¼Œ100ï¼Œ50ï¼Œ70ï¼Œ</p><p>80ï¼Œ200ï¼Œ10ï¼Œ20ï¼Œ100ï¼Œ200ï¼½**)**ï¼›</p><ul><li><p>æŸ¥æ‰¾ä¸‰æœˆä»½é”€å”®é¢å¤§äº100çš„å•†å“å·ï¼š</p><p><strong>SELECT</strong> ITEM_NO</p><p><strong>FROM</strong> SALES</p><p><strong>WHERE</strong> QTYï¼»3ï¼½**&gt;**100ï¼›</p></li></ul></li></ul></li><li><p>\4. DISTINCTç±»å‹</p><ul><li><p>SQL3æ–°åŠ äº†ä¸€ç§DISTINCTç±»å‹</p></li><li><p>å®šä¹‰DISTINCTæ•°æ®ç±»å‹è¯­æ³•</p><p>CREAT <strong>TYPE</strong> ** name**&gt;**</p><p><strong>AS</strong> <strong>&lt;**built **in** scalar **type** name**&gt;</strong> FINAL</p><p><strong>[</strong> ** <strong>option&gt;]</strong></p><p><strong>[</strong> <strong>&lt;**method specification commalist**&gt;];</strong></p></li><li><p>æ²¡æœ‰ä½¿ç”¨DISTINCTç±»å‹</p><ul><li>ä¾‹å¦‚ï¼ŒèŒå·¥çš„æ™ºå•†å­—æ®µ(IQ)å’Œé‹å·å­—æ®µ(SHOE_SIZE)å®šä¹‰æˆINTEGERç±»å‹</li><li>WHERE SHOE_SIZE &gt; IQ</li></ul></li><li><p>ä½¿ç”¨DISTINCTç±»å‹</p><ul><li><p>é‡æ–°å®šä¹‰è¿™ä¸¤å­—æ®µç±»å‹</p><p>CREAT <strong>TYPE</strong> SHOE_SIZE_TYPE <strong>AS</strong> <strong>INTEGER</strong> FINAL**;**</p><p>CREAT <strong>TYPE</strong> IQ_TYPE <strong>AS</strong> <strong>INTEGER</strong> FINAL**;**</p></li><li><p>SHOE_SIZE_TYPEå’ŒIQ _TYPEæˆä¸ºä¸¤ç§ä¸åŒçš„æ•°æ®ç±»å‹</p></li><li><p>è¡¨è¾¾å¼ï¼šWHERE SHOE_SIZE &gt; IQ æ˜¯éæ³•çš„</p></li><li><p>å¦‚æœåœ¨å®šä¹‰ç±»å‹æ—¶è®¾ç½®äº†é€‰é¡¹<cast option="">ï¼Œä¸‹é¢ç”¨æ³•ä¹Ÿæ˜¯åˆæ³•çš„ï¼šWHERE MY_SHOE_SIZE &gt; CAST (MY_IQ AS SHOE_SIZE)</cast></p></li></ul></li></ul></li></ul><ol><li>å¯¹è±¡å…³ç³»æ•°æ®åº“ç³»ç»Ÿä¸­æ‰©å±•çš„å¯¹è±¡ç±»å‹åŠå…¶å®šä¹‰</li></ol><ul><li><p>åœ¨ORDBMSä¸­ï¼Œç±»å‹(TYPE)å…·æœ‰ç±»(CLASS)çš„ç‰¹å¾ï¼Œå¯ä»¥çœ‹æˆç±»</p><ul><li><p>1.è¡Œå¯¹è±¡ä¸è¡Œç±»å‹</p><ul><li><p>å®šä¹‰è¡Œç±»å‹(ROW TYPE) ï¼š</p><p><strong>CREATE</strong> <strong>ROW</strong> <strong>TYPE</strong> <strong>&lt;**row_type_name**&gt;</strong></p><p>**(&lt;**component declarations**&gt;)**ï¼›</p></li><li><p>åˆ›å»ºè¡Œç±»å‹</p><ul><li><p>ï¼»ä¾‹3ï¼½</p><p><strong>CREATE</strong> <strong>ROW</strong> <strong>TYPE</strong> Person_type</p><p><strong>(**pno **NUMBER</strong>ï¼Œ</p><p>name <strong>VARCHAR2(**100</strong>)**ï¼Œ</p><p>address <strong>VARCHAR2(**100</strong>)** <strong>);</strong></p></li></ul></li><li><p>åˆ›å»ºåŸºäºè¡Œç±»å‹çš„è¡¨</p><p><strong>CREATE</strong> <strong>TABLE</strong> <strong>&lt;**table_name**&gt;</strong> <strong>OF</strong> <strong>&lt;**row_type_name**&gt;;</strong></p><ul><li><p>ï¼»ä¾‹4ï¼½</p><p><strong>CREATE</strong> <strong>TABLE</strong> person_extent <strong>OF</strong> Person_type</p><p><strong>(**pno **PRIMARY</strong> <strong>KEY</strong> <strong>);</strong></p></li></ul></li></ul></li><li><p>2.åˆ—å¯¹è±¡ä¸å¯¹è±¡ç±»å‹</p><ul><li><p>å¯ä»¥åˆ›å»ºä¸€ä¸ªå¯¹è±¡ç±»å‹ï¼Œè¡¨çš„å±æ€§å¯ä»¥æ˜¯è¯¥å¯¹è±¡ç±»å‹ã€‚</p></li><li><p>åˆ›å»ºåˆ—å¯¹è±¡è¯­å¥å¦‚ä¸‹:</p><p><strong>CREATE</strong> <strong>TYPE</strong> <strong>&lt;**type_name**&gt;</strong> <strong>AS</strong> <strong>OBJECT</strong></p><p><strong>(&lt;**component declarations**&gt;);</strong></p></li><li><p>ï¼»ä¾‹5ï¼½</p><p><strong>CREATE</strong> <strong>TYPE</strong> address_objtyp <strong>AS</strong> <strong>OBJECT</strong></p><p><strong>(**street **VARCHAR2(**50</strong>)**ï¼Œ</p><p>city <strong>VARCHAR2(**50</strong>)** <strong>);</strong></p><p>ïƒ˜</p><p><strong>CREATE</strong> <strong>TYPE</strong> name_objtyp <strong>AS</strong> <strong>OBJECT</strong></p><p><strong>(**first_name **VARCHAR2(**30</strong>)**ï¼Œ</p><p>last_name <strong>VARCHAR2(**30</strong>)** <strong>)</strong> <strong>;</strong></p></li><li><p>åˆ›å»ºè¡¨ï¼Œå®šä¹‰å…¶ä¸­çš„å±æ€§æ˜¯å¯¹è±¡ç±»å‹</p></li><li><p>ï¼»ä¾‹6ï¼½</p><p><strong>CREATE</strong> <strong>TABLE</strong> people_reltab <strong>(</strong></p><p>Id <strong>NUMBER(**10</strong>)**ï¼Œ</p><p>name_obj name_objtypï¼Œ</p><p>address_obj address_objtyp**);**</p></li></ul></li><li><p>\3. æŠ½è±¡æ•°æ®ç±»å‹(Abastract Data Typeï¼ŒADT)</p><ul><li><p>æ¦‚å¿µï¼šSQL3å…è®¸ç”¨æˆ·åˆ›å»ºæŒ‡å®šçš„å¸¦æœ‰è‡ªèº«è¡Œä¸ºè¯´æ˜å’Œå†…éƒ¨ç»“æ„çš„ç”¨æˆ·å®šä¹‰ç±»å‹ç§°ä¸ºæŠ½è±¡æ•°æ®ç±»å‹</p></li><li><p>å®šä¹‰ADTçš„ä¸€èˆ¬å½¢å¼ä¸º</p><p><strong>CREATE</strong> <strong>TYPE</strong> <strong>&lt;**type_name**&gt;</strong> <strong>(</strong></p><p>æ‰€æœ‰å±æ€§ååŠå…¶ç±»å‹è¯´æ˜ï¼Œ</p><p><strong>[**å®šä¹‰è¯¥ç±»å‹çš„ç­‰äºï¼å’Œå°äº</strong>&lt;<strong>å‡½æ•°ï¼Œ</strong>]**</p><p>å®šä¹‰è¯¥ç±»å‹å…¶ä»–å‡½æ•°**(<strong>æ–¹æ³•</strong>));**</p></li></ul></li></ul></li></ul><ol><li>å‚ç…§ç±»å‹(Reference Type)</li></ol><ul><li><p>REFç±»å‹ï¼ˆå‚ç…§ç±»å‹ã€å¼•ç”¨ç±»å‹ï¼‰</p><ul><li><p>å¼•å…¥çš„åŸå› ï¼š</p><ul><li>ç±»å‹ä¹‹é—´å¯èƒ½å…·æœ‰ç›¸äº’å‚ç…§çš„è”ç³»</li></ul></li><li><p>å½¢å¼</p><ul><li>REF &lt;ç±»å‹å&gt;</li></ul></li><li><p>ç‰¹ç‚¹ï¼š</p><ul><li>REFç±»å‹æ€»æ˜¯å’ŒæŸä¸ªç‰¹å®šçš„ç±»å‹ç›¸è”ç³»ã€‚</li><li>å®ƒçš„å€¼æ˜¯OID</li></ul></li><li><p>åˆ›å»ºä¸¤ä¸ªè¡¨ï¼šEmployeeå’ŒCompanyï¼Œä¸¤è¡¨ä¹‹é—´å­˜åœ¨ç›¸äº’å‚ç…§å…³ç³»ï¼Œå³æŸä¸ªèŒå·¥åœ¨æŸä¸ªå…¬å¸å·¥ä½œ</p><ul><li><p>(1)åˆ›å»ºè¡Œç±»å‹</p></li><li><p>ï¼»ä¾‹7ï¼½</p><p><strong>CREATE</strong> <strong>ROW</strong> <strong>TYPE</strong> employee_type**(**</p><p>name <strong>VARCHAR(**35</strong>)**ï¼Œ</p><p>age <strong>INTEGER</strong> <strong>);</strong></p><p><strong>CREATE</strong> <strong>ROW</strong> <strong>TYPE</strong> Comp_type**(**</p><p>compname <strong>VARCHAR(**20</strong>)**ï¼Œ</p><p>location <strong>VARCHAR(**20</strong>)** <strong>);</strong></p></li><li><p>(2)åˆ›å»ºåŸºäºè¡Œç±»å‹çš„è¡¨ï¼š</p><p><strong>CREATE</strong> <strong>TABLE</strong> Employee <strong>OF</strong> employee_type**;**</p><p><strong>CREATE</strong> <strong>TABLE</strong> Company <strong>OF</strong> Comp_type</p></li><li><p>(3)æè¿°å‚ç…§å…³ç³»</p><p><strong>CREATE</strong> <strong>ROW</strong> <strong>TYPE</strong> Employment_type <strong>(</strong></p><p>employee <strong>REF</strong> <strong>(**employee_type</strong>)**ï¼Œ</p><p>company <strong>REF</strong> <strong>(**Comp_type</strong>)** <strong>);</strong></p><p><strong>CREATE</strong> <strong>TABLE</strong> Employment <strong>OF</strong> Employment _type</p></li><li><p>è¡¨Employmentä¸­æŸä¸€ä¸ªå…ƒç»„çš„employeeå±æ€§å€¼æ˜¯æŸä¸ªèŒå·¥çš„OID</p></li><li><p>companyå±æ€§å€¼æ˜¯è¯¥èŒå·¥æ‰€åœ¨å…¬å¸çš„OID</p></li><li><p>ï¼»ä¾‹8ï¼½</p><p><strong>CREATE</strong> <strong>ROW</strong> <strong>TYPE</strong> employee_type**(**</p><p>name <strong>VARCHAR(**35</strong>)**ï¼Œ</p><p>age <strong>INTEGER</strong>ï¼Œ</p><p>emp_id <strong>REF(**employee_type</strong>)** <strong>);</strong></p></li><li><p>ï¼»ä¾‹9ï¼½</p><p><strong>CREATE</strong> <strong>TABLE</strong> Employee <strong>OF</strong> employee_type</p><p><strong>VALUES</strong> <strong>FOR</strong> emp_id <strong>ARE</strong> SYSTEM GENERATED**;**</p></li></ul></li><li><p>å»ºç«‹å‚ç…§å±æ€§ï¼š</p><p><strong>&lt;å‚ç…§å±æ€§å&gt;ï¼»REF(&lt;ç±»å‹å&gt;)ï¼½SCOPE IS &lt;å…³ç³»å&gt;</strong></p><ul><li>ï¼»ä¾‹10ï¼½</li></ul><p><strong>CREATE</strong> <strong>TABLE</strong> address_objtab <strong>OF</strong> address_objtyp <strong>;</strong></p><ul><li><p>ï¼»ä¾‹11ï¼½</p><p><strong>CREATE</strong> <strong>TABLE</strong> people_reltab2 <strong>(</strong></p><p>id <strong>NUMBER(**4</strong>)** <strong>PRIMARY</strong> <strong>KEY</strong>ï¼Œ</p><p>name_obj name_objtypï¼Œ</p><p>addresss_ref <strong>REF(**address_objtyp</strong>)** <strong>SCOPE</strong> <strong>IS</strong> address_objtab <strong>)</strong></p></li><li><p>ï¼»ä¾‹12ï¼½</p></li></ul><p><strong>CREATE</strong> <strong>INDEX</strong> address_ref_idx <strong>ON</strong> people_reltab2**(<strong>address_ref</strong>)** <strong>;</strong></p><ul><li><p>ï¼»ä¾‹13ï¼½</p><p><strong>SELECT</strong> id</p><p><strong>FROM</strong> people_reltab2 p</p><p><strong>WHERE</strong> p**.<strong>address_ref</strong>.<strong>city</strong>=<strong>â€˜åŒ—äº¬â€™ **and</strong></p><p>p**.<strong>address_ref</strong>.<strong>street</strong>=<strong>â€˜ç‰›è¡—â€™</strong>;**</p></li></ul></li><li></li></ul></li></ul><ol><li>ç»§æ‰¿æ€§</li></ol><ul><li><p>ORDBMSåº”è¯¥æ”¯æŒç»§æ‰¿æ€§</p><ul><li><p>ä¸€èˆ¬æ˜¯å•ç»§æ‰¿æ€§</p><ul><li><p>ï¼»ä¾‹14ï¼½</p><p><strong>CREATE</strong> <strong>TYPE</strong> emp_type</p><p><strong>UNDER</strong> person_type <strong>AS(</strong></p><p>emp_id <strong>INTEGER</strong>ï¼Œ</p><p>salary <strong>REAL</strong> <strong>)</strong></p><p><strong>NOT</strong> FINAL**;**</p></li><li><p>NOT FINALï¼šè¡¨ç¤ºä¸æ˜¯ç±»å±‚æ¬¡ç»“æ„ä¸­æœ€åçš„â€å¶ç»“ç‚¹â€</p></li><li><p>FINALï¼šè¯¥ç±»å‹æ˜¯ç±»å±‚æ¬¡ç»“æ„çš„å¶ç»“ç‚¹</p></li></ul></li><li></li></ul></li></ul><ol><li>å­è¡¨å’Œè¶…è¡¨</li></ol><ul><li><p>ï¼»ä¾‹15ï¼½ å¯¹äºä¸‹é¢çš„ç±»å‹å±‚æ¬¡ï¼Œå…ˆå®šä¹‰è¿™äº›ç±»å‹TYPEï¼Œç„¶ååˆ›å»ºåŸºäºè¿™äº›ç±»å‹çš„è¡¨</p><p><img src="https://images.cnblogs.com/cnblogs_com/luowei010101/201110/20111021230303162.png" alt="img"></p><p><strong>CREATE</strong> <strong>TYPE</strong> person /<em>åˆ›å»ºperson ç±»å‹ï¼Œæ ¹ç±»å‹</em>/</p><p><strong>(**id **INTEGER</strong>ï¼Œ</p><p>name <strong>VARCHAR(**20</strong>)**ï¼Œ</p><p>birthyear <strong>INTEGER</strong>ï¼Œ</p><p>address <strong>VARCHAR(**40</strong>))**</p><p><strong>NOT</strong> FINALï¼› /<em>NOT FINALè¡¨ç¤ºå¯ä»¥æœ‰å­ç±»å‹</em>/</p><p><strong>CREATE</strong> <strong>TYPE</strong> employee /<em>åˆ›å»ºpersonçš„å­ç±»å‹employee</em>/</p><p><strong>UNDER</strong> person /<em>ç±»å‹employeeç»§æ‰¿personçš„å±æ€§</em>/</p><p><strong>(**salary **INTEGER)</strong> /* employeeå®šä¹‰è‡ªå·±çš„å±æ€§*/</p><p><strong>NOT</strong> FINALï¼›</p><p><strong>CREATE</strong> <strong>TYPE</strong> executive /<em>åˆ›å»ºemployeeçš„å­ç±»å‹executive</em>/</p><p><strong>UNDER</strong> employee</p><p><strong>(**bonus **INTEGER)</strong></p><p>FINALï¼›</p><p><strong>CREATE</strong> <strong>TYPE</strong> student /*åˆ›å»ºpersonçš„å­ç±»å‹student */</p><p><strong>UNDER</strong> person</p><p><strong>(**major **VARCHAR(**10</strong>)<strong>ï¼Œwage **DECIMAL)</strong></p><p>FINAL</p></li><li><p>ä¾‹16ï¼½Departmentç±»å‹å’Œemployeeå…·æœ‰ç›¸äº’å‚ç…§çš„è”ç³»ï¼Œä½¿ç”¨REFæ¥è¡¨ç¤ºè¿™ç§è”ç³»</p><p><strong>CREATE</strong> <strong>TYPE</strong> department</p><p><strong>(**ID **INTEGER</strong>ï¼Œ</p><p>manager <strong>REF(**employee</strong>)**ï¼Œ</p><p>Budget <strong>INTEGER);</strong></p><p><strong>ALTER</strong> <strong>TYPE</strong> employee</p><p><strong>ADD</strong> ATTRIBUTE dept <strong>REF(**department</strong>);**</p></li><li><p>å®šä¹‰åŸºäºè¿™äº›ç±»å‹çš„åŸºæœ¬è¡¨å’Œè¡¨å±‚æ¬¡ï¼š</p><p><strong>CREATE</strong> <strong>TABLE</strong> person_table <strong>OF</strong> person</p><p><strong>(**name **WITH</strong> OPTIONS <strong>NOT</strong> <strong>NULL);</strong></p><p><strong>CREATE</strong> <strong>TABLE</strong> employee_table <strong>OF</strong> employee</p><p><strong>UNDER</strong> person_table**;**</p><p><strong>CREATE</strong> <strong>TABLE</strong> exec_table <strong>of</strong> executive</p><p><strong>UNDER</strong> employee_table</p><p><strong>CREATE</strong> <strong>TABLE</strong> student_table <strong>OF</strong> student</p><p><strong>UNDER</strong> person_tableï¼›</p><p><strong>CREATE</strong> <strong>TABLE</strong> dept_table <strong>OF</strong> department</p><p><strong>(**manager **SCOPE</strong> <strong>IS</strong> employee_table**);**</p><p><strong>ALTER</strong> <strong>TABLE</strong> employee_table</p><p><strong>ALTER</strong> <strong>COLUMN</strong> dept <strong>ADD</strong> <strong>SCOPE</strong> <strong>IS</strong> dept_table**;**</p></li><li><p>æŸ¥è¯¢[ä¾‹16]æ‰€åˆ›å»ºçš„è¡¨</p><ul><li><p>ï¼»ä¾‹17ï¼½</p><p><strong>SELECT</strong> nameï¼Œaddress</p><p><strong>FROM</strong> person_table</p><p><strong>WHERE</strong> birthyear <strong>&lt;=**1970</strong>;**</p></li></ul></li><li><p>å…³é—­å­è¡¨çš„æ£€ç´¢</p><ul><li><p>ï¼»ä¾‹18ï¼½</p><p><strong>SELECT</strong> nameï¼Œaddress</p><p><strong>FROM</strong> <strong>ONLY</strong> person_table</p><p><strong>WHERE</strong> birthyear <strong>&lt;=**1970</strong>;**</p></li><li><p>INSERTã€DELETEã€UPDATEå¯¹å­è¡¨å’Œè¶…è¡¨çš„æ“ä½œè§„åˆ™</p><ul><li>INSERTï¼šå‘å­è¡¨æ’å…¥ä¸€è¡Œæ—¶ä¸€èˆ¬ä¼šåœ¨è¯¥å­è¡¨çš„è¶…è¡¨ä¸Šä¹Ÿæ’å…¥ä¸€è¡Œã€‚</li><li>DELETEï¼šä»è¡¨åˆ é™¤ä¸€è¡Œæ—¶ä¸€èˆ¬ä¼šåœ¨è¯¥è¡¨çš„è¶…è¡¨å’Œå­è¡¨ä¸Šä¹Ÿåˆ é™¤ç›¸åº”çš„ä¸€è¡Œ</li></ul></li></ul></li></ul>]]></content>
      
      
      <categories>
          
          <category> æ•°æ®åº“ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ•°æ®åº“åŸç† </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JavaåŸºç¡€</title>
      <link href="2021/01/12/Java%E5%9F%BA%E7%A1%80/"/>
      <url>2021/01/12/Java%E5%9F%BA%E7%A1%80/</url>
      
        <content type="html"><![CDATA[<h1 id="javaè¯­æ³•åŸºç¡€"><a href="#javaè¯­æ³•åŸºç¡€" class="headerlink" title="javaè¯­æ³•åŸºç¡€"></a>javaè¯­æ³•åŸºç¡€</h1><p><strong>1ï¼Œå…³é”®å­—</strong>ï¼šå…¶å®å°±æ˜¯æŸç§è¯­è¨€èµ‹äºˆäº†ç‰¹æ®Šå«ä¹‰çš„å•è¯ã€‚</p><p>ã€€ã€€ä¿ç•™å­—ï¼šå…¶å®å°±æ˜¯è¿˜æ²¡æœ‰èµ‹äºˆç‰¹æ®Šå«ä¹‰ï¼Œä½†æ˜¯å‡†å¤‡æ—¥åè¦ä½¿ç”¨è¿‡çš„å•è¯ã€‚ </p><p><strong>2ï¼Œæ ‡ç¤ºç¬¦</strong>ï¼šå…¶å®å°±æ˜¯åœ¨ç¨‹åºä¸­è‡ªå®šä¹‰çš„åè¯ã€‚æ¯”å¦‚ç±»åï¼Œå˜é‡åï¼Œå‡½æ•°åã€‚åŒ…å« 0â€”9ã€aâ€”zã€$ã€_ ï¼›</p><p>ã€€ã€€æ³¨æ„ï¼š</p><p>ã€€ã€€ã€€ã€€â‘ ï¼šæ•°å­—ä¸å¯ä»¥å¼€å¤´ã€‚</p><p>ã€€ã€€ã€€ã€€â‘¡ï¼šä¸å¯ä»¥ä½¿ç”¨å…³é”®å­—ã€‚</p><p><strong>3ï¼Œå¸¸é‡</strong>ï¼šæ˜¯åœ¨ç¨‹åºä¸­çš„ä¸ä¼šå˜åŒ–çš„æ•°æ®ã€‚</p><p><strong>4ï¼Œå˜é‡</strong>ï¼šå…¶å®å°±æ˜¯å†…å­˜ä¸­çš„ä¸€ä¸ªå­˜å‚¨ç©ºé—´ï¼Œç”¨äºå­˜å‚¨å¸¸é‡æ•°æ®ã€‚</p><p>ã€€ã€€ä½œç”¨ï¼šæ–¹ä¾¿äºè¿ç®—ã€‚å› ä¸ºæœ‰äº›æ•°æ®ä¸ç¡®å®šã€‚æ‰€ä»¥ç¡®å®šè¯¥æ•°æ®çš„åè¯å’Œå­˜å‚¨ç©ºé—´ã€‚</p><p>ã€€ã€€ç‰¹ç‚¹ï¼šå˜é‡ç©ºé—´å¯ä»¥é‡å¤ä½¿ç”¨ã€‚ </p><p>ã€€ã€€<strong>ä»€ä¹ˆæ—¶å€™å®šä¹‰å˜é‡ï¼Ÿ</strong>åªè¦æ˜¯æ•°æ®ä¸ç¡®å®šçš„æ—¶å€™ï¼Œå°±å®šä¹‰å˜é‡ã€‚</p><p>ã€€ã€€<strong>å˜é‡ç©ºé—´çš„å¼€è¾Ÿéœ€è¦ä»€ä¹ˆè¦ç´ å‘¢ï¼Ÿ</strong></p><p>ã€€ã€€ã€€ã€€â‘ ï¼šè¿™ä¸ªç©ºé—´è¦å­˜å‚¨ä»€ä¹ˆæ•°æ®ï¼Ÿæ•°æ®ç±»å‹ã€‚</p><p>ã€€ã€€ã€€ã€€â‘¡ï¼šè¿™ä¸ªç©ºé—´å«ä»€ä¹ˆåå­—å•Šï¼Ÿå˜é‡åç§°ã€‚</p><p>ã€€ã€€ã€€ã€€â‘¢ï¼šè¿™ä¸ªç©ºé—´çš„ç¬¬ä¸€æ¬¡çš„æ•°æ®æ˜¯ä»€ä¹ˆï¼Ÿ å˜é‡çš„åˆå§‹åŒ–å€¼ã€‚</p><p>ã€€ã€€<strong>å˜é‡çš„ä½œç”¨åŸŸå’Œç”Ÿå­˜æœŸ:</strong></p><p>ã€€ã€€ã€€ã€€å˜é‡çš„ä½œç”¨åŸŸï¼š</p><p>  ã€€ã€€ã€€ã€€ä½œç”¨åŸŸä»å˜é‡å®šä¹‰çš„ä½ç½®å¼€å§‹ï¼Œåˆ°è¯¥å˜é‡æ‰€åœ¨çš„é‚£å¯¹å¤§æ‹¬å·ç»“æŸï¼›</p><p>ã€€ã€€ã€€ã€€ç”Ÿå‘½å‘¨æœŸï¼š</p><p>  ã€€ã€€ã€€ã€€å˜é‡ä»å®šä¹‰çš„ä½ç½®å¼€å§‹å°±åœ¨å†…å­˜ä¸­æ´»äº†ï¼›</p><p>  ã€€ã€€ã€€ã€€å˜é‡åˆ°è¾¾å®ƒæ‰€åœ¨çš„ä½œç”¨åŸŸçš„æ—¶å€™å°±åœ¨å†…å­˜ä¸­æ¶ˆå¤±äº†ï¼›</p><p>ã€€ã€€<strong>æ•°æ®ç±»å‹ï¼š</strong></p><p>ã€€ã€€ã€€ã€€â‘ ï¼šåŸºæœ¬æ•°æ®ç±»å‹ï¼šbyteã€shortã€intã€longã€floatã€doubleã€charã€boolean </p><p>ã€€ã€€ã€€ã€€â‘¡ï¼šå¼•ç”¨æ•°æ®ç±»å‹: æ•°ç»„ã€ç±»ã€æ¥å£ã€‚</p><p>ã€€ã€€ã€€ã€€<strong>çº§åˆ«ä»ä½åˆ°é«˜ä¸º</strong>ï¼šbyte,char,short(è¿™ä¸‰ä¸ªå¹³çº§)â€”â€”&gt;intâ€”â€”&gt;floatâ€”â€”&gt;longâ€”â€”&gt;double</p><p>ã€€ã€€ã€€ã€€<strong>è‡ªåŠ¨ç±»å‹è½¬æ¢</strong>ï¼šä»ä½çº§åˆ«åˆ°é«˜çº§åˆ«ï¼Œç³»ç»Ÿè‡ªåŠ¨è½¬çš„ï¼›</p><p>ã€€ã€€ã€€ã€€<strong>å¼ºåˆ¶ç±»å‹è½¬æ¢</strong>ï¼šä»€ä¹ˆæƒ…å†µä¸‹ä½¿ç”¨?æŠŠä¸€ä¸ªé«˜çº§åˆ«çš„æ•°èµ‹ç»™ä¸€ä¸ªåˆ«è¯¥æ•°çš„çº§åˆ«ä½çš„å˜é‡ï¼›</p><p>ã€€ã€€<strong>è¿ç®—ç¬¦å·ï¼š</strong></p><p>ã€€ã€€ã€€ã€€â‘ ã€ç®—æœ¯è¿ç®—ç¬¦ã€‚</p><p>ã€€ã€€ã€€ã€€ã€€ã€€+ â€” * / %  </p><p>ã€€ã€€ã€€ã€€ã€€ã€€%:ä»»ä½•æ•´æ•°<strong>æ¨¡2</strong>ä¸æ˜¯0å°±æ˜¯1ï¼Œæ‰€ä»¥åªè¦æ”¹å˜è¢«æ¨¡æ•°å°±å¯ä»¥å®ç°å¼€å…³è¿ç®—ã€‚</p><p>ã€€ã€€ã€€ã€€ã€€ã€€+:è¿æ¥ç¬¦ã€‚</p><p>ã€€ã€€ã€€ã€€ã€€ã€€++,â€”â€”</p><p>ã€€ã€€ã€€ã€€â‘¡ã€èµ‹å€¼è¿ç®—ç¬¦ã€‚</p><p>ã€€ã€€ã€€ã€€ã€€ã€€=  += â€”= *= /= %=</p><p>ã€€ã€€ã€€ã€€â‘¢ã€æ¯”è¾ƒè¿ç®—ç¬¦ã€‚</p><p>ã€€ã€€ã€€ã€€ã€€ã€€ç‰¹ç‚¹ï¼šè¯¥è¿ç®—ç¬¦çš„ç‰¹ç‚¹æ˜¯ï¼šè¿ç®—å®Œçš„ç»“æœï¼Œè¦ä¹ˆæ˜¯trueï¼Œè¦ä¹ˆæ˜¯falseã€‚ </p><p>ã€€ã€€ã€€ã€€â‘£ã€é€»è¾‘è¿ç®—ç¬¦ã€‚</p><p>ã€€ã€€ã€€ã€€ã€€ã€€&amp;  |  ^  !   &amp;&amp;   ||</p><p>ã€€ã€€ã€€ã€€ã€€ã€€é€»è¾‘è¿ç®—ç¬¦é™¤äº† <strong>!</strong> å¤–éƒ½æ˜¯ç”¨äºè¿æ¥ä¸¤ä¸ªbooleanç±»å‹è¡¨è¾¾å¼ã€‚</p><p>ã€€ã€€ã€€ã€€ã€€ã€€&amp;: åªæœ‰ä¸¤è¾¹éƒ½ä¸ºtrueç»“æœæ˜¯trueã€‚å¦åˆ™å°±æ˜¯falseã€‚</p><p>ã€€ã€€ã€€ã€€ã€€ã€€|:åªè¦ä¸¤è¾¹éƒ½ä¸ºfalseç»“æœæ˜¯falseï¼Œå¦åˆ™å°±æ˜¯true</p><p>ã€€ã€€ã€€ã€€ã€€ã€€^:å¼‚æˆ–ï¼šå’Œæˆ–æœ‰ç‚¹ä¸ä¸€æ ·ã€‚</p><p> ã€€ã€€ã€€ã€€ã€€ã€€ã€€ä¸¤è¾¹ç»“æœä¸€æ ·ï¼Œå°±ä¸ºfalseã€‚</p><p> ã€€ã€€ã€€ã€€ã€€ã€€ã€€ä¸¤è¾¹ç»“æœä¸ä¸€æ ·ï¼Œå°±ä¸ºtrue.</p><p>ã€€ã€€ã€€ã€€ã€€ã€€<strong>&amp; å’Œ &amp;&amp;åŒºåˆ«</strong>ï¼š &amp; ï¼šæ— è®ºå·¦è¾¹ç»“æœæ˜¯ä»€ä¹ˆï¼Œå³è¾¹éƒ½å‚ä¸è¿ç®—ã€‚</p><p> ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€&amp;&amp;:çŸ­è·¯ä¸ï¼Œå¦‚æœå·¦è¾¹ä¸ºfalseï¼Œé‚£ä¹ˆå³è¾¹ä¸å‚æ•°ä¸è¿ç®—ã€‚</p><p>ã€€ã€€ã€€ã€€ã€€ã€€<strong>| å’Œ|| åŒºåˆ«</strong>ï¼š |ï¼šä¸¤è¾¹éƒ½è¿ç®—ã€‚</p><p>ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€||ï¼šçŸ­è·¯æˆ–ï¼Œå¦‚æœå·¦è¾¹ä¸ºtrueï¼Œé‚£ä¹ˆå³è¾¹ä¸å‚ä¸è¿ç®—ã€‚</p><p>ã€€ã€€ã€€ã€€â‘¤ã€ä½è¿ç®—ç¬¦:ç”¨äºæ“ä½œäºŒè¿›åˆ¶ä½çš„è¿ç®—ç¬¦ã€‚</p><p>ã€€ã€€ã€€ã€€ã€€ã€€&amp; | ^ </p><p>ã€€ã€€ã€€ã€€ã€€ã€€&lt;&lt; &gt;&gt;  &gt;&gt;&gt;(æ— ç¬¦å·å³ç§»)</p><p>ã€€ã€€ã€€ã€€<strong>ç»ƒä¹ ï¼šå¯¹ä¸¤ä¸ªå˜é‡çš„æ•°æ®è¿›è¡Œäº’æ¢ã€‚ä¸éœ€è¦ç¬¬ä¸‰æ–¹å˜é‡ã€‚</strong></p><p>ã€€ã€€ã€€ã€€int a = 3,b = 5;//â€”â€”&gt;b = 3,a = 5;</p><p>ã€€ã€€ã€€ã€€a = a + b; a = 8;</p><p>ã€€ã€€ã€€ã€€b = a â€” b; b = 3;</p><p>ã€€ã€€ã€€ã€€a = a â€” b; a = 5;</p><p>ã€€ã€€ã€€ã€€a = a ^ b;//</p><p>ã€€ã€€ã€€ã€€b = a ^ b;//b = a ^ b ^ b = a</p><p>ã€€ã€€ã€€ã€€a = a ^ b;//a = a ^ b ^ a = b;</p><p>ã€€ã€€ã€€ã€€<strong>ç»ƒä¹ ï¼šé«˜æ•ˆçš„ç®—å‡º 2*8 = 2&lt;&lt;3;</strong></p><p><strong>5ï¼Œè¯­å¥ã€‚</strong></p><p>ã€€ã€€If  ã€€ switch ã€€ã€€do while ã€€ while ã€€ for </p><p>ã€€ã€€è¿™äº›è¯­å¥ä»€ä¹ˆæ—¶å€™ç”¨ï¼Ÿ</p><p>ã€€ã€€1ï¼‰ã€å½“åˆ¤æ–­å›ºå®šä¸ªæ•°çš„å€¼çš„æ—¶å€™ï¼Œå¯ä»¥ä½¿ç”¨ifï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨switchã€‚</p><p>ã€€ã€€ã€€ã€€ä½†æ˜¯å»ºè®®ä½¿ç”¨switchï¼Œæ•ˆç‡ç›¸å¯¹è¾ƒé«˜ã€‚</p><p>ã€€ã€€ã€€ã€€switch(å˜é‡){</p><p>ã€€ã€€ã€€ã€€ã€€ã€€case å€¼:è¦æ‰§è¡Œçš„è¯­å¥;break;</p><p>ã€€ã€€ã€€ã€€ã€€ã€€â€¦</p><p>ã€€ã€€ã€€ã€€ã€€ã€€default:è¦æ‰§è¡Œçš„è¯­å¥;</p><p>ã€€ã€€ã€€ã€€}</p><p>ã€€ã€€ã€€ã€€å·¥ä½œåŸç†ï¼šç”¨å°æ‹¬å·ä¸­çš„å˜é‡çš„å€¼ä¾æ¬¡å’Œcaseåé¢çš„å€¼è¿›è¡Œå¯¹æ¯”ï¼Œå’Œå“ªä¸ªcaseåé¢çš„å€¼ç›¸åŒäº†</p><p>ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€å°±æ‰§è¡Œå“ªä¸ªcaseåé¢çš„è¯­å¥ï¼Œå¦‚æœæ²¡æœ‰ç›¸åŒçš„åˆ™æ‰§è¡Œdefaultåé¢çš„è¯­å¥ï¼›</p><p>ã€€ã€€ã€€ã€€ç»†èŠ‚ï¼šâ‘ ï¼šbreakæ˜¯å¯ä»¥çœç•¥çš„ï¼Œå¦‚æœçœç•¥äº†å°±ä¸€ç›´æ‰§è¡Œåˆ°é‡åˆ°breakä¸ºæ­¢ï¼›</p><p>ã€€ã€€ã€€ã€€ã€€ã€€ã€€â‘¡ã€switch åé¢çš„å°æ‹¬å·ä¸­çš„å˜é‡åº”è¯¥æ˜¯byte,char,short,intå››ç§ç±»å‹ä¸­çš„ä¸€ç§ï¼›</p><p>ã€€ã€€ã€€ã€€ã€€ã€€ã€€â‘¢ã€defaultå¯ä»¥å†™åœ¨switchç»“æ„ä¸­çš„ä»»æ„ä½ç½®ï¼›<strong>å¦‚æœå°†defaultè¯­å¥æ”¾åœ¨äº†ç¬¬ä¸€è¡Œï¼Œ</strong></p><p>ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€<strong>åˆ™ä¸ç®¡expressionä¸caseä¸­çš„valueæ˜¯å¦åŒ¹é…ï¼Œç¨‹åºä¼šä»defaultå¼€å§‹æ‰§è¡Œç›´åˆ°ç¬¬ä¸€ä¸ªbreakå‡ºç°ã€‚</strong></p><p>ã€€ã€€2ï¼‰ã€å½“åˆ¤æ–­æ•°æ®èŒƒå›´ï¼Œè·å–åˆ¤æ–­è¿ç®—ç»“æœbooleanç±»å‹æ—¶ï¼Œéœ€è¦ä½¿ç”¨ifã€‚</p><p>ã€€ã€€3ï¼‰ã€å½“æŸäº›è¯­å¥éœ€è¦æ‰§è¡Œå¾ˆå¤šæ¬¡æ—¶ï¼Œå°±ç”¨å¾ªç¯ç»“æ„ã€‚</p><p>ã€€ã€€whileå’Œforå¯ä»¥è¿›è¡Œäº’æ¢ã€‚</p><p>ã€€ã€€ã€€ã€€åŒºåˆ«åœ¨äºï¼šå¦‚æœéœ€è¦å®šä¹‰å˜é‡æ§åˆ¶å¾ªç¯æ¬¡æ•°ã€‚å»ºè®®ä½¿ç”¨forã€‚å› ä¸ºforå¾ªç¯å®Œæ¯•ï¼Œå˜é‡åœ¨å†…å­˜ä¸­é‡Šæ”¾ã€‚</p><p>ã€€ã€€<strong>break</strong>:ä½œç”¨äºswitch ï¼Œå’Œå¾ªç¯è¯­å¥ï¼Œç”¨äºè·³å‡ºï¼Œæˆ–è€…ç§°ä¸ºç»“æŸã€‚</p><p>ã€€ã€€breakè¯­å¥å•ç‹¬å­˜åœ¨æ—¶ï¼Œä¸‹é¢ä¸è¦å®šä¹‰å…¶ä»–è¯­å¥ï¼Œå› ä¸ºæ‰§è¡Œä¸åˆ°ï¼Œç¼–è¯‘ä¼šå¤±è´¥ã€‚å½“å¾ªç¯åµŒå¥—æ—¶ï¼Œbreakåªè·³å‡ºå½“å‰æ‰€åœ¨å¾ªç¯ã€‚è¦è·³å‡ºåµŒå¥—ä¸­çš„å¤–éƒ¨å¾ªç¯ï¼Œåªè¦ç»™å¾ªç¯èµ·åå­—å³å¯ï¼Œè¿™ä¸ªåå­—ç§°ä¹‹ä¸ºæ ‡å·ã€‚</p><p>ã€€ã€€<strong>continue</strong>:åªä½œç”¨äºå¾ªç¯ç»“æ„ï¼Œç»§ç»­å¾ªç¯ç”¨çš„ã€‚</p><p>ã€€ã€€ä½œç”¨ï¼šç»“æŸæœ¬æ¬¡å¾ªç¯ï¼Œç»§ç»­ä¸‹æ¬¡å¾ªç¯ã€‚è¯¥è¯­å¥å•ç‹¬å­˜åœ¨æ—¶ï¼Œä¸‹é¢ä¸å¯ä»¥å®šä¹‰è¯­å¥ï¼Œæ‰§è¡Œä¸åˆ°ã€‚</p><p><strong>6ï¼Œå‡½ æ•°</strong>ï¼šä¸ºäº†æé«˜ä»£ç çš„å¤ç”¨æ€§ï¼Œå¯ä»¥å°†å…¶å®šä¹‰æˆä¸€ä¸ªå•ç‹¬çš„åŠŸèƒ½ï¼Œè¯¥åŠŸèƒ½çš„ä½“ç°å°±æ˜¯javaä¸­çš„å‡½æ•°ã€‚å‡½æ•°å°±æ˜¯ä½“ç°ä¹‹ä¸€ã€‚</p><p>ã€€ã€€<strong>javaä¸­çš„å‡½æ•°çš„å®šä¹‰æ ¼å¼ï¼š</strong></p><p>ã€€ã€€<strong>ä¿®é¥°ç¬¦ è¿”å›å€¼ç±»å‹ å‡½æ•°å(å‚æ•°ç±»å‹ å½¢å¼å‚æ•°1ï¼Œå‚æ•°ç±»å‹ å½¢å¼å‚æ•°1ï¼Œâ€¦){</strong></p><p>ã€€ã€€ã€€ã€€<strong>æ‰§è¡Œè¯­å¥ï¼›</strong></p><p>ã€€ã€€ã€€ã€€<strong>return è¿”å›å€¼ï¼›</strong></p><p>ã€€ã€€<strong>}</strong></p><p>ã€€ã€€å½“å‡½æ•°æ²¡æœ‰å…·ä½“çš„è¿”å›å€¼æ—¶ï¼Œè¿”å›çš„è¿”å›å€¼ç±»å‹ç”¨voidå…³é”®å­—è¡¨ç¤ºã€‚</p><p>ã€€ã€€å¦‚æœå‡½æ•°çš„è¿”å›å€¼ç±»å‹æ˜¯voidæ—¶ï¼Œreturnè¯­å¥å¯ä»¥çœç•¥ä¸å†™çš„ï¼Œç³»ç»Ÿä¼šå¸®ä½ è‡ªåŠ¨åŠ ä¸Šã€‚</p><p>ã€€ã€€<strong>returnçš„ä½œç”¨</strong>ï¼šç»“æŸå‡½æ•°ã€‚ç»“æŸåŠŸèƒ½ã€‚</p><p>ã€€ã€€<strong>å¦‚ä½•å®šä¹‰ä¸€ä¸ªå‡½æ•°ï¼Ÿ</strong></p><p>ã€€ã€€ã€€ã€€å‡½æ•°å…¶å®å°±æ˜¯ä¸€ä¸ªåŠŸèƒ½ï¼Œå®šä¹‰å‡½æ•°å°±æ˜¯å®ç°åŠŸèƒ½ï¼Œé€šè¿‡ä¸¤ä¸ªæ˜ç¡®æ¥å®Œæˆï¼š</p><p>ã€€ã€€ã€€ã€€ã€€ã€€â‘ ã€æ˜ç¡®è¯¥åŠŸèƒ½çš„è¿ç®—å®Œçš„ç»“æœï¼Œå…¶å®æ˜¯åœ¨æ˜ç¡®è¿™ä¸ªå‡½æ•°çš„è¿”å›å€¼ç±»å‹ã€‚</p><p>ã€€ã€€ã€€ã€€ã€€ã€€â‘¡ã€åœ¨å®ç°è¯¥åŠŸèƒ½çš„è¿‡ç¨‹ä¸­æ˜¯å¦æœ‰æœªçŸ¥å†…å®¹å‚ä¸äº†è¿ç®—ï¼Œå…¶å®å°±æ˜¯åœ¨æ˜ç¡®è¿™ä¸ªå‡½æ•°çš„å‚æ•°åˆ—è¡¨(å‚æ•°ç±»å‹&amp;å‚æ•°ä¸ªæ•°)ã€‚</p><p>ã€€ã€€<strong>å‡½æ•°çš„ä½œç”¨ï¼š</strong></p><p>ã€€ã€€ã€€ã€€1ï¼‰ã€ç”¨äºå®šä¹‰åŠŸèƒ½ã€‚</p><p>ã€€ã€€ã€€ã€€2ï¼‰ã€ç”¨äºå°è£…ä»£ç æé«˜ä»£ç çš„å¤ç”¨æ€§ã€‚</p><p>ã€€ã€€ã€€ã€€æ³¨æ„ï¼šå‡½æ•°ä¸­åªèƒ½è°ƒç”¨å‡½æ•°ï¼Œä¸èƒ½å®šä¹‰å‡½æ•°ã€‚</p><p>ã€€ã€€<strong>ä¸»å‡½æ•°ï¼š</strong></p><p>ã€€ã€€ã€€ã€€1ï¼‰ã€ä¿è¯è¯¥ç±»çš„ç‹¬ç«‹è¿è¡Œã€‚</p><p>ã€€ã€€ã€€ã€€2ï¼‰ã€å› ä¸ºå®ƒæ˜¯ç¨‹åºçš„å…¥å£ã€‚</p><p>ã€€ã€€ã€€ã€€3ï¼‰ã€å› ä¸ºå®ƒåœ¨è¢«jvmè°ƒç”¨ã€‚</p><p>ã€€ã€€<strong>å‡½æ•°å®šä¹‰åç§°æ˜¯ä¸ºä»€ä¹ˆå‘¢ï¼Ÿ</strong></p><p>ã€€ã€€ã€€ã€€ç­”ï¼š1ï¼‰ã€ä¸ºäº†å¯¹è¯¥åŠŸèƒ½è¿›è¡Œæ ‡ç¤ºï¼Œæ–¹ä¾¿äºè°ƒç”¨ã€‚</p><p>ã€€ã€€ã€€ã€€ã€€ã€€2ï¼‰ã€ä¸ºäº†é€šè¿‡åç§°å°±å¯ä»¥æ˜ç¡®å‡½æ•°çš„åŠŸèƒ½ï¼Œä¸ºäº†å¢åŠ ä»£ç çš„é˜…è¯»æ€§ã€‚</p><p>ã€€ã€€<strong>é‡è½½</strong>çš„å®šä¹‰æ˜¯ï¼šåœ¨ä¸€ä¸ªç±»ä¸­ï¼Œå¦‚æœå‡ºç°äº†ä¸¤ä¸ªæˆ–è€…ä¸¤ä¸ªä»¥ä¸Šçš„åŒåå‡½æ•°ï¼Œåªè¦å®ƒä»¬çš„å‚æ•°çš„ä¸ªæ•°ï¼Œæˆ–è€…å‚æ•°çš„ç±»å‹ä¸åŒï¼Œå³å¯ç§°ä¹‹ä¸ºè¯¥å‡½æ•°é‡è½½äº†ã€‚</p><p>ã€€ã€€<strong>å¦‚ä½•åŒºåˆ†é‡è½½</strong>ï¼šå½“å‡½æ•°åŒåæ—¶ï¼Œåªçœ‹å‚æ•°åˆ—è¡¨ã€‚å’Œè¿”å›å€¼ç±»å‹æ²¡å…³ç³»ã€‚</p><p><strong>7ï¼Œæ•° ç»„</strong>ï¼šç”¨äºå­˜å‚¨åŒä¸€ç±»å‹æ•°æ®çš„ä¸€ä¸ªå®¹å™¨ã€‚</p><p>ã€€ã€€<strong>å¥½å¤„</strong>ï¼šå¯ä»¥å¯¹è¯¥å®¹å™¨ä¸­çš„æ•°æ®è¿›è¡Œç¼–å·ï¼Œä»0å¼€å§‹ã€‚æ•°ç»„ç”¨äºå°è£…æ•°æ®ï¼Œå°±æ˜¯ä¸€ä¸ªå…·ä½“çš„å®ä½“ã€‚</p><p>ã€€ã€€å¦‚ä½•åœ¨javaä¸­è¡¨ç°ä¸€ä¸ªæ•°ç»„å‘¢ï¼Ÿä¸¤ç§è¡¨ç°å½¢å¼ã€‚</p><p>ã€€ã€€ã€€ã€€1ï¼‰ã€å…ƒç´ ç±»å‹[] å˜é‡å = new å…ƒç´ ç±»å‹[å…ƒç´ çš„ä¸ªæ•°]ï¼›</p><p>ã€€ã€€ã€€ã€€2ï¼‰ã€å…ƒç´ ç±»å‹[] å˜é‡å = {å…ƒç´ 1ï¼Œå…ƒç´ 2â€¦}ï¼›</p><p>ã€€ã€€ã€€ã€€ã€€ã€€å…ƒç´ ç±»å‹[] å˜é‡å = new å…ƒç´ ç±»å‹[]{å…ƒç´ 1ï¼Œå…ƒç´ 2â€¦}ï¼›</p><p>â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”</p><p>ã€€ã€€ã€€ã€€<strong>//äºŒåˆ†æŸ¥æ‰¾æ³•ã€‚å¿…é¡»æœ‰å‰æï¼šæ•°ç»„ä¸­çš„å…ƒç´ è¦æœ‰åºã€‚</strong> </p><p>ã€€ã€€ã€€ã€€public static int halfSeach_2(int[] arr,int key){</p><p>ã€€ã€€ã€€ã€€ã€€ã€€int min,max,mid;</p><p>ã€€ã€€ã€€ã€€ã€€ã€€min = 0;</p><p>ã€€ã€€ã€€ã€€ã€€ã€€max = arr.lengthâ€”1;</p><p>ã€€ã€€ã€€ã€€ã€€ã€€mid = (max+min)&gt;&gt;1; //(max+min)/2;</p><p>ã€€ã€€ã€€ã€€ã€€ã€€while(arr[mid]!=key){</p><p>ã€€ã€€ã€€ã€€ã€€ã€€if(key&gt;arr[mid]){</p><p>ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€min = mid + 1;</p><p>ã€€ã€€ã€€ã€€ã€€ã€€}</p><p>ã€€ã€€ã€€ã€€ã€€ã€€else if(key&lt;arr[mid])</p><p>ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€max = mid â€” 1;</p><p>ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€if(max&lt;min)</p><p>ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€return â€”1;</p><p>ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€mid = (max+min)&gt;&gt;1;</p><p>ã€€ã€€ã€€ã€€ã€€ã€€}</p><p>ã€€ã€€ã€€ã€€ã€€ã€€return mid;</p><p>ã€€ã€€ã€€ã€€}</p><p>â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”</p><p><strong>javaåˆ†äº†5ç‰‡å†…å­˜ã€‚</strong></p><p>ã€€ã€€1ï¼šå¯„å­˜å™¨ã€‚2ï¼šæœ¬åœ°æ–¹æ³•åŒºã€‚3ï¼šæ–¹æ³•åŒºã€‚4ï¼šæ ˆã€‚5ï¼šå †ã€‚</p><p>ã€€ã€€<strong>æ ˆ</strong>ï¼šå­˜å‚¨çš„éƒ½æ˜¯å±€éƒ¨å˜é‡ ( å‡½æ•°ä¸­å®šä¹‰çš„å˜é‡ï¼Œå‡½æ•°ä¸Šçš„å‚æ•°ï¼Œè¯­å¥ä¸­çš„å˜é‡ )ï¼›</p><p>ã€€ã€€ã€€ã€€åªè¦æ•°æ®è¿ç®—å®Œæˆæ‰€åœ¨çš„åŒºåŸŸç»“æŸï¼Œè¯¥æ•°æ®å°±ä¼šè¢«é‡Šæ”¾ã€‚</p><p>ã€€ã€€<strong>å †</strong>ï¼šç”¨äºå­˜å‚¨æ•°ç»„å’Œå¯¹è±¡ï¼Œä¹Ÿå°±æ˜¯<strong>å®ä½“</strong>ã€‚å•¥æ˜¯å®ä½“å•Šï¼Ÿå°±æ˜¯ç”¨äºå°è£…å¤šä¸ªæ•°æ®çš„ã€‚</p><p>ã€€ã€€ã€€ã€€1ï¼šæ¯ä¸€ä¸ªå®ä½“éƒ½æœ‰å†…å­˜é¦–åœ°å€å€¼ã€‚</p><p>ã€€ã€€ã€€ã€€2ï¼šå †å†…å­˜ä¸­çš„å˜é‡éƒ½æœ‰é»˜è®¤åˆå§‹åŒ–å€¼ã€‚å› ä¸ºæ•°æ®ç±»å‹ä¸åŒï¼Œå€¼ä¹Ÿä¸ä¸€æ ·ã€‚ </p><p>ã€€ã€€ã€€ã€€3ï¼šåƒåœ¾å›æ”¶æœºåˆ¶ã€‚</p><p>â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”</p><p><strong>ä¸‰ï¼šé¢å‘å¯¹è±¡ï¼šâ˜…â˜…â˜…â˜…â˜…</strong></p><p>ã€€ã€€<strong>ç‰¹ç‚¹ï¼š1ï¼šå°†å¤æ‚çš„äº‹æƒ…ç®€å•åŒ–ã€‚</strong></p><p>ã€€ã€€ã€€ã€€ã€€<strong>2ï¼šé¢å‘å¯¹è±¡å°†ä»¥å‰çš„è¿‡ç¨‹ä¸­çš„æ‰§è¡Œè€…ï¼Œå˜æˆäº†æŒ‡æŒ¥è€…ã€‚</strong></p><p>ã€€ã€€ã€€ã€€ã€€<strong>3ï¼šé¢å‘å¯¹è±¡è¿™ç§æ€æƒ³æ˜¯ç¬¦åˆç°åœ¨äººä»¬æ€è€ƒä¹ æƒ¯çš„ä¸€ç§æ€æƒ³ã€‚</strong></p><p>ã€€ã€€è¿‡ç¨‹å’Œå¯¹è±¡åœ¨æˆ‘ä»¬çš„ç¨‹åºä¸­æ˜¯å¦‚ä½•ä½“ç°çš„å‘¢ï¼Ÿ</p><p>ã€€ã€€ã€€ã€€<strong>è¿‡ç¨‹</strong>å…¶å®å°±æ˜¯å‡½æ•°ï¼›</p><p>ã€€ã€€ã€€ã€€<strong>å¯¹è±¡</strong>æ˜¯å°†å‡½æ•°ç­‰ä¸€äº›å†…å®¹è¿›è¡Œäº†å°è£…ã€‚</p><p>ã€€ã€€<strong>åŒ¿åå¯¹è±¡ä½¿ç”¨åœºæ™¯ï¼š</strong></p><p>ã€€ã€€ã€€ã€€1ï¼šå½“å¯¹æ–¹æ³•åªè¿›è¡Œä¸€æ¬¡è°ƒç”¨çš„æ—¶å€™ï¼Œå¯ä»¥ä½¿ç”¨åŒ¿åå¯¹è±¡ã€‚</p><p>ã€€ã€€ã€€ã€€2ï¼šå½“å¯¹è±¡å¯¹æˆå‘˜è¿›è¡Œå¤šæ¬¡è°ƒç”¨æ—¶ï¼Œä¸èƒ½ä½¿ç”¨åŒ¿åå¯¹è±¡ã€‚å¿…é¡»ç»™å¯¹è±¡èµ·åå­—ã€‚</p><p>ã€€ã€€åœ¨ç±»ä¸­å®šä¹‰å…¶å®éƒ½ç§°ä¹‹ä¸ºæˆå‘˜ã€‚æˆå‘˜æœ‰ä¸¤ç§ï¼š</p><p>ã€€ã€€ã€€ã€€1ï¼š<strong>æˆå‘˜å˜é‡</strong>ï¼šå…¶å®å¯¹åº”çš„å°±æ˜¯äº‹ç‰©çš„å±æ€§ã€‚</p><p>ã€€ã€€ã€€ã€€2ï¼š<strong>æˆå‘˜å‡½æ•°</strong>ï¼šå…¶å®å¯¹åº”çš„å°±æ˜¯äº‹ç‰©çš„è¡Œä¸ºã€‚</p><p>ã€€ã€€æ‰€ä»¥ï¼Œå…¶å®å®šä¹‰ç±»ï¼Œå°±æ˜¯åœ¨å®šä¹‰æˆå‘˜å˜é‡å’Œæˆå‘˜å‡½æ•°ã€‚ä½†æ˜¯åœ¨å®šä¹‰å‰ï¼Œå¿…é¡»å…ˆè¦å¯¹äº‹ç‰©è¿›è¡Œå±æ€§å’Œè¡Œä¸ºçš„åˆ†æï¼Œæ‰å¯ä»¥ç”¨ä»£ç æ¥ä½“ç°ã€‚</p><p>ã€€ã€€private int age;<strong>//ç§æœ‰çš„è®¿é—®æƒé™æœ€ä½ï¼Œåªæœ‰åœ¨æœ¬ç±»ä¸­çš„è®¿é—®æœ‰æ•ˆã€‚</strong></p><p>ã€€ã€€æ³¨æ„ï¼šç§æœ‰ä»…ä»…æ˜¯å°è£…çš„ä¸€ç§ä½“ç°å½¢å¼è€Œå·²ã€‚</p><p>ã€€ã€€<strong>ç§æœ‰çš„æˆå‘˜</strong>ï¼šå…¶ä»–ç±»ä¸èƒ½ç›´æ¥åˆ›å»ºå¯¹è±¡è®¿é—®ï¼Œæ‰€ä»¥åªæœ‰é€šè¿‡æœ¬ç±»å¯¹å¤–æä¾›å…·ä½“çš„è®¿é—®æ–¹å¼æ¥å®Œæˆå¯¹ç§æœ‰çš„è®¿é—®ï¼Œ</p><p>ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ å¯ä»¥é€šè¿‡å¯¹å¤–æä¾›å‡½æ•°çš„å½¢å¼å¯¹å…¶è¿›è¡Œè®¿é—®ã€‚</p><p>ã€€ã€€<strong>å¥½å¤„</strong>ï¼šå¯ä»¥åœ¨å‡½æ•°ä¸­åŠ å…¥é€»è¾‘åˆ¤æ–­ç­‰æ“ä½œï¼Œå¯¹æ•°æ®è¿›è¡Œåˆ¤æ–­ç­‰æ“ä½œã€‚</p><p>ã€€ã€€æ€»ç»“ï¼šå¼€å‘æ—¶ï¼Œè®°ä½ï¼Œå±æ€§æ˜¯ç”¨äºå­˜å‚¨æ•°æ®çš„ï¼Œç›´æ¥è¢«è®¿é—®ï¼Œå®¹æ˜“å‡ºç°å®‰å…¨éšæ‚£ï¼Œæ‰€ä»¥ï¼Œç±»ä¸­çš„å±æ€§é€šå¸¸è¢«ç§æœ‰åŒ–ï¼Œå¹¶å¯¹å¤–æä¾›å…¬å…±çš„è®¿é—®æ–¹æ³•ã€‚</p><p>è¿™ä¸ªæ–¹æ³•ä¸€èˆ¬æœ‰ä¸¤ä¸ªï¼Œè§„èŒƒå†™æ³•ï¼šå¯¹äºå±æ€§ xxxï¼Œå¯ä»¥ä½¿ç”¨setXXX(),getXXX()å¯¹å…¶è¿›è¡Œæ“ä½œã€‚</p><p>ã€€ã€€ç±»ä¸­æ€ä¹ˆæ²¡æœ‰å®šä¹‰ä¸»å‡½æ•°å‘¢ï¼Ÿ</p><p>ã€€ã€€ã€€ã€€<strong>æ³¨æ„ï¼šä¸»å‡½æ•°çš„å­˜åœ¨ï¼Œä»…ä¸ºè¯¥ç±»æ˜¯å¦éœ€è¦ç‹¬ç«‹è¿è¡Œï¼Œå¦‚æœä¸éœ€è¦ï¼Œä¸»å‡½æ•°æ˜¯ä¸ç”¨å®šä¹‰çš„ã€‚</strong></p><p>ã€€ã€€ã€€ã€€<strong>ä¸»å‡½æ•°çš„è§£é‡Š</strong>ï¼šä¿è¯æ‰€åœ¨ç±»çš„ç‹¬ç«‹è¿è¡Œï¼Œæ˜¯ç¨‹åºçš„å…¥å£ï¼Œè¢«jvmè°ƒç”¨ã€‚</p><p>ã€€ã€€<strong>æˆå‘˜å˜é‡å’Œå±€éƒ¨å˜é‡çš„åŒºåˆ«ï¼š</strong></p><p>ã€€ã€€ã€€ã€€<strong>1ï¼šæˆå‘˜å˜é‡ç›´æ¥å®šä¹‰åœ¨ç±»ä¸­ã€‚</strong></p><p>  ã€€ã€€ã€€<strong>å±€éƒ¨å˜é‡å®šä¹‰åœ¨æ–¹æ³•ä¸­ï¼Œå‚æ•°ä¸Šï¼Œè¯­å¥ä¸­ã€‚</strong></p><p>ã€€ã€€ã€€ã€€<strong>2ï¼šæˆå‘˜å˜é‡åœ¨è¿™ä¸ªç±»ä¸­æœ‰æ•ˆã€‚</strong></p><p>ã€€ã€€ã€€ã€€ã€€ã€€<strong>å±€éƒ¨å˜é‡åªåœ¨è‡ªå·±æ‰€å±çš„å¤§æ‹¬å·å†…æœ‰æ•ˆï¼Œå¤§æ‹¬å·ç»“æŸï¼Œå±€éƒ¨å˜é‡å¤±å»ä½œç”¨åŸŸã€‚</strong></p><p>ã€€ã€€ã€€ã€€<strong>3ï¼šæˆå‘˜å˜é‡å­˜åœ¨äºå †å†…å­˜ä¸­ï¼Œéšç€å¯¹è±¡çš„äº§ç”Ÿè€Œå­˜åœ¨ï¼Œæ¶ˆå¤±è€Œæ¶ˆå¤±ã€‚</strong></p><p>ã€€ã€€ã€€ã€€ã€€ã€€<strong>å±€éƒ¨å˜é‡å­˜åœ¨äºæ ˆå†…å­˜ä¸­ï¼Œéšç€æ‰€å±åŒºåŸŸçš„è¿è¡Œè€Œå­˜åœ¨ï¼Œç»“æŸè€Œé‡Šæ”¾ã€‚</strong></p><p>ã€€ã€€<strong>æ„é€ å‡½æ•°</strong>ï¼šç”¨äºç»™å¯¹è±¡è¿›è¡Œåˆå§‹åŒ–ï¼Œæ˜¯ç»™ä¸ä¹‹å¯¹åº”çš„å¯¹è±¡è¿›è¡Œåˆå§‹åŒ–ï¼Œå®ƒå…·æœ‰é’ˆå¯¹æ€§ï¼Œå‡½æ•°ä¸­çš„ä¸€ç§ã€‚</p><p>ã€€ã€€ã€€ã€€ç‰¹ç‚¹ï¼š</p><p>ã€€ã€€ã€€ã€€ã€€ã€€1ï¼šè¯¥å‡½æ•°çš„åç§°å’Œæ‰€åœ¨ç±»çš„åç§°ç›¸åŒã€‚</p><p>ã€€ã€€ã€€ã€€ã€€ã€€2ï¼šä¸éœ€è¦å®šä¹‰è¿”å›å€¼ç±»å‹ã€‚</p><p>ã€€ã€€ã€€ã€€ã€€ã€€3ï¼šè¯¥å‡½æ•°æ²¡æœ‰å…·ä½“çš„è¿”å›å€¼ã€‚</p><p>ã€€ã€€ã€€ã€€<strong>è®°ä½ï¼šæ‰€æœ‰å¯¹è±¡åˆ›å»ºæ—¶ï¼Œéƒ½éœ€è¦åˆå§‹åŒ–æ‰å¯ä»¥ä½¿ç”¨ã€‚</strong></p><p>ã€€ã€€ã€€ã€€<strong>æ³¨æ„äº‹é¡¹</strong>ï¼šä¸€ä¸ªç±»åœ¨å®šä¹‰æ—¶ï¼Œå¦‚æœæ²¡æœ‰å®šä¹‰è¿‡æ„é€ å‡½æ•°ï¼Œé‚£ä¹ˆè¯¥ç±»ä¸­ä¼šè‡ªåŠ¨ç”Ÿæˆä¸€ä¸ªç©ºå‚æ•°çš„æ„é€ å‡½æ•°ï¼Œ</p><p>ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ä¸ºäº†æ–¹ä¾¿è¯¥ç±»åˆ›å»ºå¯¹è±¡ï¼Œå®Œæˆåˆå§‹åŒ–ã€‚å¦‚æœåœ¨ç±»ä¸­è‡ªå®šä¹‰äº†æ„é€ å‡½æ•°ï¼Œé‚£ä¹ˆé»˜è®¤çš„æ„é€ å‡½æ•°å°±æ²¡æœ‰äº†ã€‚</p><p>ã€€ã€€ã€€ã€€ä¸€ä¸ªç±»ä¸­ï¼Œå¯ä»¥æœ‰å¤šä¸ªæ„é€ å‡½æ•°ï¼Œå› ä¸ºå®ƒä»¬çš„å‡½æ•°åç§°éƒ½ç›¸åŒï¼Œæ‰€ä»¥åªèƒ½é€šè¿‡å‚æ•°åˆ—è¡¨æ¥åŒºåˆ†ã€‚<strong>æ‰€ä»¥ï¼Œ</strong></p><p>ã€€ã€€ã€€ã€€<strong>ä¸€ä¸ªç±»ä¸­å¦‚æœå‡ºç°å¤šä¸ªæ„é€ å‡½æ•°ã€‚å®ƒä»¬çš„å­˜åœ¨æ˜¯ä»¥é‡è½½ä½“ç°çš„ã€‚</strong></p><p>ã€€ã€€<strong>æ„é€ å‡½æ•°å’Œä¸€èˆ¬å‡½æ•°æœ‰ä»€ä¹ˆåŒºåˆ«å‘¢ï¼Ÿ</strong></p><p>ã€€ã€€ã€€ã€€1ï¼šä¸¤ä¸ªå‡½æ•°å®šä¹‰æ ¼å¼ä¸åŒã€‚</p><p>ã€€ã€€ã€€ã€€2ï¼šæ„é€ å‡½æ•°æ˜¯åœ¨å¯¹è±¡åˆ›å»ºæ—¶ï¼Œå°±è¢«è°ƒç”¨ï¼Œç”¨äºåˆå§‹åŒ–ï¼Œè€Œä¸”åˆå§‹åŒ–åŠ¨ä½œåªæ‰§è¡Œä¸€æ¬¡ã€‚</p><p>ã€€ã€€ã€€ã€€ã€€ã€€ä¸€èˆ¬å‡½æ•°ï¼Œæ˜¯å¯¹è±¡åˆ›å»ºåï¼Œéœ€è¦è°ƒç”¨æ‰æ‰§è¡Œï¼Œå¯ä»¥è¢«è°ƒç”¨å¤šæ¬¡ã€‚</p><p>ã€€ã€€<strong>ä»€ä¹ˆæ—¶å€™ä½¿ç”¨æ„é€ å‡½æ•°å‘¢ï¼Ÿ</strong></p><p>ã€€ã€€ã€€ã€€åˆ†æäº‹ç‰©æ—¶ï¼Œå‘ç°å…·ä½“äº‹ç‰©ä¸€å‡ºç°ï¼Œå°±å…·å¤‡äº†ä¸€äº›ç‰¹å¾ï¼Œé‚£å°±å°†è¿™äº›ç‰¹å¾å®šä¹‰åˆ°æ„é€ å‡½æ•°å†…ã€‚</p><p>ã€€ã€€<strong>æ„é€ ä»£ç å—å’Œæ„é€ å‡½æ•°æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</strong></p><p>ã€€ã€€ã€€ã€€æ„é€ ä»£ç å—ï¼šæ˜¯ç»™æ‰€æœ‰çš„å¯¹è±¡è¿›è¡Œåˆå§‹åŒ–ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œæ‰€æœ‰çš„å¯¹è±¡éƒ½ä¼šè°ƒç”¨ä¸€ä¸ªä»£ç å—ã€‚åªè¦å¯¹è±¡ä¸€å»ºç«‹ã€‚å°±ä¼šè°ƒç”¨è¿™ä¸ªä»£ç å—ã€‚</p><p>ã€€ã€€ã€€ã€€æ„é€ å‡½æ•°ï¼šæ˜¯ç»™ä¸ä¹‹å¯¹åº”çš„å¯¹è±¡è¿›è¡Œåˆå§‹åŒ–ã€‚å®ƒå…·æœ‰é’ˆå¯¹æ€§ã€‚</p><p>ã€€ã€€<strong>Person p = new Person();</strong></p><p>ã€€ã€€<strong>åˆ›å»ºä¸€ä¸ªå¯¹è±¡éƒ½åœ¨å†…å­˜ä¸­åšäº†ä»€ä¹ˆäº‹æƒ…ï¼Ÿ</strong></p><p>ã€€ã€€ã€€ã€€1ï¼šå…ˆå°†ç¡¬ç›˜ä¸ŠæŒ‡å®šä½ç½®çš„Person.classæ–‡ä»¶åŠ è½½è¿›å†…å­˜ã€‚</p><p>ã€€ã€€ã€€ã€€2ï¼šæ‰§è¡Œmainæ–¹æ³•æ—¶ï¼Œåœ¨æ ˆå†…å­˜ä¸­å¼€è¾Ÿäº†mainæ–¹æ³•çš„ç©ºé—´(å‹æ ˆâ€”è¿›æ ˆ)ï¼Œç„¶ååœ¨mainæ–¹æ³•çš„æ ˆåŒºåˆ†é…äº†ä¸€ä¸ªå˜é‡pã€‚</p><p>ã€€ã€€ã€€ã€€3ï¼šåœ¨å †å†…å­˜ä¸­å¼€è¾Ÿä¸€ä¸ªå®ä½“ç©ºé—´ï¼Œåˆ†é…äº†ä¸€ä¸ªå†…å­˜é¦–åœ°å€å€¼ã€‚new</p><p>ã€€ã€€ã€€ã€€4ï¼šåœ¨è¯¥å®ä½“ç©ºé—´ä¸­è¿›è¡Œå±æ€§çš„ç©ºé—´åˆ†é…ï¼Œå¹¶è¿›è¡Œäº†é»˜è®¤åˆå§‹åŒ–ã€‚</p><p>ã€€ã€€ã€€ã€€5ï¼šå¯¹ç©ºé—´ä¸­çš„å±æ€§è¿›è¡Œæ˜¾ç¤ºåˆå§‹åŒ–ã€‚</p><p>ã€€ã€€ã€€ã€€6ï¼šè¿›è¡Œå®ä½“çš„æ„é€ ä»£ç å—åˆå§‹åŒ–ã€‚</p><p>ã€€ã€€ã€€ã€€7ï¼šè°ƒç”¨è¯¥å®ä½“å¯¹åº”çš„æ„é€ å‡½æ•°ï¼Œè¿›è¡Œæ„é€ å‡½æ•°åˆå§‹åŒ–ã€‚ï¼ˆï¼‰</p><p>ã€€ã€€ã€€ã€€8ï¼šå°†é¦–åœ°å€èµ‹å€¼ç»™p ï¼Œpå˜é‡å°±å¼•ç”¨äº†è¯¥å®ä½“ã€‚(æŒ‡å‘äº†è¯¥å¯¹è±¡)</p><p>â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”</p><p><strong>å° è£…**</strong>ï¼ˆé¢å‘å¯¹è±¡ç‰¹å¾ä¹‹ä¸€ï¼‰**ï¼šæ˜¯æŒ‡éšè—å¯¹è±¡çš„å±æ€§å’Œå®ç°ç»†èŠ‚ï¼Œä»…å¯¹å¤–æä¾›å…¬å…±è®¿é—®æ–¹å¼ã€‚</p><p>ã€€ã€€<strong>å¥½å¤„</strong>ï¼šå°†å˜åŒ–éš”ç¦»ï¼›ä¾¿äºä½¿ç”¨ï¼›æé«˜é‡ç”¨æ€§ï¼›å®‰å…¨æ€§ã€‚</p><p>ã€€ã€€<strong>å°è£…åŸåˆ™</strong>ï¼šå°†ä¸éœ€è¦å¯¹å¤–æä¾›çš„å†…å®¹éƒ½éšè—èµ·æ¥ï¼ŒæŠŠå±æ€§éƒ½éšè—ï¼Œæä¾›å…¬å…±æ–¹æ³•å¯¹å…¶è®¿é—®ã€‚</p><p>ã€€ã€€this:ä»£è¡¨å¯¹è±¡ã€‚å°±æ˜¯æ‰€åœ¨å‡½æ•°æ‰€å±å¯¹è±¡çš„å¼•ç”¨ã€‚</p><p>ã€€ã€€ã€€ã€€thisåˆ°åº•ä»£è¡¨ä»€ä¹ˆå‘¢ï¼Ÿ<strong>å“ªä¸ªå¯¹è±¡è°ƒç”¨äº†thisæ‰€åœ¨çš„å‡½æ•°ï¼Œthiså°±ä»£è¡¨å“ªä¸ªå¯¹è±¡ï¼Œå°±æ˜¯å“ªä¸ªå¯¹è±¡çš„å¼•ç”¨ã€‚</strong></p><p>ã€€ã€€ã€€ã€€å¼€å‘æ—¶ï¼Œä»€ä¹ˆæ—¶å€™ä½¿ç”¨thiså‘¢ï¼Ÿ</p><p>ã€€ã€€ã€€ã€€åœ¨å®šä¹‰åŠŸèƒ½æ—¶ï¼Œå¦‚æœè¯¥åŠŸèƒ½å†…éƒ¨ä½¿ç”¨åˆ°äº†è°ƒç”¨è¯¥åŠŸèƒ½çš„å¯¹è±¡ï¼Œè¿™æ—¶å°±ç”¨thisæ¥è¡¨ç¤ºè¿™ä¸ªå¯¹è±¡ã€‚</p><p>ã€€ã€€ã€€ã€€this è¿˜å¯ä»¥ç”¨äºæ„é€ å‡½æ•°é—´çš„è°ƒç”¨ã€‚</p><p>ã€€ã€€ã€€ã€€<strong>è°ƒç”¨æ ¼å¼ï¼šthis(å®é™…å‚æ•°)ï¼›</strong></p><p>ã€€ã€€ã€€ã€€thiså¯¹è±¡åé¢è·Ÿä¸Š <strong>.</strong> è°ƒç”¨çš„æ˜¯æˆå‘˜å±æ€§å’Œæˆå‘˜æ–¹æ³•(ä¸€èˆ¬æ–¹æ³•)ï¼›</p><p>ã€€ã€€ã€€ã€€thiså¯¹è±¡åé¢è·Ÿä¸Š <strong>()</strong> è°ƒç”¨çš„æ˜¯æœ¬ç±»ä¸­çš„å¯¹åº”å‚æ•°çš„æ„é€ å‡½æ•°ã€‚</p><p>ã€€ã€€ã€€ã€€<strong>æ³¨æ„ï¼šç”¨thisè°ƒç”¨æ„é€ å‡½æ•°ï¼Œå¿…é¡»å®šä¹‰åœ¨æ„é€ å‡½æ•°çš„ç¬¬ä¸€è¡Œã€‚</strong></p><p>ã€€ã€€<strong>å› ä¸ºæ„é€ å‡½æ•°æ˜¯ç”¨äºåˆå§‹åŒ–çš„ï¼Œæ‰€ä»¥åˆå§‹åŒ–åŠ¨ä½œä¸€å®šè¦æ‰§è¡Œã€‚å¦åˆ™ç¼–è¯‘å¤±è´¥ã€‚</strong></p><p>ã€€ã€€<strong>static</strong>ï¼šâ˜…â˜…â˜… å…³é”®å­—ï¼Œ<strong>æ˜¯ä¸€ä¸ªä¿®é¥°ç¬¦ï¼Œç”¨äºä¿®é¥°æˆå‘˜(æˆå‘˜å˜é‡å’Œæˆå‘˜å‡½æ•°)ã€‚</strong></p><p>ã€€ã€€ç‰¹ç‚¹ï¼š</p><p>ã€€ã€€ã€€ã€€<strong>1ï¼Œæƒ³è¦å®ç°å¯¹è±¡ä¸­çš„å…±æ€§æ•°æ®çš„å¯¹è±¡å…±äº«ã€‚å¯ä»¥å°†è¿™ä¸ªæ•°æ®è¿›è¡Œé™æ€ä¿®é¥°ã€‚</strong></p><p>ã€€ã€€ã€€ã€€<strong>2ï¼Œè¢«é™æ€ä¿®é¥°çš„æˆå‘˜ï¼Œå¯ä»¥ç›´æ¥è¢«ç±»åæ‰€è°ƒç”¨ã€‚</strong>ä¹Ÿå°±æ˜¯è¯´ï¼Œé™æ€çš„æˆå‘˜å¤šäº†ä¸€ç§è°ƒç”¨æ–¹å¼ã€‚ç±»å.é™æ€æ–¹å¼ã€‚</p><p>ã€€ã€€ã€€ã€€<strong>3ï¼Œé™æ€éšç€ç±»çš„åŠ è½½è€ŒåŠ è½½ã€‚è€Œä¸”ä¼˜å…ˆäºå¯¹è±¡å­˜åœ¨ã€‚</strong></p><p>ã€€ã€€<strong>å¼Šç«¯ï¼š</strong></p><p>ã€€ã€€ã€€ã€€1ï¼Œæœ‰äº›æ•°æ®æ˜¯å¯¹è±¡ç‰¹æœ‰çš„æ•°æ®ï¼Œæ˜¯ä¸å¯ä»¥è¢«é™æ€ä¿®é¥°çš„ã€‚å› ä¸ºé‚£æ ·çš„è¯ï¼Œç‰¹æœ‰æ•°æ®ä¼šå˜æˆå¯¹è±¡çš„å…±äº«æ•°æ®ã€‚è¿™æ ·å¯¹äº‹ç‰©çš„æè¿°å°±å‡ºäº†é—®é¢˜ã€‚æ‰€ä»¥ï¼Œåœ¨å®šä¹‰é™æ€æ—¶ï¼Œå¿…é¡»è¦æ˜ç¡®ï¼Œè¿™ä¸ªæ•°æ®æ˜¯å¦æ˜¯è¢«å¯¹è±¡æ‰€å…±äº«çš„ã€‚</p><p>ã€€ã€€ã€€ã€€2ï¼Œ<strong>é™æ€æ–¹æ³•åªèƒ½è®¿é—®é™æ€æˆå‘˜ï¼Œä¸å¯ä»¥è®¿é—®éé™æ€æˆå‘˜ã€‚</strong></p><p>ã€€ã€€ã€€ã€€ã€€ã€€å› ä¸ºé™æ€æ–¹æ³•åŠ è½½æ—¶ï¼Œä¼˜å…ˆäºå¯¹è±¡å­˜åœ¨ï¼Œæ‰€ä»¥æ²¡æœ‰åŠæ³•è®¿é—®å¯¹è±¡ä¸­çš„æˆå‘˜ã€‚</p><p>ã€€ã€€ã€€ã€€3ï¼Œ<strong>é™æ€æ–¹æ³•ä¸­ä¸èƒ½ä½¿ç”¨thisï¼Œsuperå…³é”®å­—</strong>ã€‚</p><p>ã€€ã€€ã€€ã€€ã€€ã€€å› ä¸ºthisä»£è¡¨å¯¹è±¡ï¼Œè€Œé™æ€åœ¨æ—¶ï¼Œæœ‰å¯èƒ½æ²¡æœ‰å¯¹è±¡ï¼Œæ‰€ä»¥thisæ— æ³•ä½¿ç”¨ã€‚</p><p>ã€€ã€€ã€€ã€€4ï¼Œä¸»å‡½æ•°æ˜¯é™æ€çš„ã€‚</p><p>ã€€ã€€<strong>ä»€ä¹ˆæ—¶å€™å®šä¹‰é™æ€æˆå‘˜å‘¢ï¼Ÿ</strong>æˆ–è€…è¯´ï¼šå®šä¹‰æˆå‘˜æ—¶ï¼Œåˆ°åº•éœ€ä¸éœ€è¦è¢«é™æ€ä¿®é¥°å‘¢ï¼Ÿ</p><p>ã€€ã€€æˆå‘˜åˆ†ä¸¤ç§ï¼š</p><p>ã€€ã€€ã€€ã€€<strong>1ï¼Œæˆå‘˜å˜é‡ã€‚ï¼ˆæ•°æ®å…±äº«æ—¶é™æ€åŒ–ï¼‰</strong></p><p>ã€€ã€€ã€€ã€€ã€€ã€€<strong>è¯¥æˆå‘˜å˜é‡çš„æ•°æ®æ˜¯å¦æ˜¯æ‰€æœ‰å¯¹è±¡éƒ½ä¸€æ ·ï¼š</strong></p><p>ã€€ã€€ã€€ã€€ã€€ã€€å¦‚æœæ˜¯ï¼Œé‚£ä¹ˆè¯¥å˜é‡éœ€è¦è¢«é™æ€ä¿®é¥°ï¼Œå› ä¸ºæ˜¯å…±äº«çš„æ•°æ®ã€‚ </p><p>ã€€ã€€ã€€ã€€ã€€ã€€å¦‚æœä¸æ˜¯ï¼Œé‚£ä¹ˆå°±è¯´è¿™æ˜¯å¯¹è±¡çš„ç‰¹æœ‰æ•°æ®ï¼Œè¦å­˜å‚¨åˆ°å¯¹è±¡ä¸­ã€‚ </p><p>ã€€ã€€ã€€ã€€<strong>2ï¼Œæˆå‘˜å‡½æ•°ã€‚ï¼ˆæ–¹æ³•ä¸­æ²¡æœ‰è°ƒç”¨ç‰¹æœ‰æ•°æ®æ—¶å°±å®šä¹‰æˆé™æ€ï¼‰</strong></p><p>ã€€ã€€ã€€ã€€ã€€ã€€å¦‚æœåˆ¤æ–­æˆå‘˜å‡½æ•°æ˜¯å¦éœ€è¦è¢«é™æ€ä¿®é¥°å‘¢ï¼Ÿ</p><p>ã€€ã€€ã€€ã€€ã€€ã€€åªè¦å‚è€ƒï¼Œè¯¥å‡½æ•°å†…æ˜¯å¦è®¿é—®äº†å¯¹è±¡ä¸­çš„ç‰¹æœ‰æ•°æ®ï¼š</p><p>ã€€ã€€ã€€ã€€ã€€ã€€å¦‚æœæœ‰è®¿é—®ç‰¹æœ‰æ•°æ®ï¼Œé‚£æ–¹æ³•ä¸èƒ½è¢«é™æ€ä¿®é¥°ã€‚</p><p>ã€€ã€€ã€€ã€€ã€€ã€€å¦‚æœæ²¡æœ‰è®¿é—®è¿‡ç‰¹æœ‰æ•°æ®ï¼Œé‚£ä¹ˆè¿™ä¸ªæ–¹æ³•éœ€è¦è¢«é™æ€ä¿®é¥°ã€‚</p><p>ã€€ã€€<strong>æˆå‘˜å˜é‡å’Œé™æ€å˜é‡çš„åŒºåˆ«ï¼š</strong></p><p>ã€€ã€€ã€€ã€€1ï¼Œæˆå‘˜å˜é‡æ‰€å±äºå¯¹è±¡ã€‚æ‰€ä»¥ä¹Ÿç§°ä¸ºå®ä¾‹å˜é‡ã€‚</p><p>ã€€ã€€ã€€ã€€ã€€ã€€é™æ€å˜é‡æ‰€å±äºç±»ã€‚æ‰€ä»¥ä¹Ÿç§°ä¸ºç±»å˜é‡ã€‚</p><p>ã€€ã€€ã€€ã€€2ï¼Œæˆå‘˜å˜é‡å­˜åœ¨äºå †å†…å­˜ä¸­ã€‚</p><p>ã€€ã€€ã€€ã€€ã€€ã€€é™æ€å˜é‡å­˜åœ¨äºæ–¹æ³•åŒºä¸­ã€‚</p><p>ã€€ã€€ã€€ã€€3ï¼Œæˆå‘˜å˜é‡éšç€å¯¹è±¡åˆ›å»ºè€Œå­˜åœ¨ã€‚éšç€å¯¹è±¡è¢«å›æ”¶è€Œæ¶ˆå¤±ã€‚</p><p>ã€€ã€€ã€€ã€€ã€€ã€€é™æ€å˜é‡éšç€ç±»çš„åŠ è½½è€Œå­˜åœ¨ã€‚éšç€ç±»çš„æ¶ˆå¤±è€Œæ¶ˆå¤±ã€‚</p><p>ã€€ã€€ã€€ã€€4ï¼Œæˆå‘˜å˜é‡åªèƒ½è¢«å¯¹è±¡æ‰€è°ƒç”¨ ã€‚</p><p>ã€€ã€€ã€€ã€€ã€€ã€€é™æ€å˜é‡å¯ä»¥è¢«å¯¹è±¡è°ƒç”¨ï¼Œä¹Ÿå¯ä»¥è¢«ç±»åè°ƒç”¨ã€‚</p><p>ã€€ã€€ã€€ã€€<strong>æ‰€ä»¥ï¼Œæˆå‘˜å˜é‡å¯ä»¥ç§°ä¸ºå¯¹è±¡çš„ç‰¹æœ‰æ•°æ®ï¼Œé™æ€å˜é‡ç§°ä¸ºå¯¹è±¡çš„å…±äº«æ•°æ®ã€‚</strong></p><p>ã€€ã€€<strong>é™æ€çš„æ³¨æ„ï¼šé™æ€çš„ç”Ÿå‘½å‘¨æœŸå¾ˆé•¿ã€‚</strong></p><p>ã€€ã€€<strong>é™æ€ä»£ç å—ï¼š</strong>å°±æ˜¯ä¸€ä¸ªæœ‰é™æ€å…³é”®å­—æ ‡ç¤ºçš„ä¸€ä¸ªä»£ç å—åŒºåŸŸã€‚å®šä¹‰åœ¨ç±»ä¸­ã€‚</p><p>ã€€ã€€<strong>ä½œç”¨ï¼šå¯ä»¥å®Œæˆç±»çš„åˆå§‹åŒ–ã€‚é™æ€ä»£ç å—éšç€ç±»çš„åŠ è½½è€Œæ‰§è¡Œï¼Œè€Œä¸”åªæ‰§è¡Œä¸€æ¬¡ï¼ˆnew å¤šä¸ªå¯¹è±¡å°±åªæ‰§è¡Œä¸€æ¬¡ï¼‰ã€‚å¦‚æœå’Œä¸»å‡½æ•°åœ¨åŒä¸€ç±»ä¸­ï¼Œä¼˜å…ˆäºä¸»å‡½æ•°æ‰§è¡Œã€‚</strong></p><p>ã€€ã€€<strong>Public</strong>ï¼šè®¿é—®æƒé™æœ€å¤§ã€‚</p><p>ã€€ã€€<strong>static</strong>ï¼šä¸éœ€è¦å¯¹è±¡ï¼Œç›´æ¥ç±»åå³å¯ã€‚</p><p>ã€€ã€€<strong>void</strong>ï¼šä¸»å‡½æ•°æ²¡æœ‰è¿”å›å€¼ã€‚</p><p>ã€€ã€€<strong>Main</strong>ï¼šä¸»å‡½æ•°ç‰¹å®šçš„åç§°ã€‚</p><p>ã€€ã€€**(String[] args)**ï¼šä¸»å‡½æ•°çš„å‚æ•°ï¼Œæ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²æ•°ç»„ç±»å‹çš„å‚æ•°ï¼Œjvmè°ƒç”¨mainæ–¹æ³•æ—¶ï¼Œä¼ é€’çš„å®é™…å‚æ•°æ˜¯ new String[0]ã€‚</p><p>ã€€ã€€jvmé»˜è®¤ä¼ é€’çš„æ˜¯é•¿åº¦ä¸º0çš„å­—ç¬¦ä¸²æ•°ç»„ï¼Œæˆ‘ä»¬åœ¨è¿è¡Œè¯¥ç±»æ—¶ï¼Œä¹Ÿå¯ä»¥æŒ‡å®šå…·ä½“çš„å‚æ•°è¿›è¡Œä¼ é€’ã€‚å¯ä»¥åœ¨æ§åˆ¶å°ï¼Œè¿è¡Œè¯¥ç±»æ—¶ï¼Œåœ¨åé¢åŠ å…¥å‚æ•°ã€‚å‚æ•°ä¹‹é—´é€šè¿‡ç©ºæ ¼éš”å¼€ã€‚jvmä¼šè‡ªåŠ¨å°†è¿™äº›å­—ç¬¦ä¸²å‚æ•°ä½œä¸ºargsæ•°ç»„ä¸­çš„å…ƒç´ ï¼Œè¿›è¡Œå­˜å‚¨ã€‚</p><p>ã€€ã€€<strong>é™æ€ä»£ç å—ã€æ„é€ ä»£ç å—ã€æ„é€ å‡½æ•°åŒæ—¶å­˜åœ¨æ—¶çš„æ‰§è¡Œé¡ºåºï¼šé™æ€ä»£ç å— â€”â€”â€”&gt; æ„é€ ä»£ç å— â€”â€”â€”&gt; æ„é€ å‡½æ•°ï¼›</strong></p><p>ã€€ã€€<strong>ç”ŸæˆJavaå¸®åŠ©æ–‡æ¡£ï¼šå‘½ä»¤æ ¼å¼ï¼šjavadoc â€“d æ–‡ä»¶å¤¹å â€“auther â€“version *.java</strong></p><p>ã€€ã€€ //æ ¼å¼</p><p>ã€€ã€€ã€€ã€€/**  </p><p>ã€€ã€€ã€€ã€€ã€€*ç±»æè¿°</p><p>ã€€ã€€ã€€ã€€ã€€*@author ä½œè€…å</p><p>ã€€ã€€ã€€ã€€ã€€*@version ç‰ˆæœ¬å·</p><p>ã€€ã€€ã€€ã€€ã€€*/</p><p>ã€€ã€€ã€€ã€€/**</p><p>ã€€ã€€ã€€ã€€ã€€*æ–¹æ³•æè¿°</p><p>ã€€ã€€ã€€ã€€ã€€*@param å‚æ•°æè¿°</p><p>ã€€ã€€ã€€ã€€ã€€*@return è¿”å›å€¼æè¿°</p><p>ã€€ã€€ã€€ã€€ã€€*/</p><p>â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”</p><p>ã€€ã€€<strong>è®¾è®¡æ¨¡å¼</strong>ï¼šè§£å†³é—®é¢˜æœ€è¡Œä¹‹æœ‰æ•ˆçš„æ€æƒ³ã€‚æ˜¯ä¸€å¥—è¢«åå¤ä½¿ç”¨ã€å¤šæ•°äººçŸ¥æ™“çš„ã€ç»è¿‡åˆ†ç±»ç¼–ç›®çš„ã€ä»£ç è®¾è®¡ç»éªŒçš„æ€»ç»“ã€‚ä½¿ç”¨è®¾è®¡æ¨¡å¼æ˜¯ä¸ºäº†å¯é‡ç”¨ä»£ç ã€è®©ä»£ç æ›´å®¹æ˜“è¢«ä»–äººç†è§£ã€ä¿è¯ä»£ç å¯é æ€§ã€‚</p><p>javaä¸­æœ‰23ç§è®¾è®¡æ¨¡å¼ï¼š</p><p><strong>å•ä¾‹è®¾è®¡æ¨¡å¼ï¼šâ˜…â˜…â˜…â˜…â˜…</strong></p><p>ã€€ã€€è§£å†³çš„é—®é¢˜ï¼š<strong>ä¿è¯ä¸€ä¸ªç±»åœ¨å†…å­˜ä¸­çš„å¯¹è±¡å”¯ä¸€æ€§ã€‚</strong></p><p>ã€€ã€€æ¯”å¦‚ï¼šå¤šç¨‹åºè¯»å–ä¸€ä¸ªé…ç½®æ–‡ä»¶æ—¶ï¼Œå»ºè®®é…ç½®æ–‡ä»¶å°è£…æˆå¯¹è±¡ã€‚ä¼šæ–¹ä¾¿æ“ä½œå…¶ä¸­æ•°æ®ï¼Œåˆè¦ä¿è¯å¤šä¸ªç¨‹åºè¯»åˆ°çš„æ˜¯åŒä¸€ä¸ªé…ç½®æ–‡ä»¶å¯¹è±¡ï¼Œå°±éœ€è¦è¯¥é…ç½®æ–‡ä»¶å¯¹è±¡åœ¨å†…å­˜ä¸­æ˜¯å”¯ä¸€çš„ã€‚</p><p>ã€€ã€€<strong>Runtime()æ–¹æ³•å°±æ˜¯å•ä¾‹è®¾è®¡æ¨¡å¼è¿›è¡Œè®¾è®¡çš„ã€‚</strong></p><p>ã€€ã€€<strong>å¦‚ä½•ä¿è¯å¯¹è±¡å”¯ä¸€æ€§å‘¢ï¼Ÿ</strong></p><p>ã€€ã€€æ€æƒ³ï¼š</p><p>ã€€ã€€ã€€ã€€1ï¼Œä¸è®©å…¶ä»–ç¨‹åºåˆ›å»ºè¯¥ç±»å¯¹è±¡ã€‚</p><p>ã€€ã€€ã€€ã€€2ï¼Œåœ¨æœ¬ç±»ä¸­åˆ›å»ºä¸€ä¸ªæœ¬ç±»å¯¹è±¡ã€‚</p><p>ã€€ã€€ã€€ã€€3ï¼Œå¯¹å¤–æä¾›æ–¹æ³•ï¼Œè®©å…¶ä»–ç¨‹åºè·å–è¿™ä¸ªå¯¹è±¡ã€‚</p><p>ã€€ã€€<strong>æ­¥éª¤ï¼š</strong></p><p>ã€€ã€€ã€€ã€€<strong>1ï¼Œå› ä¸ºåˆ›å»ºå¯¹è±¡éƒ½éœ€è¦æ„é€ å‡½æ•°åˆå§‹åŒ–ï¼Œåªè¦å°†æœ¬ç±»ä¸­çš„æ„é€ å‡½æ•°ç§æœ‰åŒ–ï¼Œå…¶ä»–ç¨‹åºå°±æ— æ³•å†åˆ›å»ºè¯¥ç±»å¯¹è±¡ï¼›</strong></p><p>ã€€ã€€ã€€ã€€<strong>2ï¼Œå°±åœ¨ç±»ä¸­åˆ›å»ºä¸€ä¸ªæœ¬ç±»çš„å¯¹è±¡ï¼›</strong></p><p>ã€€ã€€ã€€ã€€<strong>3ï¼Œå®šä¹‰ä¸€ä¸ªæ–¹æ³•ï¼Œè¿”å›è¯¥å¯¹è±¡ï¼Œè®©å…¶ä»–ç¨‹åºå¯ä»¥é€šè¿‡æ–¹æ³•å°±å¾—åˆ°æœ¬ç±»å¯¹è±¡ã€‚ï¼ˆä½œç”¨ï¼šå¯æ§ï¼‰</strong></p><p>ã€€ã€€<strong>ä»£ç ä½“ç°ï¼š</strong></p><p>ã€€ã€€ã€€ã€€<strong>1ï¼Œç§æœ‰åŒ–æ„é€ å‡½æ•°ï¼›</strong></p><p>ã€€ã€€ã€€ã€€<strong>2ï¼Œåˆ›å»ºç§æœ‰å¹¶é™æ€çš„æœ¬ç±»å¯¹è±¡ï¼›</strong></p><p>ã€€ã€€ã€€ã€€<strong>3ï¼Œå®šä¹‰å…¬æœ‰å¹¶é™æ€çš„æ–¹æ³•ï¼Œè¿”å›è¯¥å¯¹è±¡ã€‚</strong></p><p>â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”</p><p>ã€€ã€€<strong>é¥¿æ±‰å¼</strong></p><p>ã€€ã€€class Single{</p><p>ã€€ã€€ã€€ã€€private Single(){}  //<strong>ç§æœ‰åŒ–æ„é€ å‡½æ•°ã€‚</strong></p><p>ã€€ã€€ã€€ã€€private static Single s = new Single(); //<strong>åˆ›å»ºç§æœ‰å¹¶é™æ€çš„æœ¬ç±»å¯¹è±¡ã€‚</strong></p><p>ã€€ã€€ã€€ã€€public static Single getInstance(){  //<strong>å®šä¹‰å…¬æœ‰å¹¶é™æ€çš„æ–¹æ³•ï¼Œè¿”å›è¯¥å¯¹è±¡ã€‚</strong></p><p>ã€€ã€€ã€€ã€€ã€€ã€€return s;</p><p>ã€€ã€€ã€€ã€€}</p><p>ã€€ã€€}</p><p>â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”</p><p>ã€€ã€€<strong>æ‡’æ±‰å¼</strong>:å»¶è¿ŸåŠ è½½æ–¹å¼ã€‚</p><p>ã€€ã€€class Single2{</p><p>ã€€ã€€ã€€ã€€private Single2(){}</p><p>ã€€ã€€ã€€ã€€private static Single2 s = null;</p><p>ã€€ã€€ã€€ã€€public static Single2 getInstance(){</p><p>ã€€ã€€ã€€ã€€ã€€ã€€if(s==null)</p><p>ã€€ã€€ã€€ã€€ã€€ã€€s = new Single2();</p><p>ã€€ã€€ã€€ã€€ã€€ã€€return s;</p><p>ã€€ã€€ã€€ã€€}</p><p>ã€€ã€€}</p><p>â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”</p><p><strong>ç»§ æ‰¿ï¼ˆé¢å‘å¯¹è±¡ç‰¹å¾ä¹‹ä¸€ï¼‰</strong></p><p>ã€€ã€€<strong>å¥½å¤„ï¼š</strong></p><p>ã€€ã€€ã€€ã€€<strong>1ï¼šæé«˜äº†ä»£ç çš„å¤ç”¨æ€§ã€‚</strong></p><p>ã€€ã€€ã€€ã€€<strong>2ï¼šè®©ç±»ä¸ç±»ä¹‹é—´äº§ç”Ÿäº†å…³ç³»ï¼Œæä¾›äº†å¦ä¸€ä¸ªç‰¹å¾å¤šæ€çš„å‰æã€‚</strong></p><p>ã€€ã€€çˆ¶ç±»çš„ç”±æ¥ï¼šå…¶å®æ˜¯ç”±å¤šä¸ªç±»ä¸æ–­å‘ä¸ŠæŠ½å–å…±æ€§å†…å®¹è€Œæ¥çš„ã€‚</p><p>ã€€ã€€javaä¸­å¯¹äºç»§æ‰¿ï¼Œjavaåªæ”¯æŒå•ç»§æ‰¿ã€‚javaè™½ç„¶ä¸ç›´æ¥æ”¯æŒå¤šç»§æ‰¿ï¼Œä½†æ˜¯ä¿ç•™äº†è¿™ç§å¤šç»§æ‰¿æœºåˆ¶ï¼Œè¿›è¡Œæ”¹è‰¯ã€‚</p><p>ã€€ã€€å•ç»§æ‰¿ï¼šä¸€ä¸ªç±»åªèƒ½æœ‰ä¸€ä¸ªçˆ¶ç±»ã€‚</p><p>ã€€ã€€å¤šç»§æ‰¿ï¼šä¸€ä¸ªç±»å¯ä»¥æœ‰å¤šä¸ªçˆ¶ç±»ã€‚</p><p>ã€€ã€€<strong>ä¸ºä»€ä¹ˆä¸æ”¯æŒå¤šç»§æ‰¿å‘¢ï¼Ÿ</strong></p><p>ã€€ã€€å› ä¸ºå½“ä¸€ä¸ªç±»åŒæ—¶ç»§æ‰¿ä¸¤ä¸ªçˆ¶ç±»æ—¶ï¼Œä¸¤ä¸ªçˆ¶ç±»ä¸­æœ‰ç›¸åŒçš„åŠŸèƒ½ï¼Œé‚£ä¹ˆå­ç±»å¯¹è±¡è°ƒç”¨è¯¥åŠŸèƒ½æ—¶ï¼Œè¿è¡Œå“ªä¸€ä¸ªå‘¢ï¼Ÿå› ä¸ºçˆ¶ç±»ä¸­çš„æ–¹æ³•ä¸­å­˜åœ¨æ–¹æ³•ä½“ã€‚</p><p>ã€€ã€€ä½†æ˜¯javaæ”¯æŒå¤šé‡ç»§æ‰¿ã€‚Aç»§æ‰¿B Bç»§æ‰¿C Cç»§æ‰¿Dã€‚</p><p>ã€€ã€€å¤šé‡ç»§æ‰¿çš„å‡ºç°ï¼Œå°±æœ‰äº†ç»§æ‰¿ä½“ç³»ã€‚ä½“ç³»ä¸­çš„é¡¶å±‚çˆ¶ç±»æ˜¯é€šè¿‡ä¸æ–­å‘ä¸ŠæŠ½å–è€Œæ¥çš„ã€‚å®ƒé‡Œé¢å®šä¹‰çš„è¯¥ä½“ç³»æœ€åŸºæœ¬æœ€å…±æ€§å†…å®¹çš„åŠŸèƒ½ã€‚</p><p>ã€€ã€€æ‰€ä»¥ï¼Œä¸€ä¸ªä½“ç³»è¦æƒ³è¢«ä½¿ç”¨ï¼Œç›´æ¥æŸ¥é˜…è¯¥ç³»ç»Ÿä¸­çš„çˆ¶ç±»çš„åŠŸèƒ½å³å¯çŸ¥é“è¯¥ä½“ç³»çš„åŸºæœ¬ç”¨æ³•ã€‚é‚£ä¹ˆæƒ³è¦ä½¿ç”¨ä¸€ä¸ªä½“ç³»æ—¶ï¼Œéœ€è¦å»ºç«‹å¯¹è±¡ã€‚å»ºè®®å»ºç«‹æœ€å­ç±»å¯¹è±¡ï¼Œå› ä¸ºæœ€å­ç±»ä¸ä»…å¯ä»¥ä½¿ç”¨çˆ¶ç±»ä¸­çš„åŠŸèƒ½ã€‚è¿˜å¯ä»¥ä½¿ç”¨å­ç±»ç‰¹æœ‰çš„ä¸€äº›åŠŸèƒ½ã€‚</p><p>ã€€ã€€<strong>ç®€å•è¯´ï¼šå¯¹äºä¸€ä¸ªç»§æ‰¿ä½“ç³»çš„ä½¿ç”¨ï¼ŒæŸ¥é˜…é¡¶å±‚çˆ¶ç±»ä¸­çš„å†…å®¹ï¼Œåˆ›å»ºæœ€åº•å±‚å­ç±»çš„å¯¹è±¡ã€‚</strong> </p><p>ã€€ã€€<strong>å­çˆ¶ç±»å‡ºç°åï¼Œç±»ä¸­çš„æˆå‘˜éƒ½æœ‰äº†å“ªäº›ç‰¹ç‚¹ï¼š</strong></p><p>ã€€ã€€<strong>1ï¼šæˆå‘˜å˜é‡ã€‚</strong></p><p> ã€€ã€€ã€€å½“å­çˆ¶ç±»ä¸­å‡ºç°ä¸€æ ·çš„å±æ€§æ—¶ï¼Œå­ç±»ç±»å‹çš„å¯¹è±¡ï¼Œè°ƒç”¨è¯¥å±æ€§ï¼Œå€¼æ˜¯å­ç±»çš„å±æ€§å€¼ã€‚</p><p> ã€€ã€€ã€€å¦‚æœæƒ³è¦è°ƒç”¨çˆ¶ç±»ä¸­çš„å±æ€§å€¼ï¼Œéœ€è¦ä½¿ç”¨ä¸€ä¸ªå…³é”®å­—ï¼š<strong>super</strong> </p><p> ã€€ã€€ã€€<strong>This</strong>ï¼š<strong>ä»£è¡¨æ˜¯æœ¬ç±»ç±»å‹çš„å¯¹è±¡å¼•ç”¨ã€‚</strong></p><p> ã€€ã€€ã€€<strong>Super</strong>ï¼š<strong>ä»£è¡¨æ˜¯å­ç±»æ‰€å±çš„çˆ¶ç±»ä¸­çš„å†…å­˜ç©ºé—´å¼•ç”¨ã€‚</strong></p><p> ã€€ã€€ã€€æ³¨æ„ï¼šå­çˆ¶ç±»ä¸­é€šå¸¸æ˜¯ä¸ä¼šå‡ºç°åŒåæˆå‘˜å˜é‡çš„ï¼Œå› ä¸ºçˆ¶ç±»ä¸­åªè¦å®šä¹‰äº†ï¼Œå­ç±»å°±ä¸ç”¨åœ¨å®šä¹‰äº†ï¼Œç›´æ¥ç»§æ‰¿è¿‡æ¥ç”¨å°±å¯ä»¥äº†ã€‚</p><p>ã€€ã€€<strong>2ï¼šæˆå‘˜å‡½æ•°ã€‚</strong></p><p>ã€€ã€€ã€€ã€€å½“å­çˆ¶ç±»ä¸­å‡ºç°äº†ä¸€æ¨¡ä¸€æ ·çš„æ–¹æ³•æ—¶ï¼Œå»ºç«‹å­ç±»å¯¹è±¡ä¼šè¿è¡Œå­ç±»ä¸­çš„æ–¹æ³•ã€‚å¥½åƒçˆ¶ç±»ä¸­çš„æ–¹æ³•è¢«è¦†ç›–æ‰ä¸€æ ·ã€‚æ‰€ä»¥è¿™ç§æƒ…å†µï¼Œæ˜¯å‡½æ•°çš„å¦ä¸€ä¸ªç‰¹æ€§ï¼š<strong>è¦†ç›–(å¤å†™ï¼Œé‡å†™)</strong></p><p>ã€€ã€€ã€€ã€€<strong>ä»€ä¹ˆæ—¶å€™ä½¿ç”¨è¦†ç›–å‘¢ï¼Ÿå½“ä¸€ä¸ªç±»çš„åŠŸèƒ½å†…å®¹éœ€è¦ä¿®æ”¹æ—¶ï¼Œå¯ä»¥é€šè¿‡è¦†ç›–æ¥å®ç°ã€‚</strong></p><p>ã€€ã€€<strong>3ï¼šæ„é€ å‡½æ•°ã€‚</strong></p><p>ã€€ã€€ã€€ã€€å‘ç°å­ç±»æ„é€ å‡½æ•°è¿è¡Œæ—¶ï¼Œå…ˆè¿è¡Œäº†çˆ¶ç±»çš„æ„é€ å‡½æ•°ã€‚ä¸ºä»€ä¹ˆå‘¢?</p><p>ã€€ã€€ã€€ã€€åŸå› ï¼š<strong>å­ç±»çš„æ‰€æœ‰æ„é€ å‡½æ•°ä¸­çš„ç¬¬ä¸€è¡Œï¼Œå…¶å®éƒ½æœ‰ä¸€æ¡éšèº«çš„è¯­å¥super();</strong></p><p>ã€€ã€€ã€€ã€€<strong>super():</strong> è¡¨ç¤ºçˆ¶ç±»çš„æ„é€ å‡½æ•°ï¼Œå¹¶ä¼šè°ƒç”¨äºå‚æ•°ç›¸å¯¹åº”çš„çˆ¶ç±»ä¸­çš„æ„é€ å‡½æ•°ã€‚è€Œsuper():æ˜¯åœ¨è°ƒç”¨çˆ¶ç±»ä¸­ç©ºå‚æ•°çš„æ„é€ å‡½æ•°ã€‚</p><p>ã€€ã€€ã€€ã€€ä¸ºä»€ä¹ˆå­ç±»å¯¹è±¡åˆå§‹åŒ–æ—¶ï¼Œéƒ½éœ€è¦è°ƒç”¨çˆ¶ç±»ä¸­çš„å‡½æ•°ï¼Ÿ(ä¸ºä»€ä¹ˆè¦åœ¨å­ç±»æ„é€ å‡½æ•°çš„ç¬¬ä¸€è¡ŒåŠ å…¥è¿™ä¸ªsuper()?)</p><p>ã€€ã€€ã€€ã€€ã€€ã€€å› ä¸ºå­ç±»ç»§æ‰¿çˆ¶ç±»ï¼Œä¼šç»§æ‰¿åˆ°çˆ¶ç±»ä¸­çš„æ•°æ®ï¼Œå¿…é¡»è¦çœ‹çˆ¶ç±»æ˜¯å¦‚ä½•å¯¹è‡ªå·±çš„æ•°æ®è¿›è¡Œåˆå§‹åŒ–çš„ã€‚</p><p>ã€€ã€€ã€€ã€€ã€€ã€€æ‰€ä»¥å­ç±»åœ¨è¿›è¡Œå¯¹è±¡åˆå§‹åŒ–æ—¶ï¼Œå…ˆè°ƒç”¨çˆ¶ç±»çš„æ„é€ å‡½æ•°ï¼Œè¿™å°±æ˜¯<strong>å­ç±»çš„å®ä¾‹åŒ–è¿‡ç¨‹ã€‚</strong></p><p>ã€€ã€€<strong>æ³¨æ„ï¼š</strong></p><p>ã€€ã€€<strong>å­ç±»ä¸­æ‰€æœ‰çš„æ„é€ å‡½æ•°éƒ½ä¼šé»˜è®¤è®¿é—®çˆ¶ç±»ä¸­çš„ç©ºå‚æ•°çš„æ„é€ å‡½æ•°ï¼Œå› ä¸ºæ¯ä¸€ä¸ªå­ç±»æ„é€ å†…ç¬¬ä¸€è¡Œéƒ½æœ‰é»˜è®¤çš„è¯­å¥super();</strong> </p><p>ã€€ã€€<strong>å¦‚æœçˆ¶ç±»ä¸­æ²¡æœ‰ç©ºå‚æ•°çš„æ„é€ å‡½æ•°ï¼Œé‚£ä¹ˆå­ç±»çš„æ„é€ å‡½æ•°å†…ï¼Œå¿…é¡»é€šè¿‡superè¯­å¥æŒ‡å®šè¦è®¿é—®çš„çˆ¶ç±»ä¸­çš„æ„é€ å‡½æ•°ã€‚</strong></p><p>ã€€ã€€<strong>å¦‚æœå­ç±»æ„é€ å‡½æ•°ä¸­ç”¨thisæ¥æŒ‡å®šè°ƒç”¨å­ç±»è‡ªå·±çš„æ„é€ å‡½æ•°ï¼Œé‚£ä¹ˆè¢«è°ƒç”¨çš„æ„é€ å‡½æ•°ä¹Ÿä¸€æ ·ä¼šè®¿é—®çˆ¶ç±»ä¸­çš„æ„é€ å‡½æ•°ã€‚</strong></p><p>ã€€ã€€<strong>é—®é¢˜ï¼šsuper()å’Œthis()æ˜¯å¦å¯ä»¥åŒæ—¶å‡ºç°çš„æ„é€ å‡½æ•°ä¸­ã€‚</strong></p><p>ã€€ã€€ä¸¤ä¸ªè¯­å¥åªèƒ½æœ‰ä¸€ä¸ªå®šä¹‰åœ¨ç¬¬ä¸€è¡Œï¼Œæ‰€ä»¥åªèƒ½å‡ºç°å…¶ä¸­ä¸€ä¸ªã€‚</p><p>ã€€ã€€<strong>super()æˆ–è€…this():ä¸ºä»€ä¹ˆä¸€å®šè¦å®šä¹‰åœ¨ç¬¬ä¸€è¡Œï¼Ÿ</strong></p><p>ã€€ã€€å› ä¸ºsuper()æˆ–è€…this()éƒ½æ˜¯è°ƒç”¨æ„é€ å‡½æ•°ï¼Œæ„é€ å‡½æ•°ç”¨äºåˆå§‹åŒ–ï¼Œæ‰€ä»¥åˆå§‹åŒ–çš„åŠ¨ä½œè¦å…ˆå®Œæˆã€‚</p><p>ã€€ã€€<strong>ç»§æ‰¿çš„ç»†èŠ‚</strong>ï¼š</p><p>ã€€ã€€ã€€ã€€<strong>ä»€ä¹ˆæ—¶å€™ä½¿ç”¨ç»§æ‰¿å‘¢ï¼Ÿ</strong></p><p>ã€€ã€€ã€€ã€€å½“ç±»ä¸ç±»ä¹‹é—´å­˜åœ¨ç€æ‰€å±å…³ç³»æ—¶ï¼Œæ‰å…·å¤‡äº†ç»§æ‰¿çš„å‰æã€‚aæ˜¯bä¸­çš„ä¸€ç§ã€‚aç»§æ‰¿bã€‚ç‹¼æ˜¯çŠ¬ç§‘ä¸­çš„ä¸€ç§ã€‚</p><p>ã€€ã€€ã€€ã€€è‹±æ–‡ä¹¦ä¸­ï¼Œæ‰€å±å…³ç³»ï¼šâ€ is a â€œ</p><p>ã€€ã€€ã€€ã€€ã€€ã€€æ³¨æ„ï¼šä¸è¦ä»…ä»…ä¸ºäº†è·å–å…¶ä»–ç±»ä¸­çš„å·²æœ‰æˆå‘˜è¿›è¡Œç»§æ‰¿ã€‚</p><p>ã€€ã€€ã€€ã€€<strong>æ‰€ä»¥åˆ¤æ–­æ‰€å±å…³ç³»ï¼Œå¯ä»¥ç®€å•çœ‹ï¼Œ</strong></p><p>ã€€ã€€ã€€ã€€<strong>å¦‚æœç»§æ‰¿åï¼Œè¢«ç»§æ‰¿çš„ç±»ä¸­çš„åŠŸèƒ½ï¼Œéƒ½å¯ä»¥è¢«è¯¥å­ç±»æ‰€å…·å¤‡ï¼Œé‚£ä¹ˆç»§æ‰¿æˆç«‹ã€‚å¦‚æœä¸æ˜¯ï¼Œä¸å¯ä»¥ç»§æ‰¿ã€‚</strong></p><p>ã€€ã€€ç»†èŠ‚äºŒï¼š</p><p>ã€€ã€€ã€€ã€€<strong>åœ¨æ–¹æ³•è¦†ç›–æ—¶ï¼Œæ³¨æ„ä¸¤ç‚¹ï¼š</strong></p><p>ã€€ã€€ã€€ã€€ã€€ã€€1ï¼šå­ç±»è¦†ç›–çˆ¶ç±»æ—¶ï¼Œå¿…é¡»è¦ä¿è¯ï¼Œå­ç±»æ–¹æ³•çš„æƒé™å¿…é¡»å¤§äºç­‰äºçˆ¶ç±»æ–¹æ³•æƒé™å¯ä»¥å®ç°ç»§æ‰¿ã€‚å¦åˆ™ï¼Œç¼–è¯‘å¤±è´¥ã€‚</p><p>ã€€ã€€ã€€ã€€ã€€ã€€2ï¼šè¦†ç›–æ—¶ï¼Œè¦ä¹ˆéƒ½é™æ€ï¼Œè¦ä¹ˆéƒ½ä¸é™æ€ã€‚ (é™æ€åªèƒ½è¦†ç›–é™æ€ï¼Œæˆ–è€…è¢«é™æ€è¦†ç›–)</p><p>ã€€ã€€ç»§æ‰¿çš„ä¸€ä¸ªå¼Šç«¯ï¼šæ‰“ç ´äº†å°è£…æ€§ã€‚å¯¹äºä¸€äº›ç±»ï¼Œæˆ–è€…ç±»ä¸­åŠŸèƒ½ï¼Œæ˜¯éœ€è¦è¢«ç»§æ‰¿ï¼Œæˆ–è€…å¤å†™çš„ã€‚</p><p>ã€€ã€€è¿™æ—¶å¦‚ä½•è§£å†³é—®é¢˜å‘¢ï¼Ÿä»‹ç»ä¸€ä¸ªå…³é”®å­—ï¼Œfinal:æœ€ç»ˆã€‚</p><p>ã€€ã€€<strong>finalç‰¹ç‚¹ï¼š</strong></p><p>ã€€ã€€ã€€ã€€1ï¼šè¿™ä¸ªå…³é”®å­—æ˜¯ä¸€ä¸ªä¿®é¥°ç¬¦ï¼Œå¯ä»¥ä¿®é¥°ç±»ï¼Œæ–¹æ³•ï¼Œå˜é‡ã€‚</p><p>ã€€ã€€ã€€ã€€2ï¼šè¢«finalä¿®é¥°çš„ç±»æ˜¯ä¸€ä¸ªæœ€ç»ˆç±»ï¼Œä¸å¯ä»¥è¢«ç»§æ‰¿ã€‚</p><p>ã€€ã€€ã€€ã€€3ï¼šè¢«finalä¿®é¥°çš„æ–¹æ³•æ˜¯ä¸€ä¸ªæœ€ç»ˆæ–¹æ³•ï¼Œä¸å¯ä»¥è¢«è¦†ç›–ã€‚</p><p>ã€€ã€€ã€€ã€€4ï¼šè¢«finalä¿®é¥°çš„å˜é‡æ˜¯ä¸€ä¸ªå¸¸é‡ï¼Œåªèƒ½èµ‹å€¼ä¸€æ¬¡ã€‚</p><p>ã€€ã€€å…¶å®è¿™æ ·çš„åŸå› çš„å°±æ˜¯ç»™ä¸€äº›å›ºå®šçš„æ•°æ®èµ·ä¸ªé˜…è¯»æ€§è¾ƒå¼ºçš„åç§°ã€‚</p><p>ã€€ã€€ä¸åŠ finalä¿®é¥°ä¸æ˜¯ä¹Ÿå¯ä»¥ä½¿ç”¨å—ï¼Ÿé‚£ä¹ˆè¿™ä¸ªå€¼æ˜¯ä¸€ä¸ªå˜é‡ï¼Œæ˜¯å¯ä»¥æ›´æ”¹çš„ã€‚åŠ äº†finalï¼Œç¨‹åºæ›´ä¸ºä¸¥è°¨ã€‚å¸¸é‡åç§°å®šä¹‰æ—¶ï¼Œæœ‰è§„èŒƒï¼Œæ‰€æœ‰å­—æ¯éƒ½å¤§å†™ï¼Œå¦‚æœç”±å¤šä¸ªå•è¯ç»„æˆï¼Œä¸­é—´ç”¨ _ è¿æ¥ã€‚</p><p><strong>æŠ½è±¡ç±»</strong>: abstract</p><p>ã€€ã€€æŠ½è±¡ï¼šä¸å…·ä½“ï¼Œçœ‹ä¸æ˜ç™½ã€‚æŠ½è±¡ç±»è¡¨è±¡ä½“ç°ã€‚</p><p>ã€€ã€€åœ¨ä¸æ–­æŠ½å–è¿‡ç¨‹ä¸­ï¼Œå°†å…±æ€§å†…å®¹ä¸­çš„æ–¹æ³•å£°æ˜æŠ½å–ï¼Œä½†æ˜¯æ–¹æ³•ä¸ä¸€æ ·ï¼Œæ²¡æœ‰æŠ½å–ï¼Œè¿™æ—¶æŠ½å–åˆ°çš„æ–¹æ³•ï¼Œå¹¶ä¸å…·ä½“ï¼Œéœ€è¦è¢«æŒ‡å®šå…³é”®å­—abstractæ‰€æ ‡ç¤ºï¼Œå£°æ˜ä¸ºæŠ½è±¡æ–¹æ³•ã€‚</p><p>ã€€ã€€æŠ½è±¡æ–¹æ³•æ‰€åœ¨ç±»ä¸€å®šè¦æ ‡ç¤ºä¸ºæŠ½è±¡ç±»ï¼Œä¹Ÿå°±æ˜¯è¯´è¯¥ç±»éœ€è¦è¢«abstractå…³é”®å­—æ‰€ä¿®é¥°ã€‚</p><p>ã€€ã€€<strong>æŠ½è±¡ç±»çš„ç‰¹ç‚¹ï¼š</strong></p><p>ã€€ã€€ã€€ã€€1ï¼šæŠ½è±¡æ–¹æ³•åªèƒ½å®šä¹‰åœ¨æŠ½è±¡ç±»ä¸­ï¼ŒæŠ½è±¡ç±»å’ŒæŠ½è±¡æ–¹æ³•å¿…é¡»ç”±abstractå…³é”®å­—ä¿®é¥°ï¼ˆå¯ä»¥æè¿°ç±»å’Œæ–¹æ³•ï¼Œä¸å¯ä»¥æè¿°å˜é‡ï¼‰ã€‚</p><p>ã€€ã€€ã€€ã€€2ï¼šæŠ½è±¡æ–¹æ³•åªå®šä¹‰æ–¹æ³•å£°æ˜ï¼Œå¹¶ä¸å®šä¹‰æ–¹æ³•å®ç°ã€‚</p><p>ã€€ã€€ã€€ã€€3ï¼šæŠ½è±¡ç±»ä¸å¯ä»¥è¢«åˆ›å»ºå¯¹è±¡(å®ä¾‹åŒ–)ã€‚</p><p>ã€€ã€€ã€€ã€€4ï¼šåªæœ‰é€šè¿‡å­ç±»ç»§æ‰¿æŠ½è±¡ç±»å¹¶è¦†ç›–äº†æŠ½è±¡ç±»ä¸­çš„æ‰€æœ‰æŠ½è±¡æ–¹æ³•åï¼Œè¯¥å­ç±»æ‰å¯ä»¥å®ä¾‹åŒ–ã€‚å¦åˆ™ï¼Œè¯¥å­ç±»è¿˜æ˜¯ä¸€ä¸ªæŠ½è±¡ç±»ã€‚</p><p>ã€€ã€€<strong>æŠ½è±¡ç±»çš„ç»†èŠ‚ï¼š</strong></p><p>ã€€ã€€ã€€ã€€<strong>1ï¼šæŠ½è±¡ç±»ä¸­æ˜¯å¦æœ‰æ„é€ å‡½æ•°ï¼Ÿæœ‰ï¼Œç”¨äºç»™å­ç±»å¯¹è±¡è¿›è¡Œåˆå§‹åŒ–ã€‚</strong></p><p>ã€€ã€€ã€€ã€€<strong>2ï¼šæŠ½è±¡ç±»ä¸­æ˜¯å¦å¯ä»¥å®šä¹‰éæŠ½è±¡æ–¹æ³•ï¼Ÿ</strong></p><p>ã€€ã€€ã€€ã€€ã€€ã€€å¯ä»¥ã€‚å…¶å®ï¼ŒæŠ½è±¡ç±»å’Œä¸€èˆ¬ç±»æ²¡æœ‰å¤ªå¤§çš„åŒºåˆ«ï¼Œéƒ½æ˜¯åœ¨æè¿°äº‹ç‰©ï¼Œåªä¸è¿‡æŠ½è±¡ç±»åœ¨æè¿°äº‹ç‰©æ—¶ï¼Œæœ‰äº›åŠŸèƒ½ä¸å…·ä½“ã€‚æ‰€ä»¥æŠ½è±¡ç±»å’Œä¸€èˆ¬ç±»åœ¨å®šä¹‰ä¸Šï¼Œéƒ½æ˜¯éœ€è¦å®šä¹‰å±æ€§å’Œè¡Œä¸ºçš„ã€‚åªä¸è¿‡ï¼Œæ¯”ä¸€èˆ¬ç±»å¤šäº†ä¸€ä¸ªæŠ½è±¡å‡½æ•°ã€‚è€Œä¸”æ¯”ä¸€èˆ¬ç±»å°‘äº†ä¸€ä¸ªåˆ›å»ºå¯¹è±¡çš„éƒ¨åˆ†ã€‚</p><p>ã€€ã€€ã€€ã€€<strong>3ï¼šæŠ½è±¡å…³é”®å­—abstractå’Œå“ªäº›ä¸å¯ä»¥å…±å­˜ï¼Ÿfinal , private , static</strong> </p><p>ã€€ã€€ã€€ã€€<strong>4ï¼šæŠ½è±¡ç±»ä¸­å¯ä¸å¯ä»¥ä¸å®šä¹‰æŠ½è±¡æ–¹æ³•ï¼Ÿå¯ä»¥ã€‚æŠ½è±¡æ–¹æ³•ç›®çš„ä»…ä»…ä¸ºäº†ä¸è®©è¯¥ç±»åˆ›å»ºå¯¹è±¡ã€‚</strong></p><p>â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”</p><p><strong>æ¨¡æ¿æ–¹æ³•è®¾è®¡æ¨¡å¼ï¼š</strong></p><p>ã€€ã€€è§£å†³çš„é—®é¢˜ï¼šå½“åŠŸèƒ½å†…éƒ¨ä¸€éƒ¨åˆ†å®ç°æ—¶ç¡®å®šï¼Œä¸€éƒ¨åˆ†å®ç°æ˜¯ä¸ç¡®å®šçš„ã€‚è¿™æ—¶å¯ä»¥æŠŠä¸ç¡®å®šçš„éƒ¨åˆ†æš´éœ²å‡ºå»ï¼Œè®©å­ç±»å»å®ç°ã€‚</p><p>ã€€ã€€abstract class GetTime{</p><p>ã€€ã€€ã€€ã€€public <strong>final</strong> void getTime(){ ã€€<strong>//æ­¤åŠŸèƒ½å¦‚æœä¸éœ€è¦å¤å†™ï¼Œå¯åŠ finalé™å®š</strong></p><p>ã€€ã€€ã€€ã€€ã€€ã€€long start = System.currentTimeMillis();</p><p>ã€€ã€€ã€€ã€€ã€€ã€€code(); ã€€<strong>//ä¸ç¡®å®šçš„åŠŸèƒ½éƒ¨åˆ†ï¼Œæå–å‡ºæ¥ï¼Œé€šè¿‡æŠ½è±¡æ–¹æ³•å®ç°</strong></p><p>ã€€ã€€ã€€ã€€ã€€ã€€long end = System.currentTimeMillis();</p><p>ã€€ã€€ã€€ã€€ã€€ã€€System.out.println(â€œæ¯«ç§’æ˜¯ï¼šâ€+(endâ€”start));</p><p>ã€€ã€€ã€€ã€€}</p><p>ã€€ã€€ã€€ã€€public <strong>abstract</strong> void code(); ã€€<strong>//æŠ½è±¡ä¸ç¡®å®šçš„åŠŸèƒ½ï¼Œè®©å­ç±»å¤å†™å®ç°</strong></p><p>ã€€ã€€}</p><p>ã€€ã€€class SubDemo extends GetTime{</p><p>ã€€ã€€ã€€ã€€public void code(){ ã€€<strong>//å­ç±»å¤å†™åŠŸèƒ½æ–¹æ³•</strong></p><p>ã€€ã€€ã€€ã€€ã€€ã€€for(int y=0; y&lt;1000; y++){</p><p>ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€System.out.println(â€œyâ€);</p><p>ã€€ã€€ã€€ã€€ã€€ã€€}</p><p>ã€€ã€€ã€€ã€€}</p><p>ã€€ã€€}</p><p>â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”</p><p><strong>æ¥ å£ï¼šâ˜…â˜…â˜…â˜…â˜…</strong></p><p>ã€€ã€€1ï¼šæ˜¯ç”¨å…³é”®å­—interfaceå®šä¹‰çš„ã€‚</p><p>ã€€ã€€2ï¼šæ¥å£ä¸­åŒ…å«çš„æˆå‘˜ï¼Œæœ€å¸¸è§çš„æœ‰å…¨å±€å¸¸é‡ã€æŠ½è±¡æ–¹æ³•ã€‚</p><p>ã€€ã€€ã€€ã€€æ³¨æ„ï¼šæ¥å£ä¸­çš„æˆå‘˜éƒ½æœ‰å›ºå®šçš„ä¿®é¥°ç¬¦ã€‚</p><p>ã€€ã€€ã€€ã€€<strong>æˆå‘˜å˜é‡ï¼špublic static final</strong> </p><p>ã€€ã€€ã€€ã€€<strong>æˆå‘˜æ–¹æ³•ï¼špublic abstract</strong> </p><p>ã€€ã€€ã€€ã€€<strong>interface</strong> Inter{</p><p>ã€€ã€€ã€€ã€€ã€€ã€€<strong>public static final</strong> int x = 3;</p><p>ã€€ã€€ã€€ã€€ã€€ã€€<strong>public abstract</strong> void show();</p><p>ã€€ã€€ã€€ã€€}</p><p>ã€€ã€€3ï¼šæ¥å£ä¸­æœ‰æŠ½è±¡æ–¹æ³•ï¼Œè¯´æ˜<strong>æ¥å£ä¸å¯ä»¥å®ä¾‹åŒ–ã€‚æ¥å£çš„å­ç±»å¿…é¡»å®ç°äº†æ¥å£ä¸­æ‰€æœ‰çš„æŠ½è±¡æ–¹æ³•åï¼Œè¯¥å­ç±»æ‰å¯ä»¥å®ä¾‹åŒ–ã€‚å¦åˆ™ï¼Œè¯¥å­ç±»è¿˜æ˜¯ä¸€ä¸ªæŠ½è±¡ç±»ã€‚</strong></p><p>ã€€ã€€4ï¼šç±»ä¸ç±»ä¹‹é—´å­˜åœ¨ç€ç»§æ‰¿å…³ç³»ï¼Œç±»ä¸æ¥å£ä¸­é—´å­˜åœ¨çš„æ˜¯<strong>å®ç°</strong>å…³ç³»ã€‚</p><p>ã€€ã€€ã€€ã€€<strong>ç»§æ‰¿ç”¨extends ï¼›å®ç°ç”¨implements ï¼›</strong></p><p>ã€€ã€€5ï¼šæ¥å£å’Œç±»ä¸ä¸€æ ·çš„åœ°æ–¹ï¼Œå°±æ˜¯ï¼Œ<strong>æ¥å£å¯ä»¥è¢«å¤šå®ç°</strong>ï¼Œè¿™å°±æ˜¯å¤šç»§æ‰¿æ”¹è‰¯åçš„ç»“æœã€‚javaå°†å¤šç»§æ‰¿æœºåˆ¶é€šè¿‡å¤šç°å®æ¥ä½“ç°ã€‚ </p><p>ã€€ã€€6ï¼šä¸€ä¸ªç±»åœ¨ç»§æ‰¿å¦ä¸€ä¸ªç±»çš„åŒæ—¶ï¼Œè¿˜å¯ä»¥å®ç°å¤šä¸ªæ¥å£ã€‚æ‰€ä»¥<strong>æ¥å£çš„å‡ºç°é¿å…äº†å•ç»§æ‰¿çš„å±€é™æ€§</strong>ã€‚è¿˜å¯ä»¥å°†ç±»è¿›è¡ŒåŠŸèƒ½çš„æ‰©å±•ã€‚</p><p>ã€€ã€€7ï¼šå…¶å®javaä¸­æ˜¯æœ‰å¤šç»§æ‰¿çš„ã€‚æ¥å£ä¸æ¥å£ä¹‹é—´å­˜åœ¨ç€ç»§æ‰¿å…³ç³»ï¼Œ<strong>æ¥å£å¯ä»¥å¤šç»§æ‰¿æ¥å£</strong>ã€‚</p><p>ã€€ã€€<strong>æ¥å£éƒ½ç”¨äºè®¾è®¡ä¸Šï¼Œè®¾è®¡ä¸Šçš„ç‰¹ç‚¹</strong>ï¼šï¼ˆå¯ä»¥ç†è§£ä¸»æ¿ä¸Šæä¾›çš„æ¥å£ï¼‰</p><p>ã€€ã€€ã€€ã€€<strong>1ï¼šæ¥å£æ˜¯å¯¹å¤–æä¾›çš„è§„åˆ™ã€‚</strong></p><p>ã€€ã€€ã€€ã€€<strong>2ï¼šæ¥å£æ˜¯åŠŸèƒ½çš„æ‰©å±•ã€‚</strong></p><p>ã€€ã€€ã€€ã€€<strong>3ï¼šæ¥å£çš„å‡ºç°é™ä½äº†è€¦åˆæ€§</strong>ã€‚</p><p>ã€€ã€€<strong>æŠ½è±¡ç±»ä¸æ¥å£ï¼š</strong></p><p>ã€€ã€€<strong>æŠ½è±¡ç±»</strong>ï¼šä¸€èˆ¬ç”¨äºæè¿°ä¸€ä¸ªä½“ç³»å•å…ƒï¼Œå°†ä¸€ç»„å…±æ€§å†…å®¹è¿›è¡ŒæŠ½å–ï¼Œç‰¹ç‚¹ï¼šå¯ä»¥åœ¨ç±»ä¸­å®šä¹‰æŠ½è±¡å†…å®¹è®©å­ç±»å®ç°ï¼Œå¯ä»¥å®šä¹‰éæŠ½è±¡å†…å®¹è®©å­ç±»ç›´æ¥ä½¿ç”¨ã€‚å®ƒé‡Œé¢å®šä¹‰çš„éƒ½æ˜¯ä¸€äº›ä½“ç³»ä¸­çš„åŸºæœ¬å†…å®¹ã€‚</p><p>ã€€ã€€<strong>æ¥å£</strong>ï¼šä¸€èˆ¬ç”¨äºå®šä¹‰å¯¹è±¡çš„æ‰©å±•åŠŸèƒ½ï¼Œæ˜¯åœ¨ç»§æ‰¿ä¹‹å¤–è¿˜éœ€è¿™ä¸ªå¯¹è±¡å…·å¤‡çš„ä¸€äº›åŠŸèƒ½ã€‚</p><p>ã€€ã€€<strong>æŠ½è±¡ç±»å’Œæ¥å£çš„å…±æ€§</strong>ï¼šéƒ½æ˜¯ä¸æ–­å‘ä¸ŠæŠ½å–çš„ç»“æœã€‚</p><p>ã€€ã€€<strong>æŠ½è±¡ç±»å’Œæ¥å£çš„åŒºåˆ«ï¼š</strong></p><p>ã€€ã€€ã€€ã€€<strong>1ï¼šæŠ½è±¡ç±»åªèƒ½è¢«ç»§æ‰¿ï¼Œè€Œä¸”åªèƒ½å•ç»§æ‰¿ã€‚</strong></p><p>ã€€ã€€ã€€ã€€ã€€ã€€<strong>æ¥å£éœ€è¦è¢«å®ç°ï¼Œè€Œä¸”å¯ä»¥å¤šå®ç°ã€‚</strong> </p><p>ã€€ã€€ã€€ã€€<strong>2ï¼šæŠ½è±¡ç±»ä¸­å¯ä»¥å®šä¹‰éæŠ½è±¡æ–¹æ³•ï¼Œå­ç±»å¯ä»¥ç›´æ¥ç»§æ‰¿ä½¿ç”¨ã€‚</strong></p><p>ã€€ã€€ã€€ã€€ã€€ã€€<strong>æ¥å£ä¸­éƒ½æœ‰æŠ½è±¡æ–¹æ³•ï¼Œéœ€è¦å­ç±»å»å®ç°ã€‚</strong></p><p>ã€€ã€€ã€€ã€€<strong>3ï¼šæŠ½è±¡ç±»ä½¿ç”¨çš„æ˜¯ is a å…³ç³»ã€‚</strong></p><p>ã€€ã€€ã€€ã€€ã€€ã€€<strong>æ¥å£ä½¿ç”¨çš„ like a å…³ç³»ã€‚</strong> </p><p>ã€€ã€€ã€€ã€€<strong>4ï¼šæŠ½è±¡ç±»çš„æˆå‘˜ä¿®é¥°ç¬¦å¯ä»¥è‡ªå®šä¹‰ã€‚</strong></p><p>ã€€ã€€ã€€ã€€ã€€ã€€<strong>æ¥å£ä¸­çš„æˆå‘˜ä¿®é¥°ç¬¦æ˜¯å›ºå®šçš„ã€‚å…¨éƒ½æ˜¯publicçš„ã€‚</strong></p><p>ã€€ã€€åœ¨å¼€å‘ä¹‹å‰ï¼Œå…ˆå®šä¹‰è§„åˆ™ï¼ŒAå’ŒBåˆ†åˆ«å¼€å‘ï¼ŒAè´Ÿè´£å®ç°è¿™ä¸ªè§„åˆ™ï¼ŒBè´Ÿè´£ä½¿ç”¨è¿™ä¸ªè§„åˆ™ã€‚è‡³äºAæ˜¯å¦‚ä½•å¯¹è§„åˆ™å…·ä½“å®ç°çš„ï¼ŒBæ˜¯ä¸éœ€è¦çŸ¥é“çš„ã€‚è¿™æ ·è¿™ä¸ªæ¥å£çš„å‡ºç°å°±é™ä½äº†Aå’ŒBç›´æ¥è€¦åˆæ€§ã€‚ </p><p>â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”</p><p><strong>å¤š æ€â˜…â˜…â˜…â˜…â˜…ï¼ˆé¢å‘å¯¹è±¡ç‰¹å¾ä¹‹ä¸€ï¼‰</strong>ï¼šå‡½æ•°æœ¬èº«å°±å…·å¤‡å¤šæ€æ€§ï¼ŒæŸä¸€ç§äº‹ç‰©æœ‰ä¸åŒçš„å…·ä½“çš„ä½“ç°ã€‚</p><p>ã€€ã€€<strong>ä½“ç°</strong>ï¼š<strong>çˆ¶ç±»å¼•ç”¨æˆ–è€…æ¥å£çš„å¼•ç”¨æŒ‡å‘äº†è‡ªå·±çš„å­ç±»å¯¹è±¡</strong>ã€‚//Animal a = new Cat();</p><p>ã€€ã€€<strong>å¤šæ€çš„å¥½å¤„</strong>ï¼š<strong>æé«˜äº†ç¨‹åºçš„æ‰©å±•æ€§ã€‚</strong></p><p>ã€€ã€€<strong>å¤šæ€çš„å¼Šç«¯</strong>ï¼š<strong>å½“çˆ¶ç±»å¼•ç”¨æŒ‡å‘å­ç±»å¯¹è±¡æ—¶ï¼Œè™½ç„¶æé«˜äº†æ‰©å±•æ€§ï¼Œä½†æ˜¯åªèƒ½è®¿é—®çˆ¶ç±»ä¸­å…·å¤‡çš„æ–¹æ³•ï¼Œä¸å¯ä»¥è®¿é—®å­ç±»ä¸­ç‰¹æœ‰çš„æ–¹æ³•</strong>ã€‚(å‰æœŸä¸èƒ½ä½¿ç”¨åæœŸäº§ç”Ÿçš„åŠŸèƒ½ï¼Œå³è®¿é—®çš„å±€é™æ€§)</p><p>ã€€ã€€<strong>å¤šæ€çš„å‰æï¼š</strong></p><p>ã€€ã€€ã€€ã€€<strong>1ï¼šå¿…é¡»è¦æœ‰å…³ç³»ï¼Œæ¯”å¦‚ç»§æ‰¿ã€æˆ–è€…å®ç°ã€‚</strong></p><p>ã€€ã€€ã€€ã€€<strong>2ï¼šé€šå¸¸ä¼šæœ‰è¦†ç›–æ“ä½œã€‚</strong></p><p>ã€€ã€€<strong>å¤šæ€çš„å‡ºç°æ€æƒ³ä¸Šä¹Ÿåšç€å˜åŒ–</strong>ï¼šä»¥å‰æ˜¯åˆ›å»ºå¯¹è±¡å¹¶æŒ‡æŒ¥å¯¹è±¡åšäº‹æƒ…ã€‚æœ‰äº†å¤šæ€ä»¥åï¼Œæˆ‘ä»¬å¯ä»¥æ‰¾åˆ°å¯¹è±¡çš„å…±æ€§ç±»å‹ï¼Œç›´æ¥æ“ä½œå…±æ€§ç±»å‹åšäº‹æƒ…å³å¯ï¼Œè¿™æ ·å¯ä»¥æŒ‡æŒ¥ä¸€æ‰¹å¯¹è±¡åšäº‹æƒ…ï¼Œå³é€šè¿‡æ“ä½œçˆ¶ç±»æˆ–æ¥å£å®ç°ã€‚</p><p>â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”</p><p>ã€€ã€€class æ¯•å§¥çˆ·{</p><p>ã€€ã€€ã€€ã€€void è®²è¯¾(){</p><p>ã€€ã€€ã€€ã€€ã€€ã€€System.out.println(â€œä¼ä¸šç®¡ç†â€);</p><p>ã€€ã€€ã€€ã€€}</p><p>ã€€ã€€ã€€ã€€void é’“é±¼(){</p><p>ã€€ã€€ã€€ã€€ã€€ã€€System.out.println(â€œé’“é±¼â€);</p><p>ã€€ã€€ã€€ã€€}</p><p>ã€€ã€€}</p><p>ã€€ã€€class æ¯•è€å¸ˆ extends æ¯•å§¥çˆ·{</p><p>ã€€ã€€ã€€ã€€void è®²è¯¾(){</p><p>ã€€ã€€ã€€ã€€ã€€ã€€System.out.println(â€œJAVAâ€);</p><p>ã€€ã€€ã€€ã€€}</p><p>ã€€ã€€ã€€ã€€void çœ‹ç”µå½±(){</p><p>ã€€ã€€ã€€ã€€ã€€ã€€System.out.println(â€œçœ‹ç”µå½±â€);</p><p>ã€€ã€€ã€€ã€€}</p><p>ã€€ã€€}</p><p>ã€€ã€€class {</p><p>ã€€ã€€ã€€ã€€public static void main(String[] args) {</p><p>ã€€ã€€ã€€ã€€ã€€ã€€æ¯•å§¥çˆ· x = new æ¯•è€å¸ˆ(); <strong>//æ¯•è€å¸ˆå¯¹è±¡è¢«æå‡ä¸ºäº†æ¯•å§¥çˆ·ç±»å‹ã€‚</strong> </p><p>ã€€ã€€ã€€ã€€ã€€ã€€// x.è®²è¯¾();</p><p>ã€€ã€€ã€€ã€€ã€€ã€€// x.çœ‹ç”µå½±(); <strong>//é”™è¯¯.</strong></p><p>ã€€ã€€ã€€ã€€ã€€ã€€æ¯•è€å¸ˆ y = (æ¯•è€å¸ˆ)x; <strong>//å°†æ¯•å§¥çˆ·ç±»å‹å¼ºåˆ¶è½¬æ¢æˆæ¯•è€å¸ˆç±»å‹ã€‚</strong> </p><p>ã€€ã€€ã€€ã€€ã€€ã€€y.çœ‹ç”µå½±();//åœ¨å¤šæ€ä¸­ï¼Œè‡ªå§‹è‡ªç»ˆéƒ½æ˜¯å­ç±»å¯¹è±¡åœ¨åšç€ç±»å‹çš„å˜åŒ–ã€‚</p><p>ã€€ã€€ã€€ã€€}</p><p>ã€€ã€€}</p><p>â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”</p><p>ã€€ã€€<strong>å¦‚æœæƒ³ç”¨å­ç±»å¯¹è±¡çš„ç‰¹æœ‰æ–¹æ³•ï¼Œå¦‚ä½•åˆ¤æ–­å¯¹è±¡æ˜¯å“ªä¸ªå…·ä½“çš„å­ç±»ç±»å‹å‘¢ï¼Ÿ</strong></p><p>ã€€ã€€ã€€ã€€å¯ä»¥å¯ä»¥é€šè¿‡ä¸€ä¸ªå…³é”®å­— <strong>instanceof</strong> <strong>;//åˆ¤æ–­å¯¹è±¡æ˜¯å¦å®ç°äº†æŒ‡å®šçš„æ¥å£æˆ–ç»§æ‰¿äº†æŒ‡å®šçš„ç±»</strong></p><p>ã€€ã€€æ ¼å¼ï¼š&lt;**å¯¹è±¡ instanceof ç±»å‹**&gt; ï¼Œåˆ¤æ–­ä¸€ä¸ªå¯¹è±¡æ˜¯å¦æ‰€å±äºæŒ‡å®šçš„ç±»å‹ã€‚</p><p>ã€€ã€€Student instanceof Person = true;//studentç»§æ‰¿äº†personç±»</p><p>ã€€ã€€<strong>å¤šæ€åœ¨å­çˆ¶ç±»ä¸­çš„æˆå‘˜ä¸Šçš„ä½“ç°çš„ç‰¹ç‚¹ï¼š</strong></p><p>ã€€ã€€ã€€ã€€<strong>1ï¼Œæˆå‘˜å˜é‡</strong>ï¼šåœ¨å¤šæ€ä¸­ï¼Œå­çˆ¶ç±»æˆå‘˜å˜é‡åŒåã€‚</p><p>ã€€ã€€ã€€ã€€ã€€ã€€åœ¨ç¼–è¯‘æ—¶æœŸï¼šå‚è€ƒçš„æ˜¯<strong>å¼•ç”¨å‹å˜é‡æ‰€å±çš„ç±»</strong>ä¸­æ˜¯å¦æœ‰è°ƒç”¨çš„æˆå‘˜ã€‚<strong>ï¼ˆç¼–è¯‘æ—¶ä¸äº§ç”Ÿå¯¹è±¡ï¼Œåªæ£€æŸ¥è¯­æ³•é”™è¯¯ï¼‰</strong></p><p>ã€€ã€€ã€€ã€€ã€€ã€€è¿è¡Œæ—¶æœŸï¼šä¹Ÿæ˜¯å‚è€ƒ<strong>å¼•ç”¨å‹å˜é‡æ‰€å±çš„ç±»</strong>ä¸­æ˜¯å¦æœ‰è°ƒç”¨çš„æˆå‘˜ã€‚</p><p>ã€€ã€€ã€€ã€€ã€€ã€€<strong>ç®€å•ä¸€å¥è¯ï¼šæ— è®ºç¼–è¯‘å’Œè¿è¡Œï¼Œæˆå‘˜å˜é‡å‚è€ƒçš„éƒ½æ˜¯å¼•ç”¨å˜é‡æ‰€å±çš„ç±»ä¸­çš„æˆå‘˜å˜é‡ã€‚</strong></p><p>ã€€ã€€ã€€ã€€ã€€ã€€å†è¯´çš„æ›´å®¹æ˜“è®°å¿†ä¸€äº›ï¼š<strong>æˆå‘˜å˜é‡ â€”â€”â€” ç¼–è¯‘è¿è¡Œéƒ½çœ‹ = å·¦è¾¹ã€‚</strong></p><p>ã€€ã€€<strong>2ï¼Œæˆå‘˜å‡½æ•°ã€‚</strong></p><p>ã€€ã€€ã€€ã€€ç¼–è¯‘æ—¶æœŸï¼šå‚è€ƒå¼•ç”¨å‹å˜é‡æ‰€å±çš„ç±»ä¸­æ˜¯å¦æœ‰è°ƒç”¨çš„æ–¹æ³•ã€‚</p><p>ã€€ã€€ã€€ã€€è¿è¡Œäº‹æƒ…ï¼šå‚è€ƒçš„æ˜¯å¯¹è±¡æ‰€å±çš„ç±»ä¸­æ˜¯å¦æœ‰è°ƒç”¨çš„æ–¹æ³•ã€‚</p><p>ã€€ã€€ã€€ã€€ä¸ºä»€ä¹ˆæ˜¯è¿™æ ·çš„å‘¢ï¼Ÿ<strong>å› ä¸ºåœ¨å­çˆ¶ç±»ä¸­ï¼Œå¯¹äºä¸€æ¨¡ä¸€æ ·çš„æˆå‘˜å‡½æ•°ï¼Œæœ‰ä¸€ä¸ªç‰¹æ€§ï¼šè¦†ç›–ã€‚</strong></p><p>ã€€ã€€ã€€ã€€ç®€å•ä¸€å¥ï¼šæˆå‘˜å‡½æ•°ï¼Œç¼–è¯‘çœ‹å¼•ç”¨å‹å˜é‡æ‰€å±çš„ç±»ï¼Œè¿è¡Œçœ‹å¯¹è±¡æ‰€å±çš„ç±»ã€‚</p><p>ã€€ã€€ã€€ã€€æ›´ç®€å•ï¼š<strong>æˆå‘˜å‡½æ•° â€”â€”â€” ç¼–è¯‘çœ‹ = å·¦è¾¹ï¼Œè¿è¡Œçœ‹ = å³è¾¹ã€‚</strong></p><p>ã€€ã€€<strong>3ï¼Œé™æ€å‡½æ•°ã€‚</strong> </p><p>ã€€ã€€ã€€ã€€ç¼–è¯‘æ—¶æœŸï¼šå‚è€ƒçš„æ˜¯å¼•ç”¨å‹å˜é‡æ‰€å±çš„ç±»ä¸­æ˜¯å¦æœ‰è°ƒç”¨çš„æˆå‘˜ã€‚</p><p>ã€€ã€€ã€€ã€€è¿è¡Œæ—¶æœŸï¼šä¹Ÿæ˜¯å‚è€ƒå¼•ç”¨å‹å˜é‡æ‰€å±çš„ç±»ä¸­æ˜¯å¦æœ‰è°ƒç”¨çš„æˆå‘˜ã€‚</p><p>ã€€ã€€ã€€ã€€ä¸ºä»€ä¹ˆæ˜¯è¿™æ ·çš„å‘¢ï¼Ÿ<strong>å› ä¸ºé™æ€æ–¹æ³•ï¼Œå…¶å®ä¸æ‰€å±äºå¯¹è±¡ï¼Œè€Œæ˜¯æ‰€å±äºè¯¥æ–¹æ³•æ‰€åœ¨çš„ç±»ã€‚</strong></p><p>ã€€ã€€ã€€ã€€è°ƒç”¨é™æ€çš„æ–¹æ³•å¼•ç”¨æ˜¯å“ªä¸ªç±»çš„å¼•ç”¨è°ƒç”¨çš„å°±æ˜¯å“ªä¸ªç±»ä¸­çš„é™æ€æ–¹æ³•ã€‚</p><p>ã€€ã€€ã€€ã€€ç®€å•è¯´ï¼š<strong>é™æ€å‡½æ•° â€”â€”â€” ç¼–è¯‘è¿è¡Œéƒ½çœ‹ = å·¦è¾¹ã€‚</strong></p><p>â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”</p><p>â€”â€”â€”â€”â€”â€”java.lang.Object</p><p>ã€€ã€€<strong>Object</strong>ï¼šæ‰€æœ‰ç±»çš„ç›´æ¥æˆ–è€…é—´æ¥çˆ¶ç±»ï¼ŒJavaè®¤ä¸ºæ‰€æœ‰çš„å¯¹è±¡éƒ½å…·å¤‡ä¸€äº›åŸºæœ¬çš„å…±æ€§å†…å®¹ï¼Œè¿™äº›å†…å®¹å¯ä»¥ä¸æ–­çš„å‘ä¸ŠæŠ½å–ï¼Œæœ€ç»ˆå°±æŠ½å–åˆ°äº†ä¸€ä¸ªæœ€é¡¶å±‚çš„ç±»ä¸­çš„ï¼Œè¯¥ç±»ä¸­å®šä¹‰çš„å°±æ˜¯æ‰€æœ‰å¯¹è±¡éƒ½å…·å¤‡çš„åŠŸèƒ½ã€‚</p><p><strong>å…·ä½“æ–¹æ³•ï¼š</strong></p><p>ã€€ã€€<strong>1ï¼Œboolean equals(Object obj)**ï¼šç”¨äºæ¯”è¾ƒä¸¤ä¸ªå¯¹è±¡æ˜¯å¦ç›¸ç­‰ï¼Œ</strong>å…¶å®å†…éƒ¨æ¯”è¾ƒçš„å°±æ˜¯ä¸¤ä¸ªå¯¹è±¡åœ°å€ã€‚**</p><p>ã€€ã€€è€Œæ ¹æ®å¯¹è±¡çš„å±æ€§ä¸åŒï¼Œåˆ¤æ–­å¯¹è±¡æ˜¯å¦ç›¸åŒçš„å…·ä½“å†…å®¹ä¹Ÿä¸ä¸€æ ·ã€‚æ‰€ä»¥åœ¨å®šä¹‰ç±»æ—¶ï¼Œä¸€èˆ¬éƒ½ä¼šå¤å†™equalsæ–¹æ³•ï¼Œå»ºç«‹æœ¬ç±»ç‰¹æœ‰çš„åˆ¤æ–­å¯¹è±¡æ˜¯å¦ç›¸åŒçš„ä¾æ®ã€‚</p><p>ã€€ã€€public boolean equals(Object obj){</p><p>ã€€ã€€ã€€ã€€if(!(obj instanceof Person))</p><p>ã€€ã€€ã€€ã€€return false;</p><p>ã€€ã€€ã€€ã€€Person p = (Person)obj;</p><p>ã€€ã€€ã€€ã€€return this.age == p.age;</p><p>ã€€ã€€}</p><p>ã€€ã€€**2ï¼ŒString toString()**ï¼šå°†å¯¹è±¡å˜æˆå­—ç¬¦ä¸²ï¼›é»˜è®¤è¿”å›çš„æ ¼å¼ï¼šç±»å@å“ˆå¸Œå€¼ = getClass().getName() + â€˜@â€™ + Integer.toHexString(hashCode())</p><p>ã€€ã€€ä¸ºäº†å¯¹è±¡å¯¹åº”çš„å­—ç¬¦ä¸²å†…å®¹æœ‰æ„ä¹‰ï¼Œå¯ä»¥é€šè¿‡å¤å†™ï¼Œå»ºç«‹è¯¥ç±»å¯¹è±¡è‡ªå·±ç‰¹æœ‰çš„å­—ç¬¦ä¸²è¡¨ç°å½¢å¼ã€‚ </p><p>ã€€ã€€public String toString(){</p><p>ã€€ã€€ã€€ã€€return â€œperson : â€œ+age;</p><p>ã€€ã€€}</p><p>ã€€ã€€**3ï¼ŒClass getClass()**ï¼šè·å–ä»»æ„å¯¹è±¡è¿è¡Œæ—¶çš„æ‰€å±å­—èŠ‚ç æ–‡ä»¶å¯¹è±¡ã€‚</p><p>ã€€ã€€**4ï¼Œint hashCode()**ï¼šè¿”å›è¯¥å¯¹è±¡çš„å“ˆå¸Œç å€¼ã€‚æ”¯æŒæ­¤æ–¹æ³•æ˜¯ä¸ºäº†æé«˜å“ˆå¸Œè¡¨çš„æ€§èƒ½ã€‚</p><p>ã€€ã€€<strong>é€šå¸¸equalsï¼ŒtoStringï¼ŒhashCodeï¼Œåœ¨åº”ç”¨ä¸­éƒ½ä¼šè¢«å¤å†™ï¼Œå»ºç«‹å…·ä½“å¯¹è±¡çš„ç‰¹æœ‰çš„å†…å®¹ã€‚</strong></p><p>â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”</p><p>ã€€ã€€<strong>å†…éƒ¨ç±»ï¼š</strong>å¦‚æœAç±»éœ€è¦ç›´æ¥è®¿é—®Bç±»ä¸­çš„æˆå‘˜ï¼Œè€ŒBç±»åˆéœ€è¦å»ºç«‹Aç±»çš„å¯¹è±¡ã€‚è¿™æ—¶,ä¸ºäº†æ–¹ä¾¿è®¾è®¡å’Œè®¿é—®ï¼Œç›´æ¥å°†Aç±»å®šä¹‰åœ¨Bç±»ä¸­ã€‚å°±å¯ä»¥äº†ã€‚Aç±»å°±ç§°ä¸ºå†…éƒ¨ç±»ã€‚å†…éƒ¨ç±»å¯ä»¥ç›´æ¥è®¿é—®å¤–éƒ¨ç±»ä¸­çš„æˆå‘˜ã€‚è€Œå¤–éƒ¨ç±»æƒ³è¦è®¿é—®å†…éƒ¨ç±»ï¼Œå¿…é¡»è¦å»ºç«‹å†…éƒ¨ç±»çš„å¯¹è±¡ã€‚</p><p>â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”</p><p>class Outer{</p><p>ã€€ã€€int num = 4;</p><p>ã€€ã€€class Inner {</p><p>ã€€ã€€ã€€ã€€void show(){</p><p>ã€€ã€€ã€€ã€€ã€€ã€€System.out.println(â€œinner show run â€œ+num);</p><p>ã€€ã€€ã€€ã€€}</p><p>ã€€ã€€}</p><p>ã€€ã€€public void method(){</p><p>ã€€ã€€Inner in = new Inner();//åˆ›å»ºå†…éƒ¨ç±»çš„å¯¹è±¡ã€‚</p><p>ã€€ã€€in.show();//è°ƒç”¨å†…éƒ¨ç±»çš„æ–¹æ³•ã€‚ </p><p>ã€€ã€€}</p><p>}</p><p>â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”</p><p>ã€€ã€€<strong>å½“å†…éƒ¨ç±»å®šä¹‰åœ¨å¤–éƒ¨ç±»ä¸­çš„æˆå‘˜ä½ç½®ä¸Šï¼Œå¯ä»¥ä½¿ç”¨ä¸€äº›æˆå‘˜ä¿®é¥°ç¬¦ä¿®é¥° privateã€staticã€‚</strong></p><p>ã€€ã€€1ï¼šé»˜è®¤ä¿®é¥°ç¬¦ã€‚</p><p>ã€€ã€€ã€€ã€€<strong>ç›´æ¥è®¿é—®å†…éƒ¨ç±»æ ¼å¼ï¼šå¤–éƒ¨ç±»å.å†…éƒ¨ç±»å å˜é‡å = å¤–éƒ¨ç±»å¯¹è±¡.å†…éƒ¨ç±»å¯¹è±¡;</strong></p><p>ã€€ã€€ã€€ã€€<strong>Outer.Inner in = new Outer.new Inner();//è¿™ç§å½¢å¼å¾ˆå°‘ç”¨ã€‚</strong></p><p>ã€€ã€€ã€€ã€€ä½†æ˜¯è¿™ç§åº”ç”¨ä¸å¤šè§ï¼Œå› ä¸ºå†…éƒ¨ç±»ä¹‹æ‰€ä»¥å®šä¹‰åœ¨å†…éƒ¨å°±æ˜¯ä¸ºäº†å°è£…ã€‚<strong>æƒ³è¦è·å–å†…éƒ¨ç±»å¯¹è±¡é€šå¸¸éƒ½é€šè¿‡å¤–éƒ¨ç±»çš„æ–¹æ³•æ¥è·å–ã€‚è¿™æ ·å¯ä»¥å¯¹å†…éƒ¨ç±»å¯¹è±¡è¿›è¡Œæ§åˆ¶ã€‚</strong></p><p>ã€€ã€€2ï¼šç§æœ‰ä¿®é¥°ç¬¦ã€‚</p><p>ã€€ã€€ã€€ã€€é€šå¸¸å†…éƒ¨ç±»è¢«å°è£…ï¼Œéƒ½ä¼šè¢«ç§æœ‰åŒ–ï¼Œå› ä¸ºå°è£…æ€§ä¸è®©å…¶ä»–ç¨‹åºç›´æ¥è®¿é—®ã€‚ </p><p>ã€€ã€€3ï¼šé™æ€ä¿®é¥°ç¬¦ã€‚</p><p>ã€€ã€€ã€€ã€€<strong>å¦‚æœå†…éƒ¨ç±»è¢«é™æ€ä¿®é¥°ï¼Œç›¸å½“äºå¤–éƒ¨ç±»</strong>ï¼Œä¼šå‡ºç°è®¿é—®å±€é™æ€§ï¼Œåªèƒ½è®¿é—®å¤–éƒ¨ç±»ä¸­çš„é™æ€æˆå‘˜ã€‚</p><p>ã€€ã€€ã€€ã€€æ³¨æ„ï¼›<strong>å¦‚æœå†…éƒ¨ç±»ä¸­å®šä¹‰äº†é™æ€æˆå‘˜ï¼Œé‚£ä¹ˆè¯¥å†…éƒ¨ç±»å¿…é¡»æ˜¯é™æ€çš„ã€‚</strong></p><p>ã€€ã€€<strong>å†…éƒ¨ç±»ç¼–è¯‘åçš„æ–‡ä»¶åä¸ºï¼šâ€œå¤–éƒ¨ç±»å$å†…éƒ¨ç±»å.javaâ€ï¼›</strong></p><p>ã€€ã€€<strong>ä¸ºä»€ä¹ˆå†…éƒ¨ç±»å¯ä»¥ç›´æ¥è®¿é—®å¤–éƒ¨ç±»ä¸­çš„æˆå‘˜å‘¢ï¼Ÿ</strong></p><p>ã€€ã€€ã€€ã€€é‚£æ˜¯å› ä¸ºå†…éƒ¨ä¸­éƒ½æŒæœ‰ä¸€ä¸ªå¤–éƒ¨ç±»çš„å¼•ç”¨ã€‚è¿™ä¸ªæ˜¯å¼•ç”¨æ˜¯ <strong>å¤–éƒ¨ç±»å.this</strong> </p><p>ã€€ã€€ã€€ã€€å†…éƒ¨ç±»å¯ä»¥å®šä¹‰åœ¨å¤–éƒ¨ç±»ä¸­çš„æˆå‘˜ä½ç½®ä¸Šï¼Œä¹Ÿå¯ä»¥å®šä¹‰åœ¨å¤–éƒ¨ç±»ä¸­çš„å±€éƒ¨ä½ç½®ä¸Šã€‚</p><p>ã€€ã€€ã€€ã€€<strong>å½“å†…éƒ¨ç±»è¢«å®šä¹‰åœ¨å±€éƒ¨ä½ç½®ä¸Šï¼Œåªèƒ½è®¿é—®å±€éƒ¨ä¸­è¢«finalä¿®é¥°çš„å±€éƒ¨å˜é‡ã€‚</strong></p><p>ã€€ã€€<strong>åŒ¿åå†…éƒ¨ç±»</strong>ï¼šæ²¡æœ‰åå­—çš„å†…éƒ¨ç±»ã€‚å°±æ˜¯å†…éƒ¨ç±»çš„ç®€åŒ–å½¢å¼ã€‚ä¸€èˆ¬åªç”¨ä¸€æ¬¡å°±å¯ä»¥ç”¨è¿™ç§å½¢å¼ã€‚åŒ¿åå†…éƒ¨ç±»å…¶å®å°±æ˜¯ä¸€ä¸ªåŒ¿åå­ç±»å¯¹è±¡ã€‚<strong>æƒ³è¦å®šä¹‰åŒ¿åå†…éƒ¨ç±»ï¼šéœ€è¦å‰æï¼Œå†…éƒ¨ç±»å¿…é¡»ç»§æ‰¿ä¸€ä¸ªç±»æˆ–è€…å®ç°æ¥å£ã€‚</strong></p><p>ã€€ã€€<strong>åŒ¿åå†…éƒ¨ç±»çš„æ ¼å¼</strong>ï¼šnew çˆ¶ç±»å&amp;æ¥å£å(){ å®šä¹‰å­ç±»æˆå‘˜æˆ–è€…è¦†ç›–çˆ¶ç±»æ–¹æ³• }.æ–¹æ³•ã€‚</p><p>ã€€ã€€<strong>åŒ¿åå†…éƒ¨ç±»çš„ä½¿ç”¨åœºæ™¯ï¼š</strong></p><p>ã€€ã€€ã€€ã€€å½“å‡½æ•°çš„å‚æ•°æ˜¯æ¥å£ç±»å‹å¼•ç”¨æ—¶ï¼Œå¦‚æœæ¥å£ä¸­çš„æ–¹æ³•ä¸è¶…è¿‡3ä¸ªã€‚å¯ä»¥é€šè¿‡åŒ¿åå†…éƒ¨ç±»æ¥å®Œæˆå‚æ•°çš„ä¼ é€’ã€‚</p><p>ã€€ã€€ã€€ã€€å…¶å®å°±æ˜¯åœ¨åˆ›å»ºåŒ¿åå†…éƒ¨ç±»æ—¶ï¼Œè¯¥ç±»ä¸­çš„å°è£…çš„æ–¹æ³•ä¸è¦è¿‡å¤šï¼Œæœ€å¥½ä¸¤ä¸ªæˆ–è€…ä¸¤ä¸ªä»¥å†…ã€‚</p><p>â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”</p><p>//é¢è¯•</p><p>ã€€ã€€ã€€ã€€<strong>//1</strong></p><p>ã€€ã€€ã€€ã€€new Object(){</p><p>ã€€ã€€ã€€ã€€ã€€ã€€void show(){</p><p>ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€System.out.println(â€œshow runâ€);</p><p>ã€€ã€€ã€€ã€€ã€€ã€€}</p><p>ã€€ã€€ã€€ã€€}<strong>.show();</strong></p><p>ã€€ã€€ã€€ã€€<strong>//2</strong></p><p>ã€€ã€€ã€€ã€€Object obj = new Object(){</p><p>ã€€ã€€ã€€ã€€ã€€ã€€void show(){</p><p>ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€System.out.println(â€œshow runâ€);</p><p>ã€€ã€€ã€€ã€€ã€€ã€€}</p><p>ã€€ã€€ã€€ã€€};</p><p>ã€€ã€€ã€€ã€€<strong>obj.show();</strong></p><p>ã€€ã€€ã€€ã€€1å’Œ2çš„å†™æ³•æ­£ç¡®å—ï¼Ÿæœ‰åŒºåˆ«å—ï¼Ÿè¯´å‡ºåŸå› ã€‚</p><p>ã€€ã€€ã€€ã€€å†™æ³•æ˜¯æ­£ç¡®ï¼Œ1å’Œ2éƒ½æ˜¯åœ¨é€šè¿‡åŒ¿åå†…éƒ¨ç±»å»ºç«‹ä¸€ä¸ªObjectç±»çš„å­ç±»å¯¹è±¡ã€‚</p><p>ã€€ã€€ã€€ã€€åŒºåˆ«ï¼š</p><p>ã€€ã€€ã€€ã€€ã€€ã€€ç¬¬ä¸€ä¸ªå¯æ˜¯ç¼–è¯‘é€šè¿‡ï¼Œå¹¶è¿è¡Œã€‚</p><p>ã€€ã€€ã€€ã€€ã€€ã€€ç¬¬äºŒä¸ªç¼–è¯‘å¤±è´¥ï¼Œå› ä¸ºåŒ¿åå†…éƒ¨ç±»æ˜¯ä¸€ä¸ªå­ç±»å¯¹è±¡ï¼Œå½“ç”¨Objectçš„objå¼•ç”¨æŒ‡å‘æ—¶ï¼Œå°±è¢«æå‡ä¸ºäº†</p><p>ã€€ã€€ã€€ã€€ã€€ã€€Objectç±»å‹ï¼Œè€Œç¼–è¯‘æ—¶æ£€æŸ¥Objectç±»ä¸­æ˜¯å¦æœ‰showæ–¹æ³•ï¼Œæ‰€ä»¥ç¼–è¯‘å¤±è´¥ã€‚</p><p>â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”</p><p>ã€€ã€€class InnerClassDemo6 {</p><p>ã€€ã€€ã€€ã€€<strong>+ï¼ˆstaticï¼‰</strong>class Inner{</p><p>ã€€ã€€ã€€ã€€ã€€ã€€void show(){}</p><p>ã€€ã€€ã€€ã€€}</p><p>ã€€ã€€ã€€ã€€public void method(){</p><p>ã€€ã€€ã€€ã€€ã€€ã€€**this.**new Inner().show();//å¯ä»¥</p><p>ã€€ã€€ã€€ã€€}</p><p>ã€€ã€€ã€€ã€€public static void main(String[] args) {//staticä¸å…è®¸this</p><p>ã€€ã€€ã€€ã€€ã€€ã€€This.new Inner().show();//é”™è¯¯ï¼ŒInnerç±»éœ€è¦å®šä¹‰æˆstatic</p><p>ã€€ã€€ã€€ã€€}</p><p>ã€€ã€€}</p><p>â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”</p><p>ã€€ã€€interface Inter{</p><p>ã€€ã€€ã€€ã€€void show();</p><p>ã€€ã€€}</p><p>ã€€ã€€class Outer{//é€šè¿‡åŒ¿åå†…éƒ¨ç±»è¡¥è¶³Outerç±»ä¸­çš„ä»£ç ã€‚</p><p>ã€€ã€€ã€€ã€€public static Inter method(){</p><p>ã€€ã€€ã€€ã€€ã€€ã€€return new Inter(){</p><p>ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€public void show(){}</p><p>ã€€ã€€ã€€ã€€ã€€ã€€};</p><p>ã€€ã€€ã€€ã€€}</p><p>ã€€ã€€}</p><p>ã€€ã€€class InnerClassDemo7 {</p><p>ã€€ã€€ã€€ã€€public static void main(String[] args) {</p><p>ã€€ã€€ã€€ã€€ã€€ã€€<strong>Outer.method().show();</strong></p><p>/*</p><p>ã€€ã€€Outer.method():æ„æ€æ˜¯ï¼šOuterä¸­æœ‰ä¸€ä¸ªåç§°ä¸ºmethodçš„æ–¹æ³•ï¼Œè€Œä¸”è¿™ä¸ªæ–¹æ³•æ˜¯é™æ€çš„ã€‚</p><p>ã€€ã€€Outer.method().show():å½“Outerç±»è°ƒç”¨é™æ€çš„methodæ–¹æ³•è¿ç®—ç»“æŸåçš„ç»“æœåˆè°ƒç”¨äº†showæ–¹æ³•ï¼Œæ„å‘³ç€ï¼šmethod()æ–¹æ³•è¿ç®—å®Œä¸€ä¸ªæ˜¯å¯¹è±¡ï¼Œè€Œä¸”è¿™ä¸ªå¯¹è±¡æ˜¯Interç±»å‹çš„ã€‚</p><p>*/</p><p>ã€€ã€€ã€€ã€€ã€€ã€€function (new Inter(){</p><p>ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€public void show(){}</p><p>ã€€ã€€ã€€ã€€ã€€ã€€}); //åŒ¿åå†…éƒ¨ç±»ä½œä¸ºæ–¹æ³•çš„å‚æ•°è¿›è¡Œä¼ é€’ã€‚</p><p>ã€€ã€€ã€€ã€€}</p><p>ã€€ã€€ã€€ã€€public static void function(Inter in){</p><p>ã€€ã€€ã€€ã€€ã€€ã€€in.show();</p><p>ã€€ã€€ã€€ã€€}</p><p>ã€€ã€€}</p><p>â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”</p><p><strong>å¼‚ å¸¸ï¼šâ˜…â˜…â˜…â˜…</strong></p><p>ã€€ã€€å¼‚å¸¸ï¼šå°±æ˜¯ä¸æ­£å¸¸ã€‚ç¨‹åºåœ¨è¿è¡Œæ—¶å‡ºç°çš„ä¸æ­£å¸¸æƒ…å†µã€‚å…¶å®å°±æ˜¯ç¨‹åºä¸­å‡ºç°çš„é—®é¢˜ã€‚è¿™ä¸ªé—®é¢˜æŒ‰ç…§é¢å‘å¯¹è±¡æ€æƒ³è¿›è¡Œæè¿°ï¼Œå¹¶å°è£…æˆäº†å¯¹è±¡ã€‚å› ä¸ºé—®é¢˜çš„äº§ç”Ÿæœ‰äº§ç”Ÿçš„åŸå› ã€æœ‰é—®é¢˜çš„åç§°ã€æœ‰é—®é¢˜çš„æè¿°ç­‰å¤šä¸ªå±æ€§ä¿¡æ¯å­˜åœ¨ã€‚å½“å‡ºç°å¤šå±æ€§ä¿¡æ¯æœ€æ–¹ä¾¿çš„æ–¹å¼å°±æ˜¯å°†è¿™äº›ä¿¡æ¯è¿›è¡Œå°è£…ã€‚å¼‚å¸¸å°±æ˜¯javaæŒ‰ç…§é¢å‘å¯¹è±¡çš„æ€æƒ³å°†é—®é¢˜è¿›è¡Œå¯¹è±¡å°è£…ã€‚è¿™æ ·å°±æ–¹ä¾¿äºæ“ä½œé—®é¢˜ä»¥åŠå¤„ç†é—®é¢˜ã€‚</p><p>ã€€ã€€å‡ºç°çš„é—®é¢˜æœ‰å¾ˆå¤šç§ï¼Œæ¯”å¦‚è§’æ ‡è¶Šç•Œï¼Œç©ºæŒ‡é’ˆç­‰éƒ½æ˜¯ã€‚å°±å¯¹è¿™äº›é—®é¢˜è¿›è¡Œåˆ†ç±»ã€‚è€Œä¸”è¿™äº›é—®é¢˜éƒ½æœ‰å…±æ€§å†…å®¹æ¯”å¦‚ï¼šæ¯ä¸€ä¸ªé—®é¢˜éƒ½æœ‰åç§°ï¼ŒåŒæ—¶è¿˜æœ‰é—®é¢˜æè¿°çš„ä¿¡æ¯ï¼Œé—®é¢˜å‡ºç°çš„ä½ç½®ï¼Œæ‰€ä»¥å¯ä»¥ä¸æ–­çš„å‘ä¸ŠæŠ½å–ã€‚å½¢æˆäº†<strong>å¼‚å¸¸ä½“ç³»</strong>ã€‚ </p><p>ã€€ã€€â€”â€”â€”â€”â€”â€”â€”â€”java.lang.Throwableï¼š</p><p>ã€€ã€€<strong>Throwableï¼š</strong>å¯æŠ›å‡ºçš„ã€‚ </p><p>ã€€ã€€ã€€ã€€<strong>|â€”â€”Error</strong>ï¼šé”™è¯¯ï¼Œä¸€èˆ¬æƒ…å†µä¸‹ï¼Œä¸ç¼–å†™é’ˆå¯¹æ€§çš„ä»£ç è¿›è¡Œå¤„ç†ï¼Œé€šå¸¸æ˜¯jvmå‘ç”Ÿçš„ï¼Œéœ€è¦å¯¹ç¨‹åºè¿›è¡Œä¿®æ­£ã€‚</p><p>ã€€ã€€ã€€ã€€<strong>|â€”â€”Exception</strong>ï¼šå¼‚å¸¸ï¼Œå¯ä»¥æœ‰é’ˆå¯¹æ€§çš„å¤„ç†æ–¹å¼</p><p>ã€€ã€€æ— è®ºæ˜¯é”™è¯¯è¿˜æ˜¯å¼‚å¸¸ï¼Œå®ƒä»¬éƒ½æœ‰å…·ä½“çš„å­ç±»ä½“ç°æ¯ä¸€ä¸ªé—®é¢˜ï¼Œå®ƒä»¬çš„å­ç±»éƒ½æœ‰ä¸€ä¸ªå…±æ€§ï¼Œå°±æ˜¯éƒ½<strong>ä»¥çˆ¶ç±»åæ‰ä½œä¸ºå­ç±»çš„åç¼€åã€‚</strong></p><p>ã€€ã€€<strong>è¿™ä¸ªä½“ç³»ä¸­çš„æ‰€æœ‰ç±»å’Œå¯¹è±¡éƒ½å…·å¤‡ä¸€ä¸ªç‹¬æœ‰çš„ç‰¹ç‚¹</strong>ï¼›<strong>å°±æ˜¯å¯æŠ›æ€§</strong>ã€‚</p><p>ã€€ã€€<strong>å¯æŠ›æ€§çš„ä½“ç°</strong>ï¼šå°±æ˜¯è¿™ä¸ªä½“ç³»ä¸­çš„ç±»å’Œå¯¹è±¡éƒ½å¯ä»¥è¢«throwså’Œthrowä¸¤ä¸ªå…³é”®å­—æ‰€æ“ä½œã€‚</p><p>â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”</p><p>ã€€ã€€class ExceptionDemo{</p><p>ã€€ã€€ã€€ã€€public static void main(String[] args) {</p><p>ã€€ã€€ã€€ã€€ã€€ã€€// byte[] buf = new byte[1024<em>1024</em>700];//java.lang.OutOfMemoryErrorå†…å­˜æº¢å‡ºé”™è¯¯</p><p>ã€€ã€€ã€€ã€€}</p><p>ã€€ã€€}</p><p>â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”</p><p>ã€€ã€€åœ¨å¼€å‘æ—¶ï¼Œå¦‚æœå®šä¹‰åŠŸèƒ½æ—¶ï¼Œå‘ç°è¯¥åŠŸèƒ½ä¼šå‡ºç°ä¸€äº›é—®é¢˜ï¼Œåº”è¯¥<strong>å°†é—®é¢˜åœ¨å®šä¹‰åŠŸèƒ½æ—¶æ ‡ç¤ºå‡ºæ¥</strong>ï¼Œè¿™æ ·è°ƒç”¨è€…å°±å¯ä»¥åœ¨ä½¿ç”¨è¿™ä¸ªåŠŸèƒ½çš„æ—¶å€™ï¼Œé¢„å…ˆç»™å‡ºå¤„ç†æ–¹å¼ã€‚</p><p>ã€€ã€€å¦‚ä½•æ ‡ç¤ºå‘¢ï¼Ÿé€šè¿‡throwså…³é”®å­—å®Œæˆï¼Œ<strong>æ ¼å¼ï¼šthrows å¼‚å¸¸ç±»å,å¼‚å¸¸ç±»åâ€¦</strong></p><p>ã€€ã€€è¿™æ ·æ ‡ç¤ºåï¼Œè°ƒç”¨è€…ï¼Œåœ¨ä½¿ç”¨è¯¥åŠŸèƒ½æ—¶ï¼Œå°±å¿…é¡»è¦å¤„ç†ï¼Œå¦åˆ™ç¼–è¯‘å¤±è´¥ã€‚</p><p>ã€€ã€€<strong>å¤„ç†æ–¹å¼æœ‰ä¸¤ç§ï¼š1ã€æ•æ‰ï¼›2ã€æŠ›å‡ºã€‚</strong></p><p>ã€€ã€€å¯¹äºæ•æ‰ï¼šjavaæœ‰é’ˆå¯¹æ€§çš„è¯­å¥å—è¿›è¡Œå¤„ç†ã€‚</p><p>ã€€ã€€<strong>try {</strong></p><p>ã€€ã€€ã€€ã€€<strong>éœ€è¦è¢«æ£€æµ‹çš„ä»£ç ï¼›</strong></p><p>ã€€ã€€<strong>}</strong></p><p>ã€€ã€€<strong>catch(å¼‚å¸¸ç±» å˜é‡å){</strong></p><p>ã€€ã€€ã€€ã€€<strong>å¼‚å¸¸å¤„ç†ä»£ç ï¼›</strong></p><p>ã€€ã€€<strong>}</strong></p><p>ã€€ã€€<strong>fianlly{</strong></p><p>ã€€ã€€<strong>ä¸€å®šä¼šæ‰§è¡Œçš„ä»£ç ï¼›</strong></p><p>ã€€ã€€<strong>}</strong></p><p>â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”</p><p>ã€€ã€€catch (Exception e) { //eç”¨äºæ¥æ”¶tryæ£€æµ‹åˆ°çš„å¼‚å¸¸å¯¹è±¡ã€‚</p><p>ã€€ã€€ã€€ã€€System.out.println(â€œmessage:â€+e.getMessage());//è·å–çš„æ˜¯å¼‚å¸¸çš„ä¿¡æ¯ã€‚</p><p>ã€€ã€€ã€€ã€€System.out.println(â€œtoString:â€+e.toString());//è·å–çš„æ˜¯å¼‚å¸¸çš„åå­—+å¼‚å¸¸çš„ä¿¡æ¯ã€‚</p><p>ã€€ã€€ã€€ã€€e.printStackTrace();//æ‰“å°å¼‚å¸¸åœ¨å †æ ˆä¸­ä¿¡æ¯ï¼›å¼‚å¸¸åç§°+å¼‚å¸¸ä¿¡æ¯+å¼‚å¸¸çš„ä½ç½®ã€‚</p><p>ã€€ã€€}</p><p>â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”</p><p>ã€€ã€€<strong>å¼‚å¸¸å¤„ç†åŸåˆ™</strong>ï¼š<strong>åŠŸèƒ½æŠ›å‡ºå‡ ä¸ªå¼‚å¸¸ï¼ŒåŠŸèƒ½è°ƒç”¨å¦‚æœè¿›è¡Œtryå¤„ç†ï¼Œéœ€è¦ä¸ä¹‹å¯¹åº”çš„catchå¤„ç†ä»£ç å—ï¼Œè¿™æ ·çš„å¤„ç†æœ‰é’ˆå¯¹æ€§ï¼ŒæŠ›å‡ ä¸ªå°±å¤„ç†å‡ ä¸ªã€‚</strong></p><p>ã€€ã€€<strong>ç‰¹æ®Šæƒ…å†µï¼štryå¯¹åº”å¤šä¸ªcatchæ—¶ï¼Œå¦‚æœæœ‰çˆ¶ç±»çš„catchè¯­å¥å—ï¼Œä¸€å®šè¦æ”¾åœ¨ä¸‹é¢ã€‚</strong></p><p>ã€€ã€€<strong>throw å’Œthrowså…³é”®å­—çš„åŒºåˆ«ï¼š</strong></p><p>ã€€ã€€ã€€ã€€throwç”¨äºæŠ›å‡ºå¼‚å¸¸å¯¹è±¡ï¼Œåé¢è·Ÿçš„æ˜¯å¼‚å¸¸å¯¹è±¡ï¼›throwç”¨åœ¨å‡½æ•°å†…ã€‚</p><p>ã€€ã€€ã€€ã€€throwsç”¨äºæŠ›å‡ºå¼‚å¸¸ç±»ï¼Œåé¢è·Ÿçš„å¼‚å¸¸ç±»åï¼Œå¯ä»¥è·Ÿå¤šä¸ªï¼Œç”¨é€—å·éš”å¼€ã€‚throwsç”¨åœ¨å‡½æ•°ä¸Šã€‚</p><p>ã€€ã€€é€šå¸¸æƒ…å†µï¼šå‡½æ•°å†…å®¹å¦‚æœæœ‰throwï¼ŒæŠ›å‡ºå¼‚å¸¸å¯¹è±¡ï¼Œå¹¶æ²¡æœ‰è¿›è¡Œå¤„ç†ï¼Œé‚£ä¹ˆå‡½æ•°ä¸Šä¸€å®šè¦å£°æ˜ï¼Œå¦åˆ™ç¼–è¯‘å¤±è´¥ã€‚ä½†æ˜¯ä¹Ÿæœ‰ç‰¹æ®Šæƒ…å†µã€‚</p><p>ã€€ã€€<strong>å¼‚å¸¸åˆ†ä¸¤ç§ï¼š</strong></p><p>ã€€ã€€ã€€ã€€1ï¼šç¼–è¯‘æ—¶è¢«æ£€æŸ¥çš„å¼‚å¸¸ï¼Œåªè¦æ˜¯ExceptionåŠå…¶å­ç±»éƒ½æ˜¯ç¼–è¯‘æ—¶è¢«æ£€æµ‹çš„å¼‚å¸¸ã€‚</p><p>ã€€ã€€ã€€ã€€2ï¼šè¿è¡Œæ—¶å¼‚å¸¸ï¼Œå…¶ä¸­Exceptionæœ‰ä¸€ä¸ªç‰¹æ®Šçš„å­ç±»RuntimeExceptionï¼Œä»¥åŠRuntimeExceptionçš„å­ç±»æ˜¯è¿è¡Œå¼‚å¸¸ï¼Œä¹Ÿå°±è¯´è¿™ä¸ªå¼‚å¸¸æ˜¯ç¼–è¯‘æ—¶ä¸è¢«æ£€æŸ¥çš„å¼‚å¸¸ã€‚</p><p>ã€€ã€€<strong>ç¼–è¯‘æ—¶è¢«æ£€æŸ¥çš„å¼‚å¸¸å’Œè¿è¡Œæ—¶å¼‚å¸¸çš„åŒºåˆ«</strong>ï¼š</p><p>ã€€ã€€ã€€ã€€ç¼–è¯‘è¢«æ£€æŸ¥çš„å¼‚å¸¸åœ¨å‡½æ•°å†…è¢«æŠ›å‡ºï¼Œå‡½æ•°å¿…é¡»è¦å£°æ˜ï¼Œå¦ç¼–è¯‘å¤±è´¥ã€‚</p><p>ã€€ã€€ã€€ã€€å£°æ˜çš„åŸå› ï¼šæ˜¯éœ€è¦è°ƒç”¨è€…å¯¹è¯¥å¼‚å¸¸è¿›è¡Œå¤„ç†ã€‚</p><p>ã€€ã€€ã€€ã€€è¿è¡Œæ—¶å¼‚å¸¸å¦‚æœåœ¨å‡½æ•°å†…è¢«æŠ›å‡ºï¼Œåœ¨å‡½æ•°ä¸Šä¸éœ€è¦å£°æ˜ã€‚</p><p>ã€€ã€€ã€€ã€€ä¸å£°æ˜çš„åŸå› ï¼šä¸éœ€è¦è°ƒç”¨è€…å¤„ç†ï¼Œè¿è¡Œæ—¶å¼‚å¸¸å‘ç”Ÿï¼Œå·²ç»æ— æ³•å†è®©ç¨‹åºç»§ç»­è¿è¡Œï¼Œæ‰€ä»¥ï¼Œä¸è®©è°ƒç”¨å¤„ç†çš„ï¼Œç›´æ¥è®©ç¨‹åºåœæ­¢ï¼Œç”±è°ƒç”¨è€…å¯¹ä»£ç è¿›è¡Œä¿®æ­£ã€‚</p><p>ã€€ã€€<strong>å®šä¹‰å¼‚å¸¸å¤„ç†æ—¶ï¼Œä»€ä¹ˆæ—¶å€™å®šä¹‰tryï¼Œä»€ä¹ˆæ—¶å€™å®šä¹‰throwså‘¢ï¼Ÿ</strong></p><p>ã€€ã€€ã€€ã€€<strong>åŠŸèƒ½å†…éƒ¨å¦‚æœå‡ºç°å¼‚å¸¸ï¼Œå¦‚æœå†…éƒ¨å¯ä»¥å¤„ç†ï¼Œå°±ç”¨tryï¼›</strong></p><p>ã€€ã€€ã€€ã€€<strong>å¦‚æœåŠŸèƒ½å†…éƒ¨å¤„ç†ä¸äº†ï¼Œå°±å¿…é¡»å£°æ˜å‡ºæ¥ï¼Œè®©è°ƒç”¨è€…å¤„ç†ã€‚</strong></p><p>ã€€ã€€<strong>è‡ªå®šä¹‰å¼‚å¸¸</strong>ï¼šå½“å¼€å‘æ—¶ï¼Œé¡¹ç›®ä¸­å‡ºç°äº†javaä¸­æ²¡æœ‰å®šä¹‰è¿‡çš„é—®é¢˜æ—¶ï¼Œè¿™æ—¶å°±éœ€è¦æˆ‘ä»¬æŒ‰ç…§javaå¼‚å¸¸å»ºç«‹æ€æƒ³ï¼Œå°†é¡¹ç›®çš„ä¸­çš„ç‰¹æœ‰é—®é¢˜ä¹Ÿè¿›è¡Œå¯¹è±¡çš„å°è£…ã€‚è¿™ä¸ªå¼‚å¸¸ï¼Œç§°ä¸ºè‡ªå®šä¹‰å¼‚å¸¸ã€‚</p><p>ã€€ã€€å¯¹äºé™¤æ³•è¿ç®—ï¼Œ0ä½œä¸ºé™¤æ•°æ˜¯ä¸å¯ä»¥çš„ã€‚javaä¸­å¯¹è¿™ç§é—®é¢˜ç”¨ArithmeticExceptionç±»è¿›è¡Œæè¿°ã€‚å¯¹äºè¿™ä¸ªåŠŸèƒ½ï¼Œåœ¨æˆ‘ä»¬é¡¹ç›®ä¸­ï¼Œé™¤æ•°é™¤äº†ä¸å¯ä»¥ä¸º0å¤–ï¼Œè¿˜ä¸å¯ä»¥ä¸ºè´Ÿæ•°ã€‚å¯æ˜¯è´Ÿæ•°çš„éƒ¨åˆ†javaå¹¶æ²¡æœ‰é’ˆå¯¹æè¿°ã€‚æ‰€ä»¥æˆ‘ä»¬å°±éœ€è¦è‡ªå®šä¹‰è¿™ä¸ªå¼‚å¸¸ã€‚</p><p>ã€€ã€€<strong>è‡ªå®šä¹‰å¼‚å¸¸çš„æ­¥éª¤ï¼š</strong></p><p>ã€€ã€€ã€€ã€€1ï¼šå®šä¹‰ä¸€ä¸ªå­ç±»ç»§æ‰¿Exceptionæˆ–RuntimeExceptionï¼Œè®©è¯¥ç±»å…·å¤‡å¯æŠ›æ€§ã€‚</p><p>ã€€ã€€ã€€ã€€2ï¼šé€šè¿‡throw æˆ–è€…throwsè¿›è¡Œæ“ä½œã€‚</p><p>ã€€ã€€<strong>å¼‚å¸¸çš„è½¬æ¢æ€æƒ³</strong>ï¼šå½“å‡ºç°çš„å¼‚å¸¸æ˜¯è°ƒç”¨è€…å¤„ç†ä¸äº†çš„ï¼Œå°±éœ€è¦å°†æ­¤å¼‚å¸¸è½¬æ¢ä¸ºä¸€ä¸ªè°ƒç”¨è€…å¯ä»¥å¤„ç†çš„å¼‚å¸¸æŠ›å‡ºã€‚</p><p>ã€€ã€€<strong>try catch finallyçš„å‡ ç§ç»“åˆæ–¹å¼ï¼š</strong></p><p>ã€€ã€€1ï¼Œ</p><p>ã€€ã€€ã€€ã€€try </p><p>ã€€ã€€ã€€ã€€catch</p><p>ã€€ã€€ã€€ã€€finally</p><p>ã€€ã€€2,</p><p>ã€€ã€€ã€€ã€€try</p><p>ã€€ã€€ã€€ã€€catch</p><p>ã€€ã€€3,</p><p>ã€€ã€€ã€€ã€€try</p><p>ã€€ã€€ã€€ã€€finally</p><p>ã€€ã€€è¿™ç§æƒ…å†µï¼Œå¦‚æœå‡ºç°å¼‚å¸¸ï¼Œå¹¶ä¸å¤„ç†ï¼Œä½†æ˜¯èµ„æºä¸€å®šå…³é—­ï¼Œæ‰€ä»¥<strong>try finallyé›†åˆåªä¸ºå…³é—­èµ„æºã€‚</strong></p><p>ã€€ã€€<strong>è®°ä½</strong>ï¼šfinallyå¾ˆæœ‰ç”¨ï¼Œä¸»è¦ç”¨æˆ·å…³é—­èµ„æºã€‚æ— è®ºæ˜¯å¦å‘ç”Ÿå¼‚å¸¸ï¼Œèµ„æºéƒ½å¿…é¡»è¿›è¡Œå…³é—­ã€‚</p><p>ã€€ã€€<strong>System.exit(0)</strong>; //é€€å‡ºjvmï¼Œåªæœ‰è¿™ç§æƒ…å†µfinallyä¸æ‰§è¡Œã€‚</p><p>ã€€ã€€<strong>å½“å¼‚å¸¸å‡ºç°åï¼Œåœ¨å­çˆ¶ç±»è¿›è¡Œè¦†ç›–æ—¶ï¼Œæœ‰äº†ä¸€äº›æ–°çš„ç‰¹ç‚¹ï¼š</strong></p><p>ã€€ã€€ã€€ã€€1ï¼šå½“å­ç±»è¦†ç›–çˆ¶ç±»çš„æ–¹æ³•æ—¶ï¼Œå¦‚æœçˆ¶ç±»çš„æ–¹æ³•æŠ›å‡ºäº†å¼‚å¸¸ï¼Œé‚£ä¹ˆå­ç±»çš„æ–¹æ³•è¦ä¹ˆä¸æŠ›å‡ºå¼‚å¸¸è¦ä¹ˆæŠ›å‡ºçˆ¶ç±»å¼‚å¸¸æˆ–è€…è¯¥å¼‚å¸¸çš„å­ç±»ï¼Œä¸èƒ½æŠ›å‡ºå…¶ä»–å¼‚å¸¸ã€‚</p><p>ã€€ã€€ã€€ã€€2ï¼šå¦‚æœçˆ¶ç±»æŠ›å‡ºäº†å¤šä¸ªå¼‚å¸¸ï¼Œé‚£ä¹ˆå­ç±»åœ¨è¦†ç›–æ—¶åªèƒ½æŠ›å‡ºçˆ¶ç±»çš„å¼‚å¸¸çš„å­é›†ã€‚</p><p>ã€€ã€€<strong>æ³¨æ„ï¼š</strong></p><p>ã€€ã€€ã€€ã€€<strong>å¦‚æœçˆ¶ç±»æˆ–è€…æ¥å£ä¸­çš„æ–¹æ³•æ²¡æœ‰æŠ›å‡ºè¿‡å¼‚å¸¸ï¼Œé‚£ä¹ˆå­ç±»æ˜¯ä¸å¯ä»¥æŠ›å‡ºå¼‚å¸¸çš„</strong>ï¼Œ<strong>å¦‚æœå­ç±»çš„è¦†ç›–çš„æ–¹æ³•ä¸­å‡ºç°äº†å¼‚å¸¸ï¼Œåªèƒ½tryä¸èƒ½throwsã€‚</strong></p><p>ã€€ã€€ã€€ã€€<strong>å¦‚æœè¿™ä¸ªå¼‚å¸¸å­ç±»æ— æ³•å¤„ç†ï¼Œå·²ç»å½±å“äº†å­ç±»æ–¹æ³•çš„å…·ä½“è¿ç®—ï¼Œè¿™æ—¶å¯ä»¥åœ¨å­ç±»æ–¹æ³•ä¸­ï¼Œé€šè¿‡throwæŠ›å‡ºRuntimeExceptionå¼‚å¸¸æˆ–è€…å…¶å­ç±»ï¼Œè¿™æ ·ï¼Œå­ç±»çš„æ–¹æ³•ä¸Šæ˜¯ä¸éœ€è¦throwså£°æ˜çš„ã€‚</strong></p><p>ã€€ã€€<strong>å¸¸è§å¼‚å¸¸ï¼š</strong></p><p>ã€€ã€€ã€€ã€€1ã€è„šæ ‡è¶Šç•Œå¼‚å¸¸ï¼ˆIndexOutOfBoundsExceptionï¼‰åŒ…æ‹¬æ•°ç»„ã€å­—ç¬¦ä¸²ï¼›</p><p>ã€€ã€€ã€€ã€€ã€€ã€€ç©ºæŒ‡é’ˆå¼‚å¸¸ï¼ˆNullPointerExceptionï¼‰</p><p>ã€€ã€€ã€€ã€€2ã€ç±»å‹è½¬æ¢å¼‚å¸¸ï¼šClassCastException</p><p>ã€€ã€€ã€€ã€€3ã€æ²¡æœ‰è¿™ä¸ªå…ƒç´ å¼‚å¸¸ï¼šNullPointerException</p><p>ã€€ã€€ã€€ã€€4ã€ä¸æ”¯æŒæ“ä½œå¼‚å¸¸ï¼›</p><p>ã€€ã€€å¼‚å¸¸è¦å°½é‡é¿å…ï¼Œå¦‚æœé¿å…ä¸äº†ï¼Œéœ€è¦é¢„å…ˆç»™å‡ºå¤„ç†æ–¹å¼ã€‚æ¯”å¦‚å®¶åº­å¤‡è¯ï¼Œæ¯”å¦‚ç­ç«å™¨ã€‚</p><p>â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”</p><p><strong>åŒ…</strong>ï¼šå®šä¹‰åŒ…ç”¨packageå…³é”®å­—ã€‚</p><p>ã€€ã€€1ï¼šå¯¹ç±»æ–‡ä»¶è¿›è¡Œåˆ†ç±»ç®¡ç†ã€‚</p><p>ã€€ã€€2ï¼šç»™ç±»æ–‡ä»¶æä¾›å¤šå±‚åç§°ç©ºé—´ã€‚</p><p>ã€€ã€€å¦‚æœç”Ÿæˆçš„åŒ…ä¸åœ¨å½“å‰ç›®å½•ä¸‹ï¼Œéœ€è¦æœ€å¥½æ‰§è¡Œclasspathï¼Œå°†åŒ…æ‰€åœ¨çˆ¶ç›®å½•å®šä¹‰åˆ°classpathå˜é‡ä¸­å³å¯ã€‚</p><p>ã€€ã€€ä¸€èˆ¬åœ¨å®šä¹‰åŒ…åæ—¶ï¼Œå› ä¸ºåŒ…çš„å‡ºç°æ˜¯ä¸ºäº†åŒºåˆ†é‡åçš„ç±»ã€‚æ‰€ä»¥åŒ…åè¦å°½é‡å”¯ä¸€ã€‚æ€ä¹ˆä¿è¯å”¯ä¸€æ€§å‘¢ï¼Ÿå¯ä»¥ä½¿ç”¨<strong>urlåŸŸå</strong>æ¥è¿›è¡ŒåŒ…åç§°çš„å®šä¹‰ã€‚</p><p>ã€€ã€€<strong>package</strong> pack;//å®šä¹‰äº†ä¸€ä¸ªåŒ…ï¼Œåç§°ä¸ºpackã€‚ <strong>æ³¨æ„ï¼šåŒ…åçš„å†™æ³•è§„èŒƒï¼šæ‰€æœ‰å­—æ¯éƒ½å°å†™ã€‚</strong></p><p>ã€€ã€€//package cn.itcast.pack.demo;</p><p>ã€€ã€€ç±»çš„å…¨åç§°æ˜¯ <strong>åŒ…å.ç±»å</strong></p><p>  ç¼–è¯‘å‘½ä»¤ï¼šjavac â€“d ä½ç½®ï¼ˆ.å½“å‰è·¯å¾„ï¼‰ javaæºæ–‡ä»¶ ï¼ˆ<strong>å°±å¯ä»¥è‡ªåŠ¨ç”ŸæˆåŒ…</strong>ï¼‰</p><p>ã€€ã€€åŒ…æ˜¯ä¸€ç§å°è£…å½¢å¼ï¼Œç”¨äºå°è£…ç±»ï¼Œæƒ³è¦è¢«åŒ…ä»¥å¤–çš„ç¨‹åºè®¿é—®ï¼Œè¯¥ç±»å¿…é¡»publicï¼›</p><p>ç±»ä¸­çš„æˆå‘˜ï¼Œå¦‚æœè¢«åŒ…ä»¥å¤–è®¿é—®ï¼Œä¹Ÿå¿…é¡»publicï¼›</p><p>ã€€ã€€<strong>åŒ…ä¸åŒ…ä¹‹é—´è®¿é—®å¯ä»¥ä½¿ç”¨çš„æƒé™æœ‰ä¸¤ç§</strong>ï¼š</p><p>ã€€ã€€ã€€ã€€1ï¼špublic </p><p>ã€€ã€€ã€€ã€€2ï¼šprotectedï¼šåªèƒ½æ˜¯ä¸åŒåŒ…ä¸­çš„å­ç±»å¯ä»¥ä½¿ç”¨çš„æƒé™ã€‚</p><p>ã€€ã€€<strong>æ€»ç»“javaä¸­çš„å››ç§æƒé™ï¼š</strong></p><p>  ã€€ã€€<strong>èŒƒå›´    public ã€€ã€€protected ã€€ã€€default ã€€ã€€private</strong> </p><p>ã€€ã€€åŒä¸€ä¸ªç±»ä¸­    okã€€ã€€ã€€ã€€ ok ã€€ã€€ã€€ã€€ã€€ã€€ok ã€€ã€€ã€€ã€€ã€€ok</p><p>ã€€ã€€åŒä¸€åŒ…ä¸­  ã€€ã€€ok ã€€ã€€ã€€ã€€okã€€ã€€ã€€ã€€ã€€ã€€ ok</p><p>ã€€ã€€å­ç±» ã€€ã€€ã€€ã€€ã€€ ok  </p><p>ã€€ã€€<strong>ä¸åŒåŒ…ä¸­      ok</strong></p><p>â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”</p><p><strong>Import â€” å¯¼å…¥</strong>ï¼šç±»åç§°å˜é•¿ï¼Œå†™èµ·æ¥å¾ˆéº»çƒ¦ã€‚ä¸ºäº†ç®€åŒ–ï¼Œä½¿ç”¨äº†ä¸€ä¸ªå…³é”®å­—ï¼šimportï¼Œå¯ä»¥ä½¿ç”¨è¿™ä¸ªå…³é”®å­—å¯¼å…¥æŒ‡å®šåŒ…ä¸­çš„ç±»ã€‚è®°ä½ï¼šå®é™…å¼€å‘æ—¶,åˆ°çš„å“ªä¸ªç±»å°±å¯¼å…¥å“ªä¸ªç±»ï¼Œä¸å»ºè®®ä½¿ç”¨*.</p><p>ã€€ã€€import packa.*;//è¿™ä¸ªä»…ä»…æ˜¯å¯¼å…¥äº†packaå½“å‰ç›®å½•ä¸‹çš„æ‰€æœ‰çš„ç±»ã€‚ä¸åŒ…å«å­åŒ…ã€‚</p><p>ã€€ã€€import packa.abc.*;//å¯¼å…¥äº†packaåŒ…ä¸­çš„å­åŒ…abcä¸‹çš„å½“å‰çš„æ‰€æœ‰ç±»ã€‚</p><p>ã€€ã€€<strong>å¦‚æœå¯¼å…¥çš„ä¸¤ä¸ªåŒ…ä¸­å­˜åœ¨ç€ç›¸åŒåç§°çš„ç±»ã€‚è¿™æ—¶å¦‚æœç”¨åˆ°è¯¥ç±»ï¼Œå¿…é¡»åœ¨ä»£ç ä¸­æŒ‡å®šåŒ…åã€‚</strong></p><p>ã€€ã€€<strong>å¸¸è§çš„è½¯ä»¶åŒ…:</strong></p><p>ã€€ã€€ã€€ã€€<strong>java.lang : language javaçš„æ ¸å¿ƒåŒ…ï¼ŒObject System String Throwable jdk1.2ç‰ˆæœ¬åï¼Œè¯¥åŒ…ä¸­çš„ç±»è‡ªåŠ¨è¢«å¯¼å…¥ã€‚</strong></p><p>ã€€ã€€ã€€ã€€<strong>java.awt : å®šä¹‰çš„éƒ½æ˜¯ç”¨äºjavaå›¾å½¢ç•Œé¢å¼€å‘çš„å¯¹è±¡ã€‚</strong></p><p>ã€€ã€€ã€€ã€€<strong>javax.swing: æä¾›æ‰€æœ‰çš„windowsæ¡Œé¢åº”ç”¨ç¨‹åºåŒ…æ‹¬çš„æ§ä»¶,æ¯”å¦‚ï¼šFrame , Dialog, Table, List ç­‰ç­‰,å°±æ˜¯javaçš„å›¾å½¢ç•Œé¢åº“ã€‚</strong></p><p>ã€€ã€€ã€€ã€€<strong>java.net : ç”¨äºjavaç½‘ç»œç¼–ç¨‹æ–¹é¢çš„å¯¹è±¡éƒ½åœ¨è¯¥åŒ…ä¸­ã€‚</strong></p><p>ã€€ã€€ã€€ã€€<strong>java.io : input output ç”¨äºæ“ä½œè®¾å¤‡ä¸Šæ•°æ®çš„å¯¹è±¡éƒ½åœ¨è¯¥åŒ…ä¸­ã€‚æ¯”å¦‚ï¼šè¯»å–ç¡¬ç›˜æ•°æ®ï¼Œå¾€ç¡¬ç›˜å†™å…¥æ•°æ®ã€‚</strong></p><p>ã€€ã€€ã€€ã€€<strong>java.util : javaçš„å·¥å…·åŒ…ï¼Œæ—¶é—´å¯¹è±¡ï¼Œé›†åˆæ¡†æ¶ã€‚</strong></p><p>ã€€ã€€ã€€ã€€<strong>java.applet: application+let å®¢æˆ·ç«¯javaå°ç¨‹åºã€‚server+let â€”â€”&gt; servlet æœåŠ¡ç«¯javaå°ç¨‹åºã€‚</strong></p><p>ã€€ã€€ã€€ã€€<strong>jar ï¼šjavaçš„å‹ç¼©åŒ…ï¼Œä¸»è¦ç”¨äºå­˜å‚¨ç±»æ–‡ä»¶ï¼Œæˆ–è€…é…ç½®æ–‡ä»¶ç­‰ã€‚</strong></p><p>ã€€ã€€ã€€ã€€ã€€ã€€<strong>å‘½ä»¤æ ¼å¼</strong>ï¼šjar â€“cf åŒ…å.jar åŒ…ç›®å½•</p><p>  ã€€ã€€ã€€ã€€ã€€<strong>è§£å‹ç¼©</strong>ï¼šjar â€“xvf åŒ…å.jar </p><p> ã€€ã€€ã€€ã€€ã€€<strong>å°†jaråŒ…ç›®å½•åˆ—è¡¨é‡å®šå‘åˆ°ä¸€ä¸ªæ–‡ä»¶ä¸­</strong>ï¼šjar â€“tf åŒ…å.jar &gt;c:\1.txt</p><p>â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”</p><p><strong>å¤šçº¿ç¨‹ï¼šâ˜…â˜…â˜…â˜…</strong></p><p>ã€€ã€€<strong>è¿›ç¨‹</strong>ï¼šæ­£åœ¨è¿›è¡Œä¸­çš„ç¨‹åºã€‚å…¶å®è¿›ç¨‹å°±æ˜¯ä¸€ä¸ªåº”ç”¨ç¨‹åºè¿è¡Œæ—¶çš„å†…å­˜åˆ†é…ç©ºé—´ã€‚</p><p>ã€€ã€€<strong>çº¿ç¨‹</strong>ï¼šå…¶å®å°±æ˜¯è¿›ç¨‹ä¸­ä¸€ä¸ªç¨‹åºæ‰§è¡Œæ§åˆ¶å•å…ƒï¼Œä¸€æ¡æ‰§è¡Œè·¯å¾„ã€‚è¿›ç¨‹è´Ÿè´£çš„æ˜¯åº”ç”¨ç¨‹åºçš„ç©ºé—´çš„æ ‡ç¤ºã€‚çº¿ç¨‹è´Ÿè´£çš„æ˜¯åº”ç”¨ç¨‹åºçš„æ‰§è¡Œé¡ºåºã€‚</p><p>ã€€ã€€ä¸€ä¸ªè¿›ç¨‹è‡³å°‘æœ‰ä¸€ä¸ªçº¿ç¨‹åœ¨è¿è¡Œï¼Œå½“ä¸€ä¸ªè¿›ç¨‹ä¸­å‡ºç°å¤šä¸ªçº¿ç¨‹æ—¶ï¼Œå°±ç§°è¿™ä¸ªåº”ç”¨ç¨‹åºæ˜¯å¤šçº¿ç¨‹åº”ç”¨ç¨‹åºï¼Œæ¯ä¸ªçº¿ç¨‹åœ¨æ ˆåŒºä¸­éƒ½æœ‰è‡ªå·±çš„æ‰§è¡Œç©ºé—´ï¼Œè‡ªå·±çš„æ–¹æ³•åŒºã€è‡ªå·±çš„å˜é‡ã€‚</p><p>ã€€ã€€jvmåœ¨å¯åŠ¨çš„æ—¶ï¼Œé¦–å…ˆæœ‰ä¸€ä¸ª<strong>ä¸»çº¿ç¨‹</strong>ï¼Œè´Ÿè´£ç¨‹åºçš„æ‰§è¡Œï¼Œè°ƒç”¨çš„æ˜¯mainå‡½æ•°ã€‚ä¸»çº¿ç¨‹æ‰§è¡Œçš„ä»£ç éƒ½åœ¨mainæ–¹æ³•ä¸­ã€‚</p><p>ã€€ã€€å½“äº§ç”Ÿåƒåœ¾æ—¶ï¼Œæ”¶åƒåœ¾çš„åŠ¨ä½œï¼Œæ˜¯ä¸éœ€è¦ä¸»çº¿ç¨‹æ¥å®Œæˆï¼Œå› ä¸ºè¿™æ ·ï¼Œä¼šå‡ºç°ä¸»çº¿ç¨‹ä¸­çš„ä»£ç æ‰§è¡Œä¼šåœæ­¢ï¼Œä¼šå»è¿è¡Œåƒåœ¾å›æ”¶å™¨ä»£ç ï¼Œæ•ˆç‡è¾ƒä½ï¼Œæ‰€ä»¥ç”±å•ç‹¬ä¸€ä¸ªçº¿ç¨‹æ¥è´Ÿè´£åƒåœ¾å›æ”¶ã€‚ </p><p>ã€€ã€€<strong>éšæœºæ€§çš„åŸç†</strong>ï¼šå› ä¸ºcpuçš„å¿«é€Ÿåˆ‡æ¢é€ æˆï¼Œå“ªä¸ªçº¿ç¨‹è·å–åˆ°äº†cpuçš„æ‰§è¡Œæƒï¼Œå“ªä¸ªçº¿ç¨‹å°±æ‰§è¡Œã€‚</p><p>ã€€ã€€è¿”å›å½“å‰çº¿ç¨‹çš„åç§°ï¼š<strong>Thread.currentThread().getName()</strong></p><p>ã€€ã€€çº¿ç¨‹çš„åç§°æ˜¯ç”±ï¼šThreadâ€”ç¼–å·å®šä¹‰çš„ã€‚ç¼–å·ä»0å¼€å§‹ã€‚</p><p>ã€€ã€€çº¿ç¨‹è¦è¿è¡Œçš„ä»£ç éƒ½ç»Ÿä¸€å­˜æ”¾åœ¨äº†<strong>runæ–¹æ³•</strong>ä¸­ã€‚</p><p>ã€€ã€€çº¿ç¨‹è¦è¿è¡Œå¿…é¡»è¦é€šè¿‡ç±»ä¸­æŒ‡å®šçš„æ–¹æ³•å¼€å¯ã€‚<strong>startæ–¹æ³•</strong>ã€‚ï¼ˆå¯åŠ¨åï¼Œå°±å¤šäº†ä¸€æ¡æ‰§è¡Œè·¯å¾„ï¼‰</p><p>ã€€ã€€<strong>startæ–¹æ³•</strong>ï¼š1ï¼‰ã€å¯åŠ¨äº†çº¿ç¨‹ï¼›2ï¼‰ã€è®©jvmè°ƒç”¨äº†runæ–¹æ³•ã€‚</p><p>ã€€ã€€<strong>åˆ›å»ºçº¿ç¨‹çš„ç¬¬ä¸€ç§æ–¹å¼ï¼šç»§æ‰¿Thread ï¼Œç”±å­ç±»å¤å†™runæ–¹æ³•ã€‚</strong></p><p>ã€€ã€€æ­¥éª¤ï¼š</p><p>ã€€ã€€ã€€ã€€1ï¼Œå®šä¹‰ç±»ç»§æ‰¿Threadç±»ï¼›</p><p>ã€€ã€€ã€€ã€€2ï¼Œç›®çš„æ˜¯å¤å†™runæ–¹æ³•ï¼Œå°†è¦è®©çº¿ç¨‹è¿è¡Œçš„ä»£ç éƒ½å­˜å‚¨åˆ°runæ–¹æ³•ä¸­ï¼›</p><p>ã€€ã€€ã€€ã€€3ï¼Œé€šè¿‡åˆ›å»ºThreadç±»çš„å­ç±»å¯¹è±¡ï¼Œåˆ›å»ºçº¿ç¨‹å¯¹è±¡ï¼›</p><p>ã€€ã€€ã€€ã€€4ï¼Œè°ƒç”¨çº¿ç¨‹çš„startæ–¹æ³•ï¼Œå¼€å¯çº¿ç¨‹ï¼Œå¹¶æ‰§è¡Œrunæ–¹æ³•ã€‚</p><p>ã€€ã€€çº¿ç¨‹çŠ¶æ€ï¼š</p><p>ã€€ã€€ã€€ã€€<strong>è¢«åˆ›å»º</strong>ï¼šstart()</p><p>ã€€ã€€ã€€ã€€<strong>è¿è¡Œ</strong>ï¼šå…·å¤‡æ‰§è¡Œèµ„æ ¼ï¼ŒåŒæ—¶å…·å¤‡æ‰§è¡Œæƒï¼›</p><p>ã€€ã€€ã€€ã€€<strong>å†»ç»“</strong>ï¼šsleep(time),wait()â€”notify()å”¤é†’ï¼›çº¿ç¨‹é‡Šæ”¾äº†æ‰§è¡Œæƒï¼ŒåŒæ—¶é‡Šæ”¾æ‰§è¡Œèµ„æ ¼ï¼›</p><p>ã€€ã€€ã€€ã€€<strong>ä¸´æ—¶é˜»å¡çŠ¶æ€</strong>ï¼šçº¿ç¨‹å…·å¤‡cpuçš„æ‰§è¡Œèµ„æ ¼ï¼Œæ²¡æœ‰cpuçš„æ‰§è¡Œæƒï¼›</p><p>ã€€ã€€ã€€ã€€<strong>æ¶ˆäº¡</strong>ï¼šstop()</p><p> <img src="https://images0.cnblogs.com/i/600704/201404/090117588259525.jpg" alt="img"></p><p>ã€€ã€€<strong>åˆ›å»ºçº¿ç¨‹çš„ç¬¬äºŒç§æ–¹å¼ï¼šå®ç°ä¸€ä¸ªæ¥å£Runnableã€‚</strong></p><p>ã€€ã€€æ­¥éª¤ï¼š</p><p>ã€€ã€€ã€€ã€€1ï¼Œå®šä¹‰ç±»å®ç°Runnableæ¥å£ã€‚</p><p>ã€€ã€€ã€€ã€€2ï¼Œè¦†ç›–æ¥å£ä¸­çš„runæ–¹æ³•ï¼ˆç”¨äºå°è£…çº¿ç¨‹è¦è¿è¡Œçš„ä»£ç ï¼‰ã€‚</p><p>ã€€ã€€ã€€ã€€3ï¼Œé€šè¿‡Threadç±»åˆ›å»ºçº¿ç¨‹å¯¹è±¡ï¼›</p><p>ã€€ã€€ã€€ã€€4ï¼Œå°†å®ç°äº†Runnableæ¥å£çš„å­ç±»å¯¹è±¡ä½œä¸ºå®é™…å‚æ•°ä¼ é€’ç»™Threadç±»ä¸­çš„æ„é€ å‡½æ•°ã€‚</p><p>ã€€ã€€ã€€ã€€ã€€ã€€ä¸ºä»€ä¹ˆè¦ä¼ é€’å‘¢ï¼Ÿå› ä¸ºè¦è®©çº¿ç¨‹å¯¹è±¡æ˜ç¡®è¦è¿è¡Œçš„runæ–¹æ³•æ‰€å±çš„å¯¹è±¡ã€‚</p><p>ã€€ã€€ã€€ã€€5ï¼Œè°ƒç”¨Threadå¯¹è±¡çš„startæ–¹æ³•ã€‚å¼€å¯çº¿ç¨‹ï¼Œå¹¶è¿è¡ŒRunnableæ¥å£å­ç±»ä¸­çš„runæ–¹æ³•ã€‚</p><p>ã€€ã€€ã€€ã€€ã€€ã€€<strong>Ticket t = new Ticket();</strong></p><p>ã€€ã€€ã€€ã€€ã€€ã€€/*ç›´æ¥åˆ›å»ºTicketå¯¹è±¡ï¼Œå¹¶ä¸æ˜¯åˆ›å»ºçº¿ç¨‹å¯¹è±¡ã€‚</p><p>ã€€ã€€ã€€ã€€ã€€ã€€å› ä¸ºåˆ›å»ºå¯¹è±¡åªèƒ½é€šè¿‡new Threadç±»ï¼Œæˆ–è€…new Threadç±»çš„å­ç±»æ‰å¯ä»¥ã€‚</p><p>ã€€ã€€ã€€ã€€ã€€ã€€æ‰€ä»¥æœ€ç»ˆæƒ³è¦åˆ›å»ºçº¿ç¨‹ã€‚æ—¢ç„¶æ²¡æœ‰äº†Threadç±»çš„å­ç±»ï¼Œå°±åªèƒ½ç”¨Threadç±»ã€‚*/</p><p>ã€€ã€€ã€€ã€€ã€€ã€€<strong>Thread t1 = new Thread(t); //åˆ›å»ºçº¿ç¨‹ã€‚</strong></p><p>ã€€ã€€ã€€ã€€ã€€ã€€/*åªè¦å°†tä½œä¸ºThreadç±»çš„æ„é€ å‡½æ•°çš„å®é™…å‚æ•°ä¼ å…¥å³å¯å®Œæˆçº¿ç¨‹å¯¹è±¡å’Œtä¹‹é—´çš„å…³è”</p><p>ã€€ã€€ã€€ã€€ã€€ã€€ä¸ºä»€ä¹ˆè¦å°†tä¼ ç»™Threadç±»çš„æ„é€ å‡½æ•°å‘¢ï¼Ÿå…¶å®å°±æ˜¯ä¸ºäº†æ˜ç¡®çº¿ç¨‹è¦è¿è¡Œçš„ä»£ç runæ–¹æ³•ã€‚*/</p><p>ã€€ã€€ã€€ã€€ã€€ã€€<strong>t1.start();</strong></p><p>ã€€ã€€<strong>ä¸ºä»€ä¹ˆè¦æœ‰Runnableæ¥å£çš„å‡ºç°ï¼Ÿ</strong></p><p>ã€€ã€€1ï¼šé€šè¿‡ç»§æ‰¿Threadç±»çš„æ–¹å¼ï¼Œå¯ä»¥å®Œæˆå¤šçº¿ç¨‹çš„å»ºç«‹ã€‚ä½†æ˜¯è¿™ç§æ–¹å¼æœ‰ä¸€ä¸ªå±€é™æ€§ï¼Œå¦‚æœä¸€ä¸ªç±»å·²ç»æœ‰äº†è‡ªå·±çš„çˆ¶ç±»ï¼Œå°±ä¸å¯ä»¥ç»§æ‰¿Threadç±»ï¼Œå› ä¸ºjavaå•ç»§æ‰¿çš„å±€é™æ€§ã€‚</p><p>ã€€ã€€ã€€ã€€å¯æ˜¯è¯¥ç±»ä¸­çš„è¿˜æœ‰éƒ¨åˆ†ä»£ç éœ€è¦è¢«å¤šä¸ªçº¿ç¨‹åŒæ—¶æ‰§è¡Œã€‚è¿™æ—¶æ€ä¹ˆåŠå‘¢ï¼Ÿ</p><p>ã€€ã€€ã€€ã€€åªæœ‰å¯¹è¯¥ç±»è¿›è¡Œé¢å¤–çš„åŠŸèƒ½æ‰©å±•ï¼Œjavaå°±æä¾›äº†ä¸€ä¸ªæ¥å£Runnableã€‚è¿™ä¸ªæ¥å£ä¸­å®šä¹‰äº†runæ–¹æ³•ï¼Œå…¶å®runæ–¹æ³•çš„å®šä¹‰å°±æ˜¯ä¸ºäº†å­˜å‚¨å¤šçº¿ç¨‹è¦è¿è¡Œçš„ä»£ç ã€‚</p><p>ã€€ã€€ã€€ã€€æ‰€ä»¥ï¼Œé€šå¸¸åˆ›å»ºçº¿ç¨‹éƒ½ç”¨ç¬¬äºŒç§æ–¹å¼ã€‚</p><p>ã€€ã€€ã€€ã€€<strong>å› ä¸ºå®ç°Runnableæ¥å£å¯ä»¥é¿å…å•ç»§æ‰¿çš„å±€é™æ€§ã€‚</strong></p><p>ã€€ã€€2ï¼šå…¶å®æ˜¯å°†ä¸åŒç±»ä¸­éœ€è¦è¢«å¤šçº¿ç¨‹æ‰§è¡Œçš„ä»£ç è¿›è¡ŒæŠ½å–ã€‚å°†å¤šçº¿ç¨‹è¦è¿è¡Œçš„ä»£ç çš„ä½ç½®å•ç‹¬å®šä¹‰åˆ°æ¥å£ä¸­ã€‚ä¸ºå…¶ä»–ç±»è¿›è¡ŒåŠŸèƒ½æ‰©å±•æä¾›äº†å‰æã€‚</p><p>ã€€ã€€ã€€ã€€æ‰€ä»¥Threadç±»åœ¨æè¿°çº¿ç¨‹æ—¶ï¼Œå†…éƒ¨å®šä¹‰çš„runæ–¹æ³•ï¼Œä¹Ÿæ¥è‡ªäºRunnableæ¥å£ã€‚</p><p>ã€€ã€€ã€€ã€€<strong>å®ç°Runnableæ¥å£å¯ä»¥é¿å…å•ç»§æ‰¿çš„å±€é™æ€§</strong>ã€‚è€Œä¸”ï¼Œç»§æ‰¿Threadï¼Œæ˜¯å¯ä»¥å¯¹Threadç±»ä¸­çš„æ–¹æ³•ï¼Œè¿›è¡Œå­ç±»å¤å†™çš„ã€‚ä½†æ˜¯ä¸éœ€è¦åšè¿™ä¸ªå¤å†™åŠ¨ä½œçš„è¯ï¼Œåªä¸ºå®šä¹‰çº¿ç¨‹ä»£ç å­˜æ”¾ä½ç½®ï¼Œå®ç°Runnableæ¥å£æ›´æ–¹ä¾¿ä¸€äº›ã€‚æ‰€ä»¥<strong>Runnableæ¥å£å°†çº¿ç¨‹è¦æ‰§è¡Œçš„ä»»åŠ¡å°è£…æˆäº†å¯¹è±¡</strong>ã€‚</p><p>â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”</p><p>ã€€ã€€<strong>//é¢è¯•</strong></p><p>ã€€ã€€ã€€ã€€new Thread(new Runnable(){ //åŒ¿å</p><p>ã€€ã€€ã€€ã€€ã€€ã€€public void run(){</p><p>ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€System.out.println(â€œrunnable runâ€);</p><p>ã€€ã€€ã€€ã€€ã€€ã€€}</p><p>ã€€ã€€ã€€ã€€})</p><p>ã€€ã€€ã€€ã€€{</p><p>ã€€ã€€ã€€ã€€ã€€ã€€public void run(){</p><p>ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€System.out.println(â€œsubthread runâ€);</p><p>ã€€ã€€ã€€ã€€ã€€ã€€}</p><p>ã€€ã€€ã€€ã€€}.start(); <strong>//ç»“æœï¼šsubthread run</strong></p><p>â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”</p><p>ã€€ã€€ã€€ã€€Try {</p><p>ã€€ã€€ã€€ã€€ã€€ã€€Thread.sleep(10);</p><p>ã€€ã€€ã€€ã€€}catch(InterruptedException e){}// å½“åˆ»æ„è®©çº¿ç¨‹ç¨å¾®åœä¸€ä¸‹ï¼Œæ¨¡æ‹Ÿcpu åˆ‡æ¢æƒ…å†µã€‚</p><p>ã€€ã€€<strong>å¤šçº¿ç¨‹å®‰å…¨é—®é¢˜çš„åŸå› ï¼š</strong></p><p>ã€€ã€€ã€€ã€€é€šè¿‡å›¾è§£ï¼šå‘ç°ä¸€ä¸ªçº¿ç¨‹åœ¨æ‰§è¡Œå¤šæ¡è¯­å¥æ—¶ï¼Œå¹¶è¿ç®—åŒä¸€ä¸ªæ•°æ®æ—¶ï¼Œåœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œå…¶ä»–çº¿ç¨‹å‚ä¸è¿›æ¥ï¼Œå¹¶æ“ä½œäº†è¿™ä¸ªæ•°æ®ã€‚å¯¼è‡´åˆ°äº†é”™è¯¯æ•°æ®çš„äº§ç”Ÿã€‚</p><p>ã€€ã€€<strong>æ¶‰åŠåˆ°ä¸¤ä¸ªå› ç´ ï¼š</strong></p><p>ã€€ã€€ã€€ã€€<strong>1ï¼Œå¤šä¸ªçº¿ç¨‹åœ¨æ“ä½œå…±äº«æ•°æ®ã€‚</strong></p><p>ã€€ã€€ã€€ã€€<strong>2ï¼Œæœ‰å¤šæ¡è¯­å¥å¯¹å…±äº«æ•°æ®è¿›è¡Œè¿ç®—</strong>ã€‚</p><p>ã€€ã€€ã€€ã€€ã€€ã€€åŸå› ï¼šè¿™å¤šæ¡è¯­å¥ï¼Œåœ¨æŸä¸€ä¸ªæ—¶åˆ»è¢«ä¸€ä¸ªçº¿ç¨‹æ‰§è¡Œæ—¶ï¼Œè¿˜æ²¡æœ‰æ‰§è¡Œå®Œï¼Œå°±è¢«å…¶ä»–çº¿ç¨‹æ‰§è¡Œäº†ã€‚</p><p>ã€€ã€€<strong>è§£å†³å®‰å…¨é—®é¢˜çš„åŸç†ï¼š</strong></p><p>ã€€ã€€ã€€ã€€åªè¦å°†æ“ä½œå…±äº«æ•°æ®çš„è¯­å¥åœ¨æŸä¸€æ—¶æ®µè®©ä¸€ä¸ªçº¿ç¨‹æ‰§è¡Œå®Œï¼Œåœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œå…¶ä»–çº¿ç¨‹ä¸èƒ½è¿›æ¥æ‰§è¡Œå°±å¯ä»¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚</p><p>ã€€ã€€å¦‚ä½•è¿›è¡Œå¤šå¥æ“ä½œå…±äº«æ•°æ®ä»£ç çš„å°è£…å‘¢ï¼Ÿ</p><p>ã€€ã€€ã€€ã€€<strong>javaä¸­æä¾›äº†ä¸€ä¸ªè§£å†³æ–¹å¼</strong>ï¼š<strong>å°±æ˜¯åŒæ­¥ä»£ç å—</strong>ã€‚</p><p>ã€€ã€€ã€€ã€€æ ¼å¼ï¼š</p><p>ã€€ã€€ã€€ã€€<strong>synchronized(å¯¹è±¡) {</strong> <strong>// ä»»æ„å¯¹è±¡éƒ½å¯ä»¥ã€‚è¿™ä¸ªå¯¹è±¡å°±æ˜¯é”ã€‚</strong></p><p>ã€€ã€€ã€€ã€€ã€€ã€€<strong>éœ€è¦è¢«åŒæ­¥çš„ä»£ç ï¼›</strong></p><p>ã€€ã€€ã€€ã€€<strong>}</strong></p><p>â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”</p><p><strong>åŒæ­¥ï¼šâ˜…â˜…â˜…â˜…â˜…</strong></p><p>ã€€ã€€<strong>å¥½å¤„</strong>ï¼šè§£å†³äº†çº¿ç¨‹å®‰å…¨é—®é¢˜ã€‚</p><p>ã€€ã€€<strong>å¼Šç«¯</strong>ï¼šç›¸å¯¹é™ä½æ€§èƒ½ï¼Œå› ä¸ºåˆ¤æ–­é”éœ€è¦æ¶ˆè€—èµ„æºï¼Œäº§ç”Ÿäº†æ­»é”ã€‚</p><p>ã€€ã€€<strong>å®šä¹‰åŒæ­¥æ˜¯æœ‰å‰æçš„</strong>ï¼š</p><p>ã€€ã€€ã€€ã€€1ï¼Œå¿…é¡»è¦æœ‰ä¸¤ä¸ªæˆ–è€…ä¸¤ä¸ªä»¥ä¸Šçš„çº¿ç¨‹ï¼Œæ‰éœ€è¦åŒæ­¥ã€‚</p><p>ã€€ã€€ã€€ã€€2ï¼Œå¤šä¸ªçº¿ç¨‹å¿…é¡»ä¿è¯ä½¿ç”¨çš„æ˜¯åŒä¸€ä¸ªé”ã€‚</p><p>ã€€ã€€åŒæ­¥çš„ç¬¬äºŒç§è¡¨ç°å½¢å¼ï¼š</p><p>ã€€ã€€ã€€ã€€<strong>åŒæ­¥å‡½æ•°</strong>ï¼šå…¶å®å°±æ˜¯å°†åŒæ­¥å…³é”®å­—å®šä¹‰åœ¨å‡½æ•°ä¸Šï¼Œè®©å‡½æ•°å…·å¤‡äº†åŒæ­¥æ€§ã€‚</p><p>ã€€ã€€ã€€ã€€<strong>åŒæ­¥å‡½æ•°æ˜¯ç”¨çš„å“ªä¸ªé”å‘¢ï¼Ÿ</strong></p><p>ã€€ã€€ã€€ã€€ã€€ã€€é€šè¿‡éªŒè¯ï¼Œå‡½æ•°éƒ½æœ‰è‡ªå·±æ‰€å±çš„å¯¹è±¡thisï¼Œæ‰€ä»¥<strong>åŒæ­¥å‡½æ•°æ‰€ä½¿ç”¨çš„é”å°±æ˜¯thisé”ã€‚</strong></p><p>ã€€ã€€ã€€<strong>å½“åŒæ­¥å‡½æ•°è¢«staticä¿®é¥°æ—¶ï¼Œè¿™æ—¶çš„åŒæ­¥ç”¨çš„æ˜¯å“ªä¸ªé”å‘¢ï¼Ÿ</strong></p><p>ã€€ã€€ã€€ã€€é™æ€å‡½æ•°åœ¨åŠ è½½æ—¶æ‰€å±äºç±»ï¼Œè¿™æ—¶æœ‰å¯èƒ½è¿˜æ²¡æœ‰è¯¥ç±»äº§ç”Ÿçš„å¯¹è±¡ï¼Œä½†æ˜¯è¯¥ç±»çš„å­—èŠ‚ç æ–‡ä»¶åŠ è½½è¿›å†…å­˜å°±å·²ç»è¢«å°è£…æˆäº†å¯¹è±¡ï¼Œè¿™ä¸ªå¯¹è±¡å°±æ˜¯<strong>è¯¥ç±»çš„å­—èŠ‚ç æ–‡ä»¶å¯¹è±¡ã€‚</strong></p><p>ã€€ã€€ã€€ã€€æ‰€ä»¥é™æ€åŠ è½½æ—¶ï¼Œåªæœ‰ä¸€ä¸ªå¯¹è±¡å­˜åœ¨ï¼Œé‚£ä¹ˆé™æ€åŒæ­¥å‡½æ•°å°±ä½¿ç”¨çš„è¿™ä¸ªå¯¹è±¡ã€‚</p><p>ã€€ã€€ã€€ã€€è¿™ä¸ªå¯¹è±¡å°±æ˜¯ <strong>ç±»å.class</strong></p><p>ã€€ã€€<strong>åŒæ­¥ä»£ç å—å’ŒåŒæ­¥å‡½æ•°çš„åŒºåˆ«ï¼Ÿ</strong></p><p>ã€€ã€€ã€€ã€€åŒæ­¥ä»£ç å—ä½¿ç”¨çš„é”å¯ä»¥æ˜¯ä»»æ„å¯¹è±¡ã€‚</p><p>ã€€ã€€ã€€ã€€<strong>åŒæ­¥å‡½æ•°ä½¿ç”¨çš„é”æ˜¯thisï¼Œé™æ€åŒæ­¥å‡½æ•°çš„é”æ˜¯è¯¥ç±»çš„å­—èŠ‚ç æ–‡ä»¶å¯¹è±¡ã€‚</strong></p><p>ã€€ã€€ã€€ã€€<strong>åœ¨ä¸€ä¸ªç±»ä¸­åªæœ‰ä¸€ä¸ªåŒæ­¥ï¼Œå¯ä»¥ä½¿ç”¨åŒæ­¥å‡½æ•°ã€‚å¦‚æœæœ‰å¤šåŒæ­¥ï¼Œå¿…é¡»ä½¿ç”¨åŒæ­¥ä»£ç å—ï¼Œæ¥ç¡®å®šä¸åŒçš„é”ã€‚æ‰€ä»¥åŒæ­¥ä»£ç å—ç›¸å¯¹çµæ´»ä¸€äº›ã€‚</strong></p><p>â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”</p><p>ã€€ã€€<strong>â˜…è€ƒç‚¹é—®é¢˜ï¼šè¯·å†™ä¸€ä¸ªå»¶è¿ŸåŠ è½½çš„å•ä¾‹æ¨¡å¼ï¼Ÿå†™æ‡’æ±‰å¼ï¼›å½“å‡ºç°å¤šçº¿ç¨‹è®¿é—®æ—¶æ€ä¹ˆè§£å†³ï¼ŸåŠ åŒæ­¥ï¼Œè§£å†³å®‰å…¨é—®é¢˜ï¼›æ•ˆç‡é«˜å—ï¼Ÿä¸é«˜ï¼›æ€æ ·è§£å†³ï¼Ÿé€šè¿‡åŒé‡åˆ¤æ–­çš„å½¢å¼è§£å†³ã€‚</strong></p><p>ã€€ã€€//æ‡’æ±‰å¼ï¼šå»¶è¿ŸåŠ è½½æ–¹å¼ã€‚</p><p>ã€€ã€€å½“å¤šçº¿ç¨‹è®¿é—®æ‡’æ±‰å¼æ—¶ï¼Œå› ä¸ºæ‡’æ±‰å¼çš„æ–¹æ³•å†…å¯¹å…±æ€§æ•°æ®è¿›è¡Œå¤šæ¡è¯­å¥çš„æ“ä½œã€‚æ‰€ä»¥å®¹æ˜“å‡ºç°çº¿ç¨‹å®‰å…¨é—®é¢˜ã€‚ä¸ºäº†è§£å†³ï¼ŒåŠ å…¥åŒæ­¥æœºåˆ¶ï¼Œè§£å†³å®‰å…¨é—®é¢˜ã€‚ä½†æ˜¯å´å¸¦æ¥äº†æ•ˆç‡é™ä½ã€‚</p><p>ã€€ã€€<strong>ä¸ºäº†æ•ˆç‡é—®é¢˜ï¼Œé€šè¿‡åŒé‡åˆ¤æ–­çš„å½¢å¼è§£å†³ã€‚</strong></p><p>ã€€ã€€class Single{</p><p>ã€€ã€€ã€€ã€€private static Single s = null;</p><p>ã€€ã€€ã€€ã€€private Single(){}</p><p>ã€€ã€€ã€€ã€€public static Single getInstance(){ <strong>//é”æ˜¯è°ï¼Ÿå­—èŠ‚ç æ–‡ä»¶å¯¹è±¡ï¼›</strong></p><p>ã€€ã€€ã€€ã€€<strong>if(s == null){</strong></p><p>ã€€ã€€ã€€ã€€ã€€ã€€<strong>synchronized(Single.class){</strong></p><p>ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€<strong>if(s == null)</strong></p><p>ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€<strong>s = new Single();</strong></p><p>ã€€ã€€ã€€ã€€ã€€ã€€<strong>}</strong></p><p>ã€€ã€€ã€€ã€€<strong>}</strong></p><p>ã€€ã€€ã€€ã€€return s;</p><p>ã€€ã€€ã€€ã€€}</p><p>ã€€ã€€}</p><p>â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”</p><p>ã€€ã€€<strong>åŒæ­¥æ­»é”</strong>ï¼šé€šå¸¸åªè¦å°†åŒæ­¥è¿›è¡ŒåµŒå¥—ï¼Œå°±å¯ä»¥çœ‹åˆ°ç°è±¡ã€‚åŒæ­¥å‡½æ•°ä¸­æœ‰åŒæ­¥ä»£ç å—ï¼ŒåŒæ­¥ä»£ç å—ä¸­è¿˜æœ‰åŒæ­¥å‡½æ•°ã€‚</p><p>ã€€ã€€<strong>çº¿ç¨‹é—´é€šä¿¡</strong>ï¼šæ€è·¯ï¼šå¤šä¸ªçº¿ç¨‹åœ¨æ“ä½œåŒä¸€ä¸ªèµ„æºï¼Œä½†æ˜¯æ“ä½œçš„åŠ¨ä½œå´ä¸ä¸€æ ·ã€‚</p><p>ã€€ã€€ã€€ã€€1ï¼šå°†èµ„æºå°è£…æˆå¯¹è±¡ã€‚</p><p>ã€€ã€€ã€€ã€€2ï¼šå°†çº¿ç¨‹æ‰§è¡Œçš„ä»»åŠ¡(ä»»åŠ¡å…¶å®å°±æ˜¯runæ–¹æ³•ã€‚)ä¹Ÿå°è£…æˆå¯¹è±¡ã€‚</p><p>ã€€ã€€<strong>ç­‰å¾…å”¤é†’æœºåˆ¶</strong>ï¼šæ¶‰åŠçš„æ–¹æ³•ï¼š</p><p>ã€€ã€€ã€€ã€€<strong>wait</strong>:å°†åŒæ­¥ä¸­çš„çº¿ç¨‹å¤„äºå†»ç»“çŠ¶æ€ã€‚é‡Šæ”¾äº†æ‰§è¡Œæƒï¼Œé‡Šæ”¾äº†èµ„æ ¼ã€‚åŒæ—¶å°†çº¿ç¨‹å¯¹è±¡å­˜å‚¨åˆ°çº¿ç¨‹æ± ä¸­ã€‚</p><p>ã€€ã€€ã€€ã€€<strong>notify</strong>ï¼šå”¤é†’çº¿ç¨‹æ± ä¸­æŸä¸€ä¸ªç­‰å¾…çº¿ç¨‹ã€‚</p><p>ã€€ã€€ã€€ã€€<strong>notifyAll</strong>:å”¤é†’çš„æ˜¯çº¿ç¨‹æ± ä¸­çš„æ‰€æœ‰çº¿ç¨‹ã€‚</p><p>ã€€ã€€æ³¨æ„ï¼š</p><p>ã€€ã€€ã€€ã€€1ï¼šè¿™äº›æ–¹æ³•éƒ½éœ€è¦å®šä¹‰åœ¨åŒæ­¥ä¸­ã€‚ </p><p>ã€€ã€€ã€€ã€€2ï¼šå› ä¸ºè¿™äº›æ–¹æ³•å¿…é¡»è¦æ ‡ç¤ºæ‰€å±çš„é”ã€‚</p><p>ã€€ã€€ã€€ã€€ã€€ã€€ä½ è¦çŸ¥é“ Aé”ä¸Šçš„çº¿ç¨‹è¢«waitäº†,é‚£è¿™ä¸ªçº¿ç¨‹å°±ç›¸å½“äºå¤„äºAé”çš„çº¿ç¨‹æ± ä¸­ï¼Œåªèƒ½Aé”çš„notifyå”¤é†’ã€‚</p><p>ã€€ã€€ã€€ã€€3ï¼šè¿™ä¸‰ä¸ªæ–¹æ³•éƒ½å®šä¹‰åœ¨Objectç±»ä¸­ã€‚ä¸ºä»€ä¹ˆæ“ä½œçº¿ç¨‹çš„æ–¹æ³•å®šä¹‰åœ¨Objectç±»ä¸­ï¼Ÿ</p><p>ã€€ã€€ã€€ã€€ã€€ã€€å› ä¸ºè¿™ä¸‰ä¸ªæ–¹æ³•éƒ½éœ€è¦å®šä¹‰åŒæ­¥å†…ï¼Œå¹¶æ ‡ç¤ºæ‰€å±çš„åŒæ­¥é”ï¼Œæ—¢ç„¶è¢«é”è°ƒç”¨ï¼Œè€Œé”åˆå¯ä»¥æ˜¯ä»»æ„å¯¹è±¡ï¼Œ</p><p>ã€€ã€€ã€€ã€€ã€€ã€€é‚£ä¹ˆèƒ½è¢«ä»»æ„å¯¹è±¡è°ƒç”¨çš„æ–¹æ³•ä¸€å®šå®šä¹‰åœ¨Objectç±»ä¸­ã€‚</p><p>ã€€ã€€<strong>waitå’ŒsleepåŒºåˆ«</strong>ï¼š åˆ†æè¿™ä¸¤ä¸ªæ–¹æ³•ï¼šä»æ‰§è¡Œæƒå’Œé”ä¸Šæ¥åˆ†æï¼š</p><p>ã€€ã€€ã€€ã€€waitï¼šå¯ä»¥æŒ‡å®šæ—¶é—´ä¹Ÿå¯ä»¥ä¸æŒ‡å®šæ—¶é—´ã€‚ä¸æŒ‡å®šæ—¶é—´ï¼Œåªèƒ½ç”±å¯¹åº”çš„notifyæˆ–è€…notifyAllæ¥å”¤é†’ã€‚</p><p>ã€€ã€€ã€€ã€€sleepï¼šå¿…é¡»æŒ‡å®šæ—¶é—´ï¼Œæ—¶é—´åˆ°è‡ªåŠ¨ä»å†»ç»“çŠ¶æ€è½¬æˆè¿è¡ŒçŠ¶æ€(ä¸´æ—¶é˜»å¡çŠ¶æ€)ã€‚</p><p>ã€€ã€€ã€€ã€€<strong>waitï¼šçº¿ç¨‹ä¼šé‡Šæ”¾æ‰§è¡Œæƒï¼Œè€Œä¸”çº¿ç¨‹ä¼šé‡Šæ”¾é”ã€‚</strong></p><p>ã€€ã€€ã€€ã€€<strong>Sleepï¼šçº¿ç¨‹ä¼šé‡Šæ”¾æ‰§è¡Œæƒï¼Œä½†ä¸æ˜¯ä¸é‡Šæ”¾é”ã€‚</strong></p><p>ã€€ã€€<strong>çº¿ç¨‹çš„åœæ­¢</strong>ï¼šé€šè¿‡stopæ–¹æ³•å°±å¯ä»¥åœæ­¢çº¿ç¨‹ã€‚ä½†æ˜¯è¿™ä¸ªæ–¹å¼è¿‡æ—¶äº†ã€‚</p><p>ã€€ã€€ã€€ã€€åœæ­¢çº¿ç¨‹ï¼šåŸç†å°±æ˜¯ï¼šè®©çº¿ç¨‹è¿è¡Œçš„ä»£ç ç»“æŸï¼Œä¹Ÿå°±æ˜¯ç»“æŸrunæ–¹æ³•ã€‚</p><p>ã€€ã€€ã€€ã€€æ€ä¹ˆç»“æŸrunæ–¹æ³•ï¼Ÿä¸€èˆ¬runæ–¹æ³•é‡Œè‚¯å®šå®šä¹‰å¾ªç¯ã€‚æ‰€ä»¥åªè¦ç»“æŸå¾ªç¯å³å¯ã€‚</p><p>ã€€ã€€ã€€ã€€ç¬¬ä¸€ç§æ–¹å¼ï¼šå®šä¹‰å¾ªç¯çš„ç»“æŸæ ‡è®°ã€‚</p><p>ã€€ã€€ã€€ã€€ç¬¬äºŒç§æ–¹å¼ï¼šå¦‚æœçº¿ç¨‹å¤„äºäº†å†»ç»“çŠ¶æ€ï¼Œæ˜¯ä¸å¯èƒ½è¯»åˆ°æ ‡è®°çš„ï¼Œè¿™æ—¶å°±éœ€è¦é€šè¿‡Threadç±»ä¸­çš„interruptæ–¹æ³•ï¼Œå°†å…¶å†»ç»“çŠ¶æ€å¼ºåˆ¶æ¸…é™¤ã€‚è®©çº¿ç¨‹æ¢å¤å…·å¤‡æ‰§è¡Œèµ„æ ¼çš„çŠ¶æ€ï¼Œè®©çº¿ç¨‹å¯ä»¥è¯»åˆ°æ ‡è®°ï¼Œå¹¶ç»“æŸã€‚</p><p>ã€€ã€€<strong>â€”â€”â€”â€”â€”â€”â€”â€”â€”&lt; java.lang.Thread &gt;â€”â€”â€”â€”</strong></p><p>ã€€ã€€ã€€ã€€**interrupt()**ï¼šä¸­æ–­çº¿ç¨‹ã€‚</p><p>ã€€ã€€ã€€ã€€**setPriority(int newPriority)**ï¼šæ›´æ”¹çº¿ç¨‹çš„ä¼˜å…ˆçº§ã€‚</p><p>ã€€ã€€ã€€ã€€**getPriority()**ï¼šè¿”å›çº¿ç¨‹çš„ä¼˜å…ˆçº§ã€‚</p><p>ã€€ã€€ã€€ã€€**toString()**ï¼šè¿”å›è¯¥çº¿ç¨‹çš„å­—ç¬¦ä¸²è¡¨ç¤ºå½¢å¼ï¼ŒåŒ…æ‹¬çº¿ç¨‹åç§°ã€ä¼˜å…ˆçº§å’Œçº¿ç¨‹ç»„ã€‚</p><p>ã€€ã€€ã€€ã€€**Thread.yield()**ï¼šæš‚åœå½“å‰æ­£åœ¨æ‰§è¡Œçš„çº¿ç¨‹å¯¹è±¡ï¼Œå¹¶æ‰§è¡Œå…¶ä»–çº¿ç¨‹ã€‚</p><p>ã€€ã€€ã€€ã€€**setDaemon(true)**ï¼šå°†è¯¥çº¿ç¨‹æ ‡è®°ä¸ºå®ˆæŠ¤çº¿ç¨‹æˆ–ç”¨æˆ·çº¿ç¨‹ã€‚å°†è¯¥çº¿ç¨‹æ ‡è®°ä¸ºå®ˆæŠ¤çº¿ç¨‹æˆ–ç”¨æˆ·çº¿ç¨‹ã€‚å½“æ­£åœ¨è¿è¡Œçš„çº¿ç¨‹éƒ½æ˜¯å®ˆæŠ¤çº¿ç¨‹æ—¶ï¼Œ</p><p>ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€Java è™šæ‹Ÿæœºé€€å‡ºã€‚è¯¥æ–¹æ³•å¿…é¡»åœ¨å¯åŠ¨çº¿ç¨‹å‰è°ƒç”¨ã€‚</p><p>ã€€ã€€ã€€ã€€<strong>join</strong>ï¼šä¸´æ—¶åŠ å…¥ä¸€ä¸ªçº¿ç¨‹çš„æ—¶å€™å¯ä»¥ä½¿ç”¨joinæ–¹æ³•ã€‚</p><p>ã€€ã€€ã€€ã€€ã€€ã€€å½“Açº¿ç¨‹æ‰§è¡Œåˆ°äº†Bçº¿ç¨‹çš„joinæ–¹å¼ã€‚Açº¿ç¨‹å¤„äºå†»ç»“çŠ¶æ€ï¼Œé‡Šæ”¾äº†æ‰§è¡Œæƒï¼ŒBå¼€å§‹æ‰§è¡Œã€‚</p><p>ã€€ã€€ã€€ã€€ã€€ã€€Aä»€ä¹ˆæ—¶å€™æ‰§è¡Œå‘¢ï¼Ÿåªæœ‰å½“Bçº¿ç¨‹è¿è¡Œç»“æŸåï¼ŒAæ‰ä»å†»ç»“çŠ¶æ€æ¢å¤è¿è¡ŒçŠ¶æ€æ‰§è¡Œã€‚</p><p>â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”</p><p><strong>Lockæ¥å£</strong>ï¼š<strong>å¤šçº¿ç¨‹åœ¨JDK1.5ç‰ˆæœ¬å‡çº§æ—¶ï¼Œæ¨å‡ºä¸€ä¸ªæ¥å£Lockæ¥å£ã€‚</strong></p><p>ã€€ã€€è§£å†³çº¿ç¨‹å®‰å…¨é—®é¢˜ä½¿ç”¨åŒæ­¥çš„å½¢å¼ï¼Œ(åŒæ­¥ä»£ç å—ï¼Œè¦ä¹ˆåŒæ­¥å‡½æ•°)å…¶å®æœ€ç»ˆä½¿ç”¨çš„éƒ½æ˜¯é”æœºåˆ¶ã€‚</p><p>ã€€ã€€åˆ°äº†åæœŸç‰ˆæœ¬ï¼Œç›´æ¥å°†é”å°è£…æˆäº†å¯¹è±¡ã€‚çº¿ç¨‹è¿›å…¥åŒæ­¥å°±æ˜¯å…·å¤‡äº†é”ï¼Œæ‰§è¡Œå®Œï¼Œç¦»å¼€åŒæ­¥ï¼Œå°±æ˜¯é‡Šæ”¾äº†é”ã€‚</p><p>ã€€ã€€åœ¨åæœŸå¯¹é”çš„åˆ†æè¿‡ç¨‹ä¸­ï¼Œå‘ç°ï¼Œè·å–é”ï¼Œæˆ–è€…é‡Šæ”¾é”çš„åŠ¨ä½œåº”è¯¥æ˜¯é”è¿™ä¸ªäº‹ç‰©æ›´æ¸…æ¥šã€‚æ‰€ä»¥å°†è¿™äº›åŠ¨ä½œå®šä¹‰åœ¨äº†é”å½“ä¸­ï¼Œå¹¶æŠŠé”å®šä¹‰æˆå¯¹è±¡ã€‚</p><p>ã€€ã€€æ‰€ä»¥<strong>åŒæ­¥æ˜¯éšç¤ºçš„é”æ“ä½œï¼Œè€ŒLockå¯¹è±¡æ˜¯æ˜¾ç¤ºçš„é”æ“ä½œï¼Œå®ƒçš„å‡ºç°å°±æ›¿ä»£äº†åŒæ­¥</strong>ã€‚</p><p>ã€€ã€€åœ¨ä¹‹å‰çš„ç‰ˆæœ¬ä¸­ä½¿ç”¨Objectç±»ä¸­waitã€notifyã€notifyAllçš„æ–¹å¼æ¥å®Œæˆçš„ã€‚é‚£æ˜¯å› ä¸ºåŒæ­¥ä¸­çš„é”æ˜¯ä»»æ„å¯¹è±¡ï¼Œæ‰€ä»¥æ“ä½œé”çš„ç­‰å¾…å”¤é†’çš„æ–¹æ³•éƒ½å®šä¹‰åœ¨Objectç±»ä¸­ã€‚</p><p>ã€€ã€€è€Œç°åœ¨é”æ˜¯æŒ‡å®šå¯¹è±¡Lockã€‚æ‰€ä»¥æŸ¥æ‰¾ç­‰å¾…å”¤é†’æœºåˆ¶æ–¹å¼éœ€è¦é€šè¿‡Lockæ¥å£æ¥å®Œæˆã€‚è€ŒLockæ¥å£ä¸­å¹¶æ²¡æœ‰ç›´æ¥æ“ä½œç­‰å¾…å”¤é†’çš„æ–¹æ³•ï¼Œè€Œæ˜¯å°†è¿™äº›æ–¹å¼åˆå•ç‹¬å°è£…åˆ°äº†ä¸€ä¸ªå¯¹è±¡ä¸­ã€‚è¿™ä¸ªå¯¹è±¡å°±æ˜¯<strong>Condition</strong>ï¼Œå°†Objectä¸­çš„ä¸‰ä¸ªæ–¹æ³•è¿›è¡Œå•ç‹¬çš„å°è£…ã€‚å¹¶æä¾›äº†åŠŸèƒ½ä¸€è‡´çš„æ–¹æ³• **await()ã€signal()ã€signalAll()**ä½“ç°æ–°ç‰ˆæœ¬å¯¹è±¡çš„å¥½å¤„ã€‚</p><p><strong>&lt; java.util.concurrent.locks &gt; Conditionæ¥å£ï¼šawait()ã€signal()ã€signalAll()ï¼›</strong></p><p>â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”</p><p>ã€€ã€€class BoundedBuffer {</p><p> ã€€ã€€ <strong>final Lock lock = new ReentrantLock();</strong></p><p> ã€€ã€€ final Condition notFull = <strong>lock.newCondition();</strong> </p><p> ã€€ã€€ final Condition notEmpty = <strong>lock.newCondition();</strong> </p><p> ã€€ final Object[] items = new Object[100];</p><p> ã€€ int putptr, takeptr, count;</p><p> ã€€ã€€ public void put(Object x) throws InterruptedException {</p><p> ã€€ã€€  <strong>lock.lock();</strong></p><p>  ã€€ <strong>try {</strong></p><p>  ã€€  while (count == items.length) </p><p>â€‹    ã€€ <strong>notFull.await();</strong></p><p>   ã€€ã€€ items[putptr] = x; </p><p>   ã€€ if (++putptr == items.length) putptr = 0;</p><p>   ã€€ ++count;</p><p>   ã€€ <strong>notEmpty.signal();</strong></p><p>  ã€€ <strong>}</strong> </p><p>ã€€ã€€ã€€ã€€<strong>finally {</strong></p><p>   ã€€ ã€€ <strong>lock.unlock();</strong></p><p>  ã€€ã€€ <strong>}</strong></p><p>  ã€€}</p><p>  ã€€public Object take() throws InterruptedException {</p><p>  ã€€ã€€ã€€ã€€ <strong>lock.lock();</strong></p><p>  ã€€ã€€ã€€ã€€ <strong>try {</strong></p><p>ã€€ã€€ã€€ã€€ã€€ã€€ã€€while (count == 0) </p><p>ã€€ã€€ã€€ã€€ã€€ã€€ã€€<strong>notEmpty.await();</strong></p><p>ã€€ã€€ã€€ã€€ã€€ã€€ã€€Object x = items[takeptr]; </p><p>ã€€ã€€ã€€ã€€ã€€ã€€ã€€ if (++takeptr == items.length) takeptr = 0;</p><p>ã€€ã€€ã€€ã€€ã€€ã€€ã€€â€”â€”count;</p><p>ã€€ã€€ã€€ã€€ã€€ã€€ã€€<strong>notFull.signal();</strong></p><p>ã€€ã€€ã€€ã€€ã€€ã€€ã€€ return x;</p><p>   ã€€ã€€ã€€<strong>}</strong> </p><p>ã€€ã€€ã€€ã€€ã€€ã€€<strong>finally {</strong></p><p>   ã€€ã€€ã€€ã€€ã€€ã€€ <strong>lock.unlock();</strong></p><p>  ã€€ã€€ã€€ã€€ <strong>}</strong></p><p>  ã€€ã€€} </p><p>ã€€ã€€ }</p><p>â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”</p><p>ã€€ã€€<strong>API</strong>ï¼šï¼ˆApplication Programming Interface,<a href="http://baike.baidu.com/view/330120.htm">åº”ç”¨ç¨‹åº</a>ç¼–ç¨‹æ¥å£ï¼‰æ˜¯ä¸€äº›é¢„å…ˆå®šä¹‰çš„<a href="http://baike.baidu.com/view/15061.htm">å‡½æ•°</a>ï¼Œç›®çš„æ˜¯æä¾›åº”ç”¨ç¨‹åºä¸å¼€å‘äººå‘˜åŸºäºæŸ<a href="http://baike.baidu.com/view/37.htm">è½¯ä»¶</a>æˆ–ç¡¬ä»¶çš„ä»¥è®¿é—®ä¸€ç»„<a href="http://baike.baidu.com/view/1582587.htm">ä¾‹ç¨‹</a>çš„èƒ½åŠ›ï¼Œè€Œåˆæ— éœ€è®¿é—®æºç ï¼Œæˆ–ç†è§£å†…éƒ¨å·¥ä½œæœºåˆ¶çš„ç»†èŠ‚ã€‚</p><p>ã€€ã€€â€”â€”&lt; java.lang &gt;â€”â€” <strong>Stringå­—ç¬¦ä¸²ï¼šâ˜…â˜…â˜…â˜†</strong></p><p>ã€€ã€€javaä¸­ç”¨Stringç±»è¿›è¡Œæè¿°ã€‚å¯¹å­—ç¬¦ä¸²è¿›è¡Œäº†å¯¹è±¡çš„å°è£…ã€‚è¿™æ ·çš„å¥½å¤„æ˜¯å¯ä»¥å¯¹å­—ç¬¦ä¸²è¿™ç§å¸¸è§æ•°æ®è¿›è¡Œæ–¹ä¾¿çš„æ“ä½œã€‚å¯¹è±¡å°è£…åï¼Œå¯ä»¥å®šä¹‰Nå¤šå±æ€§å’Œè¡Œä¸ºã€‚</p><p>ã€€ã€€å¦‚ä½•å®šä¹‰å­—ç¬¦ä¸²å¯¹è±¡å‘¢ï¼ŸString s = â€œabcâ€;åªè¦æ˜¯åŒå¼•å·å¼•èµ·çš„æ•°æ®éƒ½æ˜¯å­—ç¬¦ä¸²å¯¹è±¡ã€‚</p><p>ã€€ã€€<strong>ç‰¹ç‚¹ï¼šå­—ç¬¦ä¸²ä¸€æ—¦è¢«åˆå§‹åŒ–ï¼Œå°±ä¸å¯ä»¥è¢«æ”¹å˜ï¼Œå­˜æ”¾åœ¨æ–¹æ³•åŒºä¸­çš„å¸¸é‡æ± ä¸­ã€‚</strong></p><p>â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”</p><p>ã€€ã€€ã€€ã€€<strong>String s1 = â€œabcâ€; // s1æŒ‡å‘çš„å†…å­˜ä¸­åªæœ‰ä¸€ä¸ªå¯¹è±¡abcã€‚</strong></p><p>ã€€ã€€ã€€ã€€<strong>String s2 = new String(â€œabcâ€); // s2æŒ‡å‘çš„å†…å®¹ä¸­æœ‰ä¸¤ä¸ªå¯¹è±¡abcã€new ã€‚</strong></p><p>ã€€ã€€ã€€ã€€<strong>System.out.println(s1==s2);//false</strong></p><p>ã€€ã€€ã€€ã€€<strong>System.out.println(s1.equals(s2));//true ï¼Œå­—ç¬¦ä¸²ä¸­equalsæ¯”è¾ƒçš„æ˜¯å­—ç¬¦ä¸²å†…å®¹æ˜¯å¦ç›¸åŒã€‚</strong></p><p>â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”</p><p>ã€€ã€€<strong>å­—ç¬¦ä¸²çš„æ–¹æ³•ï¼š</strong></p><p>ã€€ã€€<strong>1ï¼šæ„é€ æ–¹æ³•ï¼š</strong>å°†å­—èŠ‚æ•°ç»„æˆ–è€…å­—ç¬¦æ•°ç»„è½¬æˆå­—ç¬¦ä¸²ã€‚</p><p>ã€€ã€€ã€€ã€€String s1 = new String();//åˆ›å»ºäº†ä¸€ä¸ªç©ºå†…å®¹çš„å­—ç¬¦ä¸²ã€‚ </p><p>ã€€ã€€ã€€ã€€String s2 = null;//s2æ²¡æœ‰ä»»ä½•å¯¹è±¡æŒ‡å‘ï¼Œæ˜¯ä¸€ä¸ªnullå¸¸é‡å€¼ã€‚</p><p>ã€€ã€€ã€€ã€€String s3 = â€œâ€;//s3æŒ‡å‘ä¸€ä¸ªå…·ä½“çš„å­—ç¬¦ä¸²å¯¹è±¡ï¼Œåªä¸è¿‡è¿™ä¸ªå­—ç¬¦ä¸²ä¸­æ²¡æœ‰å†…å®¹ã€‚</p><p>ã€€ã€€ã€€ã€€<strong>//ä¸€èˆ¬åœ¨å®šä¹‰å­—ç¬¦ä¸²æ—¶ï¼Œä¸ç”¨newã€‚</strong></p><p>ã€€ã€€ã€€ã€€String s4 = new String(â€œabcâ€);</p><p>ã€€ã€€ã€€ã€€String s5 = â€œabcâ€; ä¸€èˆ¬ç”¨æ­¤å†™æ³•</p><p>ã€€ã€€ã€€ã€€<strong>new String(char[]);//å°†å­—ç¬¦æ•°ç»„è½¬æˆå­—ç¬¦ä¸²ã€‚</strong></p><p>ã€€ã€€ã€€ã€€<strong>new String(char[],offset,count);//å°†å­—ç¬¦æ•°ç»„ä¸­çš„ä¸€éƒ¨åˆ†è½¬æˆå­—ç¬¦ä¸²ã€‚</strong></p><p>ã€€ã€€<strong>2ï¼šä¸€èˆ¬æ–¹æ³•ï¼š</strong></p><p>ã€€ã€€ã€€ã€€ã€€ã€€æŒ‰ç…§é¢å‘å¯¹è±¡çš„æ€æƒ³ï¼š</p><p>ã€€ã€€ã€€ã€€<strong>2.1 è·å–ï¼š</strong></p><p>ã€€ã€€ã€€ã€€ã€€ã€€2.1.1ï¼šè·å–å­—ç¬¦ä¸²çš„é•¿åº¦ã€‚<strong>length();</strong></p><p>ã€€ã€€ã€€ã€€ã€€ã€€2.1.2ï¼šæŒ‡å®šä½ç½®çš„å­—ç¬¦ã€‚char <strong>charAt</strong>(int index);</p><p>ã€€ã€€ã€€ã€€ã€€ã€€2.1.3ï¼šè·å–æŒ‡å®šå­—ç¬¦çš„ä½ç½®ã€‚å¦‚æœä¸å­˜åœ¨è¿”å›â€”1ï¼Œæ‰€ä»¥å¯ä»¥é€šè¿‡è¿”å›å€¼â€”1æ¥åˆ¤æ–­æŸä¸€ä¸ªå­—ç¬¦ä¸å­˜åœ¨çš„æƒ…å†µã€‚</p><p>ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€int <strong>indexOf</strong>(int ch);//è¿”å›ç¬¬ä¸€æ¬¡æ‰¾åˆ°çš„å­—ç¬¦è§’æ ‡</p><p>ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€int indexOf(int ch,int fromIndex); //è¿”å›ä»æŒ‡å®šä½ç½®å¼€å§‹ç¬¬ä¸€æ¬¡æ‰¾åˆ°çš„è§’æ ‡</p><p>ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€int indexOf(String str); //è¿”å›ç¬¬ä¸€æ¬¡æ‰¾åˆ°çš„å­—ç¬¦ä¸²è§’æ ‡</p><p>ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€int indexOf(String str,int fromIndex);</p><p>ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€int <strong>lastIndexOf</strong>(int ch);</p><p>ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€int lastIndexOf(int ch,int fromIndex);</p><p>ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€int lastIndexOf(String str);</p><p>ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€int lastIndexOf(String str,int fromIndex);</p><p>ã€€ã€€ã€€ã€€ã€€ã€€2.1.4ï¼šè·å–å­ä¸²ã€‚</p><p>ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€String <strong>substring</strong>(int start);//ä»startä½å¼€å§‹ï¼Œåˆ°length()â€”1ä¸ºæ­¢.</p><p>ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€String substring(int start,int end);//ä»startå¼€å§‹åˆ°endä¸ºæ­¢ã€‚//åŒ…å«startä½ï¼Œä¸åŒ…å«endä½ã€‚</p><p>ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€substring(0,str.length());//è·å–æ•´ä¸²</p><p>ã€€ã€€ã€€ã€€<strong>2.2 åˆ¤æ–­ï¼š</strong></p><p>ã€€ã€€ã€€ã€€ã€€ã€€2.2.1ï¼šå­—ç¬¦ä¸²ä¸­åŒ…å«æŒ‡å®šçš„å­—ç¬¦ä¸²å—ï¼Ÿ</p><p>ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€boolean <strong>contains</strong>(String substring);</p><p>ã€€ã€€ã€€ã€€ã€€ã€€2.2.2ï¼šå­—ç¬¦ä¸²æ˜¯å¦ä»¥æŒ‡å®šå­—ç¬¦ä¸²å¼€å¤´å•Šï¼Ÿ</p><p>ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€boolean <strong>startsWith</strong>(string);</p><p>ã€€ã€€ã€€ã€€ã€€ã€€2.2.3ï¼šå­—ç¬¦ä¸²æ˜¯å¦ä»¥æŒ‡å®šå­—ç¬¦ä¸²ç»“å°¾å•Šï¼Ÿ</p><p>ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€boolean <strong>endsWith</strong>(string);</p><p>ã€€ã€€ã€€ã€€ã€€ã€€2.2.4ï¼šåˆ¤æ–­å­—ç¬¦ä¸²æ˜¯å¦ç›¸åŒ</p><p>ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€boolean <strong>equals</strong>(string);//è¦†ç›–äº†Objectä¸­çš„æ–¹æ³•ï¼Œåˆ¤æ–­å­—ç¬¦ä¸²å†…å®¹æ˜¯å¦ç›¸åŒã€‚</p><p>ã€€ã€€ã€€ã€€ã€€ã€€2.2.5ï¼šåˆ¤æ–­å­—ç¬¦ä¸²å†…å®¹æ˜¯å¦ç›¸åŒï¼Œå¿½ç•¥å¤§å°å†™ã€‚</p><p>ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€boolean <strong>equalsIgnore</strong>Case(string) ;</p><p>ã€€ã€€ã€€ã€€<strong>2.3 è½¬æ¢ï¼š</strong></p><p>ã€€ã€€ã€€ã€€ã€€ã€€2.3.1ï¼šé€šè¿‡æ„é€ å‡½æ•°å¯ä»¥å°†å­—ç¬¦æ•°ç»„æˆ–è€…å­—èŠ‚æ•°ç»„è½¬æˆå­—ç¬¦ä¸²ã€‚</p><p>ã€€ã€€ã€€ã€€ã€€ã€€2.3.2ï¼šå¯ä»¥é€šè¿‡å­—ç¬¦ä¸²ä¸­çš„é™æ€æ–¹æ³•ï¼Œå°†å­—ç¬¦æ•°ç»„è½¬æˆå­—ç¬¦ä¸²ã€‚</p><p>ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€static String <strong>copyValueOf</strong>(char[] );</p><p>ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€static String copyValueOf(char[],int offset,int count);</p><p>ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€static String <strong>valueOf</strong>(char[]);</p><p>ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€static String valueOf(char[],int offset,int count);</p><p>ã€€ã€€ã€€ã€€ã€€ã€€2.3.3ï¼šå°†åŸºæœ¬æ•°æ®ç±»å‹æˆ–è€…å¯¹è±¡è½¬æˆå­—ç¬¦ä¸²ã€‚</p><p>ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€static String valueOf(char);</p><p>ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€static String valueOf(boolean);</p><p>ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€static String valueOf(double);</p><p>ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€static String valueOf(float);</p><p>ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€static String valueOf(int);</p><p>ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€static String valueOf(long);</p><p>ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€static String valueOf(Object);</p><p>ã€€ã€€ã€€ã€€ã€€ã€€2.3.4ï¼šå°†å­—ç¬¦ä¸²è½¬æˆå¤§å°å†™ã€‚</p><p>ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€String <strong>toLowerCase</strong>();</p><p>ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€String <strong>toUpperCase</strong>();</p><p>ã€€ã€€ã€€ã€€ã€€ã€€2.3.5ï¼šå°†å­—ç¬¦ä¸²è½¬æˆæ•°ç»„ã€‚</p><p>ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€char[] <strong>toCharArray</strong>();//è½¬æˆå­—ç¬¦æ•°ç»„ã€‚</p><p>ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€byte[] <strong>getBytes</strong>();//å¯ä»¥åŠ å…¥ç¼–ç è¡¨ã€‚è½¬æˆå­—èŠ‚æ•°ç»„ã€‚</p><p>ã€€ã€€ã€€ã€€ã€€ã€€2.3.6ï¼šå°†å­—ç¬¦ä¸²è½¬æˆå­—ç¬¦ä¸²æ•°ç»„ã€‚åˆ‡å‰²æ–¹æ³•ã€‚</p><p>ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€String[] <strong>split</strong>(åˆ†å‰²çš„è§„åˆ™â€”å­—ç¬¦ä¸²);</p><p>ã€€ã€€ã€€ã€€ã€€ã€€2.3.7ï¼šå°†å­—ç¬¦ä¸²è¿›è¡Œå†…å®¹æ›¿æ¢ã€‚æ³¨æ„ï¼šä¿®æ”¹åå˜æˆæ–°å­—ç¬¦ä¸²ï¼Œå¹¶ä¸æ˜¯å°†åŸå­—ç¬¦ä¸²ç›´æ¥ä¿®æ”¹ã€‚</p><p>ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€String <strong>replace</strong>(oldChar,newChar);</p><p>ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€String replace(oldstring,newstring);</p><p>ã€€ã€€ã€€ã€€ã€€ã€€2.3.8ï¼š String <strong>concat</strong>(string); //å¯¹å­—ç¬¦ä¸²è¿›è¡Œè¿½åŠ ã€‚</p><p>ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€String <strong>trim</strong>();//å»é™¤å­—ç¬¦ä¸²ä¸¤ç«¯çš„ç©ºæ ¼</p><p>ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€int <strong>compareTo</strong>();//å¦‚æœå‚æ•°å­—ç¬¦ä¸²ç­‰äºæ­¤å­—ç¬¦ä¸²ï¼Œåˆ™è¿”å›å€¼ 0ï¼›å¦‚æœæ­¤å­—ç¬¦ä¸²æŒ‰å­—å…¸é¡ºåºå°äºå­—ç¬¦ä¸²å‚æ•°ï¼Œ</p><p>ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€åˆ™è¿”å›ä¸€ä¸ªå°äº 0 çš„å€¼ï¼›å¦‚æœæ­¤å­—ç¬¦ä¸²æŒ‰å­—å…¸é¡ºåºå¤§äºå­—ç¬¦ä¸²å‚æ•°ï¼Œåˆ™è¿”å›ä¸€ä¸ªå¤§äº 0 çš„å€¼ã€‚</p><p>â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”</p><p><strong>â€”â€”&lt; java.lang &gt;â€”â€”</strong> <strong>StringBufferå­—ç¬¦ä¸²ç¼“å†²åŒºï¼šâ˜…â˜…â˜…â˜†</strong></p><p>ã€€ã€€æ„é€ ä¸€ä¸ªå…¶ä¸­ä¸å¸¦å­—ç¬¦çš„å­—ç¬¦ä¸²ç¼“å†²åŒºï¼Œåˆå§‹å®¹é‡ä¸º 16 ä¸ªå­—ç¬¦ã€‚</p><p>ã€€ã€€<strong>ç‰¹ç‚¹ï¼š</strong></p><p>ã€€ã€€ã€€ã€€<strong>1ï¼šå¯ä»¥å¯¹å­—ç¬¦ä¸²å†…å®¹è¿›è¡Œä¿®æ”¹ã€‚</strong></p><p>ã€€ã€€ã€€ã€€<strong>2ï¼šæ˜¯ä¸€ä¸ªå®¹å™¨ã€‚</strong></p><p>ã€€ã€€ã€€ã€€<strong>3ï¼šæ˜¯å¯å˜é•¿åº¦çš„ã€‚</strong></p><p>ã€€ã€€ã€€ã€€<strong>4ï¼šç¼“å†²åŒºä¸­å¯ä»¥å­˜å‚¨ä»»æ„ç±»å‹çš„æ•°æ®ã€‚</strong></p><p>ã€€ã€€ã€€ã€€<strong>5ï¼šæœ€ç»ˆéœ€è¦å˜æˆå­—ç¬¦ä¸²</strong>ã€‚</p><p>ã€€ã€€å®¹å™¨é€šå¸¸å…·å¤‡ä¸€äº›å›ºå®šçš„æ–¹æ³•ï¼š</p><p>ã€€ã€€<strong>1ï¼Œæ·»åŠ ã€‚</strong></p><p>ã€€ã€€ã€€ã€€StringBuffer <strong>append</strong>(data):åœ¨ç¼“å†²åŒºä¸­è¿½åŠ æ•°æ®ã€‚è¿½åŠ åˆ°å°¾éƒ¨ã€‚</p><p>ã€€ã€€ã€€ã€€StringBuffer <strong>insert</strong>(index,data):åœ¨æŒ‡å®šä½ç½®æ’å…¥æ•°æ®ã€‚</p><p>ã€€ã€€<strong>2ï¼Œåˆ é™¤ã€‚</strong></p><p>ã€€ã€€ã€€ã€€StringBuffer <strong>delete</strong>(start,end);åˆ é™¤ä»startè‡³endâ€”1èŒƒå›´çš„å…ƒç´ </p><p>ã€€ã€€ã€€ã€€StringBuffer deleteCharAt(index);åˆ é™¤æŒ‡å®šä½ç½®çš„å…ƒç´ </p><p>ã€€ã€€ã€€ã€€//sb.delete(0,sb.length());//æ¸…ç©ºç¼“å†²åŒºã€‚</p><p>ã€€ã€€<strong>3ï¼Œä¿®æ”¹ã€‚</strong></p><p>ã€€ã€€ã€€ã€€StringBuffer <strong>replace</strong>(start,end,string);å°†startè‡³endâ€”1æ›¿æ¢æˆstring</p><p>ã€€ã€€ã€€ã€€void <strong>setCharAt</strong>(index,char);æ›¿æ¢æŒ‡å®šä½ç½®çš„å­—ç¬¦</p><p>ã€€ã€€ã€€ã€€void <strong>setLength</strong>(len);å°†åŸå­—ç¬¦ä¸²ç½®ä¸ºæŒ‡å®šé•¿åº¦çš„å­—ç¬¦ä¸²</p><p>ã€€ã€€<strong>4ï¼ŒæŸ¥æ‰¾ã€‚ï¼ˆæŸ¥ä¸åˆ°è¿”å›â€”1</strong>ï¼‰</p><p>ã€€ã€€ã€€ã€€int <strong>indexOf</strong>(string); è¿”å›æŒ‡å®šå­å­—ç¬¦ä¸²åœ¨æ­¤å­—ç¬¦ä¸²ä¸­ç¬¬ä¸€æ¬¡å‡ºç°å¤„çš„ç´¢å¼•ã€‚</p><p>ã€€ã€€ã€€ã€€int indexOf(string,int fromIndex);ä»æŒ‡å®šä½ç½®å¼€å§‹æŸ¥æ‰¾å­—ç¬¦ä¸²</p><p>ã€€ã€€ã€€ã€€int <strong>lastIndexOf</strong>(string); è¿”å›æŒ‡å®šå­å­—ç¬¦ä¸²åœ¨æ­¤å­—ç¬¦ä¸²ä¸­æœ€å³è¾¹å‡ºç°å¤„çš„ç´¢å¼•ã€‚</p><p>ã€€ã€€ã€€ã€€int lastIndexOf(string,int fromIndex); ä»æŒ‡å®šçš„ç´¢å¼•å¼€å§‹åå‘æœç´¢</p><p>ã€€ã€€<strong>5ï¼Œè·å–å­ä¸²ã€‚</strong></p><p>ã€€ã€€ã€€ã€€string <strong>substring</strong>(start); è¿”å›startåˆ°ç»“å°¾çš„å­ä¸²</p><p>ã€€ã€€ã€€ã€€string substring(start,end); è¿”å›startè‡³endâ€”1çš„å­ä¸²</p><p>ã€€ã€€<strong>6ï¼Œåè½¬ã€‚</strong></p><p>ã€€ã€€ã€€ã€€StringBuffer <strong>reverse</strong>();å­—ç¬¦ä¸²åè½¬</p><p>â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”</p><p><strong>â€”â€”&lt; java.lang &gt;â€”â€”</strong> <strong>StringBuilderå­—ç¬¦ä¸²ç¼“å†²åŒºï¼šâ˜…â˜…â˜…â˜†</strong></p><p>ã€€ã€€<strong>JDK1.5å‡ºç°StringBuiler</strong>ï¼›æ„é€ ä¸€ä¸ªå…¶ä¸­ä¸å¸¦å­—ç¬¦çš„å­—ç¬¦ä¸²ç”Ÿæˆå™¨ï¼Œåˆå§‹å®¹é‡ä¸º 16 ä¸ªå­—ç¬¦ã€‚è¯¥ç±»è¢«è®¾è®¡ç”¨ä½œ StringBuffer çš„ä¸€ä¸ªç®€æ˜“æ›¿æ¢ï¼Œç”¨åœ¨å­—ç¬¦ä¸²ç¼“å†²åŒºè¢«å•ä¸ªçº¿ç¨‹ä½¿ç”¨çš„æ—¶å€™ï¼ˆè¿™ç§æƒ…å†µå¾ˆæ™®éï¼‰ã€‚</p><p>ã€€ã€€æ–¹æ³•å’ŒStringBufferä¸€æ ·ï¼›</p><p>ã€€ã€€<strong>StringBuffer å’Œ StringBuilder çš„åŒºåˆ«ï¼š</strong></p><p>ã€€ã€€ã€€ã€€<strong>StringBufferçº¿ç¨‹å®‰å…¨ã€‚</strong></p><p>ã€€ã€€ã€€ã€€<strong>StringBuilderçº¿ç¨‹ä¸å®‰å…¨ã€‚</strong></p><p>ã€€ã€€ã€€ã€€<strong>å•çº¿ç¨‹æ“ä½œï¼Œä½¿ç”¨StringBuilder æ•ˆç‡é«˜ã€‚</strong></p><p>ã€€ã€€ã€€ã€€<strong>å¤šçº¿ç¨‹æ“ä½œï¼Œä½¿ç”¨StringBuffer å®‰å…¨ã€‚</strong></p><p>â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”</p><p>ã€€ã€€ã€€ã€€ã€€ã€€StringBuilder sb = new StringBuilder(â€œabcdefgâ€);</p><p>ã€€ã€€ã€€ã€€ã€€ã€€sb.append(â€œakâ€); //abcdefgak</p><p>ã€€ã€€ã€€ã€€ã€€ã€€sb.insert(1,â€etâ€);//aetbcdefg</p><p>ã€€ã€€ã€€ã€€ã€€ã€€sb.deleteCharAt(2);//abdefg</p><p>ã€€ã€€ã€€ã€€ã€€ã€€sb.delete(2,4);//abefg</p><p>ã€€ã€€ã€€ã€€ã€€ã€€sb.setLength(4);//abcd</p><p>ã€€ã€€ã€€ã€€ã€€ã€€sb.setCharAt(0,â€™kâ€™);//kbcdefg</p><p>ã€€ã€€ã€€ã€€ã€€ã€€sb.replace(0,2,â€hhhhâ€);//hhhhcdefg</p><p>ã€€ã€€ã€€ã€€ã€€ã€€<strong>//æƒ³è¦ä½¿ç”¨ç¼“å†²åŒºï¼Œå…ˆè¦å»ºç«‹å¯¹è±¡ã€‚</strong></p><p>ã€€ã€€ã€€ã€€ã€€ã€€StringBuffer sb = new StringBuffer();</p><p>ã€€ã€€ã€€ã€€ã€€ã€€sb.append(12).append(â€œhahaâ€);//æ–¹æ³•è°ƒç”¨é“¾ã€‚</p><p>ã€€ã€€ã€€ã€€ã€€ã€€String s = â€œabcâ€+4+â€™qâ€™;</p><p>ã€€ã€€ã€€ã€€ã€€ã€€s = new StringBuffer().append(â€œabcâ€).append(4).append(â€˜qâ€™).toString();</p><p>â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”</p><p>ã€€ã€€class Test{</p><p>ã€€ã€€ã€€ã€€public static void main(String[] args) {</p><p>ã€€ã€€ã€€ã€€ã€€ã€€String s1 = â€œjavaâ€;</p><p>ã€€ã€€ã€€ã€€ã€€ã€€String s2 = â€œhelloâ€;</p><p>ã€€ã€€ã€€ã€€ã€€ã€€method_1(s1,s2);</p><p>ã€€ã€€ã€€ã€€ã€€ã€€System.out.println(s1+â€â€¦.â€+s2); <strong>//javaâ€¦.hello</strong></p><p>ã€€ã€€ã€€ã€€ã€€ã€€StringBuilder s11 = new StringBuilder(â€œjavaâ€);</p><p>ã€€ã€€ã€€ã€€ã€€ã€€StringBuilder s22 = new StringBuilder(â€œhelloâ€);</p><p>ã€€ã€€ã€€ã€€ã€€ã€€method_2(s11,s22);</p><p>ã€€ã€€ã€€ã€€ã€€ã€€System.out.println(s11+â€â€”â€”â€”â€”â€”â€œ+s22); <strong>//javahelloâ€”â€”â€”â€”â€”hello</strong></p><p>ã€€ã€€ã€€ã€€}</p><p>ã€€ã€€ã€€ã€€public static void method_1(String s1,String s2){</p><p>ã€€ã€€ã€€ã€€ã€€ã€€s1.replace(â€˜aâ€™,â€™kâ€™);</p><p>ã€€ã€€ã€€ã€€ã€€ã€€s1 = s2;</p><p>ã€€ã€€ã€€ã€€}</p><p>ã€€ã€€ã€€ã€€public static void method_2(StringBuilder s1,StringBuilder s2){</p><p>ã€€ã€€ã€€ã€€ã€€ã€€s1.append(s2);</p><p>ã€€ã€€ã€€ã€€ã€€ã€€s1 = s2;</p><p>ã€€ã€€ã€€ã€€}</p><p>ã€€ã€€}</p><p>â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”</p><p>ã€€ã€€<strong>åŸºæœ¬æ•°æ®ç±»å‹å¯¹è±¡åŒ…è£…ç±»</strong>ï¼šæ˜¯æŒ‰ç…§é¢å‘å¯¹è±¡æ€æƒ³å°†åŸºæœ¬æ•°æ®ç±»å‹å°è£…æˆäº†å¯¹è±¡ã€‚</p><p>ã€€ã€€å¥½å¤„ï¼š</p><p>ã€€ã€€ã€€ã€€1ï¼šå¯ä»¥é€šè¿‡å¯¹è±¡ä¸­çš„å±æ€§å’Œè¡Œä¸ºæ“ä½œåŸºæœ¬æ•°æ®ã€‚</p><p>ã€€ã€€ã€€ã€€2ï¼šå¯ä»¥å®ç°åŸºæœ¬æ•°æ®ç±»å‹å’Œå­—ç¬¦ä¸²ä¹‹é—´çš„è½¬æ¢ã€‚</p><p>ã€€ã€€<strong>å…³é”®å­—  å¯¹åº”çš„ç±»å</strong></p><p>ã€€ã€€ã€€ã€€byte  Byte</p><p>ã€€ã€€ã€€ã€€short  Short   paserShort(numstring);</p><p>ã€€ã€€ã€€ã€€int  Integer  é™æ€æ–¹æ³•ï¼šparseInt(numstring)</p><p>ã€€ã€€ã€€ã€€long  Long</p><p>ã€€ã€€ã€€ã€€float  Float</p><p>ã€€ã€€ã€€ã€€double  Double</p><p>ã€€ã€€ã€€ã€€char  <strong>Character</strong></p><p>ã€€ã€€ã€€ã€€Boolean  Boolean</p><p>ã€€ã€€ã€€ã€€<strong>åŸºæœ¬æ•°æ®ç±»å‹å¯¹è±¡åŒ…è£…ç±»</strong>ï¼šéƒ½æœ‰ <strong>XXX parseXXX æ–¹æ³•</strong></p><p>ã€€ã€€ã€€ã€€åªæœ‰ä¸€ä¸ªç±»å‹æ²¡æœ‰<strong>parse</strong>æ–¹æ³•ï¼šCharacter ï¼›</p><p>â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”</p><p><strong>Integerå¯¹è±¡ï¼š â˜…â˜…â˜…â˜†</strong></p><p>ã€€ã€€<strong>æ•°å­—æ ¼å¼çš„å­—ç¬¦ä¸²è½¬æˆåŸºæœ¬æ•°æ®ç±»å‹çš„æ–¹æ³•ï¼š</strong></p><p>ã€€ã€€ã€€ã€€1ï¼šå°†è¯¥å­—ç¬¦ä¸²å°è£…æˆäº†Integerå¯¹è±¡ï¼Œå¹¶è°ƒç”¨å¯¹è±¡çš„æ–¹æ³•intValue();</p><p>ã€€ã€€ã€€ã€€2ï¼šä½¿ç”¨<strong>Integer.parseInt(numstring)</strong>:ä¸ç”¨å»ºç«‹å¯¹è±¡ï¼Œç›´æ¥ç±»åè°ƒç”¨ï¼›</p><p>ã€€ã€€<strong>å°†åŸºæœ¬ç±»å‹è½¬æˆå­—ç¬¦ä¸²ï¼š</strong></p><p>ã€€ã€€ã€€ã€€1ï¼šIntegerä¸­çš„é™æ€æ–¹æ³• String toString(int);</p><p>ã€€ã€€ã€€ã€€2ï¼šint+â€â€;</p><p>ã€€ã€€<strong>å°†ä¸€ä¸ªåè¿›åˆ¶æ•´æ•°è½¬æˆå…¶ä»–è¿›åˆ¶</strong>ï¼š</p><p>ã€€ã€€ã€€ã€€è½¬æˆäºŒè¿›åˆ¶ï¼štoBinaryString</p><p>ã€€ã€€ã€€ã€€è½¬æˆå…«è¿›åˆ¶ï¼štoOctalString</p><p>ã€€ã€€ã€€ã€€è½¬æˆåå…­è¿›åˆ¶ï¼štoHexString</p><p>ã€€ã€€ã€€ã€€ã€€ã€€toString(int num,int radix);</p><p>ã€€ã€€å°†å…¶ä»–è¿›åˆ¶è½¬æ¢åè¿›åˆ¶ï¼š</p><p>ã€€ã€€ã€€ã€€<strong>parseInt(string,radix)</strong>; //å°†ç»™å®šçš„æ•°è½¬æˆæŒ‡å®šçš„åŸºæ•°è¿›åˆ¶ï¼›</p><p>ã€€ã€€<strong>åœ¨jdk1.5ç‰ˆæœ¬åï¼Œå¯¹åŸºæœ¬æ•°æ®ç±»å‹å¯¹è±¡åŒ…è£…ç±»è¿›è¡Œå‡çº§ã€‚åœ¨å‡çº§ä¸­ï¼Œä½¿ç”¨åŸºæœ¬æ•°æ®ç±»å‹å¯¹è±¡åŒ…è£…ç±»å¯ä»¥åƒä½¿ç”¨åŸºæœ¬æ•°æ®ç±»å‹ä¸€æ ·ï¼Œè¿›è¡Œè¿ç®—ã€‚</strong></p><p>ã€€ã€€ã€€ã€€Integer i = new Integer(4); <strong>//1.5ç‰ˆæœ¬ä¹‹å‰çš„å†™æ³•ï¼›</strong></p><p>ã€€ã€€ã€€ã€€Integer i = 4; <strong>//è‡ªåŠ¨è£…ç®±ï¼Œ1.5ç‰ˆæœ¬åçš„å†™æ³•</strong>ï¼›</p><p>ã€€ã€€ã€€ã€€<strong>i = i + 5;</strong></p><p>ã€€ã€€ã€€ã€€//iå¯¹è±¡æ˜¯ä¸èƒ½ç›´æ¥å’Œ5ç›¸åŠ çš„ï¼Œå…¶å®åº•å±‚å…ˆå°†iè½¬æˆintç±»å‹ï¼Œåœ¨å’Œ5ç›¸åŠ ã€‚è€Œè½¬æˆintç±»å‹çš„æ“ä½œæ˜¯éšå¼çš„ã€‚<strong>è‡ªåŠ¨æ‹†ç®±ï¼šæ‹†ç®±çš„åŸç†å°±æ˜¯i.intValue()</strong>;i+5è¿ç®—å®Œæ˜¯ä¸€ä¸ªintæ•´æ•°ã€‚å¦‚ä½•èµ‹å€¼ç»™å¼•ç”¨ç±»å‹iå‘¢ï¼Ÿå…¶å®æœ‰å¯¹ç»“æœè¿›è¡Œè£…ç®±ã€‚</p><p>ã€€ã€€ã€€ã€€Integer c = 127;</p><p>ã€€ã€€ã€€ã€€Integer d = 127;</p><p>ã€€ã€€ã€€ã€€System.out.println(c = = d); //true</p><p>ã€€ã€€ã€€ã€€<strong>//åœ¨è£…ç®±æ—¶ï¼Œå¦‚æœæ•°å€¼åœ¨byteèŒƒå›´ä¹‹å†…ï¼Œé‚£ä¹ˆæ•°å€¼ç›¸åŒï¼Œä¸ä¼šäº§ç”Ÿæ–°çš„å¯¹è±¡ï¼Œä¹Ÿå°±æ˜¯è¯´å¤šä¸ªæ•°å€¼ç›¸åŒçš„å¼•ç”¨æŒ‡å‘çš„æ˜¯åŒä¸€ä¸ªå¯¹è±¡ã€‚</strong></p><p>â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”</p><p><strong>é›†åˆæ¡†æ¶ï¼šâ˜…â˜…â˜…â˜…â˜…ï¼Œç”¨äºå­˜å‚¨æ•°æ®çš„å®¹å™¨ã€‚</strong></p><p>ã€€ã€€<strong>ç‰¹ç‚¹ï¼š</strong></p><p>ã€€ã€€ã€€ã€€1ï¼šå¯¹è±¡å°è£…æ•°æ®ï¼Œå¯¹è±¡å¤šäº†ä¹Ÿéœ€è¦å­˜å‚¨ã€‚<strong>é›†åˆç”¨äºå­˜å‚¨å¯¹è±¡ã€‚</strong></p><p>ã€€ã€€ã€€ã€€2ï¼šå¯¹è±¡çš„ä¸ªæ•°ç¡®å®šå¯ä»¥ä½¿ç”¨æ•°ç»„ï¼Œä½†æ˜¯ä¸ç¡®å®šæ€ä¹ˆåŠï¼Ÿå¯ä»¥ç”¨é›†åˆã€‚å› ä¸º<strong>é›†åˆæ˜¯å¯å˜é•¿åº¦çš„ã€‚</strong></p><p>ã€€ã€€<strong>é›†åˆå’Œæ•°ç»„çš„åŒºåˆ«ï¼š</strong></p><p>ã€€ã€€ã€€ã€€1ï¼šæ•°ç»„æ˜¯å›ºå®šé•¿åº¦çš„ï¼›é›†åˆå¯å˜é•¿åº¦çš„ã€‚</p><p>ã€€ã€€ã€€ã€€2ï¼šæ•°ç»„å¯ä»¥å­˜å‚¨åŸºæœ¬æ•°æ®ç±»å‹ï¼Œä¹Ÿå¯ä»¥å­˜å‚¨å¼•ç”¨æ•°æ®ç±»å‹ï¼›é›†åˆåªèƒ½å­˜å‚¨å¼•ç”¨æ•°æ®ç±»å‹ã€‚</p><p>ã€€ã€€ã€€ã€€3ï¼šæ•°ç»„å­˜å‚¨çš„å…ƒç´ å¿…é¡»æ˜¯åŒä¸€ä¸ªæ•°æ®ç±»å‹ï¼›é›†åˆå­˜å‚¨çš„å¯¹è±¡å¯ä»¥æ˜¯ä¸åŒæ•°æ®ç±»å‹ã€‚</p><p>ã€€ã€€<strong>æ•°æ®ç»“æ„</strong>ï¼šå°±æ˜¯å®¹å™¨ä¸­å­˜å‚¨æ•°æ®çš„æ–¹å¼ã€‚</p><p>ã€€ã€€å¯¹äºé›†åˆå®¹å™¨ï¼Œæœ‰å¾ˆå¤šç§ã€‚å› ä¸ºæ¯ä¸€ä¸ªå®¹å™¨çš„è‡ªèº«ç‰¹ç‚¹ä¸åŒï¼Œå…¶å®åŸç†åœ¨äºæ¯ä¸ªå®¹å™¨çš„å†…éƒ¨æ•°æ®ç»“æ„ä¸åŒã€‚</p><p>ã€€ã€€é›†åˆå®¹å™¨åœ¨ä¸æ–­å‘ä¸ŠæŠ½å–è¿‡ç¨‹ä¸­ã€‚å‡ºç°äº†é›†åˆä½“ç³»ã€‚</p><p>ã€€ã€€<strong>åœ¨ä½¿ç”¨ä¸€ä¸ªä½“ç³»æ—¶ï¼ŒåŸåˆ™ï¼šå‚é˜…é¡¶å±‚å†…å®¹ã€‚å»ºç«‹åº•å±‚å¯¹è±¡ã€‚</strong></p><p> <img src="https://images0.cnblogs.com/i/600704/201404/090145483874597.jpg" alt="img"></p><p>â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”</p><p><strong>â€”â€”&lt; java.util &gt;â€”â€”</strong> <strong>Collectionæ¥å£ï¼š</strong></p><p>ã€€ã€€<strong>Collectionï¼š</strong></p><p>ã€€ã€€ã€€ã€€<strong>|â€”â€”Listï¼šæœ‰åº(å…ƒç´ å­˜å…¥é›†åˆçš„é¡ºåºå’Œå–å‡ºçš„é¡ºåºä¸€è‡´)ï¼Œå…ƒç´ éƒ½æœ‰ç´¢å¼•ã€‚å…ƒç´ å¯ä»¥é‡å¤ã€‚</strong></p><p>ã€€ã€€ã€€ã€€<strong>|â€”â€”Setï¼šæ— åº(å­˜å…¥å’Œå–å‡ºé¡ºåºæœ‰å¯èƒ½ä¸ä¸€è‡´)ï¼Œä¸å¯ä»¥å­˜å‚¨é‡å¤å…ƒç´ ã€‚å¿…é¡»ä¿è¯å…ƒç´ å”¯ä¸€æ€§ã€‚</strong></p><p>ã€€ã€€<strong>1ï¼Œæ·»åŠ ï¼š</strong></p><p>ã€€ã€€ã€€ã€€add(object)ï¼šæ·»åŠ ä¸€ä¸ªå…ƒç´ </p><p>ã€€ã€€ã€€ã€€addAll(Collection) ï¼šæ·»åŠ ä¸€ä¸ªé›†åˆä¸­çš„æ‰€æœ‰å…ƒç´ ã€‚</p><p>ã€€ã€€<strong>2ï¼Œåˆ é™¤ï¼š</strong></p><p>ã€€ã€€ã€€ã€€clear()ï¼šå°†é›†åˆä¸­çš„å…ƒç´ å…¨åˆ é™¤ï¼Œ<strong>æ¸…ç©ºé›†åˆã€‚</strong></p><p>ã€€ã€€ã€€ã€€remove(obj) ï¼šåˆ é™¤é›†åˆä¸­æŒ‡å®šçš„å¯¹è±¡ã€‚<strong>æ³¨æ„ï¼šåˆ é™¤æˆåŠŸï¼Œé›†åˆçš„é•¿åº¦ä¼šæ”¹å˜ã€‚</strong></p><p>ã€€ã€€ã€€ã€€removeAll(collection) ï¼šåˆ é™¤éƒ¨åˆ†å…ƒç´ ã€‚éƒ¨åˆ†å…ƒç´ å’Œä¼ å…¥Collectionä¸€è‡´ã€‚</p><p>ã€€ã€€<strong>3ï¼Œåˆ¤æ–­ï¼š</strong></p><p>ã€€ã€€ã€€ã€€boolean contains(obj) ï¼šé›†åˆä¸­æ˜¯å¦åŒ…å«æŒ‡å®šå…ƒç´  ã€‚</p><p>ã€€ã€€ã€€ã€€boolean containsAll(Collection) ï¼šé›†åˆä¸­æ˜¯å¦åŒ…å«æŒ‡å®šçš„å¤šä¸ªå…ƒç´ ã€‚</p><p>ã€€ã€€ã€€ã€€boolean isEmpty()ï¼šé›†åˆä¸­æ˜¯å¦æœ‰å…ƒç´ ã€‚ </p><p>ã€€ã€€<strong>4ï¼Œè·å–ï¼š</strong></p><p>ã€€ã€€ã€€ã€€int size()ï¼šé›†åˆä¸­æœ‰å‡ ä¸ªå…ƒç´ ã€‚</p><p>ã€€ã€€<strong>5ï¼Œå–äº¤é›†ï¼š</strong></p><p>ã€€ã€€ã€€ã€€boolean retainAll(Collection) ï¼šå¯¹å½“å‰é›†åˆä¸­ä¿ç•™å’ŒæŒ‡å®šé›†åˆä¸­çš„ç›¸åŒçš„å…ƒç´ ã€‚å¦‚æœä¸¤ä¸ªé›†åˆå…ƒç´ ç›¸åŒï¼Œè¿”å›flaseï¼›å¦‚æœretainAllä¿®æ”¹äº†å½“å‰é›†åˆï¼Œè¿”å›trueã€‚</p><p>ã€€ã€€<strong>6ï¼Œè·å–é›†åˆä¸­æ‰€æœ‰å…ƒç´ ï¼š</strong></p><p>ã€€ã€€ã€€ã€€<strong>Iterator iterator()ï¼šè¿­ä»£å™¨</strong></p><p>ã€€ã€€<strong>7ï¼Œå°†é›†åˆå˜æˆæ•°ç»„ï¼š</strong></p><p>ã€€ã€€ã€€ã€€toArray();</p><p>â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”</p><p><strong>â€”â€”&lt; java.util &gt;â€”â€”</strong> <strong>Iteratoræ¥å£ï¼š</strong></p><p>ã€€ã€€<strong>è¿­ä»£å™¨ï¼šæ˜¯ä¸€ä¸ªæ¥å£ã€‚ä½œç”¨ï¼šç”¨äºå–é›†åˆä¸­çš„å…ƒç´ ã€‚</strong></p><table><thead><tr><th>boolean</th><th><a href="https://www.cnblogs.com/In-order-to-tomorrow/p/3652315.html?utm_source=tuicool&amp;utm_medium=referral#hasNext()">hasNext</a>() å¦‚æœä»æœ‰å…ƒç´ å¯ä»¥è¿­ä»£ï¼Œåˆ™è¿”å› trueã€‚</th></tr></thead><tbody><tr><td>E</td><td><a href="https://www.cnblogs.com/In-order-to-tomorrow/p/3652315.html?utm_source=tuicool&amp;utm_medium=referral#next()">next</a>()  è¿”å›è¿­ä»£çš„ä¸‹ä¸€ä¸ªå…ƒç´ ã€‚</td></tr><tr><td>void</td><td><a href="https://www.cnblogs.com/In-order-to-tomorrow/p/3652315.html?utm_source=tuicool&amp;utm_medium=referral#remove()">remove</a>() ä»è¿­ä»£å™¨æŒ‡å‘çš„ collection ä¸­ç§»é™¤è¿­ä»£å™¨è¿”å›çš„æœ€åä¸€ä¸ªå…ƒç´ ï¼ˆå¯é€‰æ“ä½œï¼‰ã€‚</td></tr></tbody></table><p>ã€€ã€€æ¯ä¸€ä¸ªé›†åˆéƒ½æœ‰è‡ªå·±çš„æ•°æ®ç»“æ„ï¼Œéƒ½æœ‰ç‰¹å®šçš„å–å‡ºè‡ªå·±å†…éƒ¨å…ƒç´ çš„æ–¹å¼ã€‚ä¸ºäº†ä¾¿äºæ“ä½œæ‰€æœ‰çš„å®¹å™¨ï¼Œå–å‡ºå…ƒç´ ã€‚å°†å®¹å™¨å†…éƒ¨çš„å–å‡ºæ–¹å¼æŒ‰ç…§ä¸€ä¸ªç»Ÿä¸€çš„è§„åˆ™å‘å¤–æä¾›ï¼Œè¿™ä¸ªè§„åˆ™å°±æ˜¯<strong>Iteratoræ¥å£ã€‚</strong></p><p>ã€€ã€€ä¹Ÿå°±è¯´ï¼Œåªè¦é€šè¿‡è¯¥æ¥å£å°±å¯ä»¥å–å‡ºCollectioné›†åˆä¸­çš„å…ƒç´ ï¼Œè‡³äºæ¯ä¸€ä¸ªå…·ä½“çš„å®¹å™¨ä¾æ®è‡ªå·±çš„æ•°æ®ç»“æ„ï¼Œå¦‚ä½•å®ç°çš„å…·ä½“å–å‡ºç»†èŠ‚ï¼Œè¿™ä¸ªä¸ç”¨å…³å¿ƒï¼Œè¿™æ ·å°±é™ä½äº†å–å‡ºå…ƒç´ å’Œå…·ä½“é›†åˆçš„è€¦åˆæ€§ã€‚</p><p>ã€€ã€€<strong>Iterator it = coll.iterator();</strong>//è·å–å®¹å™¨ä¸­çš„è¿­ä»£å™¨å¯¹è±¡ï¼Œè‡³äºè¿™ä¸ªå¯¹è±¡æ˜¯æ˜¯ä»€ä¹ˆä¸é‡è¦ã€‚è¿™å¯¹è±¡è‚¯å®šç¬¦åˆä¸€ä¸ªè§„åˆ™Iteratoræ¥å£ã€‚</p><p>â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”</p><p>ã€€ã€€public static void main(String[] args) {</p><p>ã€€ã€€ã€€ã€€Collection coll = new ArrayList();</p><p>ã€€ã€€ã€€ã€€coll.add(â€œabc0â€);</p><p>ã€€ã€€ã€€ã€€coll.add(â€œabc1â€);</p><p>ã€€ã€€ã€€ã€€coll.add(â€œabc2â€);</p><p>ã€€ã€€ã€€ã€€//â€”â€”â€”â€”â€”â€”â€”â€”æ–¹å¼1â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”</p><p>ã€€ã€€ã€€ã€€Iterator it = coll.iterator();</p><p>ã€€ã€€ã€€ã€€while(it.hasNext()){</p><p>ã€€ã€€ã€€ã€€ã€€ã€€System.out.println(it.next());</p><p>ã€€ã€€ã€€ã€€}</p><p>ã€€ã€€ã€€ã€€//â€”â€”â€”â€”â€”â€”â€”â€”â€”æ–¹å¼2ç”¨æ­¤ç§â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”</p><p>ã€€ã€€ã€€ã€€for(Iterator it = coll.iterator();it.hasNext(); ){</p><p>ã€€ã€€ã€€ã€€ã€€ã€€System.out.println(it.next());</p><p>ã€€ã€€ã€€ã€€}</p><p>ã€€ã€€}</p><p>â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”</p><p><strong>â€”â€”&lt; java.util &gt;â€”â€”</strong> <strong>Listæ¥å£</strong>ï¼š</p><p>ã€€ã€€Listæœ¬èº«æ˜¯Collectionæ¥å£çš„å­æ¥å£ï¼Œå…·å¤‡äº†Collectionçš„æ‰€æœ‰æ–¹æ³•ã€‚ç°åœ¨å­¦ä¹ Listä½“ç³»ç‰¹æœ‰çš„å…±æ€§æ–¹æ³•ï¼ŒæŸ¥é˜…æ–¹æ³•å‘ç°Listçš„ç‰¹æœ‰æ–¹æ³•éƒ½æœ‰ç´¢å¼•ï¼Œè¿™æ˜¯è¯¥é›†åˆæœ€å¤§çš„ç‰¹ç‚¹ã€‚</p><p>ã€€ã€€<strong>Listï¼šæœ‰åº(å…ƒç´ å­˜å…¥é›†åˆçš„é¡ºåºå’Œå–å‡ºçš„é¡ºåºä¸€è‡´)ï¼Œå…ƒç´ éƒ½æœ‰ç´¢å¼•ã€‚å…ƒç´ å¯ä»¥é‡å¤ã€‚</strong></p><p>ã€€ã€€ã€€ã€€<strong>|â€”â€”ArrayListï¼šåº•å±‚çš„æ•°æ®ç»“æ„æ˜¯æ•°ç»„,çº¿ç¨‹ä¸åŒæ­¥ï¼ŒArrayListæ›¿ä»£äº†Vectorï¼ŒæŸ¥è¯¢å…ƒç´ çš„é€Ÿåº¦éå¸¸å¿«ã€‚</strong></p><p>ã€€ã€€ã€€ã€€<strong>|â€”â€”LinkedListï¼šåº•å±‚çš„æ•°æ®ç»“æ„æ˜¯é“¾è¡¨ï¼Œçº¿ç¨‹ä¸åŒæ­¥ï¼Œå¢åˆ å…ƒç´ çš„é€Ÿåº¦éå¸¸å¿«ã€‚</strong></p><p>ã€€ã€€ã€€ã€€<strong>|â€”â€”Vectorï¼šåº•å±‚çš„æ•°æ®ç»“æ„å°±æ˜¯æ•°ç»„ï¼Œçº¿ç¨‹åŒæ­¥çš„ï¼ŒVectoræ— è®ºæŸ¥è¯¢å’Œå¢åˆ éƒ½å·¨æ…¢ã€‚</strong></p><p>ã€€ã€€<strong>1ï¼Œæ·»åŠ ï¼š</strong></p><p>ã€€ã€€ã€€ã€€add(index,element) ï¼šåœ¨æŒ‡å®šçš„ç´¢å¼•ä½æ’å…¥å…ƒç´ ã€‚</p><p>ã€€ã€€ã€€ã€€addAll(index,collection) ï¼šåœ¨æŒ‡å®šçš„ç´¢å¼•ä½æ’å…¥ä¸€å †å…ƒç´ ã€‚</p><p>ã€€ã€€<strong>2ï¼Œåˆ é™¤ï¼š</strong></p><p>ã€€ã€€ã€€ã€€remove(index) ï¼šåˆ é™¤æŒ‡å®šç´¢å¼•ä½çš„å…ƒç´ ã€‚ è¿”å›è¢«åˆ çš„å…ƒç´ ã€‚</p><p>ã€€ã€€<strong>3ï¼Œè·å–ï¼š</strong></p><p>ã€€ã€€ã€€ã€€Object get(index) ï¼šé€šè¿‡ç´¢å¼•è·å–æŒ‡å®šå…ƒç´ ã€‚</p><p>ã€€ã€€ã€€ã€€int <strong>indexOf</strong>(obj) ï¼šè·å–æŒ‡å®šå…ƒç´ ç¬¬ä¸€æ¬¡å‡ºç°çš„ç´¢å¼•ä½ï¼Œå¦‚æœè¯¥å…ƒç´ ä¸å­˜åœ¨è¿”å›â€”1ï¼›</p><p>ã€€ã€€ã€€ã€€æ‰€ä»¥ï¼Œé€šè¿‡â€”1ï¼Œå¯ä»¥åˆ¤æ–­ä¸€ä¸ªå…ƒç´ æ˜¯å¦å­˜åœ¨ã€‚</p><p>ã€€ã€€ã€€ã€€int lastIndexOf(Object o) ï¼šåå‘ç´¢å¼•æŒ‡å®šå…ƒç´ çš„ä½ç½®ã€‚</p><p>ã€€ã€€ã€€ã€€List subList(start,end) ï¼šè·å–å­åˆ—è¡¨ã€‚</p><p>ã€€ã€€<strong>4ï¼Œä¿®æ”¹ï¼š</strong></p><p>ã€€ã€€ã€€ã€€Object set(index,element) ï¼šå¯¹æŒ‡å®šç´¢å¼•ä½è¿›è¡Œå…ƒç´ çš„ä¿®æ”¹ã€‚</p><p>ã€€ã€€<strong>5ï¼Œè·å–æ‰€æœ‰å…ƒç´ ï¼š</strong></p><p>ã€€ã€€ã€€ã€€ListIterator <strong>listIterator</strong>()ï¼šlisté›†åˆç‰¹æœ‰çš„è¿­ä»£å™¨ã€‚</p><p>ã€€ã€€<strong>Listé›†åˆæ”¯æŒå¯¹å…ƒç´ çš„å¢ã€åˆ ã€æ”¹ã€æŸ¥ã€‚</strong></p><p>ã€€ã€€<strong>Listé›†åˆå› ä¸ºè§’æ ‡æœ‰äº†è‡ªå·±çš„è·å–å…ƒç´ çš„æ–¹å¼ï¼š éå†ã€‚</strong></p><p>ã€€ã€€ã€€ã€€**for(int x=0; x</p><p>ã€€ã€€ã€€ã€€ã€€ã€€<strong>sop(â€œget:â€+list.get(x));</strong></p><p>ã€€ã€€ã€€ã€€<strong>}</strong></p><p>ã€€ã€€ã€€ã€€åœ¨è¿›è¡Œliståˆ—è¡¨å…ƒç´ è¿­ä»£çš„æ—¶å€™ï¼Œå¦‚æœæƒ³è¦åœ¨è¿­ä»£è¿‡ç¨‹ä¸­ï¼Œæƒ³è¦å¯¹å…ƒç´ è¿›è¡Œæ“ä½œçš„æ—¶å€™ï¼Œæ¯”å¦‚æ»¡è¶³æ¡ä»¶æ·»åŠ æ–°å…ƒç´ ã€‚<strong>ä¼šå‘ç”Ÿ.ConcurrentModificationExceptionå¹¶å‘ä¿®æ”¹å¼‚å¸¸ã€‚</strong></p><p>ã€€ã€€<strong>å¯¼è‡´çš„åŸå› æ˜¯ï¼š</strong></p><p>ã€€ã€€ã€€ã€€é›†åˆå¼•ç”¨å’Œè¿­ä»£å™¨å¼•ç”¨åœ¨åŒæ—¶æ“ä½œå…ƒç´ ï¼Œé€šè¿‡é›†åˆè·å–åˆ°å¯¹åº”çš„è¿­ä»£å™¨åï¼Œåœ¨è¿­ä»£ä¸­ï¼Œè¿›è¡Œé›†åˆå¼•ç”¨çš„å…ƒç´ æ·»åŠ ï¼Œè¿­ä»£å™¨å¹¶ä¸çŸ¥é“ï¼Œæ‰€ä»¥ä¼šå‡ºç°å¼‚å¸¸æƒ…å†µã€‚</p><p>ã€€ã€€<strong>å¦‚ä½•è§£å†³å‘¢ï¼Ÿ</strong></p><p>ã€€ã€€ã€€ã€€æ—¢ç„¶æ˜¯åœ¨è¿­ä»£ä¸­å¯¹å…ƒç´ è¿›è¡Œæ“ä½œ,æ‰¾è¿­ä»£å™¨çš„æ–¹æ³•æœ€ä¸ºåˆé€‚.å¯æ˜¯Iteratorä¸­åªæœ‰hasNext,next,removeæ–¹æ³•.é€šè¿‡æŸ¥é˜…çš„å®ƒçš„å­æ¥å£,<strong>ListIterator</strong>,å‘ç°è¯¥åˆ—è¡¨è¿­ä»£å™¨æ¥å£å…·å¤‡äº†å¯¹å…ƒç´ çš„å¢ã€åˆ ã€æ”¹ã€æŸ¥çš„åŠ¨ä½œã€‚</p><p>ã€€ã€€<strong>ListIteratoræ˜¯Listé›†åˆç‰¹æœ‰çš„è¿­ä»£å™¨ã€‚</strong></p><p>ã€€ã€€ListIterator it = list.listIterator;//å–ä»£Iterator it = list.iterator;</p><table><thead><tr><th>æ–¹æ³•æ‘˜è¦</th><th></th></tr></thead><tbody><tr><td>void</td><td><a href="https://www.cnblogs.com/In-order-to-tomorrow/p/3652315.html?utm_source=tuicool&amp;utm_medium=referral#add(E)">add</a>(E e) å°†æŒ‡å®šçš„å…ƒç´ æ’å…¥åˆ—è¡¨ï¼ˆå¯é€‰æ“ä½œï¼‰ã€‚</td></tr><tr><td>boolean</td><td><a href="https://www.cnblogs.com/In-order-to-tomorrow/p/3652315.html?utm_source=tuicool&amp;utm_medium=referral#hasNext()">hasNext</a>() ä»¥æ­£å‘éå†åˆ—è¡¨æ—¶ï¼Œå¦‚æœåˆ—è¡¨è¿­ä»£å™¨æœ‰å¤šä¸ªå…ƒç´ ï¼Œåˆ™è¿”å› trueï¼ˆæ¢å¥è¯è¯´ï¼Œå¦‚æœ next è¿”å›ä¸€ä¸ªå…ƒç´ è€Œä¸æ˜¯æŠ›å‡ºå¼‚å¸¸ï¼Œåˆ™è¿”å› trueï¼‰ã€‚</td></tr><tr><td>boolean</td><td><a href="https://www.cnblogs.com/In-order-to-tomorrow/p/3652315.html?utm_source=tuicool&amp;utm_medium=referral#hasPrevious()">hasPrevious</a>() å¦‚æœä»¥é€†å‘éå†åˆ—è¡¨ï¼Œåˆ—è¡¨è¿­ä»£å™¨æœ‰å¤šä¸ªå…ƒç´ ï¼Œåˆ™è¿”å› trueã€‚</td></tr><tr><td>E</td><td><a href="https://www.cnblogs.com/In-order-to-tomorrow/p/3652315.html?utm_source=tuicool&amp;utm_medium=referral#next()">next</a>() è¿”å›åˆ—è¡¨ä¸­çš„ä¸‹ä¸€ä¸ªå…ƒç´ ã€‚</td></tr><tr><td>int</td><td><a href="https://www.cnblogs.com/In-order-to-tomorrow/p/3652315.html?utm_source=tuicool&amp;utm_medium=referral#nextIndex()">nextIndex</a>() è¿”å›å¯¹ next çš„åç»­è°ƒç”¨æ‰€è¿”å›å…ƒç´ çš„ç´¢å¼•ã€‚</td></tr><tr><td>E</td><td><a href="https://www.cnblogs.com/In-order-to-tomorrow/p/3652315.html?utm_source=tuicool&amp;utm_medium=referral#previous()">previous</a>() è¿”å›åˆ—è¡¨ä¸­çš„å‰ä¸€ä¸ªå…ƒç´ ã€‚</td></tr><tr><td>int</td><td><a href="https://www.cnblogs.com/In-order-to-tomorrow/p/3652315.html?utm_source=tuicool&amp;utm_medium=referral#previousIndex()">previousIndex</a>() è¿”å›å¯¹ previous çš„åç»­è°ƒç”¨æ‰€è¿”å›å…ƒç´ çš„ç´¢å¼•ã€‚</td></tr><tr><td>void</td><td><a href="https://www.cnblogs.com/In-order-to-tomorrow/p/3652315.html?utm_source=tuicool&amp;utm_medium=referral#remove()">remove</a>() ä»åˆ—è¡¨ä¸­ç§»é™¤ç”± next æˆ– previous è¿”å›çš„æœ€åä¸€ä¸ªå…ƒç´ ï¼ˆå¯é€‰æ“ä½œï¼‰ã€‚</td></tr><tr><td>void</td><td><a href="https://www.cnblogs.com/In-order-to-tomorrow/p/3652315.html?utm_source=tuicool&amp;utm_medium=referral#set(E)">set</a>(E e) ç”¨æŒ‡å®šå…ƒç´ æ›¿æ¢ next æˆ– previous è¿”å›çš„æœ€åä¸€ä¸ªå…ƒç´ ï¼ˆå¯é€‰æ“ä½œï¼‰ã€‚</td></tr></tbody></table><p>ã€€ã€€<strong>å¯å˜é•¿åº¦æ•°ç»„çš„åŸç†ï¼š</strong></p><p>ã€€ã€€ã€€ã€€å½“å…ƒç´ è¶…å‡ºæ•°ç»„é•¿åº¦ï¼Œä¼šäº§ç”Ÿä¸€ä¸ªæ–°æ•°ç»„ï¼Œå°†åŸæ•°ç»„çš„æ•°æ®å¤åˆ¶åˆ°æ–°æ•°ç»„ä¸­ï¼Œå†å°†æ–°çš„å…ƒç´ æ·»åŠ åˆ°æ–°æ•°ç»„ä¸­ã€‚</p><p>ã€€ã€€ã€€ã€€ArrayListï¼šæ˜¯æŒ‰ç…§åŸæ•°ç»„çš„50%å»¶é•¿ã€‚æ„é€ ä¸€ä¸ªåˆå§‹å®¹é‡ä¸º 10 çš„ç©ºåˆ—è¡¨ã€‚</p><p>ã€€ã€€ã€€ã€€Vectorï¼šæ˜¯æŒ‰ç…§åŸæ•°ç»„çš„100%å»¶é•¿ã€‚</p><p>ã€€ã€€<strong>æ³¨æ„</strong>ï¼š<strong>å¯¹äºlisté›†åˆï¼Œåº•å±‚åˆ¤æ–­å…ƒç´ æ˜¯å¦ç›¸åŒï¼Œå…¶å®ç”¨çš„æ˜¯å…ƒç´ è‡ªèº«çš„equalsæ–¹æ³•å®Œæˆçš„ã€‚æ‰€ä»¥å»ºè®®å…ƒç´ éƒ½è¦å¤å†™equalsæ–¹æ³•ï¼Œå»ºç«‹å…ƒç´ å¯¹è±¡è‡ªå·±çš„æ¯”è¾ƒç›¸åŒçš„æ¡ä»¶ä¾æ®ã€‚</strong></p><p>ã€€ã€€<strong>LinkedList</strong>ï¼š<strong>çš„ç‰¹æœ‰æ–¹æ³•ã€‚</strong></p><p>ã€€ã€€ã€€ã€€addFirst();</p><p>ã€€ã€€ã€€ã€€addLast();</p><p>ã€€ã€€åœ¨jdk1.6ä»¥åã€‚</p><p>ã€€ã€€ã€€ã€€offerFirst();</p><p>ã€€ã€€ã€€ã€€offerLast();</p><p>ã€€ã€€ã€€ã€€getFirst():è·å–é“¾è¡¨ä¸­çš„ç¬¬ä¸€ä¸ªå…ƒç´ ã€‚å¦‚æœé“¾è¡¨ä¸ºç©ºï¼ŒæŠ›å‡ºNoSuchElementException;</p><p>ã€€ã€€ã€€ã€€getLast();</p><p>ã€€ã€€åœ¨jdk1.6ä»¥åã€‚</p><p>ã€€ã€€ã€€ã€€peekFirst();è·å–é“¾è¡¨ä¸­çš„ç¬¬ä¸€ä¸ªå…ƒç´ ã€‚å¦‚æœé“¾è¡¨ä¸ºç©ºï¼Œè¿”å›nullã€‚</p><p>ã€€ã€€ã€€ã€€peekLast();</p><p>ã€€ã€€ã€€ã€€removeFirst()ï¼šè·å–é“¾è¡¨ä¸­çš„ç¬¬ä¸€ä¸ªå…ƒç´ ï¼Œä½†æ˜¯ä¼šåˆ é™¤é“¾è¡¨ä¸­çš„ç¬¬ä¸€ä¸ªå…ƒç´ ã€‚å¦‚æœé“¾è¡¨ä¸ºç©ºï¼ŒæŠ›å‡ºNoSuchElementException</p><p>ã€€ã€€ã€€ã€€removeLast();</p><p>ã€€ã€€åœ¨jdk1.6ä»¥åã€‚</p><p>ã€€ã€€ã€€ã€€pollFirst();è·å–é“¾è¡¨ä¸­çš„ç¬¬ä¸€ä¸ªå…ƒç´ ï¼Œä½†æ˜¯ä¼šåˆ é™¤é“¾è¡¨ä¸­çš„ç¬¬ä¸€ä¸ªå…ƒç´ ã€‚å¦‚æœé“¾è¡¨ä¸ºç©ºï¼Œè¿”å›nullã€‚</p><p>ã€€ã€€ã€€ã€€pollLast();</p><p>â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”</p><p><strong>â€”â€”&lt; java.util &gt;â€”â€”</strong> <strong>Setæ¥å£</strong>ï¼š</p><p>ã€€ã€€Setæ¥å£ä¸­çš„æ–¹æ³•å’ŒCollectionä¸­æ–¹æ³•ä¸€è‡´çš„ã€‚Setæ¥å£å–å‡ºæ–¹å¼åªæœ‰ä¸€ç§ï¼Œ<strong>è¿­ä»£å™¨ã€‚</strong></p><p>ã€€ã€€ã€€ã€€<strong>|â€”â€”HashSet</strong>ï¼šåº•å±‚æ•°æ®ç»“æ„æ˜¯å“ˆå¸Œè¡¨ï¼Œ<strong>çº¿ç¨‹æ˜¯ä¸åŒæ­¥çš„ã€‚æ— åºï¼Œé«˜æ•ˆï¼›</strong></p><p>ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€HashSeté›†åˆä¿è¯å…ƒç´ å”¯ä¸€æ€§ï¼šé€šè¿‡å…ƒç´ çš„hashCodeæ–¹æ³•ï¼Œå’Œequalsæ–¹æ³•å®Œæˆçš„ã€‚</p><p>ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€å½“å…ƒç´ çš„hashCodeå€¼ç›¸åŒæ—¶ï¼Œæ‰ç»§ç»­åˆ¤æ–­å…ƒç´ çš„equalsæ˜¯å¦ä¸ºtrueã€‚</p><p>ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€å¦‚æœä¸ºtrueï¼Œé‚£ä¹ˆè§†ä¸ºç›¸åŒå…ƒç´ ï¼Œä¸å­˜ã€‚å¦‚æœä¸ºfalseï¼Œé‚£ä¹ˆå­˜å‚¨ã€‚</p><p>ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€å¦‚æœhashCodeå€¼ä¸åŒï¼Œé‚£ä¹ˆä¸åˆ¤æ–­equalsï¼Œä»è€Œæé«˜å¯¹è±¡æ¯”è¾ƒçš„é€Ÿåº¦ã€‚</p><p>ã€€ã€€ã€€ã€€ã€€ã€€<strong>|â€”â€”LinkedHashSetï¼šæœ‰åºï¼Œhashsetçš„å­ç±»ã€‚</strong></p><p>ã€€ã€€ã€€ã€€<strong>|â€”â€”TreeSet</strong>ï¼šå¯¹Seté›†åˆä¸­çš„å…ƒç´ çš„è¿›è¡ŒæŒ‡å®šé¡ºåºçš„æ’åºã€‚<strong>ä¸åŒæ­¥</strong>ã€‚TreeSetåº•å±‚çš„æ•°æ®ç»“æ„å°±æ˜¯äºŒå‰æ ‘ã€‚</p><p>ã€€ã€€<strong>å“ˆå¸Œè¡¨çš„åŸç†ï¼š</strong></p><p>ã€€ã€€ã€€ã€€1ï¼Œå¯¹å¯¹è±¡å…ƒç´ ä¸­çš„å…³é”®å­—(å¯¹è±¡ä¸­çš„ç‰¹æœ‰æ•°æ®)ï¼Œè¿›è¡Œå“ˆå¸Œç®—æ³•çš„è¿ç®—ï¼Œå¹¶å¾—å‡ºä¸€ä¸ªå…·ä½“çš„ç®—æ³•å€¼ï¼Œè¿™ä¸ªå€¼ ç§°ä¸ºå“ˆå¸Œå€¼ã€‚</p><p>ã€€ã€€ã€€ã€€2ï¼Œå“ˆå¸Œå€¼å°±æ˜¯è¿™ä¸ªå…ƒç´ çš„ä½ç½®ã€‚</p><p>ã€€ã€€ã€€ã€€3ï¼Œå¦‚æœå“ˆå¸Œå€¼å‡ºç°å†²çªï¼Œå†æ¬¡åˆ¤æ–­è¿™ä¸ªå…³é”®å­—å¯¹åº”çš„å¯¹è±¡æ˜¯å¦ç›¸åŒã€‚å¦‚æœå¯¹è±¡ç›¸åŒï¼Œå°±ä¸å­˜å‚¨ï¼Œå› ä¸ºå…ƒç´ é‡å¤ã€‚å¦‚æœå¯¹è±¡ä¸åŒï¼Œå°±å­˜å‚¨ï¼Œåœ¨åŸæ¥å¯¹è±¡çš„å“ˆå¸Œå€¼åŸºç¡€ +1é¡ºå»¶ã€‚</p><p>ã€€ã€€ã€€ã€€4ï¼Œå­˜å‚¨å“ˆå¸Œå€¼çš„ç»“æ„ï¼Œæˆ‘ä»¬ç§°ä¸ºå“ˆå¸Œè¡¨ã€‚</p><p>ã€€ã€€ã€€ã€€5ï¼Œæ—¢ç„¶å“ˆå¸Œè¡¨æ˜¯æ ¹æ®å“ˆå¸Œå€¼å­˜å‚¨çš„ï¼Œä¸ºäº†æé«˜æ•ˆç‡ï¼Œæœ€å¥½ä¿è¯å¯¹è±¡çš„å…³é”®å­—æ˜¯å”¯ä¸€çš„ã€‚</p><p>ã€€ã€€ã€€ã€€ã€€ã€€è¿™æ ·å¯ä»¥å°½é‡å°‘çš„åˆ¤æ–­å…³é”®å­—å¯¹åº”çš„å¯¹è±¡æ˜¯å¦ç›¸åŒï¼Œæé«˜äº†å“ˆå¸Œè¡¨çš„æ“ä½œæ•ˆç‡ã€‚</p><p>ã€€ã€€<strong>å¯¹äºArrayListé›†åˆï¼Œåˆ¤æ–­å…ƒç´ æ˜¯å¦å­˜åœ¨ï¼Œæˆ–è€…åˆ å…ƒç´ åº•å±‚ä¾æ®éƒ½æ˜¯equalsæ–¹æ³•ã€‚</strong></p><p>ã€€ã€€<strong>å¯¹äºHashSeté›†åˆï¼Œåˆ¤æ–­å…ƒç´ æ˜¯å¦å­˜åœ¨ï¼Œæˆ–è€…åˆ é™¤å…ƒç´ ï¼Œåº•å±‚ä¾æ®çš„æ˜¯hashCodeæ–¹æ³•å’Œequalsæ–¹æ³•ã€‚</strong></p><p>ã€€ã€€<strong>TreeSet:</strong></p><p>ã€€ã€€ã€€ã€€ç”¨äºå¯¹Seté›†åˆè¿›è¡Œå…ƒç´ çš„æŒ‡å®šé¡ºåºæ’åºï¼Œæ’åºéœ€è¦ä¾æ®å…ƒç´ è‡ªèº«å…·å¤‡çš„æ¯”è¾ƒæ€§ã€‚</p><p>ã€€ã€€ã€€ã€€<strong>å¦‚æœå…ƒç´ ä¸å…·å¤‡æ¯”è¾ƒæ€§ï¼Œåœ¨è¿è¡Œæ—¶ä¼šå‘ç”ŸClassCastExceptionå¼‚å¸¸ã€‚</strong></p><p>ã€€ã€€ã€€ã€€æ‰€ä»¥éœ€è¦å…ƒç´ å®ç°Comparableæ¥å£ï¼Œå¼ºåˆ¶è®©å…ƒç´ å…·å¤‡æ¯”è¾ƒæ€§ï¼Œ<strong>å¤å†™compareToæ–¹æ³•</strong>ã€‚</p><p>ã€€ã€€ã€€ã€€ä¾æ®compareToæ–¹æ³•çš„è¿”å›å€¼ï¼Œç¡®å®šå…ƒç´ åœ¨TreeSetæ•°æ®ç»“æ„ä¸­çš„ä½ç½®ã€‚</p><p>ã€€ã€€ã€€ã€€<strong>TreeSetæ–¹æ³•ä¿è¯å…ƒç´ å”¯ä¸€æ€§çš„æ–¹å¼ï¼š</strong>å°±æ˜¯å‚è€ƒæ¯”è¾ƒæ–¹æ³•çš„ç»“æœæ˜¯å¦ä¸º0ï¼Œå¦‚æœreturn 0ï¼Œè§†ä¸ºä¸¤ä¸ªå¯¹è±¡é‡å¤ï¼Œä¸å­˜ã€‚</p><p>ã€€ã€€<strong>æ³¨æ„</strong>ï¼š<strong>åœ¨è¿›è¡Œæ¯”è¾ƒæ—¶ï¼Œå¦‚æœåˆ¤æ–­å…ƒç´ ä¸å”¯ä¸€ï¼Œæ¯”å¦‚ï¼ŒåŒå§“åï¼ŒåŒå¹´é¾„ï¼Œæ‰è§†ä¸ºåŒä¸€ä¸ªäººã€‚</strong></p><p>ã€€ã€€ã€€ã€€<strong>åœ¨åˆ¤æ–­æ—¶ï¼Œéœ€è¦åˆ†ä¸»è¦æ¡ä»¶å’Œæ¬¡è¦æ¡ä»¶ï¼Œå½“ä¸»è¦æ¡ä»¶ç›¸åŒæ—¶ï¼Œå†åˆ¤æ–­æ¬¡è¦æ¡ä»¶ï¼ŒæŒ‰ç…§æ¬¡è¦æ¡ä»¶æ’åºã€‚</strong></p><p>ã€€ã€€<strong>TreeSeté›†åˆæ’åºæœ‰ä¸¤ç§æ–¹å¼ï¼ŒComparableå’ŒComparatoråŒºåˆ«</strong>ï¼š</p><p>ã€€ã€€ã€€ã€€<strong>1ï¼šè®©å…ƒç´ è‡ªèº«å…·å¤‡æ¯”è¾ƒæ€§ï¼Œéœ€è¦å…ƒç´ å¯¹è±¡å®ç°Comparableæ¥å£ï¼Œè¦†ç›–compareToæ–¹æ³•ã€‚</strong></p><p>ã€€ã€€ã€€ã€€<strong>2ï¼šè®©é›†åˆè‡ªèº«å…·å¤‡æ¯”è¾ƒæ€§ï¼Œéœ€è¦å®šä¹‰ä¸€ä¸ªå®ç°äº†Comparatoræ¥å£çš„æ¯”è¾ƒå™¨ï¼Œå¹¶è¦†ç›–compareæ–¹æ³•ï¼Œå¹¶å°†è¯¥ç±»å¯¹è±¡ä½œä¸ºå®é™…å‚æ•°ä¼ é€’ç»™TreeSeté›†åˆçš„æ„é€ å‡½æ•°ã€‚</strong></p><p>ã€€ã€€ã€€ã€€<strong>ç¬¬äºŒç§æ–¹å¼è¾ƒä¸ºçµæ´»ã€‚</strong></p><p>â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”</p><p>ã€€ã€€<strong>Mapé›†åˆï¼š</strong></p><p>ã€€ã€€ã€€ã€€<strong>|â€”â€”Hashtable</strong>ï¼šåº•å±‚æ˜¯å“ˆå¸Œè¡¨æ•°æ®ç»“æ„ï¼Œæ˜¯çº¿ç¨‹åŒæ­¥çš„ã€‚ä¸å¯ä»¥å­˜å‚¨nullé”®ï¼Œnullå€¼ã€‚</p><p>ã€€ã€€ã€€ã€€<strong>|â€”â€”HashMap</strong>ï¼šåº•å±‚æ˜¯å“ˆå¸Œè¡¨æ•°æ®ç»“æ„ï¼Œæ˜¯çº¿ç¨‹ä¸åŒæ­¥çš„ã€‚å¯ä»¥å­˜å‚¨nullé”®ï¼Œnullå€¼ã€‚æ›¿ä»£äº†Hashtable.</p><p>ã€€ã€€ã€€ã€€<strong>|â€”â€”TreeMap</strong>ï¼šåº•å±‚æ˜¯äºŒå‰æ ‘ç»“æ„ï¼Œå¯ä»¥å¯¹mapé›†åˆä¸­çš„é”®è¿›è¡ŒæŒ‡å®šé¡ºåºçš„æ’åºã€‚</p><p>ã€€ã€€Mapé›†åˆå­˜å‚¨å’ŒCollectionæœ‰ç€å¾ˆå¤§ä¸åŒï¼š</p><p>ã€€ã€€ã€€ã€€Collectionä¸€æ¬¡å­˜ä¸€ä¸ªå…ƒç´ ï¼›Mapä¸€æ¬¡å­˜ä¸€å¯¹å…ƒç´ ã€‚</p><p>ã€€ã€€ã€€ã€€Collectionæ˜¯å•åˆ—é›†åˆï¼›Mapæ˜¯åŒåˆ—é›†åˆã€‚</p><p>ã€€ã€€ã€€ã€€Mapä¸­çš„å­˜å‚¨çš„ä¸€å¯¹å…ƒç´ ï¼šä¸€ä¸ªæ˜¯é”®ï¼Œä¸€ä¸ªæ˜¯å€¼ï¼Œé”®ä¸å€¼ä¹‹é—´æœ‰å¯¹åº”(æ˜ å°„)å…³ç³»ã€‚</p><p>ã€€ã€€ã€€ã€€<strong>ç‰¹ç‚¹ï¼šè¦ä¿è¯mapé›†åˆä¸­é”®çš„å”¯ä¸€æ€§ã€‚</strong></p><p>ã€€ã€€<strong>1ï¼Œæ·»åŠ ã€‚</strong></p><p>ã€€ã€€ã€€ã€€ <strong>put</strong>(key,value)ï¼šå½“å­˜å‚¨çš„é”®ç›¸åŒæ—¶ï¼Œæ–°çš„å€¼ä¼šæ›¿æ¢è€çš„å€¼ï¼Œå¹¶å°†è€å€¼è¿”å›ã€‚å¦‚æœé”®æ²¡æœ‰é‡å¤ï¼Œè¿”å›nullã€‚</p><p>ã€€ã€€ã€€ã€€void <strong>putAll</strong>(Map);</p><p>ã€€ã€€<strong>2ï¼Œåˆ é™¤ã€‚</strong></p><p>ã€€ã€€ã€€ã€€void <strong>clear</strong>()ï¼šæ¸…ç©º</p><p>ã€€ã€€ã€€ã€€value <strong>remove</strong>(key) ï¼šåˆ é™¤æŒ‡å®šé”®ã€‚</p><p>ã€€ã€€<strong>3ï¼Œåˆ¤æ–­ã€‚</strong></p><p>ã€€ã€€ã€€ã€€boolean <strong>isEmpty</strong>()ï¼š</p><p>ã€€ã€€ã€€ã€€boolean <strong>containsKey</strong>(key)ï¼šæ˜¯å¦åŒ…å«key</p><p>ã€€ã€€ã€€ã€€boolean <strong>containsValue</strong>(value) ï¼šæ˜¯å¦åŒ…å«value</p><p>ã€€ã€€<strong>4ï¼Œå–å‡ºã€‚</strong></p><p>ã€€ã€€ã€€ã€€int <strong>size</strong>()ï¼šè¿”å›é•¿åº¦</p><p>ã€€ã€€ã€€ã€€value <strong>get</strong>(key) ï¼šé€šè¿‡æŒ‡å®šé”®è·å–å¯¹åº”çš„å€¼ã€‚å¦‚æœè¿”å›nullï¼Œå¯ä»¥åˆ¤æ–­è¯¥é”®ä¸å­˜åœ¨ã€‚å½“ç„¶æœ‰ç‰¹æ®Šæƒ…å†µï¼Œå°±æ˜¯åœ¨hashmapé›†åˆä¸­ï¼Œæ˜¯å¯ä»¥å­˜å‚¨nullé”®nullå€¼çš„ã€‚</p><p>ã€€ã€€ã€€ã€€Collection <strong>values</strong>()ï¼š<strong>è·å–mapé›†åˆä¸­çš„æ‰€æœ‰çš„å€¼ã€‚</strong></p><p>ã€€ã€€<strong>5ï¼Œæƒ³è¦è·å–mapä¸­çš„æ‰€æœ‰å…ƒç´ ï¼š</strong></p><p>ã€€ã€€ã€€ã€€åŸç†ï¼šmapä¸­æ˜¯æ²¡æœ‰è¿­ä»£å™¨çš„ï¼Œcollectionå…·å¤‡è¿­ä»£å™¨ï¼Œåªè¦å°†mapé›†åˆè½¬æˆSeté›†åˆï¼Œå¯ä»¥ä½¿ç”¨è¿­ä»£å™¨äº†ã€‚ä¹‹æ‰€ä»¥è½¬æˆsetï¼Œæ˜¯å› ä¸ºmapé›†åˆå…·å¤‡ç€é”®çš„å”¯ä¸€æ€§ï¼Œå…¶å®seté›†åˆå°±æ¥è‡ªäºmapï¼Œseté›†åˆåº•å±‚å…¶å®ç”¨çš„å°±æ˜¯mapçš„æ–¹æ³•ã€‚</p><p><strong>â˜… æŠŠmapé›†åˆè½¬æˆsetçš„æ–¹æ³•ï¼š</strong></p><p>ã€€ã€€Set keySet();</p><p>ã€€ã€€Set entrySet();//å–çš„æ˜¯é”®å’Œå€¼çš„æ˜ å°„å…³ç³»ã€‚</p><p>ã€€ã€€ã€€Entryå°±æ˜¯Mapæ¥å£ä¸­çš„å†…éƒ¨æ¥å£ï¼›</p><p>ã€€ã€€ã€€ä¸ºä»€ä¹ˆè¦å®šä¹‰åœ¨mapå†…éƒ¨å‘¢ï¼Ÿentryæ˜¯è®¿é—®é”®å€¼å…³ç³»çš„å…¥å£ï¼Œæ˜¯mapçš„å…¥å£ï¼Œè®¿é—®çš„æ˜¯mapä¸­çš„é”®å€¼å¯¹ã€‚</p><p>â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”</p><p>ã€€ã€€<strong>å–å‡ºmapé›†åˆä¸­æ‰€æœ‰å…ƒç´ çš„æ–¹å¼ä¸€ï¼škeySet()æ–¹æ³•ã€‚</strong></p><p>ã€€ã€€ã€€ã€€å¯ä»¥å°†mapé›†åˆä¸­çš„é”®éƒ½å–å‡ºå­˜æ”¾åˆ°seté›†åˆä¸­ã€‚å¯¹seté›†åˆè¿›è¡Œè¿­ä»£ã€‚è¿­ä»£å®Œæˆï¼Œå†é€šè¿‡getæ–¹æ³•å¯¹è·å–åˆ°çš„é”®è¿›è¡Œå€¼çš„è·å–ã€‚</p><p>ã€€ã€€ã€€ã€€ã€€ã€€Set keySet = map.keySet();</p><p>ã€€ã€€ã€€ã€€ã€€ã€€Iterator it = keySet.iterator();</p><p>ã€€ã€€ã€€ã€€ã€€ã€€while(it.hasNext()) {</p><p>ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€Object key = it.next();</p><p>ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€Object value = map.get(key);</p><p>ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€System.out.println(key+â€:â€+value);</p><p>ã€€ã€€ã€€ã€€ã€€ã€€}</p><p>â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”</p><p>ã€€ã€€<strong>å–å‡ºmapé›†åˆä¸­æ‰€æœ‰å…ƒç´ çš„æ–¹å¼äºŒï¼šentrySet()æ–¹æ³•ã€‚</strong></p><p>ã€€ã€€ã€€ã€€ã€€ã€€Set entrySet = map.entrySet();</p><p>ã€€ã€€ã€€ã€€ã€€ã€€Iterator it = entrySet.iterator();</p><p>ã€€ã€€ã€€ã€€ã€€ã€€while(it.hasNext()) {</p><p>ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€Map.Entry me = (Map.Entry)it.next();</p><p>ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€System.out.println(me.getKey()+â€::::â€+me.getValue());</p><p>ã€€ã€€ã€€ã€€ã€€ã€€}</p><p>â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”</p><p>ã€€ã€€<strong>ä½¿ç”¨é›†åˆçš„æŠ€å·§ï¼š</strong></p><p>ã€€ã€€ã€€ã€€çœ‹åˆ°Arrayå°±æ˜¯æ•°ç»„ç»“æ„ï¼Œæœ‰è§’æ ‡ï¼ŒæŸ¥è¯¢é€Ÿåº¦å¾ˆå¿«ã€‚</p><p>ã€€ã€€ã€€ã€€çœ‹åˆ°linkå°±æ˜¯é“¾è¡¨ç»“æ„ï¼šå¢åˆ é€Ÿåº¦å¿«ï¼Œè€Œä¸”æœ‰ç‰¹æœ‰æ–¹æ³•ã€‚addFirstï¼› addLastï¼› removeFirst()ï¼› removeLast()ï¼› getFirst()ï¼›getLast()ï¼›</p><p>ã€€ã€€ã€€ã€€çœ‹åˆ°hashå°±æ˜¯å“ˆå¸Œè¡¨ï¼Œå°±è¦æƒ³è¦å“ˆå¸Œå€¼ï¼Œå°±è¦æƒ³åˆ°å”¯ä¸€æ€§ï¼Œå°±è¦æƒ³åˆ°å­˜å…¥åˆ°è¯¥ç»“æ„çš„ä¸­çš„å…ƒç´ å¿…é¡»è¦†ç›–hashCodeï¼Œequalsæ–¹æ³•ã€‚</p><p>ã€€ã€€ã€€ã€€çœ‹åˆ°treeå°±æ˜¯äºŒå‰æ ‘ï¼Œå°±è¦æƒ³åˆ°æ’åºï¼Œå°±æƒ³è¦ç”¨åˆ°æ¯”è¾ƒã€‚</p><p>ã€€ã€€<strong>æ¯”è¾ƒçš„ä¸¤ç§æ–¹å¼ï¼š</strong></p><p>ã€€ã€€ã€€ã€€<strong>ä¸€ä¸ªæ˜¯Comparableï¼šè¦†ç›–compareToæ–¹æ³•ï¼›</strong></p><p>ã€€ã€€ã€€ã€€<strong>ä¸€ä¸ªæ˜¯Comparatorï¼šè¦†ç›–compareæ–¹æ³•ã€‚</strong></p><p>ã€€ã€€LinkedHashSetï¼ŒLinkedHashMap:è¿™ä¸¤ä¸ªé›†åˆå¯ä»¥ä¿è¯å“ˆå¸Œè¡¨æœ‰å­˜å…¥é¡ºåºå’Œå–å‡ºé¡ºåºä¸€è‡´ï¼Œä¿è¯å“ˆå¸Œè¡¨æœ‰åºã€‚</p><p>ã€€ã€€<strong>é›†åˆä»€ä¹ˆæ—¶å€™ç”¨ï¼Ÿ</strong></p><p>ã€€ã€€ã€€ã€€å½“å­˜å‚¨çš„æ˜¯ä¸€ä¸ªå…ƒç´ æ—¶ï¼Œå°±ç”¨Collectionã€‚å½“å­˜å‚¨å¯¹è±¡ä¹‹é—´å­˜åœ¨ç€æ˜ å°„å…³ç³»æ—¶ï¼Œå°±ä½¿ç”¨Mapé›†åˆã€‚</p><p>ã€€ã€€<strong>ä¿è¯å”¯ä¸€ï¼Œå°±ç”¨Setã€‚ä¸ä¿è¯å”¯ä¸€ï¼Œå°±ç”¨Listã€‚</strong></p><p>â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”</p><p>ã€€ã€€<strong>Collections</strong>ï¼š<strong>å®ƒçš„å‡ºç°ç»™é›†åˆæ“ä½œæä¾›äº†æ›´å¤šçš„åŠŸèƒ½ã€‚è¿™ä¸ªç±»ä¸éœ€è¦åˆ›å»ºå¯¹è±¡ï¼Œå†…éƒ¨æä¾›çš„éƒ½æ˜¯é™æ€æ–¹æ³•ã€‚</strong></p><p>ã€€ã€€<strong>é™æ€æ–¹æ³•ï¼š</strong></p><p>ã€€ã€€ã€€ã€€Collections.<strong>sort</strong>(list);//listé›†åˆè¿›è¡Œå…ƒç´ çš„è‡ªç„¶é¡ºåºæ’åºã€‚</p><p>ã€€ã€€ã€€ã€€Collections.sort(list,new ComparatorByLen());//æŒ‰æŒ‡å®šçš„æ¯”è¾ƒå™¨æ–¹æ³•æ’åºã€‚</p><p>ã€€ã€€ã€€ã€€class ComparatorByLen implements Comparator<string>{</string></p><p>ã€€ã€€ã€€ã€€ã€€ã€€public int compare(String s1,String s2){</p><p>ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€int temp = s1.length()â€”s2.length();</p><p>ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€return temp==0?s1.compareTo(s2):temp;</p><p>ã€€ã€€ã€€ã€€ã€€ã€€}</p><p>ã€€ã€€ã€€ã€€}</p><p>ã€€ã€€ã€€ã€€Collections.<strong>max</strong>(list); //è¿”å›listä¸­å­—å…¸é¡ºåºæœ€å¤§çš„å…ƒç´ ã€‚</p><p>ã€€ã€€ã€€ã€€int index = Collections.<strong>binarySearch</strong>(list,â€zzâ€);//äºŒåˆ†æŸ¥æ‰¾ï¼Œè¿”å›è§’æ ‡ã€‚</p><p>ã€€ã€€ã€€ã€€Collections.<strong>reverseOrder</strong>();//é€†å‘åè½¬æ’åºã€‚</p><p>ã€€ã€€ã€€ã€€Collections.<strong>shuffle</strong>(list);//éšæœºå¯¹listä¸­çš„å…ƒç´ è¿›è¡Œä½ç½®çš„ç½®æ¢ã€‚</p><p>ã€€ã€€ã€€<strong>å°†éåŒæ­¥é›†åˆè½¬æˆåŒæ­¥é›†åˆçš„æ–¹æ³•</strong>ï¼š<strong>Collectionsä¸­çš„</strong> XXX synchronizedXXX(XXX);</p><p>ã€€ã€€ã€€ã€€List synchronizedList(list);</p><p>ã€€ã€€ã€€ã€€Map synchronizedMap(map);</p><p>ã€€ã€€ã€€ã€€<strong>åŸç†ï¼šå®šä¹‰ä¸€ä¸ªç±»ï¼Œå°†é›†åˆæ‰€æœ‰çš„æ–¹æ³•åŠ åŒä¸€æŠŠé”åè¿”å›ã€‚</strong></p><p>ã€€ã€€<strong>Collection å’Œ Collectionsçš„åŒºåˆ«ï¼š</strong></p><p>ã€€ã€€ã€€ã€€Collectionsæ˜¯ä¸ªjava.utilä¸‹çš„ç±»ï¼Œæ˜¯é’ˆå¯¹é›†åˆç±»çš„ä¸€ä¸ªå·¥å…·ç±»,æä¾›ä¸€ç³»åˆ—é™æ€æ–¹æ³•,å®ç°å¯¹é›†åˆçš„æŸ¥æ‰¾ã€æ’åºã€æ›¿æ¢ã€çº¿ç¨‹å®‰å…¨åŒ–ï¼ˆå°†éåŒæ­¥çš„é›†åˆè½¬æ¢æˆåŒæ­¥çš„ï¼‰ç­‰æ“ä½œã€‚</p><p>ã€€ã€€ã€€ã€€Collectionæ˜¯ä¸ªjava.utilä¸‹çš„æ¥å£ï¼Œå®ƒæ˜¯å„ç§é›†åˆç»“æ„çš„çˆ¶æ¥å£ï¼Œç»§æ‰¿äºå®ƒçš„æ¥å£ä¸»è¦æœ‰Setå’ŒList,æä¾›äº†å…³äºé›†åˆçš„ä¸€äº›æ“ä½œ,å¦‚æ’å…¥ã€åˆ é™¤ã€åˆ¤æ–­ä¸€ä¸ªå…ƒç´ æ˜¯å¦å…¶æˆå‘˜ã€éå†ç­‰ã€‚</p><p>â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”</p><p>ã€€ã€€<strong>Arraysï¼š</strong></p><p>ã€€ã€€ã€€ã€€ç”¨äºæ“ä½œæ•°ç»„å¯¹è±¡çš„å·¥å…·ç±»ï¼Œé‡Œé¢éƒ½æ˜¯é™æ€æ–¹æ³•ã€‚</p><p>ã€€ã€€ã€€ã€€<strong>asListæ–¹æ³•</strong>ï¼š<strong>å°†æ•°ç»„è½¬æ¢æˆlisté›†åˆã€‚</strong></p><p>ã€€ã€€ã€€ã€€String[] arr = {â€œabcâ€,â€kkâ€,â€qqâ€};</p><p>ã€€ã€€ã€€ã€€List<string> list = Arrays.asList(arr);//å°†arræ•°ç»„è½¬æˆlisté›†åˆã€‚</string></p><p>ã€€ã€€ã€€ã€€<strong>å°†æ•°ç»„è½¬æ¢æˆé›†åˆï¼Œæœ‰ä»€ä¹ˆå¥½å¤„å‘¢ï¼Ÿç”¨aslistæ–¹æ³•ï¼Œå°†æ•°ç»„å˜æˆé›†åˆï¼›</strong></p><p>ã€€ã€€ã€€ã€€å¯ä»¥é€šè¿‡listé›†åˆä¸­çš„æ–¹æ³•æ¥æ“ä½œæ•°ç»„ä¸­çš„å…ƒç´ ï¼šisEmpty()ã€containsã€indexOfã€setï¼› </p><p>ã€€ã€€ã€€ã€€<strong>æ³¨æ„ï¼ˆå±€é™æ€§ï¼‰</strong>ï¼šæ•°ç»„æ˜¯å›ºå®šé•¿åº¦ï¼Œä¸å¯ä»¥ä½¿ç”¨é›†åˆå¯¹è±¡å¢åŠ æˆ–è€…åˆ é™¤ç­‰ï¼Œä¼šæ”¹å˜æ•°ç»„é•¿åº¦çš„åŠŸèƒ½æ–¹æ³•ã€‚æ¯”å¦‚addã€removeã€clearã€‚ï¼ˆä¼šæŠ¥ä¸æ”¯æŒæ“ä½œå¼‚å¸¸UnsupportedOperationExceptionï¼‰ï¼›</p><p>ã€€ã€€ã€€ã€€å¦‚æœæ•°ç»„ä¸­å­˜å‚¨çš„å¼•ç”¨æ•°æ®ç±»å‹ï¼Œç›´æ¥ä½œä¸ºé›†åˆçš„å…ƒç´ å¯ä»¥ç›´æ¥ç”¨é›†åˆæ–¹æ³•æ“ä½œã€‚</p><p>ã€€ã€€ã€€ã€€<strong>å¦‚æœæ•°ç»„ä¸­å­˜å‚¨çš„æ˜¯åŸºæœ¬æ•°æ®ç±»å‹ï¼ŒasListä¼šå°†æ•°ç»„å®ä½“ä½œä¸ºé›†åˆå…ƒç´ å­˜åœ¨ã€‚</strong></p><p>ã€€ã€€<strong>é›†åˆå˜æ•°ç»„</strong>ï¼šç”¨çš„æ˜¯Collectionæ¥å£ä¸­çš„æ–¹æ³•ï¼š<strong>toArray();</strong></p><p>ã€€ã€€ã€€ã€€å¦‚æœç»™toArrayä¼ é€’çš„æŒ‡å®šç±»å‹çš„æ•°æ®é•¿åº¦å°äºäº†é›†åˆçš„sizeï¼Œé‚£ä¹ˆtoArrayæ–¹æ³•ï¼Œä¼šè‡ªå®šå†åˆ›å»ºä¸€ä¸ªè¯¥ç±»å‹çš„æ•°æ®ï¼Œé•¿åº¦ä¸ºé›†åˆçš„sizeã€‚</p><p>ã€€ã€€ã€€ã€€å¦‚æœä¼ é€’çš„æŒ‡å®šçš„ç±»å‹çš„æ•°ç»„çš„é•¿åº¦å¤§äºäº†é›†åˆçš„sizeï¼Œé‚£ä¹ˆtoArrayæ–¹æ³•ï¼Œå°±ä¸ä¼šåˆ›å»ºæ–°æ•°ç»„ï¼Œç›´æ¥ä½¿ç”¨è¯¥æ•°ç»„å³å¯ï¼Œå¹¶å°†é›†åˆä¸­çš„å…ƒç´ å­˜å‚¨åˆ°æ•°ç»„ä¸­ï¼Œå…¶ä»–ä¸ºå­˜å‚¨å…ƒç´ çš„ä½ç½®é»˜è®¤å€¼nullã€‚</p><p>ã€€ã€€ã€€ã€€æ‰€ä»¥ï¼Œåœ¨ä¼ é€’æŒ‡å®šç±»å‹æ•°ç»„æ—¶ï¼Œæœ€å¥½çš„æ–¹å¼å°±æ˜¯æŒ‡å®šçš„é•¿åº¦å’Œsizeç›¸ç­‰çš„æ•°ç»„ã€‚</p><p>ã€€ã€€ã€€<strong>å°†é›†åˆå˜æˆæ•°ç»„åæœ‰ä»€ä¹ˆå¥½å¤„ï¼Ÿ</strong>é™å®šäº†å¯¹é›†åˆä¸­çš„å…ƒç´ è¿›è¡Œå¢åˆ æ“ä½œï¼Œåªè¦è·å–è¿™äº›å…ƒç´ å³å¯ã€‚</p><p>â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”</p><p>ã€€ã€€<strong>Jdk5.0æ–°ç‰¹æ€§ï¼š</strong></p><p>ã€€ã€€Collectionåœ¨jdk1.5ä»¥åï¼Œæœ‰äº†ä¸€ä¸ªçˆ¶æ¥å£Iterableï¼Œè¿™ä¸ªæ¥å£çš„å‡ºç°çš„å°†iteratoræ–¹æ³•è¿›è¡ŒæŠ½å–ï¼Œæé«˜äº†æ‰©å±•æ€§ã€‚</p><p>â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”</p><p>ã€€ã€€<strong>å¢å¼ºforå¾ªç¯</strong>ï¼š<strong>foreachè¯­å¥</strong>ï¼Œforeachç®€åŒ–äº†è¿­ä»£å™¨ã€‚</p><p>ã€€ã€€ã€€ã€€æ ¼å¼ï¼š// å¢å¼ºforå¾ªç¯æ‹¬å·é‡Œå†™ä¸¤ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªæ˜¯å£°æ˜ä¸€ä¸ªå˜é‡ï¼Œç¬¬äºŒä¸ªå°±æ˜¯éœ€è¦è¿­ä»£çš„å®¹å™¨</p><p>ã€€ã€€ã€€ã€€<strong>for( å…ƒç´ ç±»å‹ å˜é‡å : Collectioné›†åˆ &amp; æ•°ç»„ ) {</strong></p><p>ã€€ã€€ã€€ã€€ã€€ã€€<strong>â€¦</strong></p><p>ã€€ã€€ã€€ã€€<strong>}</strong></p><p>ã€€ã€€<strong>é«˜çº§forå¾ªç¯å’Œä¼ ç»Ÿforå¾ªç¯çš„åŒºåˆ«ï¼š</strong></p><p>ã€€ã€€ã€€ã€€é«˜çº§forå¾ªç¯åœ¨ä½¿ç”¨æ—¶ï¼Œå¿…é¡»è¦æ˜ç¡®è¢«éå†çš„ç›®æ ‡ã€‚è¿™ä¸ªç›®æ ‡ï¼Œå¯ä»¥æ˜¯Collectioné›†åˆæˆ–è€…æ•°ç»„ï¼Œå¦‚æœéå†Collectioné›†åˆï¼Œåœ¨éå†è¿‡ç¨‹ä¸­è¿˜éœ€è¦å¯¹å…ƒç´ è¿›è¡Œæ“ä½œï¼Œæ¯”å¦‚åˆ é™¤ï¼Œ<strong>éœ€è¦ä½¿ç”¨è¿­ä»£å™¨ã€‚</strong></p><p>ã€€ã€€ã€€ã€€å¦‚æœéå†æ•°ç»„ï¼Œè¿˜éœ€è¦å¯¹æ•°ç»„å…ƒç´ è¿›è¡Œæ“ä½œï¼Œå»ºè®®ç”¨ä¼ ç»Ÿforå¾ªç¯å› ä¸ºå¯ä»¥å®šä¹‰è§’æ ‡é€šè¿‡è§’æ ‡æ“ä½œå…ƒç´ ã€‚å¦‚æœåªä¸ºéå†è·å–ï¼Œå¯ä»¥ç®€åŒ–æˆé«˜çº§forå¾ªç¯ï¼Œå®ƒçš„å‡ºç°ä¸ºäº†ç®€åŒ–ä¹¦å†™ã€‚</p><p>ã€€ã€€<strong>é«˜çº§forå¾ªç¯å¯ä»¥éå†mapé›†åˆå—ï¼Ÿ</strong>ä¸å¯ä»¥ã€‚ä½†æ˜¯å¯ä»¥å°†mapè½¬æˆsetåå†ä½¿ç”¨foreachè¯­å¥ã€‚</p><p>ã€€ã€€<strong>1)ã€ä½œç”¨</strong>ï¼šå¯¹å­˜å‚¨å¯¹è±¡çš„å®¹å™¨è¿›è¡Œè¿­ä»£ï¼š æ•°ç»„ collection  map</p><p>ã€€ã€€<strong>2)ã€å¢å¼ºforå¾ªç¯è¿­ä»£æ•°ç»„</strong>ï¼š</p><p>ã€€ã€€ã€€ã€€String [] arr = {â€œaâ€, â€œbâ€, â€œcâ€};//æ•°ç»„çš„é™æ€å®šä¹‰æ–¹å¼ï¼Œåªè¯•ç”¨äºæ•°ç»„é¦–æ¬¡å®šä¹‰çš„æ—¶å€™</p><p>ã€€ã€€ã€€ã€€for(String s : arr) {</p><p>ã€€ã€€ã€€ã€€ã€€ã€€System.out.println(s);</p><p>ã€€ã€€ã€€ã€€}</p><p>ã€€ã€€<strong>3)ã€å•åˆ—é›†åˆ Collectionï¼š</strong></p><p>ã€€ã€€ã€€ã€€List list = new ArrayList();</p><p>ã€€ã€€ã€€ã€€list.add(â€œaaaâ€);</p><p>ã€€ã€€ã€€ã€€// å¢å¼ºforå¾ªç¯, æ²¡æœ‰ä½¿ç”¨æ³›å‹çš„é›†åˆèƒ½ä¸èƒ½ä½¿ç”¨å¢å¼ºforå¾ªç¯è¿­ä»£ï¼Ÿèƒ½</p><p>ã€€ã€€ã€€ã€€for(Object obj : list) {</p><p>ã€€ã€€ã€€ã€€ã€€ã€€String s = (String) obj;</p><p>ã€€ã€€ã€€ã€€ã€€ã€€System.out.println(s);</p><p>ã€€ã€€ã€€ã€€}</p><p>ã€€ã€€<strong>4)ã€åŒåˆ—é›†åˆ Mapï¼š</strong></p><p>ã€€ã€€ã€€ã€€Map map = new HashMap();</p><p>ã€€ã€€ã€€ã€€map.put(â€œaâ€, â€œaaaâ€);</p><p>ã€€ã€€ã€€ã€€<strong>// ä¼ ç»Ÿæ–¹å¼ï¼šå¿…é¡»æŒæ¡è¿™ç§æ–¹å¼</strong></p><p>ã€€ã€€ã€€ã€€Set entrys = map.entrySet(); // 1.è·å¾—æ‰€æœ‰çš„é”®å€¼å¯¹Entryå¯¹è±¡</p><p>ã€€ã€€ã€€ã€€iter = entrys.iterator(); // 2.è¿­ä»£å‡ºæ‰€æœ‰çš„entry</p><p>ã€€ã€€ã€€ã€€while(iter.hasNext()) {</p><p>ã€€ã€€ã€€ã€€ã€€ã€€Map.Entry entry = (Entry) iter.next();</p><p>ã€€ã€€ã€€ã€€ã€€ã€€String key = (String) entry.getKey(); // åˆ†åˆ«è·å¾—keyå’Œvalue</p><p>ã€€ã€€ã€€ã€€ã€€ã€€String value = (String) entry.getValue();</p><p>ã€€ã€€ã€€ã€€ã€€ã€€System.out.println(key + â€œ=â€ + value);</p><p>ã€€ã€€ã€€ã€€}</p><p>ã€€ã€€ã€€ã€€<strong>// å¢å¼ºforå¾ªç¯è¿­ä»£</strong>ï¼šåŸåˆ™ä¸Šmapé›†åˆæ˜¯æ— æ³•ä½¿ç”¨å¢å¼ºforå¾ªç¯æ¥è¿­ä»£çš„ï¼Œå› ä¸ºå¢å¼ºforå¾ªç¯åªèƒ½é’ˆå¯¹å®ç°äº†Iterableæ¥å£çš„é›†åˆè¿›è¡Œè¿­ä»£ï¼›Iterableæ˜¯jdk5ä¸­æ–°å®šä¹‰çš„æ¥å£ï¼Œå°±ä¸€ä¸ªæ–¹æ³•iteratoræ–¹æ³•ï¼Œåªæœ‰å®ç°äº†Iterableæ¥å£çš„ç±»ï¼Œæ‰èƒ½ä¿è¯ä¸€å®šæœ‰iteratoræ–¹æ³•ï¼Œjavaæœ‰è¿™æ ·çš„é™å®šæ˜¯å› ä¸ºå¢å¼ºforå¾ªç¯å†…éƒ¨è¿˜æ˜¯ç”¨è¿­ä»£å™¨å®ç°çš„ï¼Œè€Œå®é™…ä¸Šï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡æŸç§æ–¹å¼æ¥ä½¿ç”¨å¢å¼ºforå¾ªç¯ã€‚</p><p>ã€€ã€€ã€€ã€€<strong>for(Object obj : map.entrySet()) {</strong></p><p>ã€€ã€€ã€€ã€€ã€€ã€€<strong>Map.Entry entry = (Entry) obj; // obj ä¾æ¬¡è¡¨ç¤ºEntry</strong></p><p>ã€€ã€€ã€€ã€€ã€€ã€€<strong>System.out.println(entry.getKey() + â€œ=â€ + entry.getValue());</strong></p><p>ã€€ã€€ã€€ã€€<strong>}</strong></p><p>ã€€ã€€<strong>5ï¼‰ã€é›†åˆè¿­ä»£æ³¨æ„é—®é¢˜ï¼šåœ¨è¿­ä»£é›†åˆçš„è¿‡ç¨‹ä¸­ï¼Œä¸èƒ½å¯¹é›†åˆè¿›è¡Œå¢åˆ æ“ä½œï¼ˆä¼šæŠ¥å¹¶å‘è®¿é—®å¼‚å¸¸ï¼‰ï¼›å¯ä»¥ç”¨è¿­ä»£å™¨çš„æ–¹æ³•è¿›è¡Œæ“ä½œï¼ˆå­ç±»listIteratorï¼šæœ‰å¢åˆ çš„æ–¹æ³•ï¼‰ã€‚</strong></p><p>ã€€ã€€<strong>6)ã€å¢å¼ºforå¾ªç¯æ³¨æ„é—®é¢˜ï¼šåœ¨ä½¿ç”¨å¢å¼ºforå¾ªç¯æ—¶ï¼Œä¸èƒ½å¯¹å…ƒç´ è¿›è¡Œèµ‹å€¼ï¼›</strong></p><p>ã€€ã€€ã€€ã€€int[] arr = {1,2,3};</p><p>ã€€ã€€ã€€ã€€for(int num : arr) {</p><p>ã€€ã€€ã€€ã€€ã€€ã€€num = 0; //ä¸èƒ½æ”¹å˜æ•°ç»„çš„å€¼</p><p>ã€€ã€€ã€€ã€€}</p><p>ã€€ã€€ã€€ã€€System.out.println(arr[1]); //2</p><p>â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”</p><p>ã€€ã€€<strong>å¯å˜å‚æ•°ï¼ˆâ€¦ï¼‰</strong>ï¼šç”¨åˆ°å‡½æ•°çš„å‚æ•°ä¸Šï¼Œå½“è¦æ“ä½œçš„åŒä¸€ä¸ªç±»å‹å…ƒç´ ä¸ªæ•°ä¸ç¡®å®šçš„æ—¶å€™ï¼Œå¯æ˜¯ç”¨è¿™ä¸ªæ–¹å¼ï¼Œè¿™ä¸ªå‚æ•°å¯ä»¥æ¥å—ä»»æ„ä¸ªæ•°çš„åŒä¸€ç±»å‹çš„æ•°æ®ã€‚</p><p>ã€€ã€€<strong>å’Œä»¥å‰æ¥æ”¶æ•°ç»„ä¸ä¸€æ ·çš„æ˜¯</strong>ï¼š</p><p>ã€€ã€€ã€€ã€€ä»¥å‰å®šä¹‰æ•°ç»„ç±»å‹ï¼Œéœ€è¦å…ˆåˆ›å»ºä¸€ä¸ªæ•°ç»„å¯¹è±¡ï¼Œå†å°†è¿™ä¸ªæ•°ç»„å¯¹è±¡ä½œä¸ºå‚æ•°ä¼ é€’ç»™å‡½æ•°ã€‚ç°åœ¨ï¼Œç›´æ¥å°†æ•°ç»„ä¸­çš„å…ƒç´ ä½œä¸ºå‚æ•°ä¼ é€’å³å¯ã€‚åº•å±‚å…¶å®æ˜¯å°†è¿™äº›å…ƒç´ è¿›è¡Œæ•°ç»„çš„å°è£…ï¼Œè€Œè¿™ä¸ªå°è£…åŠ¨ä½œï¼Œæ˜¯åœ¨åº•å±‚å®Œæˆçš„ï¼Œè¢«éšè—äº†ã€‚æ‰€ä»¥ç®€åŒ–äº†ç”¨æˆ·çš„ä¹¦å†™ï¼Œå°‘äº†è°ƒç”¨è€…å®šä¹‰æ•°ç»„çš„åŠ¨ä½œã€‚</p><p>ã€€ã€€ã€€ã€€å¦‚æœåœ¨å‚æ•°åˆ—è¡¨ä¸­ä½¿ç”¨äº†å¯å˜å‚æ•°ï¼Œ<strong>å¯å˜å‚æ•°å¿…é¡»å®šä¹‰åœ¨å‚æ•°åˆ—è¡¨ç»“å°¾(ä¹Ÿå°±æ˜¯å¿…é¡»æ˜¯æœ€åä¸€ä¸ªå‚æ•°ï¼Œå¦åˆ™ç¼–è¯‘ä¼šå¤±è´¥ã€‚)ã€‚</strong></p><p>ã€€ã€€ã€€ã€€å¦‚æœè¦è·å–å¤šä¸ªintæ•°çš„å’Œå‘¢ï¼Ÿå¯ä»¥ä½¿ç”¨å°†å¤šä¸ªintæ•°å°è£…åˆ°æ•°ç»„ä¸­ï¼Œç›´æ¥å¯¹æ•°ç»„æ±‚å’Œå³å¯ã€‚</p><p>â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”</p><p>ã€€ã€€<strong>é™æ€å¯¼å…¥</strong>ï¼šå¯¼å…¥äº†ç±»ä¸­çš„æ‰€æœ‰é™æ€æˆå‘˜ï¼Œç®€åŒ–é™æ€æˆå‘˜çš„ä¹¦å†™ã€‚</p><p>ã€€ã€€ã€€ã€€import static java.util.Collections.*; //å¯¼å…¥äº†Collectionsç±»ä¸­çš„æ‰€æœ‰é™æ€æˆå‘˜</p><p>â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”</p><p>ã€€ã€€<strong>æšä¸¾ï¼šå…³é”®å­— enum</strong></p><p>ã€€ã€€ã€€ã€€<strong>é—®é¢˜ï¼šå¯¹è±¡çš„æŸä¸ªå±æ€§çš„å€¼ä¸èƒ½æ˜¯ä»»æ„çš„ï¼Œå¿…é¡»ä¸ºå›ºå®šçš„ä¸€ç»„å–å€¼å…¶ä¸­çš„æŸä¸€ä¸ªï¼›</strong></p><p>ã€€ã€€è§£å†³åŠæ³•ï¼š</p><p>ã€€ã€€ã€€ã€€1ï¼‰ã€åœ¨setGradeæ–¹æ³•ä¸­åšåˆ¤æ–­ï¼Œä¸ç¬¦åˆæ ¼å¼è¦æ±‚å°±æŠ›å‡ºå¼‚å¸¸ï¼›</p><p>ã€€ã€€ã€€ã€€2ï¼‰ã€ç›´æ¥é™å®šç”¨æˆ·çš„é€‰æ‹©ï¼Œé€šè¿‡è‡ªå®šä¹‰ç±»æ¨¡æ‹Ÿæšä¸¾çš„æ–¹å¼æ¥é™å®šç”¨æˆ·çš„è¾“å…¥ï¼Œå†™ä¸€ä¸ªGradeç±»ï¼Œç§æœ‰æ„é€ å‡½æ•°ï¼Œå¯¹å¤–æä¾›5ä¸ªé™æ€çš„å¸¸é‡è¡¨ç¤ºç±»çš„å®ä¾‹ï¼›</p><p>ã€€ã€€ã€€ã€€3)ã€jdk5ä¸­æ–°å®šä¹‰äº†æšä¸¾ç±»å‹ï¼Œä¸“é—¨ç”¨äºè§£å†³æ­¤ç±»é—®é¢˜ï¼›</p><p>ã€€ã€€ã€€ã€€4)ã€æšä¸¾å°±æ˜¯ä¸€ä¸ªç‰¹æ®Šçš„javaç±»ï¼Œå¯ä»¥å®šä¹‰å±æ€§ã€æ–¹æ³•ã€æ„é€ å‡½æ•°ã€å®ç°æ¥å£ã€ç»§æ‰¿ç±»ï¼›</p><p>â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”</p><p>ã€€ã€€<strong>è‡ªåŠ¨æ‹†è£…ç®±</strong>ï¼šjavaä¸­æ•°æ®ç±»å‹åˆ†ä¸ºä¸¤ç§ ï¼š åŸºæœ¬æ•°æ®ç±»å‹  å¼•ç”¨æ•°æ®ç±»å‹(å¯¹è±¡)</p><p>ã€€ã€€ã€€ã€€åœ¨ javaç¨‹åºä¸­æ‰€æœ‰çš„æ•°æ®éƒ½éœ€è¦å½“åšå¯¹è±¡æ¥å¤„ç†ï¼Œé’ˆå¯¹8ç§åŸºæœ¬æ•°æ®ç±»å‹æä¾›äº†åŒ…è£…ç±»ï¼Œå¦‚ä¸‹ï¼š</p><p>ã€€ã€€ã€€ã€€ã€€ã€€int â€”â€”&gt; Integer</p><p>ã€€ã€€ã€€ã€€ã€€ã€€byte â€”â€”&gt; Byte</p><p>ã€€ã€€ã€€ã€€ã€€ã€€short â€”â€”&gt; Short</p><p>ã€€ã€€ã€€ã€€ã€€ã€€long â€”â€”&gt; Long</p><p>ã€€ã€€ã€€ã€€ã€€ã€€char â€”â€”&gt; Character</p><p>ã€€ã€€ã€€ã€€ã€€ã€€double â€”â€”&gt; Double</p><p>ã€€ã€€ã€€ã€€ã€€ã€€float â€”â€”&gt; Float</p><p>ã€€ã€€ã€€ã€€ã€€ã€€boolean â€”â€”&gt; Boolean</p><p>ã€€ã€€jdk5ä»¥å‰åŸºæœ¬æ•°æ®ç±»å‹å’ŒåŒ…è£…ç±»ä¹‹é—´éœ€è¦äº’è½¬ï¼š</p><p>ã€€ã€€ã€€ã€€åŸºæœ¬â€”â€”â€”å¼•ç”¨  Integer x = new Integer(x);</p><p>ã€€ã€€ã€€ã€€å¼•ç”¨â€”â€”â€”åŸºæœ¬  int num = x.intValue();</p><p>ã€€ã€€ã€€ã€€ã€€ã€€1)ã€Integer x = 1; x = x + 1; ç»å†äº†ä»€ä¹ˆè¿‡ç¨‹ï¼Ÿ<strong>è£…ç®± â€”â€”&gt; æ‹†ç®±â€”â€”&gt; è£…ç®±ï¼›</strong></p><p>ã€€ã€€ã€€ã€€ã€€ã€€2)ã€ä¸ºäº†ä¼˜åŒ–ï¼Œè™šæ‹Ÿæœºä¸ºåŒ…è£…ç±»æä¾›äº†ç¼“å†²æ± ï¼Œ<strong>Integeræ± çš„å¤§å° â€”128~127 ä¸€ä¸ªå­—èŠ‚çš„å¤§å°ï¼›</strong></p><p>ã€€ã€€ã€€ã€€ã€€ã€€3)ã€<strong>String**</strong>æ± **ï¼šJavaä¸ºäº†ä¼˜åŒ–å­—ç¬¦ä¸²æ“ä½œ æä¾›äº†ä¸€ä¸ªç¼“å†²æ± ï¼›</p><p>â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”</p><p>ã€€ã€€<strong>æ³›å‹ï¼š</strong>jdk1.5ç‰ˆæœ¬ä»¥åå‡ºç°çš„ä¸€ä¸ªå®‰å…¨æœºåˆ¶ã€‚è¡¨ç°æ ¼å¼ï¼š&lt; &gt;</p><p>ã€€ã€€å¥½å¤„ï¼š</p><p>ã€€ã€€ã€€ã€€1ï¼šå°†è¿è¡Œæ—¶æœŸçš„é—®é¢˜ClassCastExceptioné—®é¢˜è½¬æ¢æˆäº†ç¼–è¯‘å¤±è´¥ï¼Œä½“ç°åœ¨ç¼–è¯‘æ—¶æœŸï¼Œç¨‹åºå‘˜å°±å¯ä»¥è§£å†³é—®é¢˜ã€‚</p><p>ã€€ã€€ã€€ã€€2ï¼šé¿å…äº†å¼ºåˆ¶è½¬æ¢çš„éº»çƒ¦ã€‚</p><p>ã€€ã€€åªè¦å¸¦æœ‰&lt;&gt;çš„ç±»æˆ–è€…æ¥å£ï¼Œéƒ½å±äºå¸¦æœ‰ç±»å‹å‚æ•°çš„ç±»æˆ–è€…æ¥å£ï¼Œåœ¨ä½¿ç”¨è¿™äº›ç±»æˆ–è€…æ¥å£æ—¶ï¼Œå¿…é¡»ç»™&lt;&gt;ä¸­ä¼ é€’ä¸€ä¸ªå…·ä½“çš„å¼•ç”¨æ•°æ®ç±»å‹ã€‚</p><p>ã€€ã€€<strong>æ³›å‹æŠ€æœ¯</strong>ï¼šå…¶å®åº”ç”¨åœ¨ç¼–è¯‘æ—¶æœŸï¼Œæ˜¯ç»™ç¼–è¯‘å™¨ä½¿ç”¨çš„æŠ€æœ¯ï¼Œåˆ°äº†è¿è¡Œæ—¶æœŸï¼Œæ³›å‹å°±ä¸å­˜åœ¨äº†ã€‚</p><p>ã€€ã€€ä¸ºä»€ä¹ˆ? <strong>å› ä¸ºæ³›å‹çš„æ“¦é™¤</strong>ï¼šä¹Ÿå°±æ˜¯è¯´ï¼Œç¼–è¾‘å™¨æ£€æŸ¥äº†æ³›å‹çš„ç±»å‹æ­£ç¡®åï¼Œåœ¨ç”Ÿæˆçš„ç±»æ–‡ä»¶ä¸­æ˜¯æ²¡æœ‰æ³›å‹çš„ã€‚</p><p>ã€€ã€€<strong>åœ¨è¿è¡Œæ—¶ï¼Œå¦‚ä½•çŸ¥é“è·å–çš„å…ƒç´ ç±»å‹è€Œä¸ç”¨å¼ºè½¬å‘¢ï¼Ÿ</strong></p><p>ã€€ã€€<strong>æ³›å‹çš„è¡¥å¿</strong>ï¼šå› ä¸ºå­˜å‚¨çš„æ—¶å€™ï¼Œç±»å‹å·²ç»ç¡®å®šäº†æ˜¯åŒä¸€ä¸ªç±»å‹çš„å…ƒç´ ï¼Œæ‰€ä»¥åœ¨è¿è¡Œæ—¶ï¼Œåªè¦è·å–åˆ°è¯¥å…ƒç´ çš„ç±»å‹ï¼Œåœ¨å†…éƒ¨è¿›è¡Œä¸€æ¬¡è½¬æ¢å³å¯ï¼Œæ‰€ä»¥ä½¿ç”¨è€…ä¸ç”¨å†åšè½¬æ¢åŠ¨ä½œäº†ã€‚</p><p>ã€€ã€€<strong>ä»€ä¹ˆæ—¶å€™ç”¨æ³›å‹ç±»å‘¢ï¼Ÿ</strong></p><p>ã€€ã€€ã€€ã€€å½“ç±»ä¸­çš„æ“ä½œçš„å¼•ç”¨æ•°æ®ç±»å‹ä¸ç¡®å®šçš„æ—¶å€™ï¼Œä»¥å‰ç”¨çš„Objectæ¥è¿›è¡Œæ‰©å±•çš„ï¼Œç°åœ¨å¯ä»¥ç”¨æ³›å‹æ¥è¡¨ç¤ºã€‚è¿™æ ·å¯ä»¥é¿å…å¼ºè½¬çš„éº»çƒ¦ï¼Œè€Œä¸”å°†è¿è¡Œé—®é¢˜è½¬ç§»åˆ°çš„ç¼–è¯‘æ—¶æœŸã€‚</p><p>â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”</p><p>ã€€ã€€<strong>æ³›å‹åœ¨ç¨‹åºå®šä¹‰ä¸Šçš„ä½“ç°ï¼š</strong></p><p>ã€€ã€€<strong>//æ³›å‹ç±»ï¼šå°†æ³›å‹å®šä¹‰åœ¨ç±»ä¸Šã€‚</strong></p><p>ã€€ã€€class Tool<q> {</q></p><p>ã€€ã€€ã€€ã€€private Q obj;</p><p>ã€€ã€€ã€€ã€€public void setObject(Q obj) {</p><p>ã€€ã€€ã€€ã€€ã€€ã€€this.obj = obj;</p><p>ã€€ã€€ã€€ã€€}</p><p>ã€€ã€€ã€€ã€€public Q getObject() {</p><p>ã€€ã€€ã€€ã€€ã€€ã€€return obj;</p><p>ã€€ã€€ã€€ã€€}</p><p>ã€€ã€€}</p><p>ã€€ã€€<strong>//å½“æ–¹æ³•æ“ä½œçš„å¼•ç”¨æ•°æ®ç±»å‹ä¸ç¡®å®šçš„æ—¶å€™ï¼Œå¯ä»¥å°†æ³›å‹å®šä¹‰åœ¨æ–¹æ³•ä¸Šã€‚</strong></p><p>ã€€ã€€public <w> void method(W w) {</w></p><p>ã€€ã€€ã€€ã€€System.out.println(â€œmethod:â€+w);</p><p>ã€€ã€€}</p><p>ã€€ã€€<strong>//é™æ€æ–¹æ³•ä¸Šçš„æ³›å‹ï¼šé™æ€æ–¹æ³•æ— æ³•è®¿é—®ç±»ä¸Šå®šä¹‰çš„æ³›å‹ã€‚å¦‚æœé™æ€æ–¹æ³•æ“ä½œçš„å¼•ç”¨æ•°æ®ç±»å‹ä¸ç¡®å®šçš„æ—¶å€™ï¼Œå¿…é¡»è¦å°†æ³›å‹å®šä¹‰åœ¨æ–¹æ³•ä¸Šã€‚</strong></p><p>ã€€ã€€public static <q> void function(Q t) {</q></p><p>ã€€ã€€ã€€ã€€System.out.println(â€œfunction:â€+t);</p><p>ã€€ã€€}</p><p>ã€€ã€€<strong>//æ³›å‹æ¥å£.</strong></p><p>ã€€ã€€interface Inter<t> {</t></p><p>ã€€ã€€ã€€ã€€void show(T t);</p><p>ã€€ã€€}</p><p>ã€€ã€€class InterImpl<r> implements Inter<r> {</r></r></p><p>ã€€ã€€ã€€ã€€public void show(R r) {</p><p>ã€€ã€€ã€€ã€€ã€€ã€€System.out.println(â€œshow:â€+r);</p><p>ã€€ã€€ã€€ã€€}</p><p>ã€€ã€€}</p><p>â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”</p><p>ã€€ã€€ã€€ã€€<strong>æ³›å‹ä¸­çš„é€šé…ç¬¦</strong>ï¼šå¯ä»¥è§£å†³å½“å…·ä½“ç±»å‹ä¸ç¡®å®šçš„æ—¶å€™ï¼Œè¿™ä¸ªé€šé…ç¬¦å°±æ˜¯ ? ï¼›å½“æ“ä½œç±»å‹æ—¶ï¼Œä¸éœ€è¦ä½¿ç”¨ç±»å‹çš„å…·ä½“åŠŸèƒ½æ—¶ï¼Œåªä½¿ç”¨Objectç±»ä¸­çš„åŠŸèƒ½ã€‚é‚£ä¹ˆå¯ä»¥ç”¨ ? é€šé…ç¬¦æ¥è¡¨æœªçŸ¥ç±»å‹ã€‚</p><p>ã€€ã€€<strong>æ³›å‹é™å®šï¼š</strong></p><p>ã€€ã€€ã€€ã€€ä¸Šé™ï¼šï¼Ÿextends Eï¼šå¯ä»¥æ¥æ”¶Eç±»å‹æˆ–è€…Eçš„å­ç±»å‹å¯¹è±¡ã€‚</p><p>ã€€ã€€ã€€ã€€ä¸‹é™ï¼šï¼Ÿsuper Eï¼šå¯ä»¥æ¥æ”¶Eç±»å‹æˆ–è€…Eçš„çˆ¶ç±»å‹å¯¹è±¡ã€‚</p><p>ã€€ã€€<strong>ä¸Šé™ä»€ä¹ˆæ—¶å€™ç”¨</strong>ï¼šå¾€é›†åˆä¸­æ·»åŠ å…ƒç´ æ—¶ï¼Œæ—¢å¯ä»¥æ·»åŠ Eç±»å‹å¯¹è±¡ï¼Œåˆå¯ä»¥æ·»åŠ Eçš„å­ç±»å‹å¯¹è±¡ã€‚ä¸ºä»€ä¹ˆï¼Ÿå› ä¸ºå–çš„æ—¶å€™ï¼ŒEç±»å‹æ—¢å¯ä»¥æ¥æ”¶Eç±»å¯¹è±¡ï¼Œåˆå¯ä»¥æ¥æ”¶Eçš„å­ç±»å‹å¯¹è±¡ã€‚</p><p>ã€€ã€€<strong>ä¸‹é™ä»€ä¹ˆæ—¶å€™ç”¨ï¼š</strong>å½“ä»é›†åˆä¸­è·å–å…ƒç´ è¿›è¡Œæ“ä½œçš„æ—¶å€™ï¼Œå¯ä»¥ç”¨å½“å‰å…ƒç´ çš„ç±»å‹æ¥æ”¶ï¼Œä¹Ÿå¯ä»¥ç”¨å½“å‰å…ƒç´ çš„çˆ¶ç±»å‹æ¥æ”¶ã€‚</p><p>ã€€ã€€<strong>æ³›å‹çš„ç»†èŠ‚ï¼š</strong></p><p>ã€€ã€€ã€€ã€€1ï¼‰ã€æ³›å‹åˆ°åº•ä»£è¡¨ä»€ä¹ˆç±»å‹å–å†³äºè°ƒç”¨è€…ä¼ å…¥çš„ç±»å‹ï¼Œå¦‚æœæ²¡ä¼ ï¼Œé»˜è®¤æ˜¯Objectç±»å‹ï¼›</p><p>ã€€ã€€ã€€ã€€2ï¼‰ã€ä½¿ç”¨å¸¦æ³›å‹çš„ç±»åˆ›å»ºå¯¹è±¡æ—¶ï¼Œç­‰å¼ä¸¤è¾¹æŒ‡å®šçš„æ³›å‹å¿…é¡»ä¸€è‡´ï¼›</p><p>ã€€ã€€ã€€ã€€ã€€ã€€åŸå› ï¼šç¼–è¯‘å™¨æ£€æŸ¥å¯¹è±¡è°ƒç”¨æ–¹æ³•æ—¶åªçœ‹å˜é‡ï¼Œç„¶è€Œç¨‹åºè¿è¡ŒæœŸé—´è°ƒç”¨æ–¹æ³•æ—¶å°±è¦è€ƒè™‘å¯¹è±¡å…·ä½“ç±»å‹äº†ï¼›</p><p>ã€€ã€€ã€€ã€€3ï¼‰ã€ç­‰å¼ä¸¤è¾¹å¯ä»¥åœ¨ä»»æ„ä¸€è¾¹ä½¿ç”¨æ³›å‹ï¼Œåœ¨å¦ä¸€è¾¹ä¸ä½¿ç”¨(è€ƒè™‘å‘åå…¼å®¹)ï¼›</p><p>ã€€ã€€ã€€ã€€ã€€ã€€ArrayList<string> al = new ArrayList<object>(); //é”™<p></p><p>ã€€ã€€ã€€ã€€ã€€ã€€<strong>//è¦ä¿è¯å·¦å³ä¸¤è¾¹çš„æ³›å‹å…·ä½“ç±»å‹ä¸€è‡´å°±å¯ä»¥äº†ï¼Œè¿™æ ·ä¸å®¹æ˜“å‡ºé”™ã€‚</strong></p><p>ã€€ã€€ã€€ã€€ã€€ã€€ArrayList&lt;? extends Object&gt; al = new ArrayList<string>();</string></p><p>ã€€ã€€ã€€ã€€ã€€ã€€al.add(â€œaaâ€); //é”™</p><p>ã€€ã€€ã€€ã€€ã€€ã€€//å› ä¸ºé›†åˆå…·ä½“å¯¹è±¡ä¸­æ—¢å¯å­˜å‚¨Stringï¼Œä¹Ÿå¯ä»¥å­˜å‚¨Objectçš„å…¶ä»–å­ç±»ï¼Œæ‰€ä»¥æ·»åŠ å…·ä½“çš„ç±»å‹å¯¹è±¡ä¸åˆé€‚ï¼Œç±»å‹æ£€æŸ¥ä¼šå‡ºç°å®‰å…¨é—®é¢˜ã€‚ ï¼Ÿextends Object ä»£è¡¨Objectçš„å­ç±»å‹ä¸ç¡®å®šï¼Œæ€ä¹ˆèƒ½æ·»åŠ å…·ä½“ç±»å‹çš„å¯¹è±¡å‘¢ï¼Ÿ</p><p>ã€€ã€€ã€€ã€€ã€€ã€€public static void method(ArrayList&lt;? extends Object&gt; al) {</p><p>ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€al.add(â€œabcâ€); //é”™</p><p>ã€€ã€€ã€€ã€€ã€€ã€€<strong>//åªèƒ½å¯¹alé›†åˆä¸­çš„å…ƒç´ è°ƒç”¨Objectç±»ä¸­çš„æ–¹æ³•ï¼Œå…·ä½“å­ç±»å‹çš„æ–¹æ³•éƒ½ä¸èƒ½ç”¨ï¼Œå› ä¸ºå­ç±»å‹ä¸ç¡®å®šã€‚</strong></p><p>ã€€ã€€ã€€ã€€ã€€ã€€}</p><p>â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”</p><p>ã€€ã€€<strong>API**</strong>â€”â€”â€” java.lang.<strong>**System</strong>: å±æ€§å’Œè¡Œä¸ºéƒ½æ˜¯é™æ€çš„ã€‚</p><p>ã€€ã€€<strong>long currentTimeMillis(); // è¿”å›å½“å‰æ—¶é—´æ¯«ç§’å€¼</strong></p><p>ã€€ã€€<strong>exit(); // é€€å‡ºè™šæ‹Ÿæœº</strong></p><p>ã€€ã€€<strong>Properties</strong> <strong>getProperties**</strong>() ;** <strong>// è·å–å½“å‰ç³»ç»Ÿçš„å±æ€§ä¿¡æ¯</strong></p><p>ã€€ã€€Properties prop = System.getProperties(); <strong>//è·å–ç³»ç»Ÿçš„å±æ€§ä¿¡æ¯ï¼Œå¹¶å°†è¿™äº›ä¿¡æ¯å­˜å‚¨åˆ°Propertiesé›†åˆä¸­ã€‚</strong> </p><p>ã€€ã€€System.setProperty(â€œmynameâ€,â€æ¯•è€å¸ˆâ€); <strong>//ç»™ç³»ç»Ÿå±æ€§ä¿¡æ¯é›†æ·»åŠ å…·ä½“çš„å±æ€§ä¿¡æ¯</strong></p><p>ã€€ã€€<strong>//ä¸´æ—¶è®¾ç½®æ–¹å¼ï¼šè¿è¡Œjvmæ—¶ï¼Œå¯ä»¥é€šè¿‡jvmçš„å‚æ•°è¿›è¡Œç³»ç»Ÿå±æ€§çš„ä¸´æ—¶è®¾ç½®ï¼Œå¯ä»¥åœ¨javaå‘½ä»¤çš„åé¢åŠ å…¥ â€“D= ç”¨æ³•ï¼šjava â€“Dmyname=å°æ˜ ç±»åã€‚</strong></p><p>ã€€ã€€String name = System.getProperty(â€œos.nameâ€);<strong>//è·å–æŒ‡å®šå±æ€§çš„ä¿¡æ¯</strong></p><p>ã€€ã€€<strong>//æƒ³è¦çŸ¥é“è¯¥ç³»ç»Ÿæ˜¯å¦æ˜¯è¯¥è½¯ä»¶æ‰€æ”¯æŒçš„ç³»ç»Ÿä¸­çš„ä¸€ä¸ªã€‚</strong></p><p>ã€€ã€€Set<string> hs = new HashSet<string>();</string></string></p><p>ã€€ã€€hs.add(â€œWindows XPâ€);</p><p>ã€€ã€€hs.add(â€œWindows 7â€);</p><p>ã€€ã€€if(hs.contains(name))</p><p>ã€€ã€€System.out.println(â€œå¯ä»¥æ”¯æŒâ€);</p><p>ã€€ã€€else</p><p>ã€€ã€€System.out.println(â€œä¸æ”¯æŒâ€);</p><p>â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”</p><p>ã€€ã€€<strong>API**</strong>â€”â€”â€” java.lang.<strong>**Runtime</strong>: ç±»ä¸­æ²¡æœ‰æ„é€ æ–¹æ³•ï¼Œä¸èƒ½åˆ›å»ºå¯¹è±¡ã€‚</p><p>ã€€ã€€ã€€ã€€ä½†æ˜¯æœ‰éé™æ€æ–¹æ³•ã€‚è¯´æ˜è¯¥ç±»ä¸­åº”è¯¥å®šä¹‰å¥½äº†å¯¹è±¡ï¼Œå¹¶å¯ä»¥é€šè¿‡ä¸€ä¸ªstaticæ–¹æ³•è·å–è¿™ä¸ªå¯¹è±¡ã€‚ç”¨è¿™ä¸ªå¯¹è±¡æ¥è°ƒç”¨éé™æ€æ–¹æ³•ã€‚è¿™ä¸ªæ–¹æ³•å°±æ˜¯ static Runtime getRuntime();</p><p>ã€€ã€€<strong>è¿™ä¸ªRuntimeå…¶å®ä½¿ç”¨å•ä¾‹è®¾è®¡æ¨¡å¼è¿›è¡Œè®¾è®¡ã€‚</strong></p><p>ã€€ã€€class RuntimeDemo {</p><p>ã€€ã€€ã€€ã€€public static void main(String[] args) throws Exception {</p><p>ã€€ã€€ã€€ã€€ã€€ã€€Runtime r = Runtime.getRuntime();</p><p>ã€€ã€€ã€€ã€€ã€€ã€€Process p = r.exec(â€œnotepad.exe SystemDemo.javaâ€); //è¿è¡ŒæŒ‡å®šçš„ç¨‹åº</p><p>ã€€ã€€ã€€ã€€ã€€ã€€Thread.sleep(4000);</p><p>ã€€ã€€ã€€ã€€ã€€ã€€p.destroy(); <strong>//æ€æ‰è¿›ç¨‹</strong></p><p>ã€€ã€€ã€€ã€€}</p><p>ã€€ã€€}</p><p>â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”</p><p>ã€€ã€€<strong>API**</strong>â€”â€”â€” java.util.Math**: ç”¨äºæ•°å­¦è¿ç®—çš„å·¥å…·ç±»ï¼Œå±æ€§å’Œè¡Œä¸ºéƒ½æ˜¯é™æ€çš„ã€‚è¯¥ç±»æ˜¯finalä¸å…è®¸ç»§æ‰¿ã€‚</p><p>ã€€ã€€ã€€ã€€static double ceil(double a) ; //è¿”å›å¤§äºæŒ‡å®šæ•°å€¼çš„æœ€å°æ•´æ•°</p><p>ã€€ã€€ã€€ã€€static double floor(double a) ; //è¿”å›å°äºæŒ‡å®šæ•°å€¼çš„æœ€å¤§æ•´æ•°</p><p>ã€€ã€€ã€€ã€€static long round(double a) ; //å››èˆäº”å…¥æˆæ•´æ•°</p><p>ã€€ã€€ã€€ã€€static double pow(double a, double b) ; //açš„bæ¬¡å¹‚</p><p>ã€€ã€€ã€€ã€€static double random(); //è¿”å›0~1çš„ä¼ªéšæœºæ•°</p><p>ã€€ã€€ã€€ã€€public static void main(String[] args) {</p><p>ã€€ã€€ã€€ã€€ã€€ã€€Random r = new Random();</p><p>ã€€ã€€ã€€ã€€ã€€ã€€for(int x=0; x&lt;10; x++) {</p><p>ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€//double d = Math.floor(Math.random()*10+1);</p><p>ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€//int d = (int)(Math.random()*10+1);</p><p>ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€int d = r.nextInt(10)+1;</p><p>ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€System.out.println(d);</p><p>ã€€ã€€ã€€ã€€ã€€ã€€}</p><p>ã€€ã€€ã€€ã€€}</p><p>â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”</p><p>ã€€ã€€<strong>APIâ€”â€”â€” java.util.Date</strong>ï¼šæ—¥æœŸç±»ï¼Œæœˆä»½ä»0â€”11ï¼›</p><p>ã€€ã€€ã€€ã€€<strong>/*</strong></p><p>ã€€ã€€ã€€ã€€<strong>æ—¥æœŸå¯¹è±¡å’Œæ¯«ç§’å€¼ä¹‹é—´çš„è½¬æ¢ã€‚</strong></p><p>ã€€ã€€ã€€ã€€ã€€ã€€<strong>1ï¼Œæ—¥æœŸå¯¹è±¡è½¬æˆæ¯«ç§’å€¼ã€‚Dateç±»ä¸­çš„getTimeæ–¹æ³•ã€‚</strong></p><p>ã€€ã€€ã€€ã€€ã€€ã€€<strong>2ï¼Œå¦‚ä½•å°†è·å–åˆ°çš„æ¯«ç§’å€¼è½¬æˆå…·ä½“çš„æ—¥æœŸå‘¢ï¼Ÿ</strong></p><p>ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€<strong>Dateç±»ä¸­çš„setTimeæ–¹æ³•ã€‚ä¹Ÿå¯ä»¥é€šè¿‡æ„é€ å‡½æ•°ã€‚</strong> </p><p>ã€€ã€€ã€€ã€€*<strong>/</strong></p><p>ã€€ã€€ã€€ã€€<strong>//æ—¥æœŸå¯¹è±¡è½¬æˆæ¯«ç§’å€¼</strong></p><p>ã€€ã€€ã€€ã€€ã€€ã€€Date d = new Date();</p><p>ã€€ã€€ã€€ã€€ã€€ã€€long time1 = d.getTime();</p><p>ã€€ã€€ã€€ã€€ã€€ã€€long time2 = System.currentTimeMillis(); / /æ¯«ç§’å€¼ã€‚</p><p>ã€€ã€€ã€€ã€€<strong>//æ¯«ç§’å€¼è½¬æˆå…·ä½“çš„æ—¥æœŸ</strong></p><p>ã€€ã€€ã€€ã€€ã€€ã€€long time = 1322709921312l;</p><p>ã€€ã€€ã€€ã€€ã€€ã€€Date d = new Date();</p><p>ã€€ã€€ã€€ã€€ã€€ã€€d.setTime(time);</p><p>ã€€ã€€ã€€ã€€<strong>/*</strong></p><p>ã€€ã€€ã€€ã€€<strong>å°†æ—¥æœŸå­—ç¬¦ä¸²è½¬æ¢æˆæ—¥æœŸå¯¹è±¡ï¼šä½¿ç”¨çš„å°±æ˜¯DateFormatæ–¹æ³•ä¸­çš„ Date parse(String source) ï¼›</strong></p><p>ã€€ã€€ã€€ã€€*<strong>/</strong></p><p>ã€€ã€€ã€€ã€€public static void method() throws Exception {</p><p>ã€€ã€€ã€€ã€€ã€€ã€€String str_time = â€œ2011/10/25â€;</p><p>ã€€ã€€ã€€ã€€ã€€ã€€DateFormat df = new SimpleDateFormat(â€œyyyy/MM/ddâ€); <strong>//SimpleDateFormatä½œä¸ºå¯ä»¥æŒ‡å®šç”¨æˆ·è‡ªå®šä¹‰çš„æ ¼å¼æ¥å®Œæˆæ ¼å¼åŒ–ã€‚</strong></p><p>ã€€ã€€ã€€ã€€ã€€ã€€Date d = df.parse(str_time);</p><p>ã€€ã€€ã€€ã€€}</p><p>ã€€ã€€ã€€ã€€<strong>/*</strong></p><p>ã€€ã€€ã€€ã€€<strong>å¦‚æœä¸éœ€è¦ä½¿ç”¨ç‰¹å®šçš„æ ¼å¼åŒ–é£æ ¼ï¼Œå®Œå…¨å¯ä»¥ä½¿ç”¨DateFormatç±»ä¸­çš„é™æ€å·¥å‚æ–¹æ³•è·å–å…·ä½“çš„å·²ç»å°è£…å¥½é£æ ¼çš„å¯¹è±¡ã€‚getDateInstance();getDateTimeInstance();</strong></p><p>ã€€ã€€ã€€ã€€*<strong>/</strong></p><p>ã€€ã€€ã€€ã€€Date d = new Date();</p><p>ã€€ã€€ã€€ã€€DateFormat df = DateFormat.getDateInstance(DateFormat.LONG);</p><p>ã€€ã€€ã€€ã€€df = DateFormat.getDateTimeInstance(DateFormat.LONG,DateFormat.LONG);</p><p>ã€€ã€€ã€€ã€€String str_time = df.format(d);</p><p>ã€€ã€€<strong>//å°†æ—¥æœŸå¯¹è±¡è½¬æ¢æˆå­—ç¬¦ä¸²çš„æ–¹å¼ï¼šDateFormatç±»ä¸­çš„formatæ–¹æ³•ã€‚</strong></p><p>  ã€€ <strong>//åˆ›å»ºæ—¥æœŸæ ¼å¼å¯¹è±¡ã€‚</strong> </p><p>ã€€ã€€ã€€ã€€ã€€ã€€DateFormat df = new SimpleDateFormat(); <strong>//è¯¥å¯¹è±¡çš„å»ºç«‹å†…éƒ¨ä¼šå°è£…ä¸€ä¸ªé»˜è®¤çš„æ—¥æœŸæ ¼å¼ã€‚11â€”12â€”1 ä¸‹åˆ1:48</strong></p><p>ã€€ã€€ã€€ã€€<strong>//å¦‚æœæƒ³è¦è‡ªå®šä¹‰æ—¥æœŸæ ¼å¼çš„è¯ã€‚å¯ä½¿ç”¨SimpleDateFormat**</strong>çš„æ„é€ å‡½æ•°ã€‚å°†å…·ä½“çš„æ ¼å¼ä½œä¸ºå‚æ•°ä¼ å…¥åˆ°æ„é€ å‡½æ•°ä¸­ã€‚å¦‚ä½•è¡¨ç¤ºæ—¥æœŸä¸­å¹´çš„éƒ¨åˆ†å‘¢ï¼Ÿå¯ä»¥å¿…é¡»è¦å‚ä¸æ ¼å¼å¯¹è±¡æ–‡æ¡£ã€‚** </p><p>ã€€ã€€ã€€ã€€<strong>df = new SimpleDateFormat(â€œyyyyå¹´MMæœˆddæ—¥ HH:mm:ssâ€);</strong></p><p>ã€€ã€€ã€€ã€€<strong>//è°ƒç”¨DateFormatä¸­çš„formatæ–¹æ³•ã€‚å¯¹å·²æœ‰çš„æ—¥æœŸå¯¹è±¡è¿›è¡Œæ ¼å¼åŒ–ã€‚</strong></p><p>ã€€ã€€ã€€ã€€String str_time = df.format(d);</p><p>â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”</p><p>ã€€ã€€<strong>APIâ€”â€”â€” java.util. Calendar</strong>ï¼šæ—¥å†ç±»</p><p>ã€€ã€€ã€€ã€€public static void method(){</p><p>ã€€ã€€ã€€ã€€ã€€ã€€Calendar c = Calendar.getInstance();</p><p>ã€€ã€€ã€€ã€€ã€€ã€€System.out.println(c.get(Calendar.YEAR)+â€å¹´â€+(c.get(Calendar.MONTH)+1)+â€æœˆâ€</p><p>ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€+getNum(c.get(Calendar.DAY_OF_MONTH))+â€æ—¥â€</p><p>ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€+â€æ˜ŸæœŸâ€+getWeek(c.get(Calendar.DAY_OF_WEEK)));</p><p>ã€€ã€€ã€€ã€€}</p><p>ã€€ã€€ã€€ã€€public static String getNum(int num){</p><p>ã€€ã€€ã€€ã€€ã€€ã€€return num&gt;9 ? num+â€â€ : â€œ0â€+num;</p><p>ã€€ã€€ã€€ã€€}</p><p>ã€€ã€€ã€€ã€€public static String getWeek(int index){</p><p>ã€€ã€€ã€€ã€€/*</p><p>ã€€ã€€ã€€ã€€æŸ¥è¡¨æ³•ï¼šå»ºç«‹æ•°æ®çš„å¯¹åº”å…³ç³».</p><p>ã€€ã€€ã€€ã€€æœ€å¥½ï¼šæ•°æ®ä¸ªæ•°æ˜¯ç¡®å®šçš„ï¼Œè€Œä¸”æœ‰å¯¹åº”å…³ç³»ã€‚å¦‚æœå¯¹åº”å…³ç³»çš„ä¸€æ–¹ï¼Œæ˜¯æ•°å­—ï¼Œè€Œä¸”å¯ä»¥ä½œä¸ºè§’æ ‡ï¼Œé‚£ä¹ˆå¯ä»¥é€šè¿‡æ•°ç»„æ¥ä½œä¸ºè¡¨ã€‚</p><p>ã€€ã€€ã€€ã€€*/</p><p>ã€€ã€€ã€€ã€€ã€€ã€€String[] weeks = {â€œâ€,â€æ—¥â€,â€ä¸€â€,â€äºŒâ€,â€ä¸‰â€,â€å››â€,â€äº”â€,â€å…­â€};</p><p>ã€€ã€€ã€€ã€€ã€€ã€€return weeks[index];</p><p>ã€€ã€€ã€€ã€€}</p></object></string></p>]]></content>
      
      
      <categories>
          
          <category> é¢å‘å¯¹è±¡ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Java </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è®¡ç®—æœºç»„æˆåŸç†</title>
      <link href="2021/01/12/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/"/>
      <url>2021/01/12/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/</url>
      
        <content type="html"><![CDATA[<h1 id="è®¡ç®—æœºç»„æˆåŸç†"><a href="#è®¡ç®—æœºç»„æˆåŸç†" class="headerlink" title="è®¡ç®—æœºç»„æˆåŸç†"></a>è®¡ç®—æœºç»„æˆåŸç†</h1><h2 id="ç¬¬ä¸€ç« ï¼šè®¡ç®—æœºç³»ç»Ÿæ¦‚è®º"><a href="#ç¬¬ä¸€ç« ï¼šè®¡ç®—æœºç³»ç»Ÿæ¦‚è®º" class="headerlink" title="ç¬¬ä¸€ç« ï¼šè®¡ç®—æœºç³»ç»Ÿæ¦‚è®º"></a>ç¬¬ä¸€ç« ï¼šè®¡ç®—æœºç³»ç»Ÿæ¦‚è®º</h2><h3 id="1-1è®¡ç®—æœºç³»ç»Ÿç®€ä»‹"><a href="#1-1è®¡ç®—æœºç³»ç»Ÿç®€ä»‹" class="headerlink" title="1.1è®¡ç®—æœºç³»ç»Ÿç®€ä»‹"></a>1.1è®¡ç®—æœºç³»ç»Ÿç®€ä»‹</h3><p><strong>ç¬¬ä¸€å°ç”µå­æ•°å­—è®¡ç®—æœºï¼šENIAC(1946å¹´)</strong></p><p>è®¡ç®—æœº = ç¡¬ä»¶ + è½¯ä»¶</p><img src="https://img.rruu.net/image/60065c0dda4fb" alt="ç»“æ„" style="zoom:50%;"><p>ä¸€ä¸ªç®€å•çš„ç³»ç»Ÿç»“æ„</p><img src="https://img.rruu.net/image/60065b93e6211" alt="ç³»ç»Ÿç»“æ„" style="zoom:50%;"><h3 id="1-2-è®¤è¯†å„ä¸ªç¡¬ä»¶"><a href="#1-2-è®¤è¯†å„ä¸ªç¡¬ä»¶" class="headerlink" title="1.2 è®¤è¯†å„ä¸ªç¡¬ä»¶"></a>1.2 è®¤è¯†å„ä¸ªç¡¬ä»¶</h3><h4 id="1-2-1å†¯Â·è¯ºä¾æ›¼è®¡ç®—æœºçš„ç‰¹ç‚¹"><a href="#1-2-1å†¯Â·è¯ºä¾æ›¼è®¡ç®—æœºçš„ç‰¹ç‚¹" class="headerlink" title="1.2.1å†¯Â·è¯ºä¾æ›¼è®¡ç®—æœºçš„ç‰¹ç‚¹"></a>1.2.1å†¯Â·è¯ºä¾æ›¼è®¡ç®—æœºçš„ç‰¹ç‚¹</h4><ol><li>è®¡ç®—æœºç”±äº”å¤§éƒ¨ä»¶ç»„æˆ</li><li>æŒ‡ä»¤å’Œæ•°æ®ä»¥åŒç­‰åœ°ä½äºå­˜å‚¨å™¨ï¼Œå¯æŒ‰åœ°å€å¯»è®¿</li><li>æŒ‡ä»¤å’Œæ•°æ®ç”¨äºŒè¿›åˆ¶è¡¨ç¤º</li><li><strong>æŒ‡ä»¤ç”±æ“ä½œç å’Œåœ°å€ç ç»„æˆ</strong></li><li>å­˜å‚¨ç¨‹åº</li><li>**ä»¥è¿ç®—å™¨ä¸ºä¸­å¿ƒ ** (å­˜åœ¨å¼Šç«¯)</li></ol><img src="https://img.rruu.net/image/60065eee6fca3" style="zoom: 67%;"><p>â€‹                                                                                            ä»¥è¿ç®—å™¨ä¸ºä¸­å¿ƒçš„ç¡¬ä»¶æ¡†å›¾</p><h4 id="1-2-2ç°ä»£è®¡ç®—æœºä»¥å­˜å‚¨å™¨ä¸ºä¸­å¿ƒ"><a href="#1-2-2ç°ä»£è®¡ç®—æœºä»¥å­˜å‚¨å™¨ä¸ºä¸­å¿ƒ" class="headerlink" title="1.2.2ç°ä»£è®¡ç®—æœºä»¥å­˜å‚¨å™¨ä¸ºä¸­å¿ƒ"></a>1.2.2ç°ä»£è®¡ç®—æœºä»¥å­˜å‚¨å™¨ä¸ºä¸­å¿ƒ</h4><img src="https://img.rruu.net/image/60066907cf245" alt="ç°ä»£è®¡ç®—æœº" style="zoom: 33%;"><p><em>ç°ä»£è®¡ç®—æœºç»“æ„ä¸­æ§åˆ¶å™¨å’Œè¿ç®—å™¨ç»§æ‰¿äºcpuä¸­ã€‚</em></p><p>cpuç»“æ„ï¼šCPUçš„æ ¹æœ¬ä»»åŠ¡å°±æ˜¯æ‰§è¡ŒæŒ‡ä»¤ï¼Œå¯¹è®¡ç®—æœºæ¥è¯´æœ€ç»ˆéƒ½æ˜¯ä¸€ä¸²ç”±â€œ0â€å’Œâ€œ1â€ç»„æˆçš„åºåˆ—ã€‚CPUä»é€»è¾‘ä¸Šå¯ä»¥åˆ’åˆ†æˆ3ä¸ªæ¨¡å—ï¼Œåˆ†åˆ«æ˜¯æ§åˆ¶å•å…ƒã€è¿ç®—å•å…ƒå’Œå­˜å‚¨å•å…ƒï¼Œè¿™ä¸‰éƒ¨åˆ†ç”±CPUå†…éƒ¨æ€»çº¿è¿æ¥èµ·æ¥ã€‚å¦‚ä¸‹æ‰€ç¤º <strong>ï¼ˆè¯¥è§£é‡Šæ¥è‡ªäºç™¾åº¦ç™¾ç§‘ï¼‰</strong></p><p><img src="https://img.rruu.net/image/60066be9352df"></p><h5 id="cpuè°ƒåº¦ä¸»å­˜å‚¨å™¨"><a href="#cpuè°ƒåº¦ä¸»å­˜å‚¨å™¨" class="headerlink" title="cpuè°ƒåº¦ä¸»å­˜å‚¨å™¨"></a>cpuè°ƒåº¦ä¸»å­˜å‚¨å™¨</h5><p><img src="https://img.rruu.net/image/6006703fdd8af"></p><p>ä¸»å­˜ï¼šè¿è¡Œå†…å­˜</p><p>è¾…å­˜ï¼šæœºæ¢°ç¡¬ç›˜ï¼Œå›ºæ€ç¡¬ç›˜(åº”å½“çœ‹ä½œioè®¾å¤‡)</p><p><img src="https://img.rruu.net/image/6029001dc6ed0"></p><hr><p><strong><em>ç‰¹åˆ«æ³¨æ„ï¼šmarä¸mdråœ¨åŠŸèƒ½ä¸Šå±äºä¸»å­˜å‚¨å™¨ï¼Œä½†åœ¨å¾®å°å‹æœºå™¨ä¸­æ”¾å…¥cpuä¸­ï¼Œä½œä¸ºä¸»å­˜å’ŒCPUçš„è”ç³»æ¥å£ã€‚</em></strong></p><hr><blockquote><p><strong>åœ°å€æ€»çº¿</strong>ï¼ˆ<strong>Address Bus</strong>ï¼‰æ˜¯ä¸€ç§è®¡ç®—æœºæ€»çº¿ï¼Œæ˜¯CPUæˆ–æœ‰DMAèƒ½åŠ›çš„å•å…ƒï¼Œç”¨æ¥æ²Ÿé€šè¿™äº›å•å…ƒæƒ³è¦è®¿é—®ï¼ˆè¯»å–/å†™å…¥ï¼‰è®¡ç®—æœºå†…å­˜ç»„ä»¶/åœ°æ–¹çš„ç‰©ç†åœ°å€ã€‚</p><p>æ•°æ®æ€»çº¿çš„å®½åº¦ï¼Œéšå¯å¯»å€çš„å†…å­˜ç»„ä»¶å¤§å°è€Œå˜ï¼Œå†³å®šæœ‰å¤šå°‘çš„å†…å­˜å¯ä»¥è¢«è®¿é—®ã€‚</p><p>ä¸¾ä¾‹æ¥è¯´ï¼šä¸€ä¸ª 16ä½å…ƒ å®½åº¦çš„ä½å€æ€»çº¿ (é€šå¸¸åœ¨ 1970å¹´ å’Œ 1980å¹´æ—©æœŸçš„ 8ä½å…ƒå¤„ç†å™¨ä¸­ä½¿ç”¨) åˆ°è¾¾ 2 çš„ 16 æ¬¡æ–¹ = 65536 = 64 KB çš„å†…å­˜ä½å€ï¼Œè€Œä¸€ä¸ª 32ä½å•å…ƒä½å€æ€»çº¿ (é€šå¸¸åœ¨åƒç°ä»Š 2004å¹´ çš„ PC å¤„ç†å™¨ä¸­) å¯ä»¥å¯»å€åˆ° 4,294,967,296 = 4 GB çš„ä½å€ã€‚ä½†ç°åœ¨å¾ˆå¤šè®¡ç®—æœºå†…å­˜å·²ç»å¤§äº4Gï¼ˆwindows XP x32ä½ç³»ç»Ÿæœ€å¤§åªèƒ½è¯†åˆ«3.29Gï¼Œæ‰€ä»¥è¦ä½¿ç”¨4Gä»¥ä¸Šå¤§å†…å­˜å°±è¦ç”¨windows x64ä½ç³»ç»Ÿï¼‰ã€‚æ‰€ä»¥ä¸»æµçš„è®¡ç®—æœºéƒ½æ˜¯64ä½çš„å¤„ç†å™¨ä¹Ÿå°±æ˜¯è¯´å¯ä»¥å¯»å€åˆ°2^64=16X10^18=16EBçš„ä½å€ï¼Œåœ¨å¾ˆé•¿ä¸€æ®µæ—¶é—´å†…è¿™ä¸ªæ•°å­—æ˜¯ç”¨ä¸å®Œçš„ã€‚</p><p>â€‹                                                                                                                                                                        â€”â€”å¼•ç”¨è‡ªç™¾åº¦ç™¾ç§‘åœ°å€æ€»çº¿</p></blockquote><p>*<em>ä¸€ä¸ªä¾‹å­ï¼šCè¯­è¨€ä¸­ï¼Œåœ¨å¯»å€èƒ½åŠ›ä¸º64ä½çš„CPUä¸Šï¼Œå½“æˆ‘ä»¬å®šä¹‰ä¸€ä¸ªint <em>pæŒ‡é’ˆã€‚è¾“å‡ºsizeof(p);è¾“å‡ºä¸º8(å³å…«ä¸ªå­—èŠ‚)ï¼Œå› ä¸ºåœ°å€æ˜¯64ä½äºŒè¿›åˆ¶æ•°è¡¨ç¤ºçš„ï¼›</em></em></p><blockquote><p><strong>æ•°æ®æ€»çº¿(DataBus)ã€‚</strong>è§„èŒƒäº†ä¸€ä¸ªå¤§çš„é›†æˆåº”ç”¨ç³»ç»Ÿä¸­åŒæ„ç³»ç»Ÿã€<a href="https://baike.baidu.com/item/%E5%BC%82%E6%9E%84%E7%B3%BB%E7%BB%9F">å¼‚æ„ç³»ç»Ÿ</a>ç­‰æ–¹é¢è¿›è¡Œ<a href="https://baike.baidu.com/item/%E6%95%B0%E6%8D%AE%E5%85%B1%E4%BA%AB">æ•°æ®å…±äº«</a>å’Œäº¤æ¢å®ç°æ–¹æ³•ï¼Œç³»ç»Ÿé—´æ•°æ®äº¤æ¢æ ‡å‡†ã€‚å¯ç”¨äºå¾®å¤„ç†ä¸å†…å­˜ï¼Œå¾®å¤„ç†å™¨ä¸è¾“å…¥è¾“å‡ºæ¥å£ä¹‹é—´ä¼ é€ä¿¡æ¯ã€‚æ•°æ®æ€»çº¿çš„å®½åº¦æ˜¯å†³å®šè®¡ç®—æœºæ€§èƒ½çš„ä¸€ä¸ªé‡è¦æŒ‡æ ‡ã€‚å¾®å‹è®¡ç®—æœºçš„æ•°æ®æ€»çº¿å¤§å¤šæ˜¯32ä½æˆ–64ä½ã€‚</p><p>â€‹                                                                                                                                                                        â€”â€”å¼•ç”¨è‡ªç™¾åº¦ç™¾ç§‘æ•°æ®æ€»çº¿</p></blockquote><blockquote><p>cpuçš„ä½å®½ï¼Œæ“ä½œç³»ç»Ÿçš„ä½å®½å’Œå¯»å€èƒ½åŠ›çš„å…³ç³»(å‚è€ƒåšå®¢)ï¼š</p><p><a href="https://blog.csdn.net/wwwlyj123321/article/details/99940786">https://blog.csdn.net/wwwlyj123321/article/details/99940786</a></p><p><a href="https://blog.csdn.net/haiross/article/details/50977805">https://blog.csdn.net/haiross/article/details/50977805</a></p><p>mdrå’Œæ•°æ®æ€»çº¿çš„å–åˆ«ï¼ˆæ³¨æ„æ–‡ä¸­æ‰€è¯´mdrä½æ•°ä¸æ•°æ®æ€»çº¿å®½åº¦å¯èƒ½ä¸ä¸€è‡´ï¼Œç°å®è®¡ç®—æœºæƒ…å†µä¸‹ç›¸åŒï¼‰ï¼š</p><p><a href="https://blog.csdn.net/qq_42883292/article/details/106703544">https://blog.csdn.net/qq_42883292/article/details/106703544</a></p></blockquote><p><strong><em>ç‰¹åˆ«æ³¨æ„ï¼š</em></strong></p><p><strong>1.64ä½æ“ä½œç³»ç»Ÿæ˜¯æŒ‡ç‰¹åˆ«ä¸º64ä½æ¶æ„<a href="https://baike.baidu.com/item/%E8%AE%A1%E7%AE%97%E6%9C%BA">è®¡ç®—æœº</a>ç³»ç»Ÿè€Œè®¾è®¡çš„<a href="https://baike.baidu.com/item/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/192">æ“ä½œç³»ç»Ÿ</a>ã€‚</strong></p><p><strong>2.CPUçš„ä½å®½ä¸€èˆ¬æ˜¯ä»¥ min{ALUä½å®½ã€é€šç”¨å¯„å­˜å™¨ä½å®½ã€æ•°æ®æ€»çº¿ä½å®½}å†³å®šçš„ï¼ä¹Ÿå°±æ˜¯è¯´CPUç”±ALUã€é€šç”¨å¯„å­˜å™¨ã€æ•°æ®æ€»çº¿ä¸‰è€…ä¹‹ä¸­æœ€å°‘çš„ä½å®½å†³å®šï¼æ‰€ä»¥CPUä½å®½ä¸å…¶å¯»å€èƒ½åŠ›å¹¶ä¸æ˜¯æŒ‚é’©çš„ï¼</strong></p><h5 id="ä¸»å­˜å‚¨å™¨çš„å­˜å‚¨ä½“"><a href="#ä¸»å­˜å‚¨å™¨çš„å­˜å‚¨ä½“" class="headerlink" title="ä¸»å­˜å‚¨å™¨çš„å­˜å‚¨ä½“"></a>ä¸»å­˜å‚¨å™¨çš„å­˜å‚¨ä½“</h5><p><img src="https://img.rruu.net/image/60067803e1e00"></p><h5 id="è¿ç®—å™¨"><a href="#è¿ç®—å™¨" class="headerlink" title="è¿ç®—å™¨"></a>è¿ç®—å™¨</h5><p><img src="https://img.rruu.net/image/600a73f063d41"></p><h5 id="æ§åˆ¶å™¨"><a href="#æ§åˆ¶å™¨" class="headerlink" title="æ§åˆ¶å™¨"></a>æ§åˆ¶å™¨</h5><p><img src="https://img.rruu.net/image/600a742889496"></p><hr><p>ä¸€æ¬¡å·¥ä½œè¿‡ç¨‹ï¼š</p><figure class="highlight c"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>{</span><br><span class="line"><span class="keyword">int</span> a = <span class="number">2</span>,b = <span class="number">3</span>,c = <span class="number">1</span>,y = <span class="number">0</span>;</span><br><span class="line">y = a*b +c;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>é«˜çº§è¯­è¨€æœ€ç»ˆè§£é‡Šç¿»è¯‘æˆæœºå™¨è¯­è¨€è¯»å…¥ä¸»å­˜ä¸­å†…å­˜å¦‚å›¾æ‰€ç¤ºï¼Œå·¥ä½œè¿‡ç¨‹å¦‚ä¸‹â€”â€”</p><p><strong>PSï¼šç”±å†…å­˜ç»“æ„åæ˜ å‡ºå†¯Â·è¯ºä¾æ›¼è®¡ç®—æœºçš„ç‰¹ç‚¹2,4ã€‚</strong></p><p><img src="https://img.rruu.net/image/600a7e30a7728"></p><hr><h4 id="1-2-3ç¡¬ä»¶å›é¡¾"><a href="#1-2-3ç¡¬ä»¶å›é¡¾" class="headerlink" title="1.2.3ç¡¬ä»¶å›é¡¾"></a>1.2.3ç¡¬ä»¶å›é¡¾</h4><p><img src="https://img.rruu.net/image/600a7bb91d818" alt="image-20210122151524030"></p><h3 id="1-3è®¡ç®—æœºçš„æ€§èƒ½æŒ‡æ ‡"><a href="#1-3è®¡ç®—æœºçš„æ€§èƒ½æŒ‡æ ‡" class="headerlink" title="1.3è®¡ç®—æœºçš„æ€§èƒ½æŒ‡æ ‡"></a>1.3è®¡ç®—æœºçš„æ€§èƒ½æŒ‡æ ‡</h3><p><strong>1.3.1 marä½æ•°</strong></p><p>marä½æ•°åæ˜ å­˜å‚¨å•å…ƒçš„ä¸ªæ•°ï¼ˆæœ€å¤šï¼‰</p><p>1byte = 8 bitï¼Œ1 KB = 1024 byteï¼Œ1MB = 1024 KBï¼Œ1GB = 1024 MB</p><p>æ€»å†…å­˜ï¼ˆç†è®ºæœ€å¤§å€¼ï¼‰ = 2çš„marä½æ•°æ¬¡æ–¹Ã—å­˜å‚¨å­—é•¿(mdrä½æ•°) /bit</p><p>EG: mar32ä½ï¼Œmdr 8ä½ï¼Œåˆ™æ€»å®¹é‡4GBã€‚</p><p><strong>1.3.2 cpuä¸»é¢‘</strong></p><p>cpuä¸»é¢‘ï¼šCPUå†…æ•°å­—è„‰å†²ä¿¡å·çš„éœ‡è¡é¢‘ç‡ã€‚ï¼ˆå¸¸è¾¾GHZï¼‰</p><p>CPIï¼ˆclock cycle per Instructionï¼‰: æ‰§è¡Œä¸€æ¡æŒ‡ä»¤éœ€è¦çš„æ—¶é’Ÿå‘¨æœŸæ•°ã€‚</p><p>æ—¶é’Ÿå‘¨æœŸï¼šå®Œæˆä¸€ä¸ªè„‰å†²è€—æ—¶ã€‚ï¼ˆå•ä½ï¼Œå¾®ç§’ï¼Œçº³ç§’ï¼‰</p><p>cpuä¸»é¢‘ = 1 /æ—¶é’Ÿå‘¨æœŸ</p><p>æ‰§è¡Œä¸€æ¡æŒ‡ä»¤è€—æ—¶ = CPI Ã— CPUæ—¶é’Ÿå‘¨æœŸ</p><p>IPSï¼ˆInstruction per  secondï¼‰ï¼šæ¯ç§’é’Ÿæ‰§è¡ŒæŒ‡ä»¤æ¡æ•°ã€‚</p><p>IPS = ä¸»é¢‘ / å¹³å‡CPI</p><p>FLOPSï¼šæ¯ç§’æ‰§è¡Œå¤šå°‘æ¬¡æµ®ç‚¹è¿ç®—ã€‚</p><blockquote><p>ä¸åŒæŒ‡ä»¤ï¼ŒCPIå¯èƒ½ä¸åŒï¼Œç”šè‡³ç›¸åŒæŒ‡ä»¤CPIä¹Ÿå¯èƒ½ä¸åŒï¼ˆä¸cpuå†…éƒ¨çš„æŒ‡ä»¤å®ç°æœ‰å…³ï¼‰ã€‚</p></blockquote><p><strong>1.3.3 æ•°æ®é€šè·¯å¸¦å®½</strong></p><p>æ•°æ®æ€»çº¿ä¸€æ¬¡æ€§å¹¶è¡Œä¼ è¾“æ•°æ®ä½æ•°ã€‚</p><p><strong>1.3.4 ååé‡å’Œå“åº”æ—¶é—´</strong></p><p>ååé‡ï¼šè®¡ç®—æœºå•ä½æ—¶é—´å†…å¤„ç†è¯·æ±‚ä¸ªæ•°ã€‚</p><p>å“åº”æ—¶é—´ï¼šä»å‘èµ·è¯·æ±‚åˆ°æ”¶åˆ°ç»“æœæ‰€éœ€æ—¶é—´ã€‚</p><hr><p><img src="https://img.rruu.net/image/600a97fb2c926"></p>]]></content>
      
      
      <categories>
          
          <category> è®¡ç®—æœºåŸºç¡€ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> è®¡ç»„ </tag>
            
            <tag> åº•å±‚ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>spring</title>
      <link href="2020/12/31/spring/"/>
      <url>2020/12/31/spring/</url>
      
        <content type="html"><![CDATA[<h1 id="Spring"><a href="#Spring" class="headerlink" title="Spring"></a>Spring</h1><blockquote><p>ç®€ä»‹</p></blockquote><p>Spring : æ˜¥å¤© â€”&gt;ç»™è½¯ä»¶è¡Œä¸šå¸¦æ¥äº†æ˜¥å¤©</p><p>2002å¹´ï¼ŒRod Jahnsoné¦–æ¬¡æ¨å‡ºäº†Springæ¡†æ¶é›å½¢interface21æ¡†æ¶ã€‚</p><p>2004å¹´3æœˆ24æ—¥ï¼ŒSpringæ¡†æ¶ä»¥interface21æ¡†æ¶ä¸ºåŸºç¡€ï¼Œç»è¿‡é‡æ–°è®¾è®¡ï¼Œå‘å¸ƒäº†1.0æ­£å¼ç‰ˆã€‚</p><p>å¾ˆéš¾æƒ³è±¡Rod Johnsonçš„å­¦å† , ä»–æ˜¯æ‚‰å°¼å¤§å­¦çš„åšå£«ï¼Œç„¶è€Œä»–çš„ä¸“ä¸šä¸æ˜¯è®¡ç®—æœºï¼Œè€Œæ˜¯éŸ³ä¹å­¦ã€‚</p><p>Springç†å¿µ : ä½¿ç°æœ‰æŠ€æœ¯æ›´åŠ å®ç”¨ . æœ¬èº«å°±æ˜¯ä¸€ä¸ªå¤§æ‚çƒ© , æ•´åˆç°æœ‰çš„æ¡†æ¶æŠ€æœ¯</p><p>å®˜ç½‘ : <a href="http://spring.io/">http://spring.io/</a></p><p>å®˜æ–¹ä¸‹è½½åœ°å€ : <a href="https://repo.spring.io/libs-release-local/org/springframework/spring/">https://repo.spring.io/libs-release-local/org/springframework/spring/</a></p><p>GitHub : <a href="https://github.com/spring-projects">https://github.com/spring-projects</a></p><blockquote><p>ä¼˜ç‚¹</p></blockquote><p>1ã€Springæ˜¯ä¸€ä¸ªå¼€æºå…è´¹çš„æ¡†æ¶ , å®¹å™¨  .</p><p>2ã€Springæ˜¯ä¸€ä¸ªè½»é‡çº§çš„æ¡†æ¶ , éä¾µå…¥å¼çš„ .</p><p><strong>3ã€æ§åˆ¶åè½¬ IoC  , é¢å‘åˆ‡é¢ Aop</strong></p><p>4ã€å¯¹äº‹ç‰©çš„æ”¯æŒ , å¯¹æ¡†æ¶çš„æ”¯æŒ</p><p>â€¦â€¦.</p><p>ä¸€å¥è¯æ¦‚æ‹¬ï¼š</p><p><strong>Springæ˜¯ä¸€ä¸ªè½»é‡çº§çš„æ§åˆ¶åè½¬(IoC)å’Œé¢å‘åˆ‡é¢(AOP)çš„å®¹å™¨ï¼ˆæ¡†æ¶ï¼‰ã€‚</strong></p><blockquote><p>ç»„æˆ</p></blockquote><p><img src="https://mmbiz.qpic.cn/mmbiz_png/uJDAUKrGC7KtDiaOqFy5ourlJ8FTVV2FF6KnNia5YDhfatibrMvAUAhxgF27g4HdJsBGl6Fae9yQlUQJc9Bf8uftw/640?wx_fmt=png&amp;tp=webp&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1" alt="img"></p><p>Spring æ¡†æ¶æ˜¯ä¸€ä¸ªåˆ†å±‚æ¶æ„ï¼Œç”± 7 ä¸ªå®šä¹‰è‰¯å¥½çš„æ¨¡å—ç»„æˆã€‚Spring æ¨¡å—æ„å»ºåœ¨æ ¸å¿ƒå®¹å™¨ä¹‹ä¸Šï¼Œæ ¸å¿ƒå®¹å™¨å®šä¹‰äº†åˆ›å»ºã€é…ç½®å’Œç®¡ç† bean çš„æ–¹å¼ .</p><p><img src="https://mmbiz.qpic.cn/mmbiz_png/uJDAUKrGC7KtDiaOqFy5ourlJ8FTVV2FFetRkkw19r7H3mHDibgs4RpRNHdG6CcIMdnxRCu2yYXNiano7ESCCMF0A/640?wx_fmt=png&amp;tp=webp&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1" alt="img"></p><p>ç»„æˆ Spring æ¡†æ¶çš„æ¯ä¸ªæ¨¡å—ï¼ˆæˆ–ç»„ä»¶ï¼‰éƒ½å¯ä»¥å•ç‹¬å­˜åœ¨ï¼Œæˆ–è€…ä¸å…¶ä»–ä¸€ä¸ªæˆ–å¤šä¸ªæ¨¡å—è”åˆå®ç°ã€‚æ¯ä¸ªæ¨¡å—çš„åŠŸèƒ½å¦‚ä¸‹ï¼š</p><ul><li><strong>æ ¸å¿ƒå®¹å™¨</strong>ï¼šæ ¸å¿ƒå®¹å™¨æä¾› Spring æ¡†æ¶çš„åŸºæœ¬åŠŸèƒ½ã€‚æ ¸å¿ƒå®¹å™¨çš„ä¸»è¦ç»„ä»¶æ˜¯BeanFactoryï¼Œå®ƒæ˜¯å·¥å‚æ¨¡å¼çš„å®ç°ã€‚BeanFactory ä½¿ç”¨<em>æ§åˆ¶åè½¬</em>ï¼ˆIOCï¼‰ æ¨¡å¼å°†åº”ç”¨ç¨‹åºçš„é…ç½®å’Œä¾èµ–æ€§è§„èŒƒä¸å®é™…çš„åº”ç”¨ç¨‹åºä»£ç åˆ†å¼€ã€‚</li><li><strong>Spring ä¸Šä¸‹æ–‡</strong>ï¼šSpring ä¸Šä¸‹æ–‡æ˜¯ä¸€ä¸ªé…ç½®æ–‡ä»¶ï¼Œå‘ Spring æ¡†æ¶æä¾›ä¸Šä¸‹æ–‡ä¿¡æ¯ã€‚Spring ä¸Šä¸‹æ–‡åŒ…æ‹¬ä¼ä¸šæœåŠ¡ï¼Œä¾‹å¦‚ JNDIã€EJBã€ç”µå­é‚®ä»¶ã€å›½é™…åŒ–ã€æ ¡éªŒå’Œè°ƒåº¦åŠŸèƒ½ã€‚</li><li><strong>Spring AOP</strong>ï¼šé€šè¿‡é…ç½®ç®¡ç†ç‰¹æ€§ï¼ŒSpring AOP æ¨¡å—ç›´æ¥å°†é¢å‘åˆ‡é¢çš„ç¼–ç¨‹åŠŸèƒ½ , é›†æˆåˆ°äº† Spring æ¡†æ¶ä¸­ã€‚æ‰€ä»¥ï¼Œå¯ä»¥å¾ˆå®¹æ˜“åœ°ä½¿ Spring æ¡†æ¶ç®¡ç†ä»»ä½•æ”¯æŒ AOPçš„å¯¹è±¡ã€‚Spring AOP æ¨¡å—ä¸ºåŸºäº Spring çš„åº”ç”¨ç¨‹åºä¸­çš„å¯¹è±¡æä¾›äº†äº‹åŠ¡ç®¡ç†æœåŠ¡ã€‚é€šè¿‡ä½¿ç”¨ Spring AOPï¼Œä¸ç”¨ä¾èµ–ç»„ä»¶ï¼Œå°±å¯ä»¥å°†å£°æ˜æ€§äº‹åŠ¡ç®¡ç†é›†æˆåˆ°åº”ç”¨ç¨‹åºä¸­ã€‚</li><li><strong>Spring DAO</strong>ï¼šJDBC DAO æŠ½è±¡å±‚æä¾›äº†æœ‰æ„ä¹‰çš„å¼‚å¸¸å±‚æ¬¡ç»“æ„ï¼Œå¯ç”¨è¯¥ç»“æ„æ¥ç®¡ç†å¼‚å¸¸å¤„ç†å’Œä¸åŒæ•°æ®åº“ä¾›åº”å•†æŠ›å‡ºçš„é”™è¯¯æ¶ˆæ¯ã€‚å¼‚å¸¸å±‚æ¬¡ç»“æ„ç®€åŒ–äº†é”™è¯¯å¤„ç†ï¼Œå¹¶ä¸”æå¤§åœ°é™ä½äº†éœ€è¦ç¼–å†™çš„å¼‚å¸¸ä»£ç æ•°é‡ï¼ˆä¾‹å¦‚æ‰“å¼€å’Œå…³é—­è¿æ¥ï¼‰ã€‚Spring DAO çš„é¢å‘ JDBC çš„å¼‚å¸¸éµä»é€šç”¨çš„ DAO å¼‚å¸¸å±‚æ¬¡ç»“æ„ã€‚</li><li><strong>Spring ORM</strong>ï¼šSpring æ¡†æ¶æ’å…¥äº†è‹¥å¹²ä¸ª ORM æ¡†æ¶ï¼Œä»è€Œæä¾›äº† ORM çš„å¯¹è±¡å…³ç³»å·¥å…·ï¼Œå…¶ä¸­åŒ…æ‹¬ JDOã€Hibernate å’Œ iBatis SQL Mapã€‚æ‰€æœ‰è¿™äº›éƒ½éµä» Spring çš„é€šç”¨äº‹åŠ¡å’Œ DAO å¼‚å¸¸å±‚æ¬¡ç»“æ„ã€‚</li><li><strong>Spring Web æ¨¡å—</strong>ï¼šWeb ä¸Šä¸‹æ–‡æ¨¡å—å»ºç«‹åœ¨åº”ç”¨ç¨‹åºä¸Šä¸‹æ–‡æ¨¡å—ä¹‹ä¸Šï¼Œä¸ºåŸºäº Web çš„åº”ç”¨ç¨‹åºæä¾›äº†ä¸Šä¸‹æ–‡ã€‚æ‰€ä»¥ï¼ŒSpring æ¡†æ¶æ”¯æŒä¸ Jakarta Struts çš„é›†æˆã€‚Web æ¨¡å—è¿˜ç®€åŒ–äº†å¤„ç†å¤šéƒ¨åˆ†è¯·æ±‚ä»¥åŠå°†è¯·æ±‚å‚æ•°ç»‘å®šåˆ°åŸŸå¯¹è±¡çš„å·¥ä½œã€‚</li><li><strong>Spring MVC æ¡†æ¶</strong>ï¼šMVC æ¡†æ¶æ˜¯ä¸€ä¸ªå…¨åŠŸèƒ½çš„æ„å»º Web åº”ç”¨ç¨‹åºçš„ MVC å®ç°ã€‚é€šè¿‡ç­–ç•¥æ¥å£ï¼ŒMVC æ¡†æ¶å˜æˆä¸ºé«˜åº¦å¯é…ç½®çš„ï¼ŒMVC å®¹çº³äº†å¤§é‡è§†å›¾æŠ€æœ¯ï¼Œå…¶ä¸­åŒ…æ‹¬ JSPã€Velocityã€Tilesã€iText å’Œ POIã€‚</li></ul><blockquote><p>æ‹“å±•</p></blockquote><p><strong>Spring Bootä¸Spring Cloud</strong></p><ul><li>Spring Boot æ˜¯ Spring çš„ä¸€å¥—å¿«é€Ÿé…ç½®è„šæ‰‹æ¶ï¼Œå¯ä»¥åŸºäºSpring Boot å¿«é€Ÿå¼€å‘å•ä¸ªå¾®æœåŠ¡;</li><li>Spring Cloudæ˜¯åŸºäºSpring Bootå®ç°çš„ï¼›</li><li>Spring Bootä¸“æ³¨äºå¿«é€Ÿã€æ–¹ä¾¿é›†æˆçš„å•ä¸ªå¾®æœåŠ¡ä¸ªä½“ï¼ŒSpring Cloudå…³æ³¨å…¨å±€çš„æœåŠ¡æ²»ç†æ¡†æ¶ï¼›</li><li>Spring Bootä½¿ç”¨äº†çº¦æŸä¼˜äºé…ç½®çš„ç†å¿µï¼Œå¾ˆå¤šé›†æˆæ–¹æ¡ˆå·²ç»å¸®ä½ é€‰æ‹©å¥½äº†ï¼Œèƒ½ä¸é…ç½®å°±ä¸é…ç½® , Spring Cloudå¾ˆå¤§çš„ä¸€éƒ¨åˆ†æ˜¯åŸºäºSpring Bootæ¥å®ç°ï¼ŒSpring Bootå¯ä»¥ç¦»å¼€Spring Cloudç‹¬ç«‹ä½¿ç”¨å¼€å‘é¡¹ç›®ï¼Œä½†æ˜¯Spring Cloudç¦»ä¸å¼€Spring Bootï¼Œå±äºä¾èµ–çš„å…³ç³»ã€‚</li><li>SpringBootåœ¨SpringCloundä¸­èµ·åˆ°äº†æ‰¿ä¸Šå¯ä¸‹çš„ä½œç”¨ï¼Œå¦‚æœä½ è¦å­¦ä¹ SpringCloudå¿…é¡»è¦å­¦ä¹ SpringBootã€‚</li></ul><p><img src="https://mmbiz.qpic.cn/mmbiz_png/uJDAUKrGC7KtDiaOqFy5ourlJ8FTVV2FFH5GFXM4YPUGrmA2JdpPic3FwYaI1JZHBZxibaUJVXWzzTFeCayk4XAIg/640?wx_fmt=png&amp;tp=webp&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1" alt="img"></p><p>IOCç†è®ºæ¨å¯¼</p><h2 id="IoCåŸºç¡€"><a href="#IoCåŸºç¡€" class="headerlink" title="IoCåŸºç¡€"></a>IoCåŸºç¡€</h2><p>æ–°å»ºä¸€ä¸ªç©ºç™½çš„mavené¡¹ç›®</p><blockquote><p>åˆ†æå®ç°</p></blockquote><p>æˆ‘ä»¬å…ˆç”¨æˆ‘ä»¬åŸæ¥çš„æ–¹å¼å†™ä¸€æ®µä»£ç  .</p><p>1ã€å…ˆå†™ä¸€ä¸ªUserDaoæ¥å£</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">UserDao</span> </span>{</span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">getUser</span><span class="params">()</span></span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>2ã€å†å»å†™Daoçš„å®ç°ç±»</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">UserDaoImpl</span> <span class="keyword">implements</span> <span class="title">UserDao</span> </span>{</span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">getUser</span><span class="params">()</span> </span>{</span><br><span class="line">       System.out.println(<span class="string">"è·å–ç”¨æˆ·æ•°æ®"</span>);</span><br><span class="line">  }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>3ã€ç„¶åå»å†™UserServiceçš„æ¥å£</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">UserService</span> </span>{</span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">getUser</span><span class="params">()</span></span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>4ã€æœ€åå†™Serviceçš„å®ç°ç±»</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">UserServiceImpl</span> <span class="keyword">implements</span> <span class="title">UserService</span> </span>{</span><br><span class="line">   <span class="keyword">private</span> UserDao userDao = <span class="keyword">new</span> UserDaoImpl();</span><br><span class="line"></span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">getUser</span><span class="params">()</span> </span>{</span><br><span class="line">       userDao.getUser();</span><br><span class="line">  }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>5ã€æµ‹è¯•ä¸€ä¸‹</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test</span><span class="params">()</span></span>{</span><br><span class="line">   UserService service = <span class="keyword">new</span> UserServiceImpl();</span><br><span class="line">   service.getUser();</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>è¿™æ˜¯æˆ‘ä»¬åŸæ¥çš„æ–¹å¼ , å¼€å§‹å¤§å®¶ä¹Ÿéƒ½æ˜¯è¿™ä¹ˆå»å†™çš„å¯¹å§ . é‚£æˆ‘ä»¬ç°åœ¨ä¿®æ”¹ä¸€ä¸‹ .</p><p>æŠŠUserdaoçš„å®ç°ç±»å¢åŠ ä¸€ä¸ª .</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">UserDaoMySqlImpl</span> <span class="keyword">implements</span> <span class="title">UserDao</span> </span>{</span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">getUser</span><span class="params">()</span> </span>{</span><br><span class="line">       System.out.println(<span class="string">"MySqlè·å–ç”¨æˆ·æ•°æ®"</span>);</span><br><span class="line">  }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>ç´§æ¥ç€æˆ‘ä»¬è¦å»ä½¿ç”¨MySqlçš„è¯ , æˆ‘ä»¬å°±éœ€è¦å»serviceå®ç°ç±»é‡Œé¢ä¿®æ”¹å¯¹åº”çš„å®ç°</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">UserServiceImpl</span> <span class="keyword">implements</span> <span class="title">UserService</span> </span>{</span><br><span class="line">   <span class="keyword">private</span> UserDao userDao = <span class="keyword">new</span> UserDaoMySqlImpl();</span><br><span class="line"></span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">getUser</span><span class="params">()</span> </span>{</span><br><span class="line">       userDao.getUser();</span><br><span class="line">  }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>åœ¨å‡è®¾, æˆ‘ä»¬å†å¢åŠ ä¸€ä¸ªUserdaoçš„å®ç°ç±» .</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">UserDaoOracleImpl</span> <span class="keyword">implements</span> <span class="title">UserDao</span> </span>{</span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">getUser</span><span class="params">()</span> </span>{</span><br><span class="line">       System.out.println(<span class="string">"Oracleè·å–ç”¨æˆ·æ•°æ®"</span>);</span><br><span class="line">  }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>é‚£ä¹ˆæˆ‘ä»¬è¦ä½¿ç”¨Oracle , åˆéœ€è¦å»serviceå®ç°ç±»é‡Œé¢ä¿®æ”¹å¯¹åº”çš„å®ç° . å‡è®¾æˆ‘ä»¬çš„è¿™ç§éœ€æ±‚éå¸¸å¤§ , è¿™ç§æ–¹å¼å°±æ ¹æœ¬ä¸é€‚ç”¨äº†, ç”šè‡³åäººç±»å¯¹å§ , æ¯æ¬¡å˜åŠ¨ , éƒ½éœ€è¦ä¿®æ”¹å¤§é‡ä»£ç  . è¿™ç§è®¾è®¡çš„è€¦åˆæ€§å¤ªé«˜äº†, ç‰µä¸€å‘è€ŒåŠ¨å…¨èº« .</p><p><strong>é‚£æˆ‘ä»¬å¦‚ä½•å»è§£å†³å‘¢ ?</strong> </p><p>æˆ‘ä»¬å¯ä»¥åœ¨éœ€è¦ç”¨åˆ°ä»–çš„åœ°æ–¹ , ä¸å»å®ç°å®ƒ , è€Œæ˜¯ç•™å‡ºä¸€ä¸ªæ¥å£ , åˆ©ç”¨set , æˆ‘ä»¬å»ä»£ç é‡Œä¿®æ”¹ä¸‹ .</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">UserServiceImpl</span> <span class="keyword">implements</span> <span class="title">UserService</span> </span>{</span><br><span class="line">   <span class="keyword">private</span> UserDao userDao;</span><br><span class="line"><span class="comment">// åˆ©ç”¨setå®ç°</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setUserDao</span><span class="params">(UserDao userDao)</span> </span>{</span><br><span class="line">       <span class="keyword">this</span>.userDao = userDao;</span><br><span class="line">  }</span><br><span class="line"></span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">getUser</span><span class="params">()</span> </span>{</span><br><span class="line">       userDao.getUser();</span><br><span class="line">  }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>ç°åœ¨å»æˆ‘ä»¬çš„æµ‹è¯•ç±»é‡Œ , è¿›è¡Œæµ‹è¯• ;</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test</span><span class="params">()</span></span>{</span><br><span class="line">   UserServiceImpl service = <span class="keyword">new</span> UserServiceImpl();</span><br><span class="line">   service.setUserDao( <span class="keyword">new</span> UserDaoMySqlImpl() );</span><br><span class="line">   service.getUser();</span><br><span class="line">   <span class="comment">//é‚£æˆ‘ä»¬ç°åœ¨åˆæƒ³ç”¨Oracleå»å®ç°å‘¢</span></span><br><span class="line">   service.setUserDao( <span class="keyword">new</span> UserDaoOracleImpl() );</span><br><span class="line">   service.getUser();</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>å¤§å®¶å‘ç°äº†åŒºåˆ«æ²¡æœ‰ ? å¯èƒ½å¾ˆå¤šäººè¯´æ²¡å•¥åŒºåˆ« . ä½†æ˜¯åŒå­¦ä»¬ , ä»–ä»¬å·²ç»å‘ç”Ÿäº†æ ¹æœ¬æ€§çš„å˜åŒ– , å¾ˆå¤šåœ°æ–¹éƒ½ä¸ä¸€æ ·äº† . ä»”ç»†å»æ€è€ƒä¸€ä¸‹ , ä»¥å‰æ‰€æœ‰ä¸œè¥¿éƒ½æ˜¯ç”±ç¨‹åºå»è¿›è¡Œæ§åˆ¶åˆ›å»º , è€Œç°åœ¨æ˜¯ç”±æˆ‘ä»¬è‡ªè¡Œæ§åˆ¶åˆ›å»ºå¯¹è±¡ , æŠŠä¸»åŠ¨æƒäº¤ç»™äº†è°ƒç”¨è€… . ç¨‹åºä¸ç”¨å»ç®¡æ€ä¹ˆåˆ›å»º,æ€ä¹ˆå®ç°äº† . å®ƒåªè´Ÿè´£æä¾›ä¸€ä¸ªæ¥å£ .</p><p>è¿™ç§æ€æƒ³ , ä»æœ¬è´¨ä¸Šè§£å†³äº†é—®é¢˜ , æˆ‘ä»¬ç¨‹åºå‘˜ä¸å†å»ç®¡ç†å¯¹è±¡çš„åˆ›å»ºäº† , æ›´å¤šçš„å»å…³æ³¨ä¸šåŠ¡çš„å®ç° . è€¦åˆæ€§å¤§å¤§é™ä½ . è¿™ä¹Ÿå°±æ˜¯IOCçš„åŸå‹ !</p><blockquote><p>IOCæœ¬è´¨</p></blockquote><p><strong>æ§åˆ¶åè½¬IoC(Inversion of Control)ï¼Œæ˜¯ä¸€ç§è®¾è®¡æ€æƒ³ï¼ŒDI(ä¾èµ–æ³¨å…¥)æ˜¯å®ç°IoCçš„ä¸€ç§æ–¹æ³•</strong>ï¼Œä¹Ÿæœ‰äººè®¤ä¸ºDIåªæ˜¯IoCçš„å¦ä¸€ç§è¯´æ³•ã€‚æ²¡æœ‰IoCçš„ç¨‹åºä¸­ , æˆ‘ä»¬ä½¿ç”¨é¢å‘å¯¹è±¡ç¼–ç¨‹ , å¯¹è±¡çš„åˆ›å»ºä¸å¯¹è±¡é—´çš„ä¾èµ–å…³ç³»å®Œå…¨ç¡¬ç¼–ç åœ¨ç¨‹åºä¸­ï¼Œå¯¹è±¡çš„åˆ›å»ºç”±ç¨‹åºè‡ªå·±æ§åˆ¶ï¼Œæ§åˆ¶åè½¬åå°†å¯¹è±¡çš„åˆ›å»ºè½¬ç§»ç»™ç¬¬ä¸‰æ–¹ï¼Œä¸ªäººè®¤ä¸ºæ‰€è°“æ§åˆ¶åè½¬å°±æ˜¯ï¼šè·å¾—ä¾èµ–å¯¹è±¡çš„æ–¹å¼åè½¬äº†ã€‚</p><p><img src="https://mmbiz.qpic.cn/mmbiz_png/uJDAUKrGC7KtDiaOqFy5ourlJ8FTVV2FFuYibmavlBHq9e4cDqiclpYSG8VT4EicVsnqKp65yJKQeNibsVdTiahQibJSg/640?wx_fmt=png&amp;tp=webp&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1" alt="img"></p><p><strong>IoCæ˜¯Springæ¡†æ¶çš„æ ¸å¿ƒå†…å®¹</strong>ï¼Œä½¿ç”¨å¤šç§æ–¹å¼å®Œç¾çš„å®ç°äº†IoCï¼Œå¯ä»¥ä½¿ç”¨XMLé…ç½®ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨æ³¨è§£ï¼Œæ–°ç‰ˆæœ¬çš„Springä¹Ÿå¯ä»¥é›¶é…ç½®å®ç°IoCã€‚</p><p>Springå®¹å™¨åœ¨åˆå§‹åŒ–æ—¶å…ˆè¯»å–é…ç½®æ–‡ä»¶ï¼Œæ ¹æ®é…ç½®æ–‡ä»¶æˆ–å…ƒæ•°æ®åˆ›å»ºä¸ç»„ç»‡å¯¹è±¡å­˜å…¥å®¹å™¨ä¸­ï¼Œç¨‹åºä½¿ç”¨æ—¶å†ä»Iocå®¹å™¨ä¸­å–å‡ºéœ€è¦çš„å¯¹è±¡ã€‚</p><p><img src="https://mmbiz.qpic.cn/mmbiz_png/uJDAUKrGC7KtDiaOqFy5ourlJ8FTVV2FF67dfeA6cRT7EiafNcibWyf57SGpkZ01JnpiaaicNB1ibBjGaicAvayKEWJ0A/640?wx_fmt=png&amp;tp=webp&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1" alt="img"></p><p>é‡‡ç”¨XMLæ–¹å¼é…ç½®Beançš„æ—¶å€™ï¼ŒBeançš„å®šä¹‰ä¿¡æ¯æ˜¯å’Œå®ç°åˆ†ç¦»çš„ï¼Œè€Œé‡‡ç”¨æ³¨è§£çš„æ–¹å¼å¯ä»¥æŠŠä¸¤è€…åˆä¸ºä¸€ä½“ï¼ŒBeançš„å®šä¹‰ä¿¡æ¯ç›´æ¥ä»¥æ³¨è§£çš„å½¢å¼å®šä¹‰åœ¨å®ç°ç±»ä¸­ï¼Œä»è€Œè¾¾åˆ°äº†é›¶é…ç½®çš„ç›®çš„ã€‚</p><p><strong>æ§åˆ¶åè½¬æ˜¯ä¸€ç§é€šè¿‡æè¿°ï¼ˆXMLæˆ–æ³¨è§£ï¼‰å¹¶é€šè¿‡ç¬¬ä¸‰æ–¹å»ç”Ÿäº§æˆ–è·å–ç‰¹å®šå¯¹è±¡çš„æ–¹å¼ã€‚åœ¨Springä¸­å®ç°æ§åˆ¶åè½¬çš„æ˜¯IoCå®¹å™¨ï¼Œå…¶å®ç°æ–¹æ³•æ˜¯ä¾èµ–æ³¨å…¥ï¼ˆDependency Injection,DIï¼‰ã€‚</strong></p><h2 id="HelloSpring"><a href="#HelloSpring" class="headerlink" title="HelloSpring"></a>HelloSpring</h2><blockquote><p>å¯¼å…¥JaråŒ…</p></blockquote><p>æ³¨ : spring éœ€è¦å¯¼å…¥commons-loggingè¿›è¡Œæ—¥å¿—è®°å½• . æˆ‘ä»¬åˆ©ç”¨maven , ä»–ä¼šè‡ªåŠ¨ä¸‹è½½å¯¹åº”çš„ä¾èµ–é¡¹ .</p><figure class="highlight xml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-webmvc<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">version</span>&gt;</span>5.1.10.RELEASE<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><blockquote><p>ç¼–å†™ä»£ç </p></blockquote><p>1ã€ç¼–å†™ä¸€ä¸ªHelloå®ä½“ç±»</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Hello</span> </span>{</span><br><span class="line">   <span class="keyword">private</span> String name;</span><br><span class="line"></span><br><span class="line">   <span class="function"><span class="keyword">public</span> String <span class="title">getName</span><span class="params">()</span> </span>{</span><br><span class="line">       <span class="keyword">return</span> name;</span><br><span class="line">  }</span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setName</span><span class="params">(String name)</span> </span>{</span><br><span class="line">       <span class="keyword">this</span>.name = name;</span><br><span class="line">  }</span><br><span class="line"></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">show</span><span class="params">()</span></span>{</span><br><span class="line">       System.out.println(<span class="string">"Hello,"</span>+ name );</span><br><span class="line">  }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>2ã€ç¼–å†™æˆ‘ä»¬çš„springæ–‡ä»¶ , è¿™é‡Œæˆ‘ä»¬å‘½åä¸ºbeans.xml</p><figure class="highlight xml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">"http://www.springframework.org/schema/beans"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">xmlns:xsi</span>=<span class="string">"http://www.w3.org/2001/XMLSchema-instance"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">xsi:schemaLocation</span>=<span class="string">"http://www.springframework.org/schema/beans</span></span></span><br><span class="line"><span class="tag"><span class="string">       http://www.springframework.org/schema/beans/spring-beans.xsd"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">   <span class="comment">&lt;!--beanå°±æ˜¯javaå¯¹è±¡ , ç”±Springåˆ›å»ºå’Œç®¡ç†--&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"hello"</span> <span class="attr">class</span>=<span class="string">"com.kuang.pojo.Hello"</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"name"</span> <span class="attr">value</span>=<span class="string">"Spring"</span>/&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><p>3ã€æˆ‘ä»¬å¯ä»¥å»è¿›è¡Œæµ‹è¯•äº† .</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test</span><span class="params">()</span></span>{</span><br><span class="line">   <span class="comment">//è§£æbeans.xmlæ–‡ä»¶ , ç”Ÿæˆç®¡ç†ç›¸åº”çš„Beanå¯¹è±¡</span></span><br><span class="line">   ApplicationContext context = <span class="keyword">new</span> ClassPathXmlApplicationContext(<span class="string">"beans.xml"</span>);</span><br><span class="line">   <span class="comment">//getBean : å‚æ•°å³ä¸ºspringé…ç½®æ–‡ä»¶ä¸­beançš„id .</span></span><br><span class="line">   Hello hello = (Hello) context.getBean(<span class="string">"hello"</span>);</span><br><span class="line">   hello.show();</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><blockquote><p>æ€è€ƒ</p></blockquote><ul><li>Hello å¯¹è±¡æ˜¯è°åˆ›å»ºçš„ ?  ã€hello å¯¹è±¡æ˜¯ç”±Springåˆ›å»ºçš„ã€‘</li><li>Hello å¯¹è±¡çš„å±æ€§æ˜¯æ€ä¹ˆè®¾ç½®çš„ ?  hello å¯¹è±¡çš„å±æ€§æ˜¯ç”±Springå®¹å™¨è®¾ç½®çš„</li></ul><p><strong>è¿™ä¸ªè¿‡ç¨‹å°±å«æ§åˆ¶åè½¬ :</strong></p><ul><li><strong>æ§åˆ¶</strong> : è°æ¥æ§åˆ¶å¯¹è±¡çš„åˆ›å»º , ä¼ ç»Ÿåº”ç”¨ç¨‹åºçš„å¯¹è±¡æ˜¯ç”±ç¨‹åºæœ¬èº«æ§åˆ¶åˆ›å»ºçš„ , ä½¿ç”¨Springå , å¯¹è±¡æ˜¯ç”±Springæ¥åˆ›å»ºçš„</li><li>**åè½¬ **: ç¨‹åºæœ¬èº«ä¸åˆ›å»ºå¯¹è±¡ , è€Œå˜æˆè¢«åŠ¨çš„æ¥æ”¶å¯¹è±¡ .</li></ul><p>ä¾èµ–æ³¨å…¥ : å°±æ˜¯åˆ©ç”¨setæ–¹æ³•æ¥è¿›è¡Œæ³¨å…¥çš„.</p><p> IOCæ˜¯ä¸€ç§ç¼–ç¨‹æ€æƒ³ï¼Œç”±ä¸»åŠ¨çš„ç¼–ç¨‹å˜æˆè¢«åŠ¨çš„æ¥æ”¶</p><p>å¯ä»¥é€šè¿‡newClassPathXmlApplicationContextå»æµè§ˆä¸€ä¸‹åº•å±‚æºç  .</p><blockquote><p>ä¿®æ”¹æ¡ˆä¾‹ä¸€</p></blockquote><p>æˆ‘ä»¬åœ¨æ¡ˆä¾‹ä¸€ä¸­ï¼Œ æ–°å¢ä¸€ä¸ªSpringé…ç½®æ–‡ä»¶beans.xml</p><figure class="highlight xml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">"http://www.springframework.org/schema/beans"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">xmlns:xsi</span>=<span class="string">"http://www.w3.org/2001/XMLSchema-instance"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">xsi:schemaLocation</span>=<span class="string">"http://www.springframework.org/schema/beans</span></span></span><br><span class="line"><span class="tag"><span class="string">       http://www.springframework.org/schema/beans/spring-beans.xsd"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">   <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"MysqlImpl"</span> <span class="attr">class</span>=<span class="string">"com.kuang.dao.impl.UserDaoMySqlImpl"</span>/&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"OracleImpl"</span> <span class="attr">class</span>=<span class="string">"com.kuang.dao.impl.UserDaoOracleImpl"</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">   <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"ServiceImpl"</span> <span class="attr">class</span>=<span class="string">"com.kuang.service.impl.UserServiceImpl"</span>&gt;</span></span><br><span class="line">       <span class="comment">&lt;!--æ³¨æ„: è¿™é‡Œçš„nameå¹¶ä¸æ˜¯å±æ€§ , è€Œæ˜¯setæ–¹æ³•åé¢çš„é‚£éƒ¨åˆ† , é¦–å­—æ¯å°å†™--&gt;</span></span><br><span class="line">       <span class="comment">&lt;!--å¼•ç”¨å¦å¤–ä¸€ä¸ªbean , ä¸æ˜¯ç”¨value è€Œæ˜¯ç”¨ ref--&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"userDao"</span> <span class="attr">ref</span>=<span class="string">"OracleImpl"</span>/&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><p>æµ‹è¯•ï¼</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test2</span><span class="params">()</span></span>{</span><br><span class="line">   ApplicationContext context = <span class="keyword">new</span> ClassPathXmlApplicationContext(<span class="string">"beans.xml"</span>);</span><br><span class="line">   UserServiceImpl serviceImpl = (UserServiceImpl) context.getBean(<span class="string">"ServiceImpl"</span>);</span><br><span class="line">   serviceImpl.getUser();</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>OK , åˆ°äº†ç°åœ¨ , æˆ‘ä»¬å½»åº•ä¸ç”¨å†ç¨‹åºä¸­å»æ”¹åŠ¨äº† , è¦å®ç°ä¸åŒçš„æ“ä½œ , åªéœ€è¦åœ¨xmlé…ç½®æ–‡ä»¶ä¸­è¿›è¡Œä¿®æ”¹ , æ‰€è°“çš„IoC,ä¸€å¥è¯æå®š : å¯¹è±¡ç”±Spring æ¥åˆ›å»º , ç®¡ç† , è£…é… ! </p><h2 id="IOCåˆ›å»ºå¯¹è±¡æ–¹å¼"><a href="#IOCåˆ›å»ºå¯¹è±¡æ–¹å¼" class="headerlink" title="IOCåˆ›å»ºå¯¹è±¡æ–¹å¼"></a>IOCåˆ›å»ºå¯¹è±¡æ–¹å¼</h2><blockquote><p>é€šè¿‡æ— å‚æ„é€ æ–¹æ³•æ¥åˆ›å»º</p></blockquote><p>1ã€User.java</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">User</span> </span>{</span><br><span class="line"></span><br><span class="line">   <span class="keyword">private</span> String name;</span><br><span class="line"></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="title">User</span><span class="params">()</span> </span>{</span><br><span class="line">       System.out.println(<span class="string">"useræ— å‚æ„é€ æ–¹æ³•"</span>);</span><br><span class="line">  }</span><br><span class="line"></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setName</span><span class="params">(String name)</span> </span>{</span><br><span class="line">       <span class="keyword">this</span>.name = name;</span><br><span class="line">  }</span><br><span class="line"></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">show</span><span class="params">()</span></span>{</span><br><span class="line">       System.out.println(<span class="string">"name="</span>+ name );</span><br><span class="line">  }</span><br><span class="line"></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>2ã€beans.xml</p><figure class="highlight xml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">"http://www.springframework.org/schema/beans"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">xmlns:xsi</span>=<span class="string">"http://www.w3.org/2001/XMLSchema-instance"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">xsi:schemaLocation</span>=<span class="string">"http://www.springframework.org/schema/beans</span></span></span><br><span class="line"><span class="tag"><span class="string">       http://www.springframework.org/schema/beans/spring-beans.xsd"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">   <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"user"</span> <span class="attr">class</span>=<span class="string">"com.kuang.pojo.User"</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"name"</span> <span class="attr">value</span>=<span class="string">"kuangshen"</span>/&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><p>3ã€æµ‹è¯•ç±»</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test</span><span class="params">()</span></span>{</span><br><span class="line">   ApplicationContext context = <span class="keyword">new</span> ClassPathXmlApplicationContext(<span class="string">"beans.xml"</span>);</span><br><span class="line">   <span class="comment">//åœ¨æ‰§è¡ŒgetBeançš„æ—¶å€™, userå·²ç»åˆ›å»ºå¥½äº† , é€šè¿‡æ— å‚æ„é€ </span></span><br><span class="line">   User user = (User) context.getBean(<span class="string">"user"</span>);</span><br><span class="line">   <span class="comment">//è°ƒç”¨å¯¹è±¡çš„æ–¹æ³• .</span></span><br><span class="line">   user.show();</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>ç»“æœå¯ä»¥å‘ç°ï¼Œåœ¨è°ƒç”¨showæ–¹æ³•ä¹‹å‰ï¼ŒUserå¯¹è±¡å·²ç»é€šè¿‡æ— å‚æ„é€ åˆå§‹åŒ–äº†ï¼</p><blockquote><p>é€šè¿‡æœ‰å‚æ„é€ æ–¹æ³•æ¥åˆ›å»º</p></blockquote><p>1ã€UserT . java</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">UserT</span> </span>{</span><br><span class="line"></span><br><span class="line">   <span class="keyword">private</span> String name;</span><br><span class="line"></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="title">UserT</span><span class="params">(String name)</span> </span>{</span><br><span class="line">       <span class="keyword">this</span>.name = name;</span><br><span class="line">  }</span><br><span class="line"></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setName</span><span class="params">(String name)</span> </span>{</span><br><span class="line">       <span class="keyword">this</span>.name = name;</span><br><span class="line">  }</span><br><span class="line"></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">show</span><span class="params">()</span></span>{</span><br><span class="line">       System.out.println(<span class="string">"name="</span>+ name );</span><br><span class="line">  }</span><br><span class="line"></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>2ã€beans.xml æœ‰ä¸‰ç§æ–¹å¼ç¼–å†™</p><figure class="highlight xml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- ç¬¬ä¸€ç§æ ¹æ®indexå‚æ•°ä¸‹æ ‡è®¾ç½® --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"userT"</span> <span class="attr">class</span>=<span class="string">"com.kuang.pojo.UserT"</span>&gt;</span></span><br><span class="line">   <span class="comment">&lt;!-- indexæŒ‡æ„é€ æ–¹æ³• , ä¸‹æ ‡ä»0å¼€å§‹ --&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">constructor-arg</span> <span class="attr">index</span>=<span class="string">"0"</span> <span class="attr">value</span>=<span class="string">"kuangshen2"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- ç¬¬äºŒç§æ ¹æ®å‚æ•°åå­—è®¾ç½® --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"userT"</span> <span class="attr">class</span>=<span class="string">"com.kuang.pojo.UserT"</span>&gt;</span></span><br><span class="line">   <span class="comment">&lt;!-- nameæŒ‡å‚æ•°å --&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">constructor-arg</span> <span class="attr">name</span>=<span class="string">"name"</span> <span class="attr">value</span>=<span class="string">"kuangshen2"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- ç¬¬ä¸‰ç§æ ¹æ®å‚æ•°ç±»å‹è®¾ç½® --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"userT"</span> <span class="attr">class</span>=<span class="string">"com.kuang.pojo.UserT"</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">constructor-arg</span> <span class="attr">type</span>=<span class="string">"java.lang.String"</span> <span class="attr">value</span>=<span class="string">"kuangshen2"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><p>3ã€æµ‹è¯•</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testT</span><span class="params">()</span></span>{</span><br><span class="line">   ApplicationContext context = <span class="keyword">new</span> ClassPathXmlApplicationContext(<span class="string">"beans.xml"</span>);</span><br><span class="line">   UserT user = (UserT) context.getBean(<span class="string">"userT"</span>);</span><br><span class="line">   user.show();</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p><strong>ç»“è®ºï¼šåœ¨é…ç½®æ–‡ä»¶åŠ è½½çš„æ—¶å€™ã€‚å…¶ä¸­ç®¡ç†çš„å¯¹è±¡éƒ½å·²ç»åˆå§‹åŒ–äº†ï¼</strong></p><h2 id="Springé…ç½®"><a href="#Springé…ç½®" class="headerlink" title="Springé…ç½®"></a>Springé…ç½®</h2><blockquote><p>åˆ«å</p></blockquote><p>alias è®¾ç½®åˆ«å , ä¸ºbeanè®¾ç½®åˆ«å , å¯ä»¥è®¾ç½®å¤šä¸ªåˆ«å</p><figure class="highlight xml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--è®¾ç½®åˆ«åï¼šåœ¨è·å–Beançš„æ—¶å€™å¯ä»¥ä½¿ç”¨åˆ«åè·å–--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">alias</span> <span class="attr">name</span>=<span class="string">"userT"</span> <span class="attr">alias</span>=<span class="string">"userNew"</span>/&gt;</span></span><br></pre></td></tr></tbody></table></figure><blockquote><p>Beançš„é…ç½®</p></blockquote><figure class="highlight xml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--beanå°±æ˜¯javaå¯¹è±¡,ç”±Springåˆ›å»ºå’Œç®¡ç†--&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">   id æ˜¯beançš„æ ‡è¯†ç¬¦,è¦å”¯ä¸€,å¦‚æœæ²¡æœ‰é…ç½®id,nameå°±æ˜¯é»˜è®¤æ ‡è¯†ç¬¦</span></span><br><span class="line"><span class="comment">   å¦‚æœé…ç½®id,åˆé…ç½®äº†name,é‚£ä¹ˆnameæ˜¯åˆ«å</span></span><br><span class="line"><span class="comment">   nameå¯ä»¥è®¾ç½®å¤šä¸ªåˆ«å,å¯ä»¥ç”¨é€—å·,åˆ†å·,ç©ºæ ¼éš”å¼€</span></span><br><span class="line"><span class="comment">   å¦‚æœä¸é…ç½®idå’Œname,å¯ä»¥æ ¹æ®applicationContext.getBean(.class)è·å–å¯¹è±¡;</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">classæ˜¯beançš„å…¨é™å®šå=åŒ…å+ç±»å</span></span><br><span class="line"><span class="comment">--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"hello"</span> <span class="attr">name</span>=<span class="string">"hello2 h2,h3;h4"</span> <span class="attr">class</span>=<span class="string">"com.kuang.pojo.Hello"</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"name"</span> <span class="attr">value</span>=<span class="string">"Spring"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><blockquote><p>import</p></blockquote><p>å›¢é˜Ÿçš„åˆä½œé€šè¿‡importæ¥å®ç° .</p><figure class="highlight xml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">import</span> <span class="attr">resource</span>=<span class="string">"{path}/beans.xml"</span>/&gt;</span></span><br></pre></td></tr></tbody></table></figure><h2 id="ä¾èµ–æ³¨å…¥"><a href="#ä¾èµ–æ³¨å…¥" class="headerlink" title="ä¾èµ–æ³¨å…¥"></a>ä¾èµ–æ³¨å…¥</h2><blockquote><p>æ¦‚å¿µ</p></blockquote><ul><li>ä¾èµ–æ³¨å…¥ï¼ˆDependency Injection,DIï¼‰ã€‚</li><li>ä¾èµ– : æŒ‡Beanå¯¹è±¡çš„åˆ›å»ºä¾èµ–äºå®¹å™¨ . Beanå¯¹è±¡çš„ä¾èµ–èµ„æº .</li><li>æ³¨å…¥ : æŒ‡Beanå¯¹è±¡æ‰€ä¾èµ–çš„èµ„æº , ç”±å®¹å™¨æ¥è®¾ç½®å’Œè£…é… .</li></ul><blockquote><p>æ„é€ å™¨æ³¨å…¥</p></blockquote><p>æˆ‘ä»¬åœ¨ä¹‹å‰çš„æ¡ˆä¾‹å·²ç»è®²è¿‡äº†</p><blockquote><p>Set æ³¨å…¥ ï¼ˆé‡ç‚¹ï¼‰</p></blockquote><p>è¦æ±‚è¢«æ³¨å…¥çš„å±æ€§ , å¿…é¡»æœ‰setæ–¹æ³• , setæ–¹æ³•çš„æ–¹æ³•åç”±set + å±æ€§é¦–å­—æ¯å¤§å†™ , å¦‚æœå±æ€§æ˜¯booleanç±»å‹ , æ²¡æœ‰setæ–¹æ³• , æ˜¯ is .</p><p>æµ‹è¯•pojoç±» :</p><p>Address.java</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Address</span> </span>{</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> String address;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getAddress</span><span class="params">()</span> </span>{</span><br><span class="line">        <span class="keyword">return</span> address;</span><br><span class="line">   }</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setAddress</span><span class="params">(String address)</span> </span>{</span><br><span class="line">        <span class="keyword">this</span>.address = address;</span><br><span class="line">   }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>Student.java</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.kuang.pojo;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"><span class="keyword">import</span> java.util.Map;</span><br><span class="line"><span class="keyword">import</span> java.util.Properties;</span><br><span class="line"><span class="keyword">import</span> java.util.Set;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Student</span> </span>{</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> Address address;</span><br><span class="line">    <span class="keyword">private</span> String[] books;</span><br><span class="line">    <span class="keyword">private</span> List&lt;String&gt; hobbys;</span><br><span class="line">    <span class="keyword">private</span> Map&lt;String,String&gt; card;</span><br><span class="line">    <span class="keyword">private</span> Set&lt;String&gt; games;</span><br><span class="line">    <span class="keyword">private</span> String wife;</span><br><span class="line">    <span class="keyword">private</span> Properties info;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setName</span><span class="params">(String name)</span> </span>{</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">   }</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setAddress</span><span class="params">(Address address)</span> </span>{</span><br><span class="line">        <span class="keyword">this</span>.address = address;</span><br><span class="line">   }</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setBooks</span><span class="params">(String[] books)</span> </span>{</span><br><span class="line">        <span class="keyword">this</span>.books = books;</span><br><span class="line">   }</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setHobbys</span><span class="params">(List&lt;String&gt; hobbys)</span> </span>{</span><br><span class="line">        <span class="keyword">this</span>.hobbys = hobbys;</span><br><span class="line">   }</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setCard</span><span class="params">(Map&lt;String, String&gt; card)</span> </span>{</span><br><span class="line">        <span class="keyword">this</span>.card = card;</span><br><span class="line">   }</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setGames</span><span class="params">(Set&lt;String&gt; games)</span> </span>{</span><br><span class="line">        <span class="keyword">this</span>.games = games;</span><br><span class="line">   }</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setWife</span><span class="params">(String wife)</span> </span>{</span><br><span class="line">        <span class="keyword">this</span>.wife = wife;</span><br><span class="line">   }</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setInfo</span><span class="params">(Properties info)</span> </span>{</span><br><span class="line">        <span class="keyword">this</span>.info = info;</span><br><span class="line">   }</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">show</span><span class="params">()</span></span>{</span><br><span class="line">        System.out.println(<span class="string">"name="</span>+ name</span><br><span class="line">                + <span class="string">",address="</span>+ address.getAddress()</span><br><span class="line">                + <span class="string">",books="</span></span><br><span class="line">       );</span><br><span class="line">        <span class="keyword">for</span> (String book:books){</span><br><span class="line">            System.out.print(<span class="string">"&lt;&lt;"</span>+book+<span class="string">"&gt;&gt;\t"</span>);</span><br><span class="line">       }</span><br><span class="line">        System.out.println(<span class="string">"\nçˆ±å¥½:"</span>+hobbys);</span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">"card:"</span>+card);</span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">"games:"</span>+games);</span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">"wife:"</span>+wife);</span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">"info:"</span>+info);</span><br><span class="line"></span><br><span class="line">   }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>1ã€<strong>å¸¸é‡æ³¨å…¥</strong></p><figure class="highlight xml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"student"</span> <span class="attr">class</span>=<span class="string">"com.kuang.pojo.Student"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"name"</span> <span class="attr">value</span>=<span class="string">"å°æ˜"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><p>æµ‹è¯•ï¼š</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">java <span class="meta">@Test</span></span><br><span class="line"> <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test01</span><span class="params">()</span></span>{</span><br><span class="line">     ApplicationContext context = newClassPathXmlApplicationContext(<span class="string">"applicationContext.xml"</span>);</span><br><span class="line"> </span><br><span class="line">     Student student = (Student) context.getBean(<span class="string">"student"</span>);</span><br><span class="line"> </span><br><span class="line">     System.out.println(student.getName());</span><br><span class="line"> </span><br><span class="line"> }</span><br></pre></td></tr></tbody></table></figure><p>2ã€<strong>Beanæ³¨å…¥</strong> </p><p><em>æ³¨æ„ç‚¹ï¼šè¿™é‡Œçš„å€¼æ˜¯ä¸€ä¸ªå¼•ç”¨ï¼Œref</em></p><figure class="highlight xml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"addr"</span> <span class="attr">class</span>=<span class="string">"com.kuang.pojo.Address"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"address"</span> <span class="attr">value</span>=<span class="string">"é‡åº†"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"student"</span> <span class="attr">class</span>=<span class="string">"com.kuang.pojo.Student"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"name"</span> <span class="attr">value</span>=<span class="string">"å°æ˜"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"address"</span> <span class="attr">ref</span>=<span class="string">"addr"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><p>3ã€<strong>æ•°ç»„æ³¨å…¥</strong></p><figure class="highlight xml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"student"</span> <span class="attr">class</span>=<span class="string">"com.kuang.pojo.Student"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"name"</span> <span class="attr">value</span>=<span class="string">"å°æ˜"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"address"</span> <span class="attr">ref</span>=<span class="string">"addr"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"books"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">array</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">value</span>&gt;</span>è¥¿æ¸¸è®°<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">value</span>&gt;</span>çº¢æ¥¼æ¢¦<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">value</span>&gt;</span>æ°´æµ’ä¼ <span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">array</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><p>4ã€<strong>Listæ³¨å…¥</strong></p><figure class="highlight xml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"hobbys"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">list</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">value</span>&gt;</span>å¬æ­Œ<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">value</span>&gt;</span>çœ‹ç”µå½±<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">value</span>&gt;</span>çˆ¬å±±<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">list</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><p>5ã€<strong>Mapæ³¨å…¥</strong></p><figure class="highlight xml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"card"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">map</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">entry</span> <span class="attr">key</span>=<span class="string">"ä¸­å›½é‚®æ”¿"</span> <span class="attr">value</span>=<span class="string">"456456456465456"</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">entry</span> <span class="attr">key</span>=<span class="string">"å»ºè®¾"</span> <span class="attr">value</span>=<span class="string">"1456682255511"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">map</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><p>6ã€<strong>setæ³¨å…¥</strong></p><figure class="highlight xml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"games"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">set</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">value</span>&gt;</span>LOL<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">value</span>&gt;</span>BOB<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">value</span>&gt;</span>COC<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">set</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><p>7ã€<strong>Nullæ³¨å…¥</strong></p><figure class="highlight xml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"wife"</span>&gt;</span><span class="tag">&lt;<span class="name">null</span>/&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><p>8ã€<strong>Propertiesæ³¨å…¥</strong></p><figure class="highlight xml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"info"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">props</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">prop</span> <span class="attr">key</span>=<span class="string">"å­¦å·"</span>&gt;</span>20190604<span class="tag">&lt;/<span class="name">prop</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">prop</span> <span class="attr">key</span>=<span class="string">"æ€§åˆ«"</span>&gt;</span>ç”·<span class="tag">&lt;/<span class="name">prop</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">prop</span> <span class="attr">key</span>=<span class="string">"å§“å"</span>&gt;</span>å°æ˜<span class="tag">&lt;/<span class="name">prop</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">props</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><p>æµ‹è¯•ç»“æœï¼š</p><p><img src="https://mmbiz.qpic.cn/mmbiz_png/uJDAUKrGC7K5cyS8ZRTpajtSInicNHbMYGHEFnrCA8Jyr6ian5MWrUHtnKBpYYTTtysbp5UPYKQxSiaUHJibPKlicuQ/640?wx_fmt=png&amp;tp=webp&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1" alt="img"></p><blockquote><p>på‘½åå’Œcå‘½åæ³¨å…¥</p></blockquote><p>User.java ï¼šã€<strong>æ³¨æ„ï¼šè¿™é‡Œæ²¡æœ‰æœ‰å‚æ„é€ å™¨ï¼</strong>ã€‘</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">User</span> </span>{</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> age;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setName</span><span class="params">(String name)</span> </span>{</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">   }</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setAge</span><span class="params">(<span class="keyword">int</span> age)</span> </span>{</span><br><span class="line">        <span class="keyword">this</span>.age = age;</span><br><span class="line">   }</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>{</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"User{"</span> +</span><br><span class="line">                <span class="string">"name='"</span> + name + <span class="string">'\''</span> +</span><br><span class="line">                <span class="string">", age="</span> + age +</span><br><span class="line">                <span class="string">'}'</span>;</span><br><span class="line">   }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>1ã€På‘½åç©ºé—´æ³¨å…¥ : éœ€è¦åœ¨å¤´æ–‡ä»¶ä¸­åŠ å…¥çº¦æŸæ–‡ä»¶</p><figure class="highlight xml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">å¯¼å…¥çº¦æŸ : xmlns:p="http://www.springframework.org/schema/p"</span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--P(å±æ€§: properties)å‘½åç©ºé—´ , å±æ€§ä¾ç„¶è¦è®¾ç½®setæ–¹æ³•--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"user"</span> <span class="attr">class</span>=<span class="string">"com.kuang.pojo.User"</span> <span class="attr">p:name</span>=<span class="string">"ç‹‚ç¥"</span> <span class="attr">p:age</span>=<span class="string">"18"</span>/&gt;</span></span><br></pre></td></tr></tbody></table></figure><p>2ã€c å‘½åç©ºé—´æ³¨å…¥ : éœ€è¦åœ¨å¤´æ–‡ä»¶ä¸­åŠ å…¥çº¦æŸæ–‡ä»¶</p><figure class="highlight xml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">å¯¼å…¥çº¦æŸ : xmlns:c="http://www.springframework.org/schema/c"</span><br><span class="line"><span class="comment">&lt;!--C(æ„é€ : Constructor)å‘½åç©ºé—´ , å±æ€§ä¾ç„¶è¦è®¾ç½®setæ–¹æ³•--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"user"</span> <span class="attr">class</span>=<span class="string">"com.kuang.pojo.User"</span> <span class="attr">c:name</span>=<span class="string">"ç‹‚ç¥"</span> <span class="attr">c:age</span>=<span class="string">"18"</span>/&gt;</span></span><br></pre></td></tr></tbody></table></figure><p>å‘ç°é—®é¢˜ï¼šçˆ†çº¢äº†ï¼Œåˆšæ‰æˆ‘ä»¬æ²¡æœ‰å†™æœ‰å‚æ„é€ ï¼</p><p><strong>è§£å†³ï¼šæŠŠæœ‰å‚æ„é€ å™¨åŠ ä¸Šï¼Œè¿™é‡Œä¹Ÿèƒ½çŸ¥é“ï¼Œ<code>c å°±æ˜¯æ‰€è°“çš„æ„é€ å™¨æ³¨å…¥ï¼</code></strong></p><p>æµ‹è¯•ä»£ç ï¼š</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test02</span><span class="params">()</span></span>{</span><br><span class="line">    ApplicationContext context = newClassPathXmlApplicationContext(<span class="string">"applicationContext.xml"</span>);</span><br><span class="line">    User user = (User) context.getBean(<span class="string">"user"</span>);</span><br><span class="line">    System.out.println(user);</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><blockquote><p>Beançš„ä½œç”¨åŸŸ</p></blockquote><p>åœ¨Springä¸­ï¼Œé‚£äº›ç»„æˆåº”ç”¨ç¨‹åºçš„ä¸»ä½“åŠç”±Spring IoCå®¹å™¨æ‰€ç®¡ç†çš„å¯¹è±¡ï¼Œè¢«ç§°ä¹‹ä¸ºbeanã€‚ç®€å•åœ°è®²ï¼Œbeanå°±æ˜¯ç”±IoCå®¹å™¨åˆå§‹åŒ–ã€è£…é…åŠç®¡ç†çš„å¯¹è±¡ .</p><p><img src="https://mmbiz.qpic.cn/mmbiz_png/uJDAUKrGC7K5cyS8ZRTpajtSInicNHbMYfmmAQF8hrnicY49FRXEkR5xkxD5A4H5pVUia3mFhrDdh4gBt183EiaFaQ/640?wx_fmt=png&amp;tp=webp&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1" alt="img"></p><p>å‡ ç§ä½œç”¨åŸŸä¸­ï¼Œrequestã€sessionä½œç”¨åŸŸä»…åœ¨åŸºäºwebçš„åº”ç”¨ä¸­ä½¿ç”¨ï¼ˆä¸å¿…å…³å¿ƒä½ æ‰€é‡‡ç”¨çš„æ˜¯ä»€ä¹ˆwebåº”ç”¨æ¡†æ¶ï¼‰ï¼Œåªèƒ½ç”¨åœ¨åŸºäºwebçš„Spring ApplicationContextç¯å¢ƒã€‚</p><h4 id="Singleton"><a href="#Singleton" class="headerlink" title="Singleton"></a>Singleton</h4><p>å½“ä¸€ä¸ªbeançš„ä½œç”¨åŸŸä¸ºSingletonï¼Œé‚£ä¹ˆSpring IoCå®¹å™¨ä¸­åªä¼šå­˜åœ¨ä¸€ä¸ªå…±äº«çš„beanå®ä¾‹ï¼Œå¹¶ä¸”æ‰€æœ‰å¯¹beançš„è¯·æ±‚ï¼Œåªè¦idä¸è¯¥beanå®šä¹‰ç›¸åŒ¹é…ï¼Œåˆ™åªä¼šè¿”å›beançš„åŒä¸€å®ä¾‹ã€‚Singletonæ˜¯å•ä¾‹ç±»å‹ï¼Œå°±æ˜¯åœ¨åˆ›å»ºèµ·å®¹å™¨æ—¶å°±åŒæ—¶è‡ªåŠ¨åˆ›å»ºäº†ä¸€ä¸ªbeançš„å¯¹è±¡ï¼Œä¸ç®¡ä½ æ˜¯å¦ä½¿ç”¨ï¼Œä»–éƒ½å­˜åœ¨äº†ï¼Œæ¯æ¬¡è·å–åˆ°çš„å¯¹è±¡éƒ½æ˜¯åŒä¸€ä¸ªå¯¹è±¡ã€‚æ³¨æ„ï¼ŒSingletonä½œç”¨åŸŸæ˜¯Springä¸­çš„ç¼ºçœä½œç”¨åŸŸã€‚è¦åœ¨XMLä¸­å°†beanå®šä¹‰æˆsingletonï¼Œå¯ä»¥è¿™æ ·é…ç½®ï¼š</p><figure class="highlight xml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"ServiceImpl"</span> <span class="attr">class</span>=<span class="string">"cn.csdn.service.ServiceImpl"</span> <span class="attr">scope</span>=<span class="string">"singleton"</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><p>æµ‹è¯•ï¼š</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test03</span><span class="params">()</span></span>{</span><br><span class="line">    ApplicationContext context = newClassPathXmlApplicationContext(<span class="string">"applicationContext.xml"</span>);</span><br><span class="line">    User user = (User) context.getBean(<span class="string">"user"</span>);</span><br><span class="line">    User user2 = (User) context.getBean(<span class="string">"user"</span>);</span><br><span class="line">    System.out.println(user==user2);</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h4 id="Prototype"><a href="#Prototype" class="headerlink" title="Prototype"></a>Prototype</h4><p>å½“ä¸€ä¸ªbeançš„ä½œç”¨åŸŸä¸ºPrototypeï¼Œè¡¨ç¤ºä¸€ä¸ªbeanå®šä¹‰å¯¹åº”å¤šä¸ªå¯¹è±¡å®ä¾‹ã€‚Prototypeä½œç”¨åŸŸçš„beanä¼šå¯¼è‡´åœ¨æ¯æ¬¡å¯¹è¯¥beanè¯·æ±‚ï¼ˆå°†å…¶æ³¨å…¥åˆ°å¦ä¸€ä¸ªbeanä¸­ï¼Œæˆ–è€…ä»¥ç¨‹åºçš„æ–¹å¼è°ƒç”¨å®¹å™¨çš„getBean()æ–¹æ³•ï¼‰æ—¶éƒ½ä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„beanå®ä¾‹ã€‚Prototypeæ˜¯åŸå‹ç±»å‹ï¼Œå®ƒåœ¨æˆ‘ä»¬åˆ›å»ºå®¹å™¨çš„æ—¶å€™å¹¶æ²¡æœ‰å®ä¾‹åŒ–ï¼Œè€Œæ˜¯å½“æˆ‘ä»¬è·å–beançš„æ—¶å€™æ‰ä¼šå»åˆ›å»ºä¸€ä¸ªå¯¹è±¡ï¼Œè€Œä¸”æˆ‘ä»¬æ¯æ¬¡è·å–åˆ°çš„å¯¹è±¡éƒ½ä¸æ˜¯åŒä¸€ä¸ªå¯¹è±¡ã€‚æ ¹æ®ç»éªŒï¼Œå¯¹æœ‰çŠ¶æ€çš„beanåº”è¯¥ä½¿ç”¨prototypeä½œç”¨åŸŸï¼Œè€Œå¯¹æ— çŠ¶æ€çš„beanåˆ™åº”è¯¥ä½¿ç”¨singletonä½œç”¨åŸŸã€‚åœ¨XMLä¸­å°†beanå®šä¹‰æˆprototypeï¼Œå¯ä»¥è¿™æ ·é…ç½®ï¼š</p><figure class="highlight xml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"account"</span> <span class="attr">class</span>=<span class="string">"com.foo.DefaultAccount"</span> <span class="attr">scope</span>=<span class="string">"prototype"</span>/&gt;</span>  </span><br><span class="line"> æˆ–è€…</span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"account"</span> <span class="attr">class</span>=<span class="string">"com.foo.DefaultAccount"</span> <span class="attr">singleton</span>=<span class="string">"false"</span>/&gt;</span></span><br></pre></td></tr></tbody></table></figure><h4 id="Request"><a href="#Request" class="headerlink" title="Request"></a>Request</h4><p>å½“ä¸€ä¸ªbeançš„ä½œç”¨åŸŸä¸ºRequestï¼Œè¡¨ç¤ºåœ¨ä¸€æ¬¡HTTPè¯·æ±‚ä¸­ï¼Œä¸€ä¸ªbeanå®šä¹‰å¯¹åº”ä¸€ä¸ªå®ä¾‹ï¼›å³æ¯ä¸ªHTTPè¯·æ±‚éƒ½ä¼šæœ‰å„è‡ªçš„beanå®ä¾‹ï¼Œå®ƒä»¬ä¾æ®æŸä¸ªbeanå®šä¹‰åˆ›å»ºè€Œæˆã€‚è¯¥ä½œç”¨åŸŸä»…åœ¨åŸºäºwebçš„Spring ApplicationContextæƒ…å½¢ä¸‹æœ‰æ•ˆã€‚è€ƒè™‘ä¸‹é¢beanå®šä¹‰ï¼š</p><figure class="highlight xml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"loginAction"</span> <span class="attr">class</span>=<span class="string">cn.csdn.LoginAction</span>" <span class="attr">scope</span>=<span class="string">"request"</span>/&gt;</span></span><br></pre></td></tr></tbody></table></figure><p>é’ˆå¯¹æ¯æ¬¡HTTPè¯·æ±‚ï¼ŒSpringå®¹å™¨ä¼šæ ¹æ®loginAction beançš„å®šä¹‰åˆ›å»ºä¸€ä¸ªå…¨æ–°çš„LoginAction beanå®ä¾‹ï¼Œä¸”è¯¥loginAction beanå®ä¾‹ä»…åœ¨å½“å‰HTTP requestå†…æœ‰æ•ˆï¼Œå› æ­¤å¯ä»¥æ ¹æ®éœ€è¦æ”¾å¿ƒçš„æ›´æ”¹æ‰€å»ºå®ä¾‹çš„å†…éƒ¨çŠ¶æ€ï¼Œè€Œå…¶ä»–è¯·æ±‚ä¸­æ ¹æ®loginAction beanå®šä¹‰åˆ›å»ºçš„å®ä¾‹ï¼Œå°†ä¸ä¼šçœ‹åˆ°è¿™äº›ç‰¹å®šäºæŸä¸ªè¯·æ±‚çš„çŠ¶æ€å˜åŒ–ã€‚å½“å¤„ç†è¯·æ±‚ç»“æŸï¼Œrequestä½œç”¨åŸŸçš„beanå®ä¾‹å°†è¢«é”€æ¯ã€‚</p><h4 id="Session"><a href="#Session" class="headerlink" title="Session"></a>Session</h4><p>å½“ä¸€ä¸ªbeançš„ä½œç”¨åŸŸä¸ºSessionï¼Œè¡¨ç¤ºåœ¨ä¸€ä¸ªHTTP Sessionä¸­ï¼Œä¸€ä¸ªbeanå®šä¹‰å¯¹åº”ä¸€ä¸ªå®ä¾‹ã€‚è¯¥ä½œç”¨åŸŸä»…åœ¨åŸºäºwebçš„Spring ApplicationContextæƒ…å½¢ä¸‹æœ‰æ•ˆã€‚è€ƒè™‘ä¸‹é¢beanå®šä¹‰ï¼š</p><figure class="highlight xml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"userPreferences"</span> <span class="attr">class</span>=<span class="string">"com.foo.UserPreferences"</span> <span class="attr">scope</span>=<span class="string">"session"</span>/&gt;</span></span><br></pre></td></tr></tbody></table></figure><p>é’ˆå¯¹æŸä¸ªHTTP Sessionï¼ŒSpringå®¹å™¨ä¼šæ ¹æ®userPreferences beanå®šä¹‰åˆ›å»ºä¸€ä¸ªå…¨æ–°çš„userPreferences beanå®ä¾‹ï¼Œä¸”è¯¥userPreferences beanä»…åœ¨å½“å‰HTTP Sessionå†…æœ‰æ•ˆã€‚ä¸requestä½œç”¨åŸŸä¸€æ ·ï¼Œå¯ä»¥æ ¹æ®éœ€è¦æ”¾å¿ƒçš„æ›´æ”¹æ‰€åˆ›å»ºå®ä¾‹çš„å†…éƒ¨çŠ¶æ€ï¼Œè€Œåˆ«çš„HTTP Sessionä¸­æ ¹æ®userPreferencesåˆ›å»ºçš„å®ä¾‹ï¼Œå°†ä¸ä¼šçœ‹åˆ°è¿™äº›ç‰¹å®šäºæŸä¸ªHTTP Sessionçš„çŠ¶æ€å˜åŒ–ã€‚å½“HTTP Sessionæœ€ç»ˆè¢«åºŸå¼ƒçš„æ—¶å€™ï¼Œåœ¨è¯¥HTTP Sessionä½œç”¨åŸŸå†…çš„beanä¹Ÿä¼šè¢«åºŸå¼ƒæ‰ã€‚</p><h2 id="è‡ªåŠ¨è£…é…-å°±æ˜¯æ³¨å€¼çš„ä¸€ç§æ–¹å¼å˜›"><a href="#è‡ªåŠ¨è£…é…-å°±æ˜¯æ³¨å€¼çš„ä¸€ç§æ–¹å¼å˜›" class="headerlink" title="è‡ªåŠ¨è£…é…(å°±æ˜¯æ³¨å€¼çš„ä¸€ç§æ–¹å¼å˜›)"></a>è‡ªåŠ¨è£…é…(å°±æ˜¯æ³¨å€¼çš„ä¸€ç§æ–¹å¼å˜›)</h2><p>Beançš„è‡ªåŠ¨è£…é…</p><blockquote><p>è‡ªåŠ¨è£…é…è¯´æ˜</p></blockquote><ul><li><strong>è‡ªåŠ¨è£…é…æ˜¯ä½¿ç”¨springæ»¡è¶³beanä¾èµ–çš„ä¸€ç§æ–¹æ³•</strong></li><li>springä¼šåœ¨åº”ç”¨ä¸Šä¸‹æ–‡ä¸­ä¸ºæŸä¸ªbeanå¯»æ‰¾å…¶ä¾èµ–çš„beanã€‚</li></ul><p>Springä¸­beanæœ‰ä¸‰ç§è£…é…æœºåˆ¶ï¼Œåˆ†åˆ«æ˜¯ï¼š</p><ol><li><p>åœ¨xmlä¸­æ˜¾å¼é…ç½®ï¼›</p></li><li><p>åœ¨javaä¸­æ˜¾å¼é…ç½®ï¼›</p></li><li><p>éšå¼çš„beanå‘ç°æœºåˆ¶å’Œè‡ªåŠ¨è£…é…ã€‚</p><blockquote><p>ä¸ªäººä¹ æƒ¯äºåœ¨xmlä¸­é…ç½®æˆ–è€…ä½¿ç”¨Jæ³¨è§£ï¼Œè¦è·å–ç±»ä¸Šçš„æ³¨è§£éœ€è¦å¼€å¯æ³¨è§£æ”¯æŒ</p><p>xmlns:context=â€<a href="http://www.springframework.org/schema/context&quot;">http://www.springframework.org/schema/context"</a><br><a href="http://www.springframework.org/schema/context">http://www.springframework.org/schema/context</a><br><a href="http://www.springframework.org/schema/context/spring-context.xsd">http://www.springframework.org/schema/context/spring-context.xsd</a></p><p><a href="context:annotation-config/">context:annotation-config/</a></p></blockquote></li></ol><p>è¿™é‡Œæˆ‘ä»¬ä¸»è¦è®²ç¬¬ä¸‰ç§ï¼šè‡ªåŠ¨åŒ–çš„è£…é…beanã€‚</p><p>Springçš„è‡ªåŠ¨è£…é…éœ€è¦ä»ä¸¤ä¸ªè§’åº¦æ¥å®ç°ï¼Œæˆ–è€…è¯´æ˜¯ä¸¤ä¸ªæ“ä½œï¼š</p><ol><li>**ç»„ä»¶æ‰«æ(component scanning)**ï¼šspringä¼šè‡ªåŠ¨å‘ç°åº”ç”¨ä¸Šä¸‹æ–‡ä¸­æ‰€åˆ›å»ºçš„beanï¼›</li><li>è‡ªåŠ¨è£…é…(autowiring)ï¼šspringè‡ªåŠ¨æ»¡è¶³beanä¹‹é—´çš„ä¾èµ–ï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬è¯´çš„IoC/DIï¼›</li></ol><p><code>ç»„ä»¶æ‰«æå’Œè‡ªåŠ¨è£…é…ç»„åˆå‘æŒ¥å·¨å¤§å¨åŠ›ï¼Œä½¿å¾—æ˜¾ç¤ºçš„é…ç½®é™ä½åˆ°æœ€å°‘ã€‚</code></p><p><strong>æ¨èä¸ä½¿ç”¨è‡ªåŠ¨è£…é…xmlé…ç½® , è€Œä½¿ç”¨æ³¨è§£ .</strong></p><blockquote><p>æµ‹è¯•ç¯å¢ƒæ­å»º</p></blockquote><p>1ã€æ–°å»ºä¸€ä¸ªé¡¹ç›®</p><p>2ã€æ–°å»ºä¸¤ä¸ªå®ä½“ç±»ï¼ŒCat  Dog  éƒ½æœ‰ä¸€ä¸ªå«çš„æ–¹æ³•</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Cat</span> </span>{</span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">shout</span><span class="params">()</span> </span>{</span><br><span class="line">       System.out.println(<span class="string">"miao~"</span>);</span><br><span class="line">  }</span><br><span class="line">}</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Dog</span> </span>{</span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">shout</span><span class="params">()</span> </span>{</span><br><span class="line">       System.out.println(<span class="string">"wang~"</span>);</span><br><span class="line">  }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>3ã€æ–°å»ºä¸€ä¸ªç”¨æˆ·ç±» User</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">User</span> </span>{</span><br><span class="line">   <span class="keyword">private</span> Cat cat;</span><br><span class="line">   <span class="keyword">private</span> Dog dog;</span><br><span class="line">   <span class="keyword">private</span> String str;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>4ã€ç¼–å†™Springé…ç½®æ–‡ä»¶</p><figure class="highlight xml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">"http://www.springframework.org/schema/beans"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">xmlns:xsi</span>=<span class="string">"http://www.w3.org/2001/XMLSchema-instance"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">xsi:schemaLocation</span>=<span class="string">"http://www.springframework.org/schema/beans</span></span></span><br><span class="line"><span class="tag"><span class="string">       http://www.springframework.org/schema/beans/spring-beans.xsd"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">   <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"dog"</span> <span class="attr">class</span>=<span class="string">"com.kuang.pojo.Dog"</span>/&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"cat"</span> <span class="attr">class</span>=<span class="string">"com.kuang.pojo.Cat"</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">   <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"user"</span> <span class="attr">class</span>=<span class="string">"com.kuang.pojo.User"</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"cat"</span> <span class="attr">ref</span>=<span class="string">"cat"</span>/&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"dog"</span> <span class="attr">ref</span>=<span class="string">"dog"</span>/&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"str"</span> <span class="attr">value</span>=<span class="string">"qinjiang"</span>/&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><p>5ã€æµ‹è¯•</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyTest</span> </span>{</span><br><span class="line">   <span class="meta">@Test</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testMethodAutowire</span><span class="params">()</span> </span>{</span><br><span class="line">       ApplicationContext context = newClassPathXmlApplicationContext(<span class="string">"beans.xml"</span>);</span><br><span class="line">       User user = (User) context.getBean(<span class="string">"user"</span>);</span><br><span class="line">       user.getCat().shout();</span><br><span class="line">       user.getDog().shout();</span><br><span class="line">  }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>ç»“æœæ­£å¸¸è¾“å‡ºï¼Œç¯å¢ƒOK</p><blockquote><p>byName</p></blockquote><p><strong>autowire byName (æŒ‰åç§°è‡ªåŠ¨è£…é…)</strong></p><p>ç”±äºåœ¨æ‰‹åŠ¨é…ç½®xmlè¿‡ç¨‹ä¸­ï¼Œå¸¸å¸¸å‘ç”Ÿå­—æ¯ç¼ºæ¼å’Œå¤§å°å†™ç­‰é”™è¯¯ï¼Œè€Œæ— æ³•å¯¹å…¶è¿›è¡Œæ£€æŸ¥ï¼Œä½¿å¾—å¼€å‘æ•ˆç‡é™ä½ã€‚</p><p>é‡‡ç”¨è‡ªåŠ¨è£…é…å°†é¿å…è¿™äº›é”™è¯¯ï¼Œå¹¶ä¸”ä½¿é…ç½®ç®€å•åŒ–ã€‚</p><p>æµ‹è¯•ï¼š</p><p>1ã€ä¿®æ”¹beané…ç½®ï¼Œå¢åŠ ä¸€ä¸ªå±æ€§  autowire=â€byNameâ€</p><figure class="highlight xml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"user"</span> <span class="attr">class</span>=<span class="string">"com.kuang.pojo.User"</span> <span class="attr">autowire</span>=<span class="string">"byName"</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"str"</span> <span class="attr">value</span>=<span class="string">"qinjiang"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><p>2ã€å†æ¬¡æµ‹è¯•ï¼Œç»“æœä¾æ—§æˆåŠŸè¾“å‡ºï¼</p><p>3ã€æˆ‘ä»¬å°† cat çš„bean idä¿®æ”¹ä¸º catXXX</p><p>4ã€å†æ¬¡æµ‹è¯•ï¼Œ æ‰§è¡Œæ—¶æŠ¥ç©ºæŒ‡é’ˆjava.lang.NullPointerExceptionã€‚å› ä¸ºæŒ‰byNameè§„åˆ™æ‰¾ä¸å¯¹åº”setæ–¹æ³•ï¼ŒçœŸæ­£çš„setCatå°±æ²¡æ‰§è¡Œï¼Œå¯¹è±¡å°±æ²¡æœ‰åˆå§‹åŒ–ï¼Œæ‰€ä»¥è°ƒç”¨æ—¶å°±ä¼šæŠ¥ç©ºæŒ‡é’ˆé”™è¯¯ã€‚</p><p><strong>å°ç»“ï¼š</strong></p><p>å½“ä¸€ä¸ªbeanèŠ‚ç‚¹å¸¦æœ‰ autowire byNameçš„å±æ€§æ—¶ã€‚</p><ol><li><p><strong>å°†æŸ¥æ‰¾å…¶ç±»ä¸­æ‰€æœ‰çš„setæ–¹æ³•åï¼Œä¾‹å¦‚setCatï¼Œè·å¾—å°†setå»æ‰å¹¶ä¸”é¦–å­—æ¯å°å†™çš„å­—ç¬¦ä¸²ï¼Œå³catã€‚</strong></p></li><li><p>å»springå®¹å™¨ä¸­å¯»æ‰¾æ˜¯å¦æœ‰æ­¤å­—ç¬¦ä¸²åç§°idçš„å¯¹è±¡ã€‚</p></li><li><p>å¦‚æœæœ‰ï¼Œå°±å–å‡ºæ³¨å…¥ï¼›å¦‚æœæ²¡æœ‰ï¼Œå°±æŠ¥ç©ºæŒ‡é’ˆå¼‚å¸¸ã€‚</p></li></ol><blockquote><p>byType</p></blockquote><p><strong>autowire byType (æŒ‰ç±»å‹è‡ªåŠ¨è£…é…)</strong></p><p>ä½¿ç”¨autowire byTypeé¦–å…ˆéœ€è¦<strong>ä¿è¯ï¼šåŒä¸€ç±»å‹çš„å¯¹è±¡ï¼Œåœ¨springå®¹å™¨ä¸­å”¯ä¸€ã€‚å¦‚æœä¸å”¯ä¸€ï¼Œä¼šæŠ¥ä¸å”¯ä¸€çš„å¼‚å¸¸ã€‚</strong></p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">NoUniqueBeanDefinitionException</span><br></pre></td></tr></tbody></table></figure><p>æµ‹è¯•ï¼š</p><p>1ã€å°†userçš„beané…ç½®ä¿®æ”¹ä¸€ä¸‹ ï¼š autowire=â€byTypeâ€</p><p>2ã€æµ‹è¯•ï¼Œæ­£å¸¸è¾“å‡º</p><p>3ã€<strong>å†æ³¨å†Œä¸€ä¸ªcat çš„beanå¯¹è±¡ï¼</strong></p><figure class="highlight xml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"dog"</span> <span class="attr">class</span>=<span class="string">"com.kuang.pojo.Dog"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"cat"</span> <span class="attr">class</span>=<span class="string">"com.kuang.pojo.Cat"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"cat2"</span> <span class="attr">class</span>=<span class="string">"com.kuang.pojo.Cat"</span>/&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"user"</span> <span class="attr">class</span>=<span class="string">"com.kuang.pojo.User"</span> <span class="attr">autowire</span>=<span class="string">"byType"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"str"</span> <span class="attr">value</span>=<span class="string">"qinjiang"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><p>4ã€<strong>æµ‹è¯•ï¼ŒæŠ¥é”™ï¼šNoUniqueBeanDefinitionException</strong></p><p>5ã€åˆ æ‰cat2ï¼Œå°†catçš„beanåç§°æ”¹æ‰ï¼æµ‹è¯•ï¼å› ä¸ºæ˜¯æŒ‰ç±»å‹è£…é…ï¼Œæ‰€ä»¥å¹¶ä¸ä¼šæŠ¥å¼‚å¸¸ï¼Œä¹Ÿä¸å½±å“æœ€åçš„ç»“æœã€‚ç”šè‡³å°†idå±æ€§å»æ‰ï¼Œä¹Ÿä¸å½±å“ç»“æœã€‚</p><p>è¿™å°±æ˜¯æŒ‰ç…§ç±»å‹è‡ªåŠ¨è£…é…ï¼</p><p>ä½¿ç”¨æ³¨è§£</p><blockquote><p>ä½¿ç”¨æ³¨è§£</p></blockquote><p><strong>jdk1.5å¼€å§‹æ”¯æŒæ³¨è§£ï¼Œspring2.5å¼€å§‹å…¨é¢æ”¯æŒæ³¨è§£ã€‚</strong></p><p>å‡†å¤‡å·¥ä½œï¼šåˆ©ç”¨æ³¨è§£çš„æ–¹å¼æ³¨å…¥å±æ€§ã€‚</p><p>1ã€åœ¨springé…ç½®æ–‡ä»¶ä¸­å¼•å…¥contextæ–‡ä»¶å¤´</p><figure class="highlight xml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">xmlns:context="http://www.springframework.org/schema/context"</span><br><span class="line">http://www.springframework.org/schema/context</span><br><span class="line">http://www.springframework.org/schema/context/spring-context.xsd</span><br></pre></td></tr></tbody></table></figure><p>2ã€å¼€å¯å±æ€§æ³¨è§£æ”¯æŒï¼</p><figure class="highlight xml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">context:annotation-config</span>/&gt;</span></span><br></pre></td></tr></tbody></table></figure><h4 id=""><a href="#" class="headerlink" title=""></a></h4><h4 id="Autowired"><a href="#Autowired" class="headerlink" title="@Autowired"></a>@Autowired</h4><ul><li>@Autowiredæ˜¯æŒ‰ç±»å‹è‡ªåŠ¨è½¬é…çš„ï¼Œä¸æ”¯æŒidåŒ¹é…ã€‚</li><li>éœ€è¦å¯¼å…¥ spring-aopçš„åŒ…ï¼</li></ul><p>æµ‹è¯•ï¼š</p><p>1ã€å°†Userç±»ä¸­çš„setæ–¹æ³•å»æ‰ï¼Œä½¿ç”¨@Autowiredæ³¨è§£</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">User</span> </span>{</span><br><span class="line">   <span class="meta">@Autowired</span></span><br><span class="line">   <span class="keyword">private</span> Cat cat;</span><br><span class="line">   <span class="meta">@Autowired</span></span><br><span class="line">   <span class="keyword">private</span> Dog dog;</span><br><span class="line">   <span class="keyword">private</span> String str;</span><br><span class="line"></span><br><span class="line">   <span class="function"><span class="keyword">public</span> Cat <span class="title">getCat</span><span class="params">()</span> </span>{</span><br><span class="line">       <span class="keyword">return</span> cat;</span><br><span class="line">  }</span><br><span class="line">   <span class="function"><span class="keyword">public</span> Dog <span class="title">getDog</span><span class="params">()</span> </span>{</span><br><span class="line">       <span class="keyword">return</span> dog;</span><br><span class="line">  }</span><br><span class="line">   <span class="function"><span class="keyword">public</span> String <span class="title">getStr</span><span class="params">()</span> </span>{</span><br><span class="line">       <span class="keyword">return</span> str;</span><br><span class="line">  }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>2ã€æ­¤æ—¶é…ç½®æ–‡ä»¶å†…å®¹</p><figure class="highlight xml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">context:annotation-config</span>/&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"dog"</span> <span class="attr">class</span>=<span class="string">"com.kuang.pojo.Dog"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"cat"</span> <span class="attr">class</span>=<span class="string">"com.kuang.pojo.Cat"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"user"</span> <span class="attr">class</span>=<span class="string">"com.kuang.pojo.User"</span>/&gt;</span></span><br></pre></td></tr></tbody></table></figure><p>3ã€æµ‹è¯•ï¼ŒæˆåŠŸè¾“å‡ºç»“æœï¼</p><p>ã€å°ç‹‚ç¥ç§‘æ™®æ—¶é—´ã€‘</p><p><strong>@Autowired(required=false)  è¯´æ˜ï¼šfalseï¼Œå¯¹è±¡å¯ä»¥ä¸ºnullï¼›trueï¼Œå¯¹è±¡å¿…é¡»å­˜å¯¹è±¡ï¼Œä¸èƒ½ä¸ºnullã€‚</strong></p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//å¦‚æœå…è®¸å¯¹è±¡ä¸ºnullï¼Œè®¾ç½®required = false,é»˜è®¤ä¸ºtrue</span></span><br><span class="line"><span class="meta">@Autowired(required = false)</span></span><br><span class="line"><span class="keyword">private</span> Cat cat;</span><br></pre></td></tr></tbody></table></figure><h4 id="-1"><a href="#-1" class="headerlink" title=""></a></h4><h4 id="Qualifier"><a href="#Qualifier" class="headerlink" title="@Qualifier"></a>@Qualifier</h4><ul><li>@Autowiredæ˜¯æ ¹æ®ç±»å‹è‡ªåŠ¨è£…é…çš„ï¼ŒåŠ ä¸Š@Qualifieråˆ™å¯ä»¥æ ¹æ®byNameçš„æ–¹å¼è‡ªåŠ¨è£…é…</li><li>@Qualifierä¸èƒ½å•ç‹¬ä½¿ç”¨ã€‚</li></ul><p>æµ‹è¯•å®éªŒæ­¥éª¤ï¼š</p><p>1ã€é…ç½®æ–‡ä»¶ä¿®æ”¹å†…å®¹ï¼Œä¿è¯ç±»å‹å­˜åœ¨å¯¹è±¡ã€‚ä¸”åå­—ä¸ä¸ºç±»çš„é»˜è®¤åå­—ï¼</p><figure class="highlight xml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"dog1"</span> <span class="attr">class</span>=<span class="string">"com.kuang.pojo.Dog"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"dog2"</span> <span class="attr">class</span>=<span class="string">"com.kuang.pojo.Dog"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"cat1"</span> <span class="attr">class</span>=<span class="string">"com.kuang.pojo.Cat"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"cat2"</span> <span class="attr">class</span>=<span class="string">"com.kuang.pojo.Cat"</span>/&gt;</span></span><br></pre></td></tr></tbody></table></figure><p>2ã€æ²¡æœ‰åŠ Qualifieræµ‹è¯•ï¼Œç›´æ¥æŠ¥é”™</p><p>3ã€åœ¨å±æ€§ä¸Šæ·»åŠ Qualifieræ³¨è§£</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Autowired</span></span><br><span class="line"><span class="meta">@Qualifier(value = "cat2")</span></span><br><span class="line"><span class="keyword">private</span> Cat cat;</span><br><span class="line"><span class="meta">@Autowired</span></span><br><span class="line"><span class="meta">@Qualifier(value = "dog2")</span></span><br><span class="line"><span class="keyword">private</span> Dog dog;</span><br></pre></td></tr></tbody></table></figure><p>æµ‹è¯•ï¼ŒæˆåŠŸè¾“å‡ºï¼</p><h4 id="-2"><a href="#-2" class="headerlink" title=""></a></h4><h4 id="Resource"><a href="#Resource" class="headerlink" title="@Resource"></a>@Resource</h4><ul><li>@Resourceå¦‚æœ‰æŒ‡å®šçš„nameå±æ€§ï¼Œå…ˆæŒ‰è¯¥å±æ€§è¿›è¡ŒbyNameæ–¹å¼æŸ¥æ‰¾è£…é…ï¼›</li><li>å…¶æ¬¡å†è¿›è¡Œé»˜è®¤çš„byNameæ–¹å¼è¿›è¡Œè£…é…ï¼›</li><li><code>å¦‚æœä»¥ä¸Šéƒ½ä¸æˆåŠŸï¼Œåˆ™æŒ‰byTypeçš„æ–¹å¼è‡ªåŠ¨è£…é…ã€‚</code></li><li>éƒ½ä¸æˆåŠŸï¼Œåˆ™æŠ¥å¼‚å¸¸ã€‚</li></ul><p>å®ä½“ç±»ï¼š</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">User</span> </span>{</span><br><span class="line">   <span class="comment">//å¦‚æœå…è®¸å¯¹è±¡ä¸ºnullï¼Œè®¾ç½®required = false,é»˜è®¤ä¸ºtrue</span></span><br><span class="line">   <span class="meta">@Resource(name = "cat2")</span></span><br><span class="line">   <span class="keyword">private</span> Cat cat;</span><br><span class="line">   <span class="meta">@Resource</span></span><br><span class="line">   <span class="keyword">private</span> Dog dog;</span><br><span class="line">   <span class="keyword">private</span> String str;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>beans.xml</p><figure class="highlight xml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"dog"</span> <span class="attr">class</span>=<span class="string">"com.kuang.pojo.Dog"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"cat1"</span> <span class="attr">class</span>=<span class="string">"com.kuang.pojo.Cat"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"cat2"</span> <span class="attr">class</span>=<span class="string">"com.kuang.pojo.Cat"</span>/&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"user"</span> <span class="attr">class</span>=<span class="string">"com.kuang.pojo.User"</span>/&gt;</span></span><br></pre></td></tr></tbody></table></figure><p>æµ‹è¯•ï¼šç»“æœOK</p><p>é…ç½®æ–‡ä»¶2ï¼šbeans.xml ï¼Œ åˆ æ‰cat2</p><figure class="highlight xml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"dog"</span> <span class="attr">class</span>=<span class="string">"com.kuang.pojo.Dog"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"cat1"</span> <span class="attr">class</span>=<span class="string">"com.kuang.pojo.Cat"</span>/&gt;</span></span><br></pre></td></tr></tbody></table></figure><p>å®ä½“ç±»ä¸Šåªä¿ç•™æ³¨è§£</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Resource</span></span><br><span class="line"><span class="keyword">private</span> Cat cat;</span><br><span class="line"><span class="meta">@Resource</span></span><br><span class="line"><span class="keyword">private</span> Dog dog;</span><br></pre></td></tr></tbody></table></figure><p>ç»“æœï¼šOK</p><p>ç»“è®ºï¼šå…ˆè¿›è¡ŒbyNameæŸ¥æ‰¾ï¼Œå¤±è´¥ï¼›å†è¿›è¡ŒbyTypeæŸ¥æ‰¾ï¼ŒæˆåŠŸã€‚</p><h4 id="å°ç»“"><a href="#å°ç»“" class="headerlink" title="å°ç»“"></a>å°ç»“</h4><p>@Autowiredä¸@Resourceå¼‚åŒï¼š</p><p>1ã€@Autowiredä¸@Resourceéƒ½å¯ä»¥ç”¨æ¥è£…é…beanã€‚<code>éƒ½å¯ä»¥å†™åœ¨å­—æ®µä¸Šï¼Œæˆ–å†™åœ¨setteræ–¹æ³•ä¸Š</code>ã€‚</p><p>2ã€@Autowiredé»˜è®¤æŒ‰ç±»å‹è£…é…ï¼ˆå±äºspringè§„èŒƒï¼‰ï¼Œé»˜è®¤æƒ…å†µä¸‹å¿…é¡»è¦æ±‚ä¾èµ–å¯¹è±¡å¿…é¡»å­˜åœ¨ï¼Œå¦‚æœè¦å…è®¸null å€¼ï¼Œå¯ä»¥è®¾ç½®å®ƒçš„requiredå±æ€§ä¸ºfalseï¼Œå¦‚ï¼š@Autowired(required=false) ï¼Œå¦‚æœæˆ‘ä»¬æƒ³ä½¿ç”¨åç§°è£…é…å¯ä»¥ç»“åˆ@Qualifieræ³¨è§£è¿›è¡Œä½¿ç”¨</p><p>3ã€@Resourceï¼ˆå±äºJ2EEå¤è¿”ï¼‰ï¼Œé»˜è®¤æŒ‰ç…§åç§°è¿›è¡Œè£…é…ï¼Œåç§°å¯ä»¥é€šè¿‡nameå±æ€§è¿›è¡ŒæŒ‡å®šã€‚å¦‚æœæ²¡æœ‰æŒ‡å®šnameå±æ€§ï¼Œå½“æ³¨è§£å†™åœ¨å­—æ®µä¸Šæ—¶ï¼Œé»˜è®¤å–å­—æ®µåè¿›è¡ŒæŒ‰ç…§åç§°æŸ¥æ‰¾ï¼Œå¦‚æœæ³¨è§£å†™åœ¨setæ–¹æ³•ä¸Šé»˜è®¤å–å±æ€§åè¿›è¡Œè£…é…ã€‚å½“æ‰¾ä¸åˆ°ä¸åç§°åŒ¹é…çš„beanæ—¶æ‰æŒ‰ç…§ç±»å‹è¿›è¡Œè£…é…ã€‚<strong>ä½†æ˜¯éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå¦‚æœnameå±æ€§ä¸€æ—¦æŒ‡å®šï¼Œå°±åªä¼šæŒ‰ç…§åç§°è¿›è¡Œè£…é…ã€‚</strong></p><p><code>å®ƒä»¬çš„ä½œç”¨ç›¸åŒéƒ½æ˜¯ç”¨æ³¨è§£æ–¹å¼æ³¨å…¥å¯¹è±¡ï¼Œä½†æ‰§è¡Œé¡ºåºä¸åŒã€‚@Autowiredå…ˆbyTypeï¼Œ@Resourceå…ˆbyNameã€‚</code></p><p><code>ä¸¤æ³¨è§£å‡ä¸ºç”¨äºæ³¨å…¥å¼•ç”¨ç±»å‹</code></p><h2 id="ä½¿ç”¨æ³¨è§£å¼€å‘"><a href="#ä½¿ç”¨æ³¨è§£å¼€å‘" class="headerlink" title="ä½¿ç”¨æ³¨è§£å¼€å‘"></a>ä½¿ç”¨æ³¨è§£å¼€å‘</h2><blockquote><p>è¯´æ˜</p></blockquote><p>åœ¨spring4ä¹‹åï¼Œæƒ³è¦ä½¿ç”¨æ³¨è§£å½¢å¼ï¼Œå¿…é¡»å¾—è¦å¼•å…¥aopçš„åŒ…</p><p><img src="https://mmbiz.qpic.cn/mmbiz_png/uJDAUKrGC7IzypAUHDfDEujP4ry6cHxWTvAS6qRS0qrmMCic3QqF9icGNcPj8IZwNo3R9VEgpAgWHrStBN1ya6Tg/640?wx_fmt=png&amp;tp=webp&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1" alt="img"></p><p>åœ¨é…ç½®æ–‡ä»¶å½“ä¸­ï¼Œè¿˜å¾—è¦å¼•å…¥ä¸€ä¸ªcontextçº¦æŸ</p><figure class="highlight xml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">"http://www.springframework.org/schema/beans"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">xmlns:xsi</span>=<span class="string">"http://www.w3.org/2001/XMLSchema-instance"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">xmlns:context</span>=<span class="string">"http://www.springframework.org/schema/context"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">xsi:schemaLocation</span>=<span class="string">"http://www.springframework.org/schema/beans</span></span></span><br><span class="line"><span class="tag"><span class="string">       http://www.springframework.org/schema/beans/spring-beans.xsd</span></span></span><br><span class="line"><span class="tag"><span class="string">       http://www.springframework.org/schema/context</span></span></span><br><span class="line"><span class="tag"><span class="string">       http://www.springframework.org/schema/context/spring-context.xsd"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><blockquote><p>Beançš„å®ç°</p></blockquote><p>æˆ‘ä»¬ä¹‹å‰éƒ½æ˜¯ä½¿ç”¨ bean çš„æ ‡ç­¾è¿›è¡Œbeanæ³¨å…¥ï¼Œä½†æ˜¯å®é™…å¼€å‘ä¸­ï¼Œæˆ‘ä»¬ä¸€èˆ¬éƒ½ä¼šä½¿ç”¨æ³¨è§£ï¼</p><p>1ã€é…ç½®æ‰«æå“ªäº›åŒ…ä¸‹çš„æ³¨è§£</p><figure class="highlight xml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--æŒ‡å®šæ³¨è§£æ‰«æåŒ…--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">context:component-scan</span> <span class="attr">base-package</span>=<span class="string">"com.kuang.pojo"</span>/&gt;</span></span><br></pre></td></tr></tbody></table></figure><p>2ã€åœ¨æŒ‡å®šåŒ…ä¸‹ç¼–å†™ç±»ï¼Œå¢åŠ æ³¨è§£</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Component("user")</span></span><br><span class="line"><span class="comment">// ç›¸å½“äºé…ç½®æ–‡ä»¶ä¸­ &lt;bean id="user" class="å½“å‰æ³¨è§£çš„ç±»"/&gt;</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">User</span> </span>{</span><br><span class="line">   <span class="keyword">public</span> String name = <span class="string">"ç§¦ç–†"</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>3ã€æµ‹è¯•</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test</span><span class="params">()</span></span>{</span><br><span class="line">   ApplicationContext applicationContext =</span><br><span class="line">       <span class="keyword">new</span> ClassPathXmlApplicationContext(<span class="string">"beans.xml"</span>);</span><br><span class="line">   User user = (User) applicationContext.getBean(<span class="string">"user"</span>);</span><br><span class="line">   System.out.println(user.name);</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><blockquote><p>å±æ€§æ³¨å…¥</p></blockquote><p>ä½¿ç”¨æ³¨è§£æ³¨å…¥å±æ€§</p><p>1ã€å¯ä»¥ä¸ç”¨æä¾›setæ–¹æ³•ï¼Œç›´æ¥åœ¨ç›´æ¥åä¸Šæ·»åŠ @value(â€œå€¼â€)</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Component("user")</span></span><br><span class="line"><span class="comment">// ç›¸å½“äºé…ç½®æ–‡ä»¶ä¸­ &lt;bean id="user" class="å½“å‰æ³¨è§£çš„ç±»"/&gt;</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">User</span> </span>{</span><br><span class="line">   <span class="meta">@Value("ç§¦ç–†")</span></span><br><span class="line">   <span class="comment">// ç›¸å½“äºé…ç½®æ–‡ä»¶ä¸­ &lt;property name="name" value="ç§¦ç–†"/&gt;</span></span><br><span class="line">   <span class="keyword">public</span> String name;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>2ã€å¦‚æœæä¾›äº†setæ–¹æ³•ï¼Œåœ¨setæ–¹æ³•ä¸Šæ·»åŠ @value(â€œå€¼â€);</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Component("user")</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">User</span> </span>{</span><br><span class="line"></span><br><span class="line">   <span class="keyword">public</span> String name;</span><br><span class="line"></span><br><span class="line">   <span class="meta">@Value("ç§¦ç–†")</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setName</span><span class="params">(String name)</span> </span>{</span><br><span class="line">       <span class="keyword">this</span>.name = name;</span><br><span class="line">  }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><blockquote><p>è¡ç”Ÿæ³¨è§£</p></blockquote><p>æˆ‘ä»¬è¿™äº›æ³¨è§£ï¼Œå°±æ˜¯æ›¿ä»£äº†åœ¨é…ç½®æ–‡ä»¶å½“ä¸­é…ç½®æ­¥éª¤è€Œå·²ï¼æ›´åŠ çš„æ–¹ä¾¿å¿«æ·ï¼</p><p><strong>@Componentä¸‰ä¸ªè¡ç”Ÿæ³¨è§£</strong></p><p>ä¸ºäº†æ›´å¥½çš„è¿›è¡Œåˆ†å±‚ï¼ŒSpringå¯ä»¥ä½¿ç”¨å…¶å®ƒä¸‰ä¸ªæ³¨è§£ï¼ŒåŠŸèƒ½ä¸€æ ·ï¼Œç›®å‰ä½¿ç”¨å“ªä¸€ä¸ªåŠŸèƒ½éƒ½ä¸€æ ·ã€‚</p><ul><li>@Controllerï¼šwebå±‚(springMvcä¸­æ³¨å†Œä¸€ä¸ªcontroller)</li><li>@Serviceï¼šserviceå±‚</li><li>@Repositoryï¼šdaoå±‚</li></ul><p>å†™ä¸Šè¿™äº›æ³¨è§£ï¼Œå°±ç›¸å½“äºå°†è¿™ä¸ªç±»äº¤ç»™Springç®¡ç†è£…é…äº†ï¼</p><blockquote><p>è‡ªåŠ¨è£…é…æ³¨è§£</p></blockquote><p>åœ¨Beançš„è‡ªåŠ¨è£…é…å·²ç»è®²è¿‡äº†ï¼Œå¯ä»¥å›é¡¾ï¼</p><blockquote><p>ä½œç”¨åŸŸ</p></blockquote><p>@scope</p><ul><li>singletonï¼šé»˜è®¤çš„ï¼ŒSpringä¼šé‡‡ç”¨å•ä¾‹æ¨¡å¼åˆ›å»ºè¿™ä¸ªå¯¹è±¡ã€‚å…³é—­å·¥å‚ ï¼Œæ‰€æœ‰çš„å¯¹è±¡éƒ½ä¼šé”€æ¯ã€‚</li><li>prototypeï¼šå¤šä¾‹æ¨¡å¼ã€‚å…³é—­å·¥å‚ ï¼Œæ‰€æœ‰çš„å¯¹è±¡ä¸ä¼šé”€æ¯ã€‚å†…éƒ¨çš„åƒåœ¾å›æ”¶æœºåˆ¶ä¼šå›æ”¶</li></ul><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Controller("user")</span></span><br><span class="line"><span class="meta">@Scope("prototype")</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">User</span> </span>{</span><br><span class="line">   <span class="meta">@Value("ç§¦ç–†")</span></span><br><span class="line">   <span class="keyword">public</span> String name;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><blockquote><p>å°ç»“</p></blockquote><p><strong>XMLä¸æ³¨è§£æ¯”è¾ƒ</strong></p><ul><li>XMLå¯ä»¥é€‚ç”¨ä»»ä½•åœºæ™¯ ï¼Œç»“æ„æ¸…æ™°ï¼Œç»´æŠ¤æ–¹ä¾¿</li><li>æ³¨è§£ä¸æ˜¯è‡ªå·±æä¾›çš„ç±»ä½¿ç”¨ä¸äº†ï¼Œå¼€å‘ç®€å•æ–¹ä¾¿</li></ul><p><strong>xmlä¸æ³¨è§£æ•´åˆå¼€å‘</strong> ï¼šæ¨èæœ€ä½³å®è·µ</p><ul><li>xmlç®¡ç†Bean</li><li>æ³¨è§£å®Œæˆå±æ€§æ³¨å…¥</li><li>ä½¿ç”¨è¿‡ç¨‹ä¸­ï¼Œ å¯ä»¥ä¸ç”¨æ‰«æï¼Œæ‰«ææ˜¯ä¸ºäº†ç±»ä¸Šçš„æ³¨è§£</li></ul><figure class="highlight xml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">context:annotation-config</span>/&gt;</span>  </span><br></pre></td></tr></tbody></table></figure><p>ä½œç”¨ï¼š</p><ul><li><p>è¿›è¡Œæ³¨è§£é©±åŠ¨æ³¨å†Œï¼Œä»è€Œä½¿æ³¨è§£ç”Ÿæ•ˆ</p></li><li><p>ç”¨äºæ¿€æ´»é‚£äº›å·²ç»åœ¨springå®¹å™¨é‡Œæ³¨å†Œè¿‡çš„beanä¸Šé¢çš„æ³¨è§£ï¼Œä¹Ÿå°±æ˜¯æ˜¾ç¤ºçš„å‘Springæ³¨å†Œ</p></li><li><p>å¦‚æœä¸æ‰«æåŒ…ï¼Œå°±éœ€è¦æ‰‹åŠ¨é…ç½®bean</p></li><li><p>å¦‚æœä¸åŠ æ³¨è§£é©±åŠ¨ï¼Œåˆ™æ³¨å…¥çš„å€¼ä¸ºnullï¼</p><hr><p>ä½¿ç”¨&lt;context:annotation- config/&gt;éšå¼åœ°å‘ Springå®¹å™¨æ³¨å†ŒAutowiredAnnotationBeanPostProcessorã€RequiredAnnotationBeanPostProcessorã€CommonAnnotationBeanPostProcessorä»¥åŠPersistenceAnnotationBeanPostProcessorè¿™4ä¸ªBeanPostProcessorã€‚</p></li></ul><blockquote><p>åŸºäºJavaç±»è¿›è¡Œé…ç½®</p></blockquote><p>JavaConfig åŸæ¥æ˜¯ Spring çš„ä¸€ä¸ªå­é¡¹ç›®ï¼Œå®ƒé€šè¿‡ Java ç±»çš„æ–¹å¼æä¾› Bean çš„å®šä¹‰ä¿¡æ¯ï¼Œåœ¨ Spring4 çš„ç‰ˆæœ¬ï¼Œ JavaConfig å·²æ­£å¼æˆä¸º Spring4 çš„æ ¸å¿ƒåŠŸèƒ½ ã€‚</p><p>æµ‹è¯•ï¼š</p><p>1ã€ç¼–å†™ä¸€ä¸ªå®ä½“ç±»ï¼ŒDog</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Component</span>  <span class="comment">//å°†è¿™ä¸ªç±»æ ‡æ³¨ä¸ºSpringçš„ä¸€ä¸ªç»„ä»¶ï¼Œæ”¾åˆ°å®¹å™¨ä¸­ï¼</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Dog</span> </span>{</span><br><span class="line">   <span class="keyword">public</span> String name = <span class="string">"dog"</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>2ã€æ–°å»ºä¸€ä¸ªconfigé…ç½®åŒ…ï¼Œç¼–å†™ä¸€ä¸ªMyConfigé…ç½®ç±»</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Configuration</span>  <span class="comment">//ä»£è¡¨è¿™æ˜¯ä¸€ä¸ªé…ç½®ç±»</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyConfig</span> </span>{</span><br><span class="line">   <span class="meta">@Bean</span></span><br><span class="line">   <span class="comment">//é€šè¿‡æ–¹æ³•æ³¨å†Œä¸€ä¸ªbeanï¼Œè¿™é‡Œçš„è¿”å›å€¼å°±Beançš„ç±»å‹ï¼Œæ–¹æ³•åå°±æ˜¯beançš„idï¼</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> Dog <span class="title">dog</span><span class="params">()</span></span>{</span><br><span class="line">       <span class="keyword">return</span> <span class="keyword">new</span> Dog();</span><br><span class="line">  }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>3ã€æµ‹è¯•</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test2</span><span class="params">()</span></span>{</span><br><span class="line">   ApplicationContext applicationContext =</span><br><span class="line">           <span class="keyword">new</span> AnnotationConfigApplicationContext(MyConfig.class);</span><br><span class="line">   Dog dog = (Dog) applicationContext.getBean(<span class="string">"dog"</span>);</span><br><span class="line">   System.out.println(dog.name);</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>4ã€æˆåŠŸè¾“å‡ºç»“æœï¼</p><p><strong>å¯¼å…¥å…¶ä»–é…ç½®å¦‚ä½•åšå‘¢ï¼Ÿ</strong></p><p>1ã€æˆ‘ä»¬å†ç¼–å†™ä¸€ä¸ªé…ç½®ç±»ï¼</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Configuration</span>  <span class="comment">//ä»£è¡¨è¿™æ˜¯ä¸€ä¸ªé…ç½®ç±»</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyConfig2</span> </span>{</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>2ã€åœ¨ä¹‹å‰çš„é…ç½®ç±»ä¸­æˆ‘ä»¬æ¥é€‰æ‹©å¯¼å…¥è¿™ä¸ªé…ç½®ç±»</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="meta">@Import(MyConfig2.class)</span>  <span class="comment">//å¯¼å…¥åˆå¹¶å…¶ä»–é…ç½®ç±»ï¼Œç±»ä¼¼äºé…ç½®æ–‡ä»¶ä¸­çš„ inculde æ ‡ç­¾</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyConfig</span> </span>{</span><br><span class="line">   <span class="meta">@Bean</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> Dog <span class="title">dog</span><span class="params">()</span></span>{</span><br><span class="line">       <span class="keyword">return</span> <span class="keyword">new</span> Dog();</span><br><span class="line">  }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>å…³äºè¿™ç§Javaç±»çš„é…ç½®æ–¹å¼ï¼Œæˆ‘ä»¬åœ¨ä¹‹åçš„SpringBoot å’Œ SpringCloudä¸­è¿˜ä¼šå¤§é‡çœ‹åˆ°ï¼Œæˆ‘ä»¬éœ€è¦çŸ¥é“è¿™äº›æ³¨è§£çš„ä½œç”¨å³å¯ï¼</p><h2 id="é™æ€-åŠ¨æ€ä»£ç†æ¨¡å¼"><a href="#é™æ€-åŠ¨æ€ä»£ç†æ¨¡å¼" class="headerlink" title="é™æ€/åŠ¨æ€ä»£ç†æ¨¡å¼"></a>é™æ€/åŠ¨æ€ä»£ç†æ¨¡å¼</h2><p>ä¸ºä»€ä¹ˆè¦å­¦ä¹ ä»£ç†æ¨¡å¼ï¼Œå› ä¸ºAOPçš„åº•å±‚æœºåˆ¶å°±æ˜¯åŠ¨æ€ä»£ç†ï¼</p><p>ä»£ç†æ¨¡å¼ï¼š</p><ul><li>é™æ€ä»£ç†</li><li>åŠ¨æ€ä»£ç†</li></ul><p>å­¦ä¹ aopä¹‹å‰ , æˆ‘ä»¬è¦å…ˆäº†è§£ä¸€ä¸‹ä»£ç†æ¨¡å¼ï¼</p><p><img src="https://mmbiz.qpic.cn/mmbiz_png/uJDAUKrGC7LoeicP1O2nfyA6H0XPa9jMLRnfS7LpO0Iic7fEEPFCgRs0ggNXCwf6IKo1tibjPmNSTEYeII5ro7YLQ/640?wx_fmt=png&amp;tp=webp&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1" alt="img"></p><blockquote><h4 id="é™æ€ä»£ç†"><a href="#é™æ€ä»£ç†" class="headerlink" title="é™æ€ä»£ç†"></a>é™æ€ä»£ç†</h4></blockquote><p><strong>é™æ€ä»£ç†è§’è‰²åˆ†æ</strong></p><ul><li><p>æŠ½è±¡è§’è‰² : ä¸€èˆ¬ä½¿ç”¨æ¥å£æˆ–è€…æŠ½è±¡ç±»æ¥å®ç°</p></li><li><p>çœŸå®è§’è‰² : è¢«ä»£ç†çš„è§’è‰²</p></li><li><p>ä»£ç†è§’è‰² : ä»£ç†çœŸå®è§’è‰² ï¼Œä»£ç†çœŸå®è§’è‰²å , ä¸€èˆ¬ä¼šåšä¸€äº›é™„å±çš„æ“ä½œ </p></li><li><p>å®¢æˆ·  :  ä½¿ç”¨ä»£ç†è§’è‰²æ¥è¿›è¡Œä¸€äº›æ“ä½œ .</p></li></ul><p><strong>ä»£ç å®ç°</strong></p><p>Rent . java å³æŠ½è±¡è§’è‰²</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//æŠ½è±¡è§’è‰²ï¼šç§Ÿæˆ¿</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">Rent</span> </span>{</span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">rent</span><span class="params">()</span></span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>Host . java å³çœŸå®è§’è‰²</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//çœŸå®è§’è‰²: æˆ¿ä¸œï¼Œæˆ¿ä¸œè¦å‡ºç§Ÿæˆ¿å­</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Host</span> <span class="keyword">implements</span> <span class="title">Rent</span></span>{</span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">rent</span><span class="params">()</span> </span>{</span><br><span class="line">       System.out.println(<span class="string">"æˆ¿å±‹å‡ºç§Ÿ"</span>);</span><br><span class="line">  }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>Proxy . java å³ä»£ç†è§’è‰²</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ä»£ç†è§’è‰²ï¼šä¸­ä»‹</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Proxy</span> <span class="keyword">implements</span> <span class="title">Rent</span> </span>{</span><br><span class="line"></span><br><span class="line">   <span class="keyword">private</span> Host host;</span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="title">Proxy</span><span class="params">()</span> </span>{ }</span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="title">Proxy</span><span class="params">(Host host)</span> </span>{</span><br><span class="line">       <span class="keyword">this</span>.host = host;</span><br><span class="line">  }</span><br><span class="line"></span><br><span class="line">   <span class="comment">//ç§Ÿæˆ¿ï¼ŒåŸçœŸå®è§’è‰²çš„æ“ä½œæ›´åŠ å­˜ç²¹ï¼Œåªéœ€å…³æ³¨æœ¬èº«çš„æ“ä½œ</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">rent</span><span class="params">()</span></span>{</span><br><span class="line">       seeHouse();</span><br><span class="line">       host.rent();</span><br><span class="line">       fare();</span><br><span class="line">  }</span><br><span class="line">   <span class="comment">//çœ‹æˆ¿ï¼Œä»£ç†çš„é™„åŠ æ“ä½œ</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">seeHouse</span><span class="params">()</span></span>{</span><br><span class="line">       System.out.println(<span class="string">"å¸¦æˆ¿å®¢çœ‹æˆ¿"</span>);</span><br><span class="line">  }</span><br><span class="line">   <span class="comment">//æ”¶ä¸­ä»‹è´¹</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">fare</span><span class="params">()</span></span>{</span><br><span class="line">       System.out.println(<span class="string">"æ”¶ä¸­ä»‹è´¹"</span>);</span><br><span class="line">  }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>Client . java å³å®¢æˆ·</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//å®¢æˆ·ç±»ï¼Œä¸€èˆ¬å®¢æˆ·éƒ½ä¼šå»æ‰¾ä»£ç†ï¼</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Client</span> </span>{</span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>{</span><br><span class="line">       <span class="comment">//æˆ¿ä¸œè¦ç§Ÿæˆ¿</span></span><br><span class="line">       Host host = <span class="keyword">new</span> Host();</span><br><span class="line">       <span class="comment">//ä¸­ä»‹å¸®åŠ©æˆ¿ä¸œ</span></span><br><span class="line">       Proxy proxy = <span class="keyword">new</span> Proxy(host);</span><br><span class="line"></span><br><span class="line">       <span class="comment">//ä½ å»æ‰¾ä¸­ä»‹ï¼</span></span><br><span class="line">       proxy.rent();</span><br><span class="line">  }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>åˆ†æï¼šåœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œä½ ç›´æ¥æ¥è§¦çš„å°±æ˜¯ä¸­ä»‹ï¼Œå°±å¦‚åŒç°å®ç”Ÿæ´»ä¸­çš„æ ·å­ï¼Œä½ çœ‹ä¸åˆ°æˆ¿ä¸œï¼Œä½†æ˜¯ä½ ä¾æ—§ç§Ÿåˆ°äº†æˆ¿ä¸œçš„æˆ¿å­é€šè¿‡ä»£ç†ï¼Œè¿™å°±æ˜¯æ‰€è°“çš„ä»£ç†æ¨¡å¼ï¼Œç¨‹åºæºè‡ªäºç”Ÿæ´»ï¼Œæ‰€ä»¥å­¦ç¼–ç¨‹çš„äººï¼Œä¸€èˆ¬èƒ½å¤Ÿæ›´åŠ æŠ½è±¡çš„çœ‹å¾…ç”Ÿæ´»ä¸­å‘ç”Ÿçš„äº‹æƒ…ã€‚</p><p><strong>é™æ€ä»£ç†çš„å¥½å¤„:</strong></p><ul><li>å¯ä»¥ä½¿å¾—æˆ‘ä»¬çš„çœŸå®è§’è‰²æ›´åŠ çº¯ç²¹ . ä¸å†å»å…³æ³¨ä¸€äº›å…¬å…±çš„äº‹æƒ… .</li><li>å…¬å…±çš„ä¸šåŠ¡ç”±ä»£ç†æ¥å®Œæˆ . å®ç°äº†ä¸šåŠ¡çš„åˆ†å·¥ ,</li><li><strong>å…¬å…±ä¸šåŠ¡å‘ç”Ÿæ‰©å±•æ—¶å˜å¾—æ›´åŠ é›†ä¸­å’Œæ–¹ä¾¿ .</strong></li></ul><p>ç¼ºç‚¹ :</p><ul><li>è™½ç„¶åœ¨ä¸æ”¹å˜åŸæœ‰ä»£ç çš„æƒ…å†µä¸‹å¢åŠ äº†åŠŸèƒ½å®ç°ï¼Œä½†å¢åŠ äº†ä»£ç†ç±»ï¼Œå·¥ä½œé‡å¢å¤§</li></ul><p>æˆ‘ä»¬æƒ³è¦é™æ€ä»£ç†çš„å¥½å¤„ï¼Œåˆä¸æƒ³è¦é™æ€ä»£ç†çš„ç¼ºç‚¹ï¼Œæ‰€ä»¥ , å°±æœ‰äº†åŠ¨æ€ä»£ç† !</p><blockquote><h4 id="é™æ€ä»£ç†å†ç†è§£"><a href="#é™æ€ä»£ç†å†ç†è§£" class="headerlink" title="é™æ€ä»£ç†å†ç†è§£"></a>é™æ€ä»£ç†å†ç†è§£</h4></blockquote><p>åŒå­¦ä»¬ç»ƒä¹ å®Œæ¯•åï¼Œæˆ‘ä»¬å†æ¥ä¸¾ä¸€ä¸ªä¾‹å­ï¼Œå·©å›ºå¤§å®¶çš„å­¦ä¹ ï¼</p><p>ç»ƒä¹ æ­¥éª¤ï¼š</p><p>1ã€åˆ›å»ºä¸€ä¸ªæŠ½è±¡è§’è‰²ï¼Œæ¯”å¦‚å’‹ä»¬å¹³æ—¶åšçš„ç”¨æˆ·ä¸šåŠ¡ï¼ŒæŠ½è±¡èµ·æ¥å°±æ˜¯å¢åˆ æ”¹æŸ¥ï¼</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//æŠ½è±¡è§’è‰²ï¼šå¢åˆ æ”¹æŸ¥ä¸šåŠ¡</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">UserService</span> </span>{</span><br><span class="line">   <span class="function"><span class="keyword">void</span> <span class="title">add</span><span class="params">()</span></span>;</span><br><span class="line">   <span class="function"><span class="keyword">void</span> <span class="title">delete</span><span class="params">()</span></span>;</span><br><span class="line">   <span class="function"><span class="keyword">void</span> <span class="title">update</span><span class="params">()</span></span>;</span><br><span class="line">   <span class="function"><span class="keyword">void</span> <span class="title">query</span><span class="params">()</span></span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>2ã€æˆ‘ä»¬éœ€è¦ä¸€ä¸ªçœŸå®å¯¹è±¡æ¥å®Œæˆè¿™äº›å¢åˆ æ”¹æŸ¥æ“ä½œ</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//çœŸå®å¯¹è±¡ï¼Œå®Œæˆå¢åˆ æ”¹æŸ¥æ“ä½œçš„äºº</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">UserServiceImpl</span> <span class="keyword">implements</span> <span class="title">UserService</span> </span>{</span><br><span class="line"></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">add</span><span class="params">()</span> </span>{</span><br><span class="line">       System.out.println(<span class="string">"å¢åŠ äº†ä¸€ä¸ªç”¨æˆ·"</span>);</span><br><span class="line">  }</span><br><span class="line"></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">delete</span><span class="params">()</span> </span>{</span><br><span class="line">       System.out.println(<span class="string">"åˆ é™¤äº†ä¸€ä¸ªç”¨æˆ·"</span>);</span><br><span class="line">  }</span><br><span class="line"></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">update</span><span class="params">()</span> </span>{</span><br><span class="line">       System.out.println(<span class="string">"æ›´æ–°äº†ä¸€ä¸ªç”¨æˆ·"</span>);</span><br><span class="line">  }</span><br><span class="line"></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">query</span><span class="params">()</span> </span>{</span><br><span class="line">       System.out.println(<span class="string">"æŸ¥è¯¢äº†ä¸€ä¸ªç”¨æˆ·"</span>);</span><br><span class="line">  }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>3ã€éœ€æ±‚æ¥äº†ï¼Œç°åœ¨æˆ‘ä»¬éœ€è¦å¢åŠ ä¸€ä¸ªæ—¥å¿—åŠŸèƒ½ï¼Œæ€ä¹ˆå®ç°ï¼</p><ul><li>æ€è·¯1 ï¼šåœ¨å®ç°ç±»ä¸Šå¢åŠ ä»£ç  ã€éº»çƒ¦ï¼ã€‘</li><li>æ€è·¯2ï¼šä½¿ç”¨ä»£ç†æ¥åšï¼Œèƒ½å¤Ÿä¸æ”¹å˜åŸæ¥çš„ä¸šåŠ¡æƒ…å†µä¸‹ï¼Œå®ç°æ­¤åŠŸèƒ½å°±æ˜¯æœ€å¥½çš„äº†ï¼</li></ul><p>4ã€è®¾ç½®ä¸€ä¸ªä»£ç†ç±»æ¥å¤„ç†æ—¥å¿—ï¼ä»£ç†è§’è‰²</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ä»£ç†è§’è‰²ï¼Œåœ¨è¿™é‡Œé¢å¢åŠ æ—¥å¿—çš„å®ç°</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">UserServiceProxy</span> <span class="keyword">implements</span> <span class="title">UserService</span> </span>{</span><br><span class="line">   <span class="keyword">private</span> UserServiceImpl userService;</span><br><span class="line"></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setUserService</span><span class="params">(UserServiceImpl userService)</span> </span>{</span><br><span class="line">       <span class="keyword">this</span>.userService = userService;</span><br><span class="line">  }</span><br><span class="line"></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">add</span><span class="params">()</span> </span>{</span><br><span class="line">       log(<span class="string">"add"</span>);</span><br><span class="line">       userService.add();</span><br><span class="line">  }</span><br><span class="line"></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">delete</span><span class="params">()</span> </span>{</span><br><span class="line">       log(<span class="string">"delete"</span>);</span><br><span class="line">       userService.delete();</span><br><span class="line">  }</span><br><span class="line"></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">update</span><span class="params">()</span> </span>{</span><br><span class="line">       log(<span class="string">"update"</span>);</span><br><span class="line">       userService.update();</span><br><span class="line">  }</span><br><span class="line"></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">query</span><span class="params">()</span> </span>{</span><br><span class="line">       log(<span class="string">"query"</span>);</span><br><span class="line">       userService.query();</span><br><span class="line">  }</span><br><span class="line"></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">log</span><span class="params">(String msg)</span></span>{</span><br><span class="line">       System.out.println(<span class="string">"æ‰§è¡Œäº†"</span>+msg+<span class="string">"æ–¹æ³•"</span>);</span><br><span class="line">  }</span><br><span class="line"></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>5ã€æµ‹è¯•è®¿é—®ç±»ï¼š</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Client</span> </span>{</span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>{</span><br><span class="line">       <span class="comment">//çœŸå®ä¸šåŠ¡</span></span><br><span class="line">       UserServiceImpl userService = <span class="keyword">new</span> UserServiceImpl();</span><br><span class="line">       <span class="comment">//ä»£ç†ç±»</span></span><br><span class="line">       UserServiceProxy proxy = <span class="keyword">new</span> UserServiceProxy();</span><br><span class="line">       <span class="comment">//ä½¿ç”¨ä»£ç†ç±»å®ç°æ—¥å¿—åŠŸèƒ½ï¼</span></span><br><span class="line">       proxy.setUserService(userService);</span><br><span class="line"></span><br><span class="line">       proxy.add();</span><br><span class="line">  }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>OKï¼Œåˆ°äº†ç°åœ¨ä»£ç†æ¨¡å¼å¤§å®¶åº”è¯¥éƒ½æ²¡æœ‰ä»€ä¹ˆé—®é¢˜äº†ï¼Œé‡ç‚¹å¤§å®¶éœ€è¦ç†è§£å…¶ä¸­çš„æ€æƒ³ï¼›</p><p>æˆ‘ä»¬åœ¨ä¸æ”¹å˜åŸæ¥çš„ä»£ç çš„æƒ…å†µä¸‹ï¼Œå®ç°äº†å¯¹åŸæœ‰åŠŸèƒ½çš„å¢å¼ºï¼Œè¿™æ˜¯AOPä¸­æœ€æ ¸å¿ƒçš„æ€æƒ³</p><p>èŠèŠAOPï¼šçºµå‘å¼€å‘ï¼Œæ¨ªå‘å¼€å‘</p><p><img src="https://mmbiz.qpic.cn/mmbiz_png/uJDAUKrGC7LoeicP1O2nfyA6H0XPa9jMLJqcgicA5aEKtxYibgLPicNfDwicKIn9NlFl86rriaVRicKnEXlPNiacbHiaLibw/640?wx_fmt=png&amp;tp=webp&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1" alt="img"></p><blockquote><h4 id="åŠ¨æ€ä»£ç†"><a href="#åŠ¨æ€ä»£ç†" class="headerlink" title="åŠ¨æ€ä»£ç†"></a>åŠ¨æ€ä»£ç†</h4></blockquote><ul><li><p>åŠ¨æ€ä»£ç†çš„è§’è‰²å’Œé™æ€ä»£ç†çš„ä¸€æ · .</p></li><li><p>åŠ¨æ€ä»£ç†çš„ä»£ç†ç±»æ˜¯åŠ¨æ€ç”Ÿæˆçš„ . é™æ€ä»£ç†çš„ä»£ç†ç±»æ˜¯æˆ‘ä»¬æå‰å†™å¥½çš„</p></li><li><p>åŠ¨æ€ä»£ç†åˆ†ä¸º<code>ä¸¤ç±»</code> : ä¸€ç±»æ˜¯åŸºäºæ¥å£åŠ¨æ€ä»£ç† , ä¸€ç±»æ˜¯åŸºäºç±»çš„åŠ¨æ€ä»£ç†</p></li><li><ul><li>åŸºäºæ¥å£çš„åŠ¨æ€ä»£ç†â€”-JDKåŠ¨æ€ä»£ç†</li><li>åŸºäºç±»çš„åŠ¨æ€ä»£ç†â€“cglib</li><li>ç°åœ¨ç”¨çš„æ¯”è¾ƒå¤šçš„æ˜¯ javasist æ¥ç”ŸæˆåŠ¨æ€ä»£ç† . ç™¾åº¦ä¸€ä¸‹javasist</li><li>æˆ‘ä»¬è¿™é‡Œä½¿ç”¨JDKçš„åŸç”Ÿä»£ç æ¥å®ç°ï¼Œå…¶ä½™çš„é“ç†éƒ½æ˜¯ä¸€æ ·çš„ï¼</li></ul></li></ul><p><strong>JDKçš„åŠ¨æ€ä»£ç†éœ€è¦äº†è§£ä¸¤ä¸ªç±»</strong></p><p>æ ¸å¿ƒ : InvocationHandler   å’Œ   Proxy  ï¼Œ æ‰“å¼€JDKå¸®åŠ©æ–‡æ¡£çœ‹çœ‹</p><blockquote><p>InvocationHandler:</p></blockquote><p><code>InvocationHandler</code>æ˜¯ç”±ä»£ç†å®ä¾‹çš„<em>è°ƒç”¨å¤„ç†ç¨‹åº</em>å®ç°çš„<em>æ¥å£</em>  ã€‚</p><p>æ¯ä¸ªä»£ç†å®ä¾‹éƒ½æœ‰ä¸€ä¸ªå…³è”çš„è°ƒç”¨å¤„ç†ç¨‹åºã€‚  å½“åœ¨ä»£ç†å®ä¾‹ä¸Šè°ƒç”¨æ–¹æ³•æ—¶ï¼Œæ–¹æ³•è°ƒç”¨å°†è¢«ç¼–ç å¹¶åˆ†æ´¾åˆ°å…¶è°ƒç”¨å¤„ç†ç¨‹åºçš„<code>invoke</code>æ–¹æ³•ã€‚ </p><table><thead><tr><th>Modifier and Type</th><th>Method and Description</th></tr></thead><tbody><tr><td><code>Object</code></td><td><code>invoke(Object proxy, æ–¹æ³• method, Object[] args)</code>  å¤„ç†ä»£ç†å®ä¾‹ä¸Šçš„æ–¹æ³•è°ƒç”¨å¹¶è¿”å›ç»“æœã€‚</td></tr></tbody></table><blockquote><p>Proxy:</p></blockquote><table><thead><tr><th>Modifier and Type</th><th>Method and Description</th></tr></thead><tbody><tr><td><code>static InvocationHandler</code></td><td><code>getInvocationHandler(Object proxy)</code>  è¿”å›æŒ‡å®šä»£ç†å®ä¾‹çš„è°ƒç”¨å¤„ç†ç¨‹åºã€‚</td></tr><tr><td><code>static ç±»</code></td><td><code>getProxyClass(ClassLoader loader, ç±»... interfaces)</code>  ç»™å‡ºç±»åŠ è½½å™¨å’Œæ¥å£æ•°ç»„çš„ä»£ç†ç±»çš„ <code>java.lang.Class</code>å¯¹è±¡ã€‚</td></tr><tr><td><code>static boolean</code></td><td><code>isProxyClass(ç±» cl)</code>  å¦‚æœä¸”ä»…å½“ä½¿ç”¨ <code>getProxyClass</code>æ–¹æ³•æˆ–  <code>newProxyInstance</code>æ–¹æ³•å°†æŒ‡å®šçš„ç±»åŠ¨æ€ç”Ÿæˆä¸ºä»£ç†ç±»æ—¶ï¼Œåˆ™è¿”å›trueã€‚</td></tr><tr><td><code>static Object</code></td><td><code>newProxyInstance(ClassLoader loader, ç±»[] interfaces, InvocationHandler h)</code>  è¿”å›æŒ‡å®šæ¥å£çš„ä»£ç†ç±»çš„å®ä¾‹ï¼Œè¯¥æ¥å£å°†æ–¹æ³•è°ƒç”¨åˆ†æ´¾ç»™æŒ‡å®šçš„è°ƒç”¨å¤„ç†ç¨‹åºã€‚</td></tr></tbody></table><p><strong>ã€InvocationHandlerï¼šè°ƒç”¨å¤„ç†ç¨‹åºã€‘</strong></p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">Object <span class="title">invoke</span><span class="params">(Object proxy, æ–¹æ³• method, Object[] args)</span></span>;</span><br><span class="line"><span class="comment">//å‚æ•°</span></span><br><span class="line"><span class="comment">//proxy - è°ƒç”¨è¯¥æ–¹æ³•çš„ä»£ç†å®ä¾‹</span></span><br><span class="line"><span class="comment">//method -æ‰€è¿°æ–¹æ³•å¯¹åº”äºè°ƒç”¨ä»£ç†å®ä¾‹ä¸Šçš„æ¥å£æ–¹æ³•çš„å®ä¾‹ã€‚æ–¹æ³•å¯¹è±¡çš„å£°æ˜ç±»å°†æ˜¯è¯¥æ–¹æ³•å£°æ˜çš„æ¥å£ï¼Œå®ƒå¯ä»¥æ˜¯ä»£ç†ç±»ç»§æ‰¿è¯¥æ–¹æ³•çš„ä»£ç†æ¥å£çš„è¶…çº§æ¥å£ã€‚</span></span><br><span class="line"><span class="comment">//args -åŒ…å«çš„æ–¹æ³•è°ƒç”¨ä¼ é€’ä»£ç†å®ä¾‹çš„å‚æ•°å€¼çš„å¯¹è±¡çš„é˜µåˆ—ï¼Œæˆ–nullå¦‚æœæ¥å£æ–¹æ³•æ²¡æœ‰å‚æ•°ã€‚åŸå§‹ç±»å‹çš„å‚æ•°åŒ…å«åœ¨é€‚å½“çš„åŸå§‹åŒ…è£…å™¨ç±»çš„å®ä¾‹ä¸­ï¼Œä¾‹å¦‚java.lang.Integeræˆ–java.lang.Boolean ã€‚</span></span><br></pre></td></tr></tbody></table></figure><p><strong>ã€Proxy  : ä»£ç†ã€‘</strong></p><p><img src="https://mmbiz.qpic.cn/mmbiz_png/uJDAUKrGC7LoeicP1O2nfyA6H0XPa9jMLficZiaPU0h9wdeDicTMgBHemVvIdYTsE712DhkDfg0pdRg169oG5FHTmw/640?wx_fmt=png&amp;tp=webp&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1" alt="img"></p><p><img src="https://mmbiz.qpic.cn/mmbiz_png/uJDAUKrGC7LoeicP1O2nfyA6H0XPa9jMLCIv9ibKb4c9KjmZNNbsDbZojUy0aB1lS3ibqa1SJaBzkK7KneicEX43Zw/640?wx_fmt=png&amp;tp=webp&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1" alt="img"></p><p><img src="https://mmbiz.qpic.cn/mmbiz_png/uJDAUKrGC7LoeicP1O2nfyA6H0XPa9jML394CqGFmCP1nUlaU9mdLk19o1qIzjicTgDiaPz7ibR371jAo3uNNQ8Qgw/640?wx_fmt=png&amp;tp=webp&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1" alt="img"></p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ç”Ÿæˆä»£ç†ç±»</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> Object <span class="title">getProxy</span><span class="params">()</span></span>{</span><br><span class="line">   <span class="keyword">return</span> Proxy.newProxyInstance(<span class="keyword">this</span>.getClass().getClassLoader(),</span><br><span class="line">                                 rent.getClass().getInterfaces(),<span class="keyword">this</span>);</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p><strong>ä»£ç å®ç°</strong> </p><p>æŠ½è±¡è§’è‰²å’ŒçœŸå®è§’è‰²å’Œä¹‹å‰çš„ä¸€æ ·ï¼</p><p>Rent . java å³æŠ½è±¡è§’è‰²</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//æŠ½è±¡è§’è‰²ï¼šç§Ÿæˆ¿</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">Rent</span> </span>{</span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">rent</span><span class="params">()</span></span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>Host . java å³çœŸå®è§’è‰²</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//çœŸå®è§’è‰²: æˆ¿ä¸œï¼Œæˆ¿ä¸œè¦å‡ºç§Ÿæˆ¿å­</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Host</span> <span class="keyword">implements</span> <span class="title">Rent</span></span>{</span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">rent</span><span class="params">()</span> </span>{</span><br><span class="line">       System.out.println(<span class="string">"æˆ¿å±‹å‡ºç§Ÿ"</span>);</span><br><span class="line">  }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>ProxyInvocationHandler. java å³ä»£ç†è§’è‰²</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//æ¯ä¸ªä»£ç†å®ä¾‹éƒ½æœ‰ä¸€ä¸ªå…³è”çš„è°ƒç”¨å¤„ç†ç¨‹åºå¯¹è±¡ï¼Œå®ƒå®ç°äº†æ¥å£InvocationHandler ã€‚ </span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ProxyInvocationHandler</span> <span class="keyword">implements</span> <span class="title">InvocationHandler</span> </span>{</span><br><span class="line">   <span class="keyword">private</span> Rent rent;</span><br><span class="line"></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setRent</span><span class="params">(Rent rent)</span> </span>{</span><br><span class="line">       <span class="keyword">this</span>.rent = rent;</span><br><span class="line">  }</span><br><span class="line"></span><br><span class="line">   <span class="comment">//ç”Ÿæˆä»£ç†ç±»ï¼Œé‡ç‚¹æ˜¯ç¬¬äºŒä¸ªå‚æ•°ï¼Œè·å–è¦ä»£ç†çš„æŠ½è±¡è§’è‰²ï¼ä¹‹å‰éƒ½æ˜¯ä¸€ä¸ªè§’è‰²ï¼Œç°åœ¨å¯ä»¥ä»£ç†ä¸€ç±»è§’è‰²</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> Object <span class="title">getProxy</span><span class="params">()</span></span>{</span><br><span class="line">       <span class="keyword">return</span> Proxy.newProxyInstance(<span class="keyword">this</span>.getClass().getClassLoader(),</span><br><span class="line">               rent.getClass().getInterfaces(),<span class="keyword">this</span>);</span><br><span class="line">  }</span><br><span class="line"></span><br><span class="line">   <span class="comment">// proxy : ä»£ç†ç±» method : ä»£ç†ç±»çš„è°ƒç”¨å¤„ç†ç¨‹åºçš„æ–¹æ³•å¯¹è±¡.</span></span><br><span class="line">   <span class="comment">// å¤„ç†ä»£ç†å®ä¾‹ä¸Šçš„æ–¹æ³•è°ƒç”¨å¹¶è¿”å›ç»“æœ</span></span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> Object <span class="title">invoke</span><span class="params">(Object proxy, Method method, Object[] args)</span> throwsThrowable </span>{</span><br><span class="line">       seeHouse();</span><br><span class="line">       <span class="comment">//æ ¸å¿ƒï¼šæœ¬è´¨åˆ©ç”¨åå°„å®ç°ï¼</span></span><br><span class="line">       Object result = method.invoke(rent, args);</span><br><span class="line">       fare();</span><br><span class="line">       <span class="keyword">return</span> result;</span><br><span class="line">  }</span><br><span class="line"></span><br><span class="line">   <span class="comment">//çœ‹æˆ¿</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">seeHouse</span><span class="params">()</span></span>{</span><br><span class="line">       System.out.println(<span class="string">"å¸¦æˆ¿å®¢çœ‹æˆ¿"</span>);</span><br><span class="line">  }</span><br><span class="line">   <span class="comment">//æ”¶ä¸­ä»‹è´¹</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">fare</span><span class="params">()</span></span>{</span><br><span class="line">       System.out.println(<span class="string">"æ”¶ä¸­ä»‹è´¹"</span>);</span><br><span class="line">  }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>Client . java</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ç§Ÿå®¢</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Client</span> </span>{</span><br><span class="line"></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>{</span><br><span class="line">       <span class="comment">//çœŸå®è§’è‰²</span></span><br><span class="line">       Host host = <span class="keyword">new</span> Host();</span><br><span class="line">       <span class="comment">//ä»£ç†å®ä¾‹çš„è°ƒç”¨å¤„ç†ç¨‹åº</span></span><br><span class="line">       ProxyInvocationHandler pih = <span class="keyword">new</span> ProxyInvocationHandler();</span><br><span class="line">       pih.setRent(host); <span class="comment">//å°†çœŸå®è§’è‰²æ”¾ç½®è¿›å»ï¼</span></span><br><span class="line">       Rent proxy = (Rent)pih.getProxy(); <span class="comment">//åŠ¨æ€ç”Ÿæˆå¯¹åº”çš„ä»£ç†ç±»ï¼</span></span><br><span class="line">       proxy.rent();</span><br><span class="line">  }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>æ ¸å¿ƒï¼š<strong>ä¸€ä¸ªåŠ¨æ€ä»£ç† , ä¸€èˆ¬ä»£ç†æŸä¸€ç±»ä¸šåŠ¡ , ä¸€ä¸ªåŠ¨æ€ä»£ç†å¯ä»¥ä»£ç†å¤šä¸ªç±»ï¼Œä»£ç†çš„æ˜¯æ¥å£ï¼</strong></p><blockquote><h4 id="æ·±åŒ–ç†è§£"><a href="#æ·±åŒ–ç†è§£" class="headerlink" title="æ·±åŒ–ç†è§£"></a>æ·±åŒ–ç†è§£</h4></blockquote><p>æˆ‘ä»¬æ¥ä½¿ç”¨åŠ¨æ€ä»£ç†å®ç°ä»£ç†æˆ‘ä»¬åé¢å†™çš„UserServiceï¼</p><p>æˆ‘ä»¬ä¹Ÿå¯ä»¥ç¼–å†™ä¸€ä¸ªé€šç”¨çš„åŠ¨æ€ä»£ç†å®ç°çš„ç±»ï¼æ‰€æœ‰çš„ä»£ç†å¯¹è±¡è®¾ç½®ä¸ºObjectå³å¯ï¼</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ProxyInvocationHandler</span> <span class="keyword">implements</span> <span class="title">InvocationHandler</span> </span>{</span><br><span class="line">   <span class="keyword">private</span> Object target;</span><br><span class="line"></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setTarget</span><span class="params">(Object target)</span> </span>{</span><br><span class="line">       <span class="keyword">this</span>.target = target;</span><br><span class="line">  }</span><br><span class="line"></span><br><span class="line">   <span class="comment">//ç”Ÿæˆä»£ç†ç±»</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> Object <span class="title">getProxy</span><span class="params">()</span></span>{</span><br><span class="line">       <span class="keyword">return</span> Proxy.newProxyInstance(<span class="keyword">this</span>.getClass().getClassLoader(),</span><br><span class="line">               target.getClass().getInterfaces(),<span class="keyword">this</span>);</span><br><span class="line">  }</span><br><span class="line"></span><br><span class="line">   <span class="comment">// proxy : ä»£ç†ç±»</span></span><br><span class="line">   <span class="comment">// method : ä»£ç†ç±»çš„è°ƒç”¨å¤„ç†ç¨‹åºçš„æ–¹æ³•å¯¹è±¡.</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> Object <span class="title">invoke</span><span class="params">(Object proxy, Method method, Object[] args)</span> throwsThrowable </span>{</span><br><span class="line">       log(method.getName());</span><br><span class="line">       Object result = method.invoke(target, args);</span><br><span class="line">       <span class="keyword">return</span> result;</span><br><span class="line">  }</span><br><span class="line"></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">log</span><span class="params">(String methodName)</span></span>{</span><br><span class="line">       System.out.println(<span class="string">"æ‰§è¡Œäº†"</span>+methodName+<span class="string">"æ–¹æ³•"</span>);</span><br><span class="line">  }</span><br><span class="line"></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>æµ‹è¯•ï¼</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span> </span>{</span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>{</span><br><span class="line">       <span class="comment">//çœŸå®å¯¹è±¡</span></span><br><span class="line">       UserServiceImpl userService = <span class="keyword">new</span> UserServiceImpl();</span><br><span class="line">       <span class="comment">//ä»£ç†å¯¹è±¡çš„è°ƒç”¨å¤„ç†ç¨‹åº</span></span><br><span class="line">       ProxyInvocationHandler pih = <span class="keyword">new</span> ProxyInvocationHandler();</span><br><span class="line">       pih.setTarget(userService); <span class="comment">//è®¾ç½®è¦ä»£ç†çš„å¯¹è±¡</span></span><br><span class="line">       UserService proxy = (UserService)pih.getProxy(); <span class="comment">//åŠ¨æ€ç”Ÿæˆä»£ç†ç±»ï¼</span></span><br><span class="line">       proxy.delete();</span><br><span class="line">  }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>æµ‹è¯•ï¼Œå¢åˆ æ”¹æŸ¥ï¼ŒæŸ¥çœ‹ç»“æœï¼</p><blockquote><h5 id="åŠ¨æ€ä»£ç†çš„å¥½å¤„"><a href="#åŠ¨æ€ä»£ç†çš„å¥½å¤„" class="headerlink" title="åŠ¨æ€ä»£ç†çš„å¥½å¤„"></a>åŠ¨æ€ä»£ç†çš„å¥½å¤„</h5></blockquote><p>é™æ€ä»£ç†æœ‰çš„å®ƒéƒ½æœ‰ï¼Œé™æ€ä»£ç†æ²¡æœ‰çš„ï¼Œå®ƒä¹Ÿæœ‰ï¼</p><ul><li>å¯ä»¥ä½¿å¾—æˆ‘ä»¬çš„çœŸå®è§’è‰²æ›´åŠ çº¯ç²¹ . ä¸å†å»å…³æ³¨ä¸€äº›å…¬å…±çš„äº‹æƒ… .</li><li>å…¬å…±çš„ä¸šåŠ¡ç”±ä»£ç†æ¥å®Œæˆ . å®ç°äº†ä¸šåŠ¡çš„åˆ†å·¥ ,</li><li>å…¬å…±ä¸šåŠ¡å‘ç”Ÿæ‰©å±•æ—¶å˜å¾—æ›´åŠ é›†ä¸­å’Œæ–¹ä¾¿ .</li><li>ä¸€ä¸ªåŠ¨æ€ä»£ç† , ä¸€èˆ¬ä»£ç†æŸä¸€ç±»ä¸šåŠ¡</li><li>ä¸€ä¸ªåŠ¨æ€ä»£ç†å¯ä»¥ä»£ç†å¤šä¸ªç±»ï¼Œä»£ç†çš„æ˜¯æ¥å£ï¼</li></ul><h2 id="AOPé¢å‘åˆ‡é¢ç¼–ç¨‹"><a href="#AOPé¢å‘åˆ‡é¢ç¼–ç¨‹" class="headerlink" title="AOPé¢å‘åˆ‡é¢ç¼–ç¨‹"></a>AOPé¢å‘åˆ‡é¢ç¼–ç¨‹</h2><p>é‚£æˆ‘ä»¬æ¥ä¸‹æ¥å°±æ¥èŠèŠAOPå§ï¼</p><blockquote><p>ä»€ä¹ˆæ˜¯AOP</p></blockquote><p>AOPï¼ˆAspect Oriented Programmingï¼‰æ„ä¸ºï¼šé¢å‘åˆ‡é¢ç¼–ç¨‹ï¼Œé€šè¿‡é¢„ç¼–è¯‘æ–¹å¼å’Œè¿è¡ŒæœŸåŠ¨æ€ä»£ç†å®ç°ç¨‹åºåŠŸèƒ½çš„ç»Ÿä¸€ç»´æŠ¤çš„ä¸€ç§æŠ€æœ¯ã€‚AOPæ˜¯OOPçš„å»¶ç»­ï¼Œæ˜¯è½¯ä»¶å¼€å‘ä¸­çš„ä¸€ä¸ªçƒ­ç‚¹ï¼Œä¹Ÿæ˜¯Springæ¡†æ¶ä¸­çš„ä¸€ä¸ªé‡è¦å†…å®¹ï¼Œæ˜¯å‡½æ•°å¼ç¼–ç¨‹çš„ä¸€ç§è¡ç”ŸèŒƒå‹ã€‚åˆ©ç”¨AOPå¯ä»¥å¯¹ä¸šåŠ¡é€»è¾‘çš„å„ä¸ªéƒ¨åˆ†è¿›è¡Œéš”ç¦»ï¼Œä»è€Œä½¿å¾—ä¸šåŠ¡é€»è¾‘å„éƒ¨åˆ†ä¹‹é—´çš„è€¦åˆåº¦é™ä½ï¼Œæé«˜ç¨‹åºçš„å¯é‡ç”¨æ€§ï¼ŒåŒæ—¶æé«˜äº†å¼€å‘çš„æ•ˆç‡ã€‚</p><p><img src="https://mmbiz.qpic.cn/mmbiz_png/uJDAUKrGC7JAeTYOaaH6rZ6WmLLgwQLHf5pmH30gj6mZm81PC7iauicFu55sicJtspU7K3vTCVdZCDTSHq7D5XHlw/640?wx_fmt=png&amp;tp=webp&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1" alt="img"></p><blockquote><p>Aopåœ¨Springä¸­çš„ä½œç”¨</p></blockquote><p>æä¾›å£°æ˜å¼äº‹åŠ¡ï¼›å…è®¸ç”¨æˆ·è‡ªå®šä¹‰åˆ‡é¢</p><p>ä»¥ä¸‹åè¯éœ€è¦äº†è§£ä¸‹ï¼š</p><ul><li>æ¨ªåˆ‡å…³æ³¨ç‚¹ï¼šè·¨è¶Šåº”ç”¨ç¨‹åºå¤šä¸ªæ¨¡å—çš„æ–¹æ³•æˆ–åŠŸèƒ½ã€‚å³æ˜¯ï¼Œä¸æˆ‘ä»¬ä¸šåŠ¡é€»è¾‘æ— å…³çš„ï¼Œä½†æ˜¯æˆ‘ä»¬éœ€è¦å…³æ³¨çš„éƒ¨åˆ†ï¼Œå°±æ˜¯æ¨ªåˆ‡å…³æ³¨ç‚¹ã€‚å¦‚æ—¥å¿— , å®‰å…¨ , ç¼“å­˜ , äº‹åŠ¡ç­‰ç­‰ â€¦.</li><li>åˆ‡é¢ï¼ˆASPECTï¼‰ï¼šæ¨ªåˆ‡å…³æ³¨ç‚¹ è¢«æ¨¡å—åŒ– çš„ç‰¹æ®Šå¯¹è±¡ã€‚å³ï¼Œå®ƒæ˜¯ä¸€ä¸ªç±»ã€‚</li><li>é€šçŸ¥ï¼ˆAdviceï¼‰ï¼šåˆ‡é¢å¿…é¡»è¦å®Œæˆçš„å·¥ä½œã€‚å³ï¼Œå®ƒæ˜¯ç±»ä¸­çš„ä¸€ä¸ªæ–¹æ³•ã€‚</li><li>ç›®æ ‡ï¼ˆTargetï¼‰ï¼šè¢«é€šçŸ¥å¯¹è±¡ã€‚</li><li>ä»£ç†ï¼ˆProxyï¼‰ï¼šå‘ç›®æ ‡å¯¹è±¡åº”ç”¨é€šçŸ¥ä¹‹ååˆ›å»ºçš„å¯¹è±¡ã€‚</li><li>åˆ‡å…¥ç‚¹ï¼ˆPointCutï¼‰ï¼šåˆ‡é¢é€šçŸ¥ æ‰§è¡Œçš„ â€œåœ°ç‚¹â€çš„å®šä¹‰ã€‚</li><li>è¿æ¥ç‚¹ï¼ˆJointPointï¼‰ï¼šä¸åˆ‡å…¥ç‚¹åŒ¹é…çš„æ‰§è¡Œç‚¹ã€‚</li></ul><p><img src="https://mmbiz.qpic.cn/mmbiz_png/uJDAUKrGC7JAeTYOaaH6rZ6WmLLgwQLHVOZ1JpRb7ViaprZCRXsUbH0bZpibiaTjqib68LQHOWZicSvuU8Y1dquUVGw/640?wx_fmt=png&amp;tp=webp&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1" alt="img"></p><p>SpringAOPä¸­ï¼Œé€šè¿‡Adviceå®šä¹‰æ¨ªåˆ‡é€»è¾‘ï¼ŒSpringä¸­æ”¯æŒ5ç§ç±»å‹çš„Advice:</p><p><img src="https://mmbiz.qpic.cn/mmbiz_png/uJDAUKrGC7JAeTYOaaH6rZ6WmLLgwQLHbAWH8haUQeJ0LVBxxX0icC5TZlBkEBGibibey7jFrCbibPzQcRhkNFcGAA/640?wx_fmt=png&amp;tp=webp&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1" alt="img"></p><p>å³ Aop åœ¨ ä¸æ”¹å˜åŸæœ‰ä»£ç çš„æƒ…å†µä¸‹ , å»å¢åŠ æ–°çš„åŠŸèƒ½ .</p><blockquote><p>ä½¿ç”¨Springå®ç°Aop</p></blockquote><p>ã€é‡ç‚¹ã€‘ä½¿ç”¨AOPç»‡å…¥ï¼Œéœ€è¦å¯¼å…¥ä¸€ä¸ªä¾èµ–åŒ…ï¼</p><figure class="highlight xml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- https://mvnrepository.com/artifact/org.aspectj/aspectjweaver --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.aspectj<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>aspectjweaver<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.9.4<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><p><strong>ç¬¬ä¸€ç§æ–¹å¼</strong></p><p><strong>é€šè¿‡ Spring API å®ç°</strong></p><p>é¦–å…ˆç¼–å†™æˆ‘ä»¬çš„ä¸šåŠ¡æ¥å£å’Œå®ç°ç±»</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">UserService</span> </span>{</span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">add</span><span class="params">()</span></span>;</span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">delete</span><span class="params">()</span></span>;</span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">update</span><span class="params">()</span></span>;</span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">search</span><span class="params">()</span></span>;</span><br><span class="line">}</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">UserServiceImpl</span> <span class="keyword">implements</span> <span class="title">UserService</span></span>{</span><br><span class="line"></span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">add</span><span class="params">()</span> </span>{</span><br><span class="line">       System.out.println(<span class="string">"å¢åŠ ç”¨æˆ·"</span>);</span><br><span class="line">  }</span><br><span class="line"></span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">delete</span><span class="params">()</span> </span>{</span><br><span class="line">       System.out.println(<span class="string">"åˆ é™¤ç”¨æˆ·"</span>);</span><br><span class="line">  }</span><br><span class="line"></span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">update</span><span class="params">()</span> </span>{</span><br><span class="line">       System.out.println(<span class="string">"æ›´æ–°ç”¨æˆ·"</span>);</span><br><span class="line">  }</span><br><span class="line"></span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">search</span><span class="params">()</span> </span>{</span><br><span class="line">       System.out.println(<span class="string">"æŸ¥è¯¢ç”¨æˆ·"</span>);</span><br><span class="line">  }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>ç„¶åå»å†™æˆ‘ä»¬çš„å¢å¼ºç±» , æˆ‘ä»¬ç¼–å†™ä¸¤ä¸ª , ä¸€ä¸ªå‰ç½®å¢å¼º ä¸€ä¸ªåç½®å¢å¼º</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Log</span> <span class="keyword">implements</span> <span class="title">MethodBeforeAdvice</span> </span>{</span><br><span class="line"></span><br><span class="line">   <span class="comment">//method : è¦æ‰§è¡Œçš„ç›®æ ‡å¯¹è±¡çš„æ–¹æ³•</span></span><br><span class="line">   <span class="comment">//objects : è¢«è°ƒç”¨çš„æ–¹æ³•çš„å‚æ•°</span></span><br><span class="line">   <span class="comment">//Object : ç›®æ ‡å¯¹è±¡</span></span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">before</span><span class="params">(Method method, Object[] objects, Object o)</span> <span class="keyword">throws</span> Throwable </span>{</span><br><span class="line">       System.out.println( o.getClass().getName() + <span class="string">"çš„"</span> + method.getName() + <span class="string">"æ–¹æ³•è¢«æ‰§è¡Œäº†"</span>);</span><br><span class="line">  }</span><br><span class="line">}</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">AfterLog</span> <span class="keyword">implements</span> <span class="title">AfterReturningAdvice</span> </span>{</span><br><span class="line">   <span class="comment">//returnValue è¿”å›å€¼</span></span><br><span class="line">   <span class="comment">//methodè¢«è°ƒç”¨çš„æ–¹æ³•</span></span><br><span class="line">   <span class="comment">//args è¢«è°ƒç”¨çš„æ–¹æ³•çš„å¯¹è±¡çš„å‚æ•°</span></span><br><span class="line">   <span class="comment">//target è¢«è°ƒç”¨çš„ç›®æ ‡å¯¹è±¡</span></span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">afterReturning</span><span class="params">(Object returnValue, Method method, Object[] args,Object target)</span> <span class="keyword">throws</span> Throwable </span>{</span><br><span class="line">       System.out.println(<span class="string">"æ‰§è¡Œäº†"</span> + target.getClass().getName()</span><br><span class="line">       +<span class="string">"çš„"</span>+method.getName()+<span class="string">"æ–¹æ³•,"</span></span><br><span class="line">       +<span class="string">"è¿”å›å€¼ï¼š"</span>+returnValue);</span><br><span class="line">  }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>æœ€åå»springçš„æ–‡ä»¶ä¸­æ³¨å†Œ , å¹¶å®ç°aopåˆ‡å…¥å®ç° , æ³¨æ„å¯¼å…¥çº¦æŸ .</p><figure class="highlight xml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">"http://www.springframework.org/schema/beans"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">xmlns:xsi</span>=<span class="string">"http://www.w3.org/2001/XMLSchema-instance"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">xmlns:aop</span>=<span class="string">"http://www.springframework.org/schema/aop"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">xsi:schemaLocation</span>=<span class="string">"http://www.springframework.org/schema/beans</span></span></span><br><span class="line"><span class="tag"><span class="string">       http://www.springframework.org/schema/beans/spring-beans.xsd</span></span></span><br><span class="line"><span class="tag"><span class="string">       http://www.springframework.org/schema/aop</span></span></span><br><span class="line"><span class="tag"><span class="string">       http://www.springframework.org/schema/aop/spring-aop.xsd"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">   <span class="comment">&lt;!--æ³¨å†Œbean--&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"userService"</span> <span class="attr">class</span>=<span class="string">"com.kuang.service.UserServiceImpl"</span>/&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"log"</span> <span class="attr">class</span>=<span class="string">"com.kuang.log.Log"</span>/&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"afterLog"</span> <span class="attr">class</span>=<span class="string">"com.kuang.log.AfterLog"</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">   <span class="comment">&lt;!--aopçš„é…ç½®--&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">aop:config</span>&gt;</span></span><br><span class="line">       <span class="comment">&lt;!--åˆ‡å…¥ç‚¹ expression:è¡¨è¾¾å¼åŒ¹é…è¦æ‰§è¡Œçš„æ–¹æ³•--&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">aop:pointcut</span> <span class="attr">id</span>=<span class="string">"pointcut"</span> <span class="attr">expression</span>=<span class="string">"execution(* com.kuang.service.UserServiceImpl.*(..))"</span>/&gt;</span></span><br><span class="line">       <span class="comment">&lt;!--æ‰§è¡Œç¯ç»•; advice-refæ‰§è¡Œæ–¹æ³• . pointcut-refåˆ‡å…¥ç‚¹--&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">aop:advisor</span> <span class="attr">advice-ref</span>=<span class="string">"log"</span> <span class="attr">pointcut-ref</span>=<span class="string">"pointcut"</span>/&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">aop:advisor</span> <span class="attr">advice-ref</span>=<span class="string">"afterLog"</span> <span class="attr">pointcut-ref</span>=<span class="string">"pointcut"</span>/&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">aop:config</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><p>æµ‹è¯•</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyTest</span> </span>{</span><br><span class="line">   <span class="meta">@Test</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test</span><span class="params">()</span></span>{</span><br><span class="line">       ApplicationContext context = <span class="keyword">new</span> ClassPathXmlApplicationContext(<span class="string">"beans.xml"</span>);</span><br><span class="line">       UserService userService = (UserService) context.getBean(<span class="string">"userService"</span>);</span><br><span class="line">       userService.search();</span><br><span class="line">  }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>Aopçš„é‡è¦æ€§ : å¾ˆé‡è¦ . ä¸€å®šè¦ç†è§£å…¶ä¸­çš„æ€è·¯ , ä¸»è¦æ˜¯æ€æƒ³çš„ç†è§£è¿™ä¸€å— .</p><p>Springçš„Aopå°±æ˜¯å°†å…¬å…±çš„ä¸šåŠ¡ (æ—¥å¿— , å®‰å…¨ç­‰) å’Œé¢†åŸŸä¸šåŠ¡ç»“åˆèµ·æ¥ , å½“æ‰§è¡Œé¢†åŸŸä¸šåŠ¡æ—¶ , å°†ä¼šæŠŠå…¬å…±ä¸šåŠ¡åŠ è¿›æ¥ . å®ç°å…¬å…±ä¸šåŠ¡çš„é‡å¤åˆ©ç”¨ . é¢†åŸŸä¸šåŠ¡æ›´çº¯ç²¹ , ç¨‹åºçŒ¿ä¸“æ³¨é¢†åŸŸä¸šåŠ¡ , å…¶æœ¬è´¨è¿˜æ˜¯åŠ¨æ€ä»£ç† . </p><p><strong>ç¬¬äºŒç§æ–¹å¼</strong></p><p><strong>è‡ªå®šä¹‰ç±»æ¥å®ç°Aop</strong></p><p>ç›®æ ‡ä¸šåŠ¡ç±»ä¸å˜ä¾æ—§æ˜¯userServiceImpl</p><p>ç¬¬ä¸€æ­¥ : å†™æˆ‘ä»¬è‡ªå·±çš„ä¸€ä¸ªåˆ‡å…¥ç±»</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">DiyPointcut</span> </span>{</span><br><span class="line"></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">before</span><span class="params">()</span></span>{</span><br><span class="line">       System.out.println(<span class="string">"---------æ–¹æ³•æ‰§è¡Œå‰---------"</span>);</span><br><span class="line">  }</span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">after</span><span class="params">()</span></span>{</span><br><span class="line">       System.out.println(<span class="string">"---------æ–¹æ³•æ‰§è¡Œå---------"</span>);</span><br><span class="line">  }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>å»springä¸­é…ç½®</p><figure class="highlight xml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--ç¬¬äºŒç§æ–¹å¼è‡ªå®šä¹‰å®ç°--&gt;</span></span><br><span class="line"><span class="comment">&lt;!--æ³¨å†Œbean--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"diy"</span> <span class="attr">class</span>=<span class="string">"com.kuang.config.DiyPointcut"</span>/&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--aopçš„é…ç½®--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">aop:config</span>&gt;</span></span><br><span class="line">   <span class="comment">&lt;!--ç¬¬äºŒç§æ–¹å¼ï¼šä½¿ç”¨AOPçš„æ ‡ç­¾å®ç°--&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">aop:aspect</span> <span class="attr">ref</span>=<span class="string">"diy"</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">aop:pointcut</span> <span class="attr">id</span>=<span class="string">"diyPonitcut"</span> <span class="attr">expression</span>=<span class="string">"execution(* com.kuang.service.UserServiceImpl.*(..))"</span>/&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">aop:before</span> <span class="attr">pointcut-ref</span>=<span class="string">"diyPonitcut"</span> <span class="attr">method</span>=<span class="string">"before"</span>/&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">aop:after</span> <span class="attr">pointcut-ref</span>=<span class="string">"diyPonitcut"</span> <span class="attr">method</span>=<span class="string">"after"</span>/&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">aop:aspect</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">aop:config</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><p>æµ‹è¯•ï¼š</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyTest</span> </span>{</span><br><span class="line">   <span class="meta">@Test</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test</span><span class="params">()</span></span>{</span><br><span class="line">       ApplicationContext context = newClassPathXmlApplicationContext(<span class="string">"beans.xml"</span>);</span><br><span class="line">       UserService userService = (UserService) context.getBean(<span class="string">"userService"</span>);</span><br><span class="line">       userService.add();</span><br><span class="line">  }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p><strong>ç¬¬ä¸‰ç§æ–¹å¼</strong></p><p><strong>ä½¿ç”¨æ³¨è§£å®ç°</strong></p><p>ç¬¬ä¸€æ­¥ï¼šç¼–å†™ä¸€ä¸ªæ³¨è§£å®ç°çš„å¢å¼ºç±»</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.kuang.config;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.aspectj.lang.ProceedingJoinPoint;</span><br><span class="line"><span class="keyword">import</span> org.aspectj.lang.annotation.After;</span><br><span class="line"><span class="keyword">import</span> org.aspectj.lang.annotation.Around;</span><br><span class="line"><span class="keyword">import</span> org.aspectj.lang.annotation.Aspect;</span><br><span class="line"><span class="keyword">import</span> org.aspectj.lang.annotation.Before;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Aspect</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">AnnotationPointcut</span> </span>{</span><br><span class="line">   <span class="meta">@Before("execution(* com.kuang.service.UserServiceImpl.*(..))")</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">before</span><span class="params">()</span></span>{</span><br><span class="line">       System.out.println(<span class="string">"---------æ–¹æ³•æ‰§è¡Œå‰---------"</span>);</span><br><span class="line">  }</span><br><span class="line"></span><br><span class="line">   <span class="meta">@After("execution(* com.kuang.service.UserServiceImpl.*(..))")</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">after</span><span class="params">()</span></span>{</span><br><span class="line">       System.out.println(<span class="string">"---------æ–¹æ³•æ‰§è¡Œå---------"</span>);</span><br><span class="line">  }</span><br><span class="line"></span><br><span class="line">   <span class="meta">@Around("execution(* com.kuang.service.UserServiceImpl.*(..))")</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">around</span><span class="params">(ProceedingJoinPoint jp)</span> <span class="keyword">throws</span> Throwable </span>{</span><br><span class="line">       System.out.println(<span class="string">"ç¯ç»•å‰"</span>);</span><br><span class="line">       System.out.println(<span class="string">"ç­¾å:"</span>+jp.getSignature());</span><br><span class="line">       <span class="comment">//æ‰§è¡Œç›®æ ‡æ–¹æ³•proceed</span></span><br><span class="line">       Object proceed = jp.proceed();</span><br><span class="line">       System.out.println(<span class="string">"ç¯ç»•å"</span>);</span><br><span class="line">       System.out.println(proceed);</span><br><span class="line">  }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>ç¬¬äºŒæ­¥ï¼šåœ¨Springé…ç½®æ–‡ä»¶ä¸­ï¼Œæ³¨å†Œbeanï¼Œå¹¶å¢åŠ æ”¯æŒæ³¨è§£çš„é…ç½®</p><figure class="highlight xml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--ç¬¬ä¸‰ç§æ–¹å¼:æ³¨è§£å®ç°--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"annotationPointcut"</span> <span class="attr">class</span>=<span class="string">"com.kuang.config.AnnotationPointcut"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">aop:aspectj-autoproxy</span>/&gt;</span></span><br></pre></td></tr></tbody></table></figure><p>aop:aspectj-autoproxyï¼šè¯´æ˜</p><figure class="highlight xml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">é€šè¿‡aopå‘½åç©ºé—´çš„<span class="tag">&lt;<span class="name">aop:aspectj-autoproxy</span> /&gt;</span>å£°æ˜è‡ªåŠ¨ä¸ºspringå®¹å™¨ä¸­é‚£äº›é…ç½®@aspectJåˆ‡é¢çš„beanåˆ›å»ºä»£ç†ï¼Œç»‡å…¥åˆ‡é¢ã€‚å½“ç„¶ï¼Œspring åœ¨å†…éƒ¨ä¾æ—§é‡‡ç”¨AnnotationAwareAspectJAutoProxyCreatorè¿›è¡Œè‡ªåŠ¨ä»£ç†çš„åˆ›å»ºå·¥ä½œï¼Œä½†å…·ä½“å®ç°çš„ç»†èŠ‚å·²ç»è¢«<span class="tag">&lt;<span class="name">aop:aspectj-autoproxy</span> /&gt;</span>éšè—èµ·æ¥äº†</span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">aop:aspectj-autoproxy</span> /&gt;</span>æœ‰ä¸€ä¸ªproxy-target-classå±æ€§ï¼Œé»˜è®¤ä¸ºfalseï¼Œè¡¨ç¤ºä½¿ç”¨jdkåŠ¨æ€ä»£ç†ç»‡å…¥å¢å¼ºï¼Œå½“é…ä¸º<span class="tag">&lt;<span class="name">aop:aspectj-autoproxy</span>  <span class="attr">poxy-target-class</span>=<span class="string">"true"</span>/&gt;</span>æ—¶ï¼Œè¡¨ç¤ºä½¿ç”¨CGLibåŠ¨æ€ä»£ç†æŠ€æœ¯ç»‡å…¥å¢å¼ºã€‚ä¸è¿‡å³ä½¿proxy-target-classè®¾ç½®ä¸ºfalseï¼Œå¦‚æœç›®æ ‡ç±»æ²¡æœ‰å£°æ˜æ¥å£ï¼Œåˆ™springå°†è‡ªåŠ¨ä½¿ç”¨CGLibåŠ¨æ€ä»£ç†ã€‚</span><br></pre></td></tr></tbody></table></figure><h2 id="æ•´åˆMybatis"><a href="#æ•´åˆMybatis" class="headerlink" title="æ•´åˆMybatis"></a>æ•´åˆMybatis</h2><blockquote><h4 id="æ­¥éª¤"><a href="#æ­¥éª¤" class="headerlink" title="æ­¥éª¤"></a>æ­¥éª¤</h4></blockquote><p>1ã€å¯¼å…¥ç›¸å…³jaråŒ…</p><p>junit</p><figure class="highlight xml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>junit<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>junit<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">version</span>&gt;</span>4.12<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><p>mybatis</p><figure class="highlight xml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.mybatis<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mybatis<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.5.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><p>mysql-connector-java</p><figure class="highlight xml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>mysql<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mysql-connector-java<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">version</span>&gt;</span>5.1.47<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><p>springç›¸å…³</p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&lt;dependency&gt;</span><br><span class="line">   &lt;groupId&gt;org.springframework&lt;/groupId&gt;</span><br><span class="line">   &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;</span><br><span class="line">   &lt;version&gt;5.1.10.RELEASE&lt;/version&gt;</span><br><span class="line">&lt;/dependency&gt;</span><br><span class="line">&lt;dependency&gt;</span><br><span class="line">   &lt;groupId&gt;org.springframework&lt;/groupId&gt;</span><br><span class="line">   &lt;artifactId&gt;spring-jdbc&lt;/artifactId&gt;</span><br><span class="line">   &lt;version&gt;5.1.10.RELEASE&lt;/version&gt;</span><br><span class="line">&lt;/dependency&gt;</span><br></pre></td></tr></tbody></table></figure><p>aspectJ AOP ç»‡å…¥å™¨</p><figure class="highlight xml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- https://mvnrepository.com/artifact/org.aspectj/aspectjweaver --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.aspectj<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>aspectjweaver<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.9.4<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><p>mybatis-springæ•´åˆåŒ… ã€é‡ç‚¹ã€‘</p><figure class="highlight xml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.mybatis<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mybatis-spring<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.0.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><p>é…ç½®Mavené™æ€èµ„æºè¿‡æ»¤é—®é¢˜ï¼</p><figure class="highlight xml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">build</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">resources</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">resource</span>&gt;</span></span><br><span class="line">           <span class="tag">&lt;<span class="name">directory</span>&gt;</span>src/main/java<span class="tag">&lt;/<span class="name">directory</span>&gt;</span></span><br><span class="line">           <span class="tag">&lt;<span class="name">includes</span>&gt;</span></span><br><span class="line">               <span class="tag">&lt;<span class="name">include</span>&gt;</span>**/*.properties<span class="tag">&lt;/<span class="name">include</span>&gt;</span></span><br><span class="line">               <span class="tag">&lt;<span class="name">include</span>&gt;</span>**/*.xml<span class="tag">&lt;/<span class="name">include</span>&gt;</span></span><br><span class="line">           <span class="tag">&lt;/<span class="name">includes</span>&gt;</span></span><br><span class="line">           <span class="tag">&lt;<span class="name">filtering</span>&gt;</span>true<span class="tag">&lt;/<span class="name">filtering</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;/<span class="name">resource</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">resources</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">build</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><p>2ã€ç¼–å†™é…ç½®æ–‡ä»¶</p><p>3ã€ä»£ç å®ç°</p><blockquote><h4 id="å›å¿†MyBatis"><a href="#å›å¿†MyBatis" class="headerlink" title="å›å¿†MyBatis"></a>å›å¿†MyBatis</h4></blockquote><p><strong>ç¼–å†™pojoå®ä½“ç±»</strong></p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.kuang.pojo;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">User</span> </span>{</span><br><span class="line">   <span class="keyword">private</span> <span class="keyword">int</span> id;  <span class="comment">//id</span></span><br><span class="line">   <span class="keyword">private</span> String name;   <span class="comment">//å§“å</span></span><br><span class="line">   <span class="keyword">private</span> String pwd;   <span class="comment">//å¯†ç </span></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p><strong>å®ç°mybatisçš„é…ç½®æ–‡ä»¶</strong></p><figure class="highlight xml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="UTF-8" ?&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">configuration</span></span></span><br><span class="line"><span class="meta">       <span class="meta-keyword">PUBLIC</span> <span class="meta-string">"-//mybatis.org//DTD Config 3.0//EN"</span></span></span><br><span class="line"><span class="meta">       <span class="meta-string">"http://mybatis.org/dtd/mybatis-3-config.dtd"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line"></span><br><span class="line">   <span class="tag">&lt;<span class="name">typeAliases</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">package</span> <span class="attr">name</span>=<span class="string">"com.kuang.pojo"</span>/&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">typeAliases</span>&gt;</span></span><br><span class="line"></span><br><span class="line">   <span class="tag">&lt;<span class="name">environments</span> <span class="attr">default</span>=<span class="string">"development"</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">environment</span> <span class="attr">id</span>=<span class="string">"development"</span>&gt;</span></span><br><span class="line">           <span class="tag">&lt;<span class="name">transactionManager</span> <span class="attr">type</span>=<span class="string">"JDBC"</span>/&gt;</span></span><br><span class="line">           <span class="tag">&lt;<span class="name">dataSource</span> <span class="attr">type</span>=<span class="string">"POOLED"</span>&gt;</span></span><br><span class="line">               <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"driver"</span> <span class="attr">value</span>=<span class="string">"com.mysql.jdbc.Driver"</span>/&gt;</span></span><br><span class="line">               <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"url"</span> <span class="attr">value</span>=<span class="string">"jdbc:mysql://localhost:3306/mybatis?useSSL=true<span class="symbol">&amp;amp;</span>useUnicode=true<span class="symbol">&amp;amp;</span>characterEncoding=utf8"</span>/&gt;</span></span><br><span class="line">               <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"username"</span> <span class="attr">value</span>=<span class="string">"root"</span>/&gt;</span></span><br><span class="line">               <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"password"</span> <span class="attr">value</span>=<span class="string">"123456"</span>/&gt;</span></span><br><span class="line">           <span class="tag">&lt;/<span class="name">dataSource</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;/<span class="name">environment</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">environments</span>&gt;</span></span><br><span class="line"></span><br><span class="line">   <span class="tag">&lt;<span class="name">mappers</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">package</span> <span class="attr">name</span>=<span class="string">"com.kuang.dao"</span>/&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">mappers</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><p><strong>UserDaoæ¥å£ç¼–å†™</strong></p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">UserMapper</span> </span>{</span><br><span class="line">   <span class="function"><span class="keyword">public</span> List&lt;User&gt; <span class="title">selectUser</span><span class="params">()</span></span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p><strong>æ¥å£å¯¹åº”çš„Mapperæ˜ å°„æ–‡ä»¶</strong></p><figure class="highlight xml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="UTF-8" ?&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">mapper</span></span></span><br><span class="line"><span class="meta">       <span class="meta-keyword">PUBLIC</span> <span class="meta-string">"-//mybatis.org//DTD Mapper 3.0//EN"</span></span></span><br><span class="line"><span class="meta">       <span class="meta-string">"http://mybatis.org/dtd/mybatis-3-mapper.dtd"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">mapper</span> <span class="attr">namespace</span>=<span class="string">"com.kuang.dao.UserMapper"</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">"selectUser"</span> <span class="attr">resultType</span>=<span class="string">"User"</span>&gt;</span></span><br><span class="line">    select * from user</span><br><span class="line">   <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">mapper</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><p><strong>æµ‹è¯•ç±»</strong></p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">selectUser</span><span class="params">()</span> <span class="keyword">throws</span> IOException </span>{</span><br><span class="line"></span><br><span class="line">   String resource = <span class="string">"mybatis-config.xml"</span>;</span><br><span class="line">   InputStream inputStream = Resources.getResourceAsStream(resource);</span><br><span class="line">   SqlSessionFactory sqlSessionFactory = newSqlSessionFactoryBuilder().build(inputStream);</span><br><span class="line">   SqlSession sqlSession = sqlSessionFactory.openSession();</span><br><span class="line"></span><br><span class="line">   UserMapper mapper = sqlSession.getMapper(UserMapper.class);</span><br><span class="line"></span><br><span class="line">   List&lt;User&gt; userList = mapper.selectUser();</span><br><span class="line">   <span class="keyword">for</span> (User user: userList){</span><br><span class="line">       System.out.println(user);</span><br><span class="line">  }</span><br><span class="line"></span><br><span class="line">   sqlSession.close();</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><hr><p><strong>æ€»ç»“åŸæ¥mybatisç¼–å†™æ­¥éª¤ï¼š</strong></p><ol><li>å¯¼å…¥mybatisä¸mysqslç›¸å…³åŒ…</li><li>ç¼–å†™mybatisæ ¸å¿ƒé…ç½®æ–‡ä»¶</li><li>ç¼–å†™ä¸šåŠ¡æ¥å£</li><li>ç¼–å†™æ¥å£å¯¹åº”çš„***mapper.xml</li><li>åœ¨mybatiseæ ¸å¿ƒé…ç½®æ–‡ä»¶ä¸­æ³¨å†Œmapper</li><li>è·å–æ ¸å¿ƒé…ç½®æ–‡ä»¶çš„è¾“å…¥æµ,é€šè¿‡è¾“å…¥æµbuild(**)è·å¾—sqlsessionFactory,é€šè¿‡sqlsessionFactoryè·å¾—sqlsession</li><li>é€šè¿‡sqlsession.getMapper(***.class)åŠ¨æ€ä»£ç†è·å¾—ä¸šåŠ¡æ¥å£å®ç°ç±»</li><li>æ‰ç”¨ä¸šåŠ¡å¯¹åº”æ–¹æ³•</li></ol><blockquote><h4 id="MyBatis-Springå­¦ä¹ "><a href="#MyBatis-Springå­¦ä¹ " class="headerlink" title="MyBatis-Springå­¦ä¹ "></a>MyBatis-Springå­¦ä¹ </h4></blockquote><p>å¼•å…¥Springä¹‹å‰éœ€è¦äº†è§£mybatis-springåŒ…ä¸­çš„ä¸€äº›é‡è¦ç±»ï¼›</p><p><a href="http://www.mybatis.org/spring/zh/index.html">http://www.mybatis.org/spring/zh/index.html</a></p><p><img src="https://mmbiz.qpic.cn/mmbiz_png/uJDAUKrGC7JXnZ2vicYHdibF3mvk0w89CqKXn1bvBicZVeBJHGlFZOd8a6X5uzjVp6RnMR4ibS7hPdrHSxNGevkib0w/640?wx_fmt=png&amp;tp=webp&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1" alt="img"></p><p><strong>ä»€ä¹ˆæ˜¯ MyBatis-Springï¼Ÿ</strong></p><p>MyBatis-Spring ä¼šå¸®åŠ©ä½ å°† MyBatis ä»£ç æ— ç¼åœ°æ•´åˆåˆ° Spring ä¸­ã€‚</p><p><strong>çŸ¥è¯†åŸºç¡€</strong></p><p>åœ¨å¼€å§‹ä½¿ç”¨ MyBatis-Spring ä¹‹å‰ï¼Œä½ éœ€è¦å…ˆç†Ÿæ‚‰ Spring å’Œ MyBatis è¿™ä¸¤ä¸ªæ¡†æ¶å’Œæœ‰å…³å®ƒä»¬çš„æœ¯è¯­ã€‚è¿™å¾ˆé‡è¦</p><p>MyBatis-Spring éœ€è¦ä»¥ä¸‹ç‰ˆæœ¬ï¼š</p><table><thead><tr><th align="left">MyBatis-Spring</th><th align="left">MyBatis</th><th align="left">Spring æ¡†æ¶</th><th align="left">Spring Batch</th><th align="left">Java</th></tr></thead><tbody><tr><td align="left">2.0</td><td align="left">3.5+</td><td align="left">5.0+</td><td align="left">4.0+</td><td align="left">Java 8+</td></tr><tr><td align="left">1.3</td><td align="left">3.4+</td><td align="left">3.2.2+</td><td align="left">2.1+</td><td align="left">Java 6+</td></tr></tbody></table><p>å¦‚æœä½¿ç”¨ Maven ä½œä¸ºæ„å»ºå·¥å…·ï¼Œä»…éœ€è¦åœ¨ pom.xml ä¸­åŠ å…¥ä»¥ä¸‹ä»£ç å³å¯ï¼š</p><figure class="highlight xml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.mybatis<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mybatis-spring<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.0.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><p>è¦å’Œ Spring ä¸€èµ·ä½¿ç”¨ MyBatisï¼Œéœ€è¦åœ¨ Spring åº”ç”¨ä¸Šä¸‹æ–‡ä¸­å®šä¹‰è‡³å°‘ä¸¤æ ·ä¸œè¥¿ï¼šä¸€ä¸ª SqlSessionFactory å’Œè‡³å°‘ä¸€ä¸ªæ•°æ®æ˜ å°„å™¨ç±»ã€‚</p><p>åœ¨ MyBatis-Spring ä¸­ï¼Œå¯ä½¿ç”¨SqlSessionFactoryBeanæ¥åˆ›å»º SqlSessionFactoryã€‚è¦é…ç½®è¿™ä¸ªå·¥å‚ beanï¼Œåªéœ€è¦æŠŠä¸‹é¢ä»£ç æ”¾åœ¨ Spring çš„ XML é…ç½®æ–‡ä»¶ä¸­ï¼š</p><figure class="highlight xml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"sqlSessionFactory"</span> <span class="attr">class</span>=<span class="string">"org.mybatis.spring.SqlSessionFactoryBean"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"dataSource"</span> <span class="attr">ref</span>=<span class="string">"dataSource"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><p>æ³¨æ„ï¼šSqlSessionFactoryéœ€è¦ä¸€ä¸ª DataSourceï¼ˆæ•°æ®æºï¼‰ã€‚è¿™å¯ä»¥æ˜¯ä»»æ„çš„ DataSourceï¼Œåªéœ€è¦å’Œé…ç½®å…¶å®ƒ Spring æ•°æ®åº“è¿æ¥ä¸€æ ·é…ç½®å®ƒå°±å¯ä»¥äº†ã€‚</p><p>åœ¨åŸºç¡€çš„ MyBatis ç”¨æ³•ä¸­ï¼Œæ˜¯é€šè¿‡ SqlSessionFactoryBuilder æ¥åˆ›å»º SqlSessionFactory çš„ã€‚è€Œåœ¨ MyBatis-Spring ä¸­ï¼Œåˆ™ä½¿ç”¨ SqlSessionFactoryBean æ¥åˆ›å»ºã€‚</p><p>åœ¨ MyBatis ä¸­ï¼Œä½ å¯ä»¥ä½¿ç”¨ SqlSessionFactory æ¥åˆ›å»º SqlSessionã€‚ä¸€æ—¦ä½ è·å¾—ä¸€ä¸ª session ä¹‹åï¼Œä½ å¯ä»¥ä½¿ç”¨å®ƒæ¥æ‰§è¡Œæ˜ å°„äº†çš„è¯­å¥ï¼Œæäº¤æˆ–å›æ»šè¿æ¥ï¼Œæœ€åï¼Œå½“ä¸å†éœ€è¦å®ƒçš„æ—¶å€™ï¼Œä½ å¯ä»¥å…³é—­ sessionã€‚</p><p>SqlSessionFactoryæœ‰ä¸€ä¸ªå”¯ä¸€çš„å¿…è¦å±æ€§ï¼šç”¨äº JDBC çš„ DataSourceã€‚è¿™å¯ä»¥æ˜¯ä»»æ„çš„ DataSource å¯¹è±¡ï¼Œå®ƒçš„é…ç½®æ–¹æ³•å’Œå…¶å®ƒ Spring æ•°æ®åº“è¿æ¥æ˜¯ä¸€æ ·çš„ã€‚</p><p>ä¸€ä¸ªå¸¸ç”¨çš„å±æ€§æ˜¯ configLocationï¼Œå®ƒç”¨æ¥æŒ‡å®š MyBatis çš„ XML é…ç½®æ–‡ä»¶è·¯å¾„ã€‚å®ƒåœ¨éœ€è¦ä¿®æ”¹ MyBatis çš„åŸºç¡€é…ç½®éå¸¸æœ‰ç”¨ã€‚é€šå¸¸ï¼ŒåŸºç¡€é…ç½®æŒ‡çš„æ˜¯ &lt; settings&gt; æˆ– &lt; typeAliases&gt;å…ƒç´ ã€‚</p><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œè¿™ä¸ªé…ç½®æ–‡ä»¶å¹¶ä¸éœ€è¦æ˜¯ä¸€ä¸ªå®Œæ•´çš„ MyBatis é…ç½®ã€‚ç¡®åˆ‡åœ°è¯´ï¼Œä»»ä½•ç¯å¢ƒé…ç½®ï¼ˆ<environments>ï¼‰ï¼Œæ•°æ®æºï¼ˆ<datasource>ï¼‰å’Œ MyBatis çš„äº‹åŠ¡ç®¡ç†å™¨ï¼ˆ<transactionmanager>ï¼‰éƒ½ä¼šè¢«å¿½ç•¥ã€‚SqlSessionFactoryBean ä¼šåˆ›å»ºå®ƒè‡ªæœ‰çš„ MyBatis ç¯å¢ƒé…ç½®ï¼ˆEnvironmentï¼‰ï¼Œå¹¶æŒ‰è¦æ±‚è®¾ç½®è‡ªå®šä¹‰ç¯å¢ƒçš„å€¼ã€‚</transactionmanager></datasource></environments></p><p>SqlSessionTemplate æ˜¯ MyBatis-Spring çš„æ ¸å¿ƒã€‚ä½œä¸º SqlSession çš„ä¸€ä¸ªå®ç°ï¼Œè¿™æ„å‘³ç€å¯ä»¥ä½¿ç”¨å®ƒæ— ç¼ä»£æ›¿ä½ ä»£ç ä¸­å·²ç»åœ¨ä½¿ç”¨çš„ SqlSessionã€‚</p><p>æ¨¡æ¿å¯ä»¥å‚ä¸åˆ° Spring çš„äº‹åŠ¡ç®¡ç†ä¸­ï¼Œå¹¶ä¸”ç”±äºå…¶æ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼Œå¯ä»¥ä¾›å¤šä¸ªæ˜ å°„å™¨ç±»ä½¿ç”¨ï¼Œä½ åº”è¯¥æ€»æ˜¯ç”¨ SqlSessionTemplate æ¥æ›¿æ¢ MyBatis é»˜è®¤çš„ DefaultSqlSession å®ç°ã€‚åœ¨åŒä¸€åº”ç”¨ç¨‹åºä¸­çš„ä¸åŒç±»ä¹‹é—´æ··æ‚ä½¿ç”¨å¯èƒ½ä¼šå¼•èµ·æ•°æ®ä¸€è‡´æ€§çš„é—®é¢˜ã€‚</p><p>å¯ä»¥ä½¿ç”¨ SqlSessionFactory ä½œä¸ºæ„é€ æ–¹æ³•çš„å‚æ•°æ¥åˆ›å»º SqlSessionTemplate å¯¹è±¡ã€‚</p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;bean id="sqlSession" class="org.mybatis.spring.SqlSessionTemplate"&gt;</span><br><span class="line"> &lt;constructor-arg index="0" ref="sqlSessionFactory" /&gt;</span><br><span class="line">&lt;/bean&gt;</span><br></pre></td></tr></tbody></table></figure><p>ç°åœ¨ï¼Œè¿™ä¸ª bean å°±å¯ä»¥ç›´æ¥æ³¨å…¥åˆ°ä½ çš„ DAO bean ä¸­äº†ã€‚ä½ éœ€è¦åœ¨ä½ çš„ bean ä¸­æ·»åŠ ä¸€ä¸ª SqlSession å±æ€§ï¼Œå°±åƒä¸‹é¢è¿™æ ·ï¼š</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">UserDaoImpl</span> <span class="keyword">implements</span> <span class="title">UserDao</span> </span>{</span><br><span class="line"></span><br><span class="line"> <span class="keyword">private</span> SqlSession sqlSession;</span><br><span class="line"></span><br><span class="line"> <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setSqlSession</span><span class="params">(SqlSession sqlSession)</span> </span>{</span><br><span class="line">   <span class="keyword">this</span>.sqlSession = sqlSession;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"> <span class="function"><span class="keyword">public</span> User <span class="title">getUser</span><span class="params">(String userId)</span> </span>{</span><br><span class="line">   <span class="keyword">return</span> sqlSession.getMapper...;</span><br><span class="line">}</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>æŒ‰ä¸‹é¢è¿™æ ·ï¼Œæ³¨å…¥ SqlSessionTemplateï¼š</p><figure class="highlight xml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"userDao"</span> <span class="attr">class</span>=<span class="string">"org.mybatis.spring.sample.dao.UserDaoImpl"</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"sqlSession"</span> <span class="attr">ref</span>=<span class="string">"sqlSession"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><blockquote><h4 id="æ•´åˆå®ç°ä¸€"><a href="#æ•´åˆå®ç°ä¸€" class="headerlink" title="æ•´åˆå®ç°ä¸€"></a>æ•´åˆå®ç°ä¸€</h4></blockquote><p>1ã€å¼•å…¥Springé…ç½®æ–‡ä»¶beans.xml</p><figure class="highlight xml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">"http://www.springframework.org/schema/beans"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">xmlns:xsi</span>=<span class="string">"http://www.w3.org/2001/XMLSchema-instance"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">xsi:schemaLocation</span>=<span class="string">"http://www.springframework.org/schema/beans</span></span></span><br><span class="line"><span class="tag"><span class="string">       http://www.springframework.org/schema/beans/spring-beans.xsd"</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><p>2ã€é…ç½®æ•°æ®æºæ›¿æ¢mybaitsçš„æ•°æ®æº</p><figure class="highlight xml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--é…ç½®æ•°æ®æºï¼šæ•°æ®æºæœ‰éå¸¸å¤šï¼Œå¯ä»¥ä½¿ç”¨ç¬¬ä¸‰æ–¹çš„ï¼Œä¹Ÿå¯ä½¿ä½¿ç”¨Springçš„--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"dataSource"</span> <span class="attr">class</span>=<span class="string">"org.springframework.jdbc.datasource.DriverManagerDataSource"</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"driverClassName"</span> <span class="attr">value</span>=<span class="string">"com.mysql.jdbc.Driver"</span>/&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"url"</span> <span class="attr">value</span>=<span class="string">"jdbc:mysql://localhost:3306/mybatis?useSSL=true<span class="symbol">&amp;amp;</span>useUnicode=true<span class="symbol">&amp;amp;</span>characterEncoding=utf8"</span>/&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"username"</span> <span class="attr">value</span>=<span class="string">"root"</span>/&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"password"</span> <span class="attr">value</span>=<span class="string">"123456"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><p>3ã€é…ç½®SqlSessionFactoryï¼Œå…³è”MyBatis</p><figure class="highlight xml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--é…ç½®SqlSessionFactory--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"sqlSessionFactory"</span> <span class="attr">class</span>=<span class="string">"org.mybatis.spring.SqlSessionFactoryBean"</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"dataSource"</span> <span class="attr">ref</span>=<span class="string">"dataSource"</span>/&gt;</span></span><br><span class="line">   <span class="comment">&lt;!--å…³è”Mybatis--&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"configLocation"</span> <span class="attr">value</span>=<span class="string">"classpath:mybatis-config.xml"</span>/&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"mapperLocations"</span> <span class="attr">value</span>=<span class="string">"classpath:com/kuang/dao/*.xml"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><p>4ã€æ³¨å†ŒsqlSessionTemplateï¼Œå…³è”sqlSessionFactoryï¼›</p><figure class="highlight xml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--æ³¨å†ŒsqlSessionTemplate , å…³è”sqlSessionFactory--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"sqlSession"</span> <span class="attr">class</span>=<span class="string">"org.mybatis.spring.SqlSessionTemplate"</span>&gt;</span></span><br><span class="line">   <span class="comment">&lt;!--åˆ©ç”¨æ„é€ å™¨æ³¨å…¥--&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">constructor-arg</span> <span class="attr">index</span>=<span class="string">"0"</span> <span class="attr">ref</span>=<span class="string">"sqlSessionFactory"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><p>5ã€å¢åŠ Daoæ¥å£çš„å®ç°ç±»ï¼›ç§æœ‰åŒ–sqlSessionTemplate</p><p>ç”±äºä½¿ç”¨springå®¹å™¨ç®¡ç†ç±»,å›ºmybatisæ•´åˆspringåéœ€å¤šå¢åŠ ä¸€ä¸ªå®ç°ç±»</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">UserDaoImpl</span> <span class="keyword">implements</span> <span class="title">UserMapper</span> </span>{</span><br><span class="line"></span><br><span class="line">   <span class="comment">//sqlSessionä¸ç”¨æˆ‘ä»¬è‡ªå·±åˆ›å»ºäº†ï¼ŒSpringæ¥ç®¡ç†</span></span><br><span class="line">   <span class="keyword">private</span> SqlSessionTemplate sqlSession;</span><br><span class="line"></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setSqlSession</span><span class="params">(SqlSessionTemplate sqlSession)</span> </span>{</span><br><span class="line">       <span class="keyword">this</span>.sqlSession = sqlSession;</span><br><span class="line">  }</span><br><span class="line"></span><br><span class="line">   <span class="function"><span class="keyword">public</span> List&lt;User&gt; <span class="title">selectUser</span><span class="params">()</span> </span>{</span><br><span class="line">       UserMapper mapper = sqlSession.getMapper(UserMapper.class);</span><br><span class="line">       <span class="keyword">return</span> mapper.selectUser();</span><br><span class="line">  }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>6ã€æ³¨å†Œbeanå®ç°</p><figure class="highlight xml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"userDao"</span> <span class="attr">class</span>=<span class="string">"com.kuang.dao.UserDaoImpl"</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"sqlSession"</span> <span class="attr">ref</span>=<span class="string">"sqlSession"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><p>7ã€æµ‹è¯•</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"> <span class="meta">@Test</span></span><br><span class="line"> <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test2</span><span class="params">()</span></span>{</span><br><span class="line">     ApplicationContext context = newClassPathXmlApplicationContext(<span class="string">"beans.xml"</span>);</span><br><span class="line">     UserMapper mapper = (UserMapper) context.getBean(<span class="string">"userDao"</span>);</span><br><span class="line">     List&lt;User&gt; user = mapper.selectUser();</span><br><span class="line">     System.out.println(user);</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>ç»“æœæˆåŠŸè¾“å‡ºï¼ç°åœ¨æˆ‘ä»¬çš„Mybatisé…ç½®æ–‡ä»¶çš„çŠ¶æ€ï¼å‘ç°éƒ½å¯ä»¥è¢«Springæ•´åˆï¼</p><figure class="highlight xml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="UTF-8" ?&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">configuration</span></span></span><br><span class="line"><span class="meta">       <span class="meta-keyword">PUBLIC</span> <span class="meta-string">"-//mybatis.org//DTD Config 3.0//EN"</span></span></span><br><span class="line"><span class="meta">       <span class="meta-string">"http://mybatis.org/dtd/mybatis-3-config.dtd"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">typeAliases</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">package</span> <span class="attr">name</span>=<span class="string">"com.kuang.pojo"</span>/&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">typeAliases</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><blockquote><h4 id="æ•´åˆå®ç°äºŒ"><a href="#æ•´åˆå®ç°äºŒ" class="headerlink" title="æ•´åˆå®ç°äºŒ"></a>æ•´åˆå®ç°äºŒ</h4></blockquote><p>mybatis-spring1.2.3ç‰ˆä»¥ä¸Šçš„æ‰æœ‰è¿™ä¸ª .</p><p>å®˜æ–¹æ–‡æ¡£æˆªå›¾ :</p><p>daoç»§æ‰¿Supportç±» , ç›´æ¥åˆ©ç”¨ getSqlSession() è·å¾— , ç„¶åç›´æ¥æ³¨å…¥SqlSessionFactory . æ¯”èµ·æ–¹å¼1 , ä¸éœ€è¦ç®¡ç†SqlSessionTemplate , è€Œä¸”å¯¹äº‹åŠ¡çš„æ”¯æŒæ›´åŠ å‹å¥½ . å¯è·Ÿè¸ªæºç æŸ¥çœ‹</p><p><img src="https://mmbiz.qpic.cn/mmbiz_png/uJDAUKrGC7JXnZ2vicYHdibF3mvk0w89Cq6qzPguHd15ribJeF3ickXAy98VG8YFjxwftEdsvvCLWkWLPeiaiaVibbPxQ/640?wx_fmt=png&amp;tp=webp&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1" alt="img"></p><p>æµ‹è¯•ï¼š</p><p>1ã€å°†æˆ‘ä»¬ä¸Šé¢å†™çš„UserDaoImplä¿®æ”¹ä¸€ä¸‹</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">UserDaoImpl</span> <span class="keyword">extends</span> <span class="title">SqlSessionDaoSupport</span> <span class="keyword">implements</span> <span class="title">UserMapper</span> </span>{</span><br><span class="line">   <span class="function"><span class="keyword">public</span> List&lt;User&gt; <span class="title">selectUser</span><span class="params">()</span> </span>{</span><br><span class="line">       UserMapper mapper = getSqlSession().getMapper(UserMapper.class);</span><br><span class="line">       <span class="keyword">return</span> mapper.selectUser();</span><br><span class="line">  }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>2ã€ä¿®æ”¹beançš„é…ç½®</p><figure class="highlight xml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"userDao"</span> <span class="attr">class</span>=<span class="string">"com.kuang.dao.UserDaoImpl"</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"sqlSessionFactory"</span> <span class="attr">ref</span>=<span class="string">"sqlSessionFactory"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><p>3ã€æµ‹è¯•</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test2</span><span class="params">()</span></span>{</span><br><span class="line">   ApplicationContext context = <span class="keyword">new</span> ClassPathXmlApplicationContext(<span class="string">"beans.xml"</span>);</span><br><span class="line">   UserMapper mapper = (UserMapper) context.getBean(<span class="string">"userDao"</span>);</span><br><span class="line">   List&lt;User&gt; user = mapper.selectUser();</span><br><span class="line">   System.out.println(user);</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p><strong>æ€»ç»“ : æ•´åˆåˆ°springä»¥åå¯ä»¥å®Œå…¨ä¸è¦mybatisçš„é…ç½®æ–‡ä»¶ï¼Œé™¤äº†è¿™äº›æ–¹å¼å¯ä»¥å®ç°æ•´åˆä¹‹å¤–ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥ä½¿ç”¨æ³¨è§£æ¥å®ç°ï¼Œè¿™ä¸ªç­‰æˆ‘ä»¬åé¢å­¦ä¹ SpringBootçš„æ—¶å€™è¿˜ä¼šæµ‹è¯•æ•´åˆï¼</strong></p><h2 id="å£°æ˜å¼äº‹åŠ¡"><a href="#å£°æ˜å¼äº‹åŠ¡" class="headerlink" title="å£°æ˜å¼äº‹åŠ¡"></a>å£°æ˜å¼äº‹åŠ¡</h2><blockquote><h4 id="å›é¡¾äº‹åŠ¡"><a href="#å›é¡¾äº‹åŠ¡" class="headerlink" title="å›é¡¾äº‹åŠ¡"></a>å›é¡¾äº‹åŠ¡</h4></blockquote><ul><li>äº‹åŠ¡åœ¨é¡¹ç›®å¼€å‘è¿‡ç¨‹éå¸¸é‡è¦ï¼Œæ¶‰åŠåˆ°æ•°æ®çš„ä¸€è‡´æ€§çš„é—®é¢˜ï¼Œä¸å®¹é©¬è™ï¼</li><li>äº‹åŠ¡ç®¡ç†æ˜¯ä¼ä¸šçº§åº”ç”¨ç¨‹åºå¼€å‘ä¸­å¿…å¤‡æŠ€æœ¯ï¼Œç”¨æ¥ç¡®ä¿æ•°æ®çš„å®Œæ•´æ€§å’Œä¸€è‡´æ€§ã€‚</li></ul><p>äº‹åŠ¡å°±æ˜¯æŠŠä¸€ç³»åˆ—çš„åŠ¨ä½œå½“æˆä¸€ä¸ªç‹¬ç«‹çš„å·¥ä½œå•å…ƒï¼Œè¿™äº›åŠ¨ä½œè¦ä¹ˆå…¨éƒ¨å®Œæˆï¼Œè¦ä¹ˆå…¨éƒ¨ä¸èµ·ä½œç”¨ã€‚</p><p><strong>äº‹åŠ¡å››ä¸ªå±æ€§ACID</strong></p><ol><li><p>åŸå­æ€§ï¼ˆatomicityï¼‰</p></li><li><ul><li>äº‹åŠ¡æ˜¯åŸå­æ€§æ“ä½œï¼Œç”±ä¸€ç³»åˆ—åŠ¨ä½œç»„æˆï¼Œäº‹åŠ¡çš„åŸå­æ€§ç¡®ä¿åŠ¨ä½œè¦ä¹ˆå…¨éƒ¨å®Œæˆï¼Œè¦ä¹ˆå®Œå…¨ä¸èµ·ä½œç”¨</li></ul></li><li><p>ä¸€è‡´æ€§ï¼ˆconsistencyï¼‰</p></li><li><ul><li>ä¸€æ—¦æ‰€æœ‰äº‹åŠ¡åŠ¨ä½œå®Œæˆï¼Œäº‹åŠ¡å°±è¦è¢«æäº¤ã€‚æ•°æ®å’Œèµ„æºå¤„äºä¸€ç§æ»¡è¶³ä¸šåŠ¡è§„åˆ™çš„ä¸€è‡´æ€§çŠ¶æ€ä¸­</li></ul></li><li><p>éš”ç¦»æ€§ï¼ˆisolationï¼‰</p></li><li><ul><li>å¯èƒ½å¤šä¸ªäº‹åŠ¡ä¼šåŒæ—¶å¤„ç†ç›¸åŒçš„æ•°æ®ï¼Œå› æ­¤æ¯ä¸ªäº‹åŠ¡éƒ½åº”è¯¥ä¸å…¶ä»–äº‹åŠ¡éš”ç¦»å¼€æ¥ï¼Œé˜²æ­¢æ•°æ®æŸå</li></ul></li><li><p>æŒä¹…æ€§ï¼ˆdurabilityï¼‰</p></li></ol><ol start="8"><li><ul><li>äº‹åŠ¡ä¸€æ—¦å®Œæˆï¼Œæ— è®ºç³»ç»Ÿå‘ç”Ÿä»€ä¹ˆé”™è¯¯ï¼Œç»“æœéƒ½ä¸ä¼šå—åˆ°å½±å“ã€‚é€šå¸¸æƒ…å†µä¸‹ï¼Œäº‹åŠ¡çš„ç»“æœè¢«å†™åˆ°æŒä¹…åŒ–å­˜å‚¨å™¨ä¸­</li></ul></li></ol><blockquote><h4 id="æµ‹è¯•"><a href="#æµ‹è¯•" class="headerlink" title="æµ‹è¯•"></a>æµ‹è¯•</h4></blockquote><p>å°†ä¸Šé¢çš„ä»£ç æ‹·è´åˆ°ä¸€ä¸ªæ–°é¡¹ç›®ä¸­</p><p>åœ¨ä¹‹å‰çš„æ¡ˆä¾‹ä¸­ï¼Œæˆ‘ä»¬ç»™userDaoæ¥å£æ–°å¢ä¸¤ä¸ªæ–¹æ³•ï¼Œåˆ é™¤å’Œå¢åŠ ç”¨æˆ·ï¼›</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//æ·»åŠ ä¸€ä¸ªç”¨æˆ·</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">addUser</span><span class="params">(User user)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//æ ¹æ®idåˆ é™¤ç”¨æˆ·</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">deleteUser</span><span class="params">(<span class="keyword">int</span> id)</span></span>;</span><br></pre></td></tr></tbody></table></figure><p>mapperæ–‡ä»¶ï¼Œæˆ‘ä»¬æ•…æ„æŠŠ deletes å†™é”™ï¼Œæµ‹è¯•ï¼</p><figure class="highlight xml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">insert</span> <span class="attr">id</span>=<span class="string">"addUser"</span> <span class="attr">parameterType</span>=<span class="string">"com.kuang.pojo.User"</span>&gt;</span></span><br><span class="line">insert into user (id,name,pwd) values (#{id},#{name},#{pwd})</span><br><span class="line"><span class="tag">&lt;/<span class="name">insert</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">delete</span> <span class="attr">id</span>=<span class="string">"deleteUser"</span> <span class="attr">parameterType</span>=<span class="string">"int"</span>&gt;</span></span><br><span class="line">deletes from user where id = #{id}</span><br><span class="line"><span class="tag">&lt;/<span class="name">delete</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><p>ç¼–å†™æ¥å£çš„å®ç°ç±»ï¼Œåœ¨å®ç°ç±»ä¸­ï¼Œæˆ‘ä»¬å»æ“ä½œä¸€æ³¢</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">UserDaoImpl</span> <span class="keyword">extends</span> <span class="title">SqlSessionDaoSupport</span> <span class="keyword">implements</span> <span class="title">UserMapper</span> </span>{</span><br><span class="line"></span><br><span class="line">   <span class="comment">//å¢åŠ ä¸€äº›æ“ä½œ</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> List&lt;User&gt; <span class="title">selectUser</span><span class="params">()</span> </span>{</span><br><span class="line">       User user = <span class="keyword">new</span> User(<span class="number">4</span>,<span class="string">"å°æ˜"</span>,<span class="string">"123456"</span>);</span><br><span class="line">       UserMapper mapper = getSqlSession().getMapper(UserMapper.class);</span><br><span class="line">       mapper.addUser(user);</span><br><span class="line">       mapper.deleteUser(<span class="number">4</span>);</span><br><span class="line">       <span class="keyword">return</span> mapper.selectUser();</span><br><span class="line">  }</span><br><span class="line"></span><br><span class="line">   <span class="comment">//æ–°å¢</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">addUser</span><span class="params">(User user)</span> </span>{</span><br><span class="line">       UserMapper mapper = getSqlSession().getMapper(UserMapper.class);</span><br><span class="line">       <span class="keyword">return</span> mapper.addUser(user);</span><br><span class="line">  }</span><br><span class="line">   <span class="comment">//åˆ é™¤</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">deleteUser</span><span class="params">(<span class="keyword">int</span> id)</span> </span>{</span><br><span class="line">       UserMapper mapper = getSqlSession().getMapper(UserMapper.class);</span><br><span class="line">       <span class="keyword">return</span> mapper.deleteUser(id);</span><br><span class="line">  }</span><br><span class="line"></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>æµ‹è¯•</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test2</span><span class="params">()</span></span>{</span><br><span class="line">   ApplicationContext context = <span class="keyword">new</span> ClassPathXmlApplicationContext(<span class="string">"beans.xml"</span>);</span><br><span class="line">   UserMapper mapper = (UserMapper) context.getBean(<span class="string">"userDao"</span>);</span><br><span class="line">   List&lt;User&gt; user = mapper.selectUser();</span><br><span class="line">   System.out.println(user);</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>æŠ¥é”™ï¼šsqlå¼‚å¸¸ï¼Œdeleteå†™é”™äº†</p><p>ç»“æœ ï¼šæ’å…¥æˆåŠŸï¼</p><p>æ²¡æœ‰è¿›è¡Œäº‹åŠ¡çš„ç®¡ç†ï¼›æˆ‘ä»¬æƒ³è®©ä»–ä»¬éƒ½æˆåŠŸæ‰æˆåŠŸï¼Œæœ‰ä¸€ä¸ªå¤±è´¥ï¼Œå°±éƒ½å¤±è´¥ï¼Œæˆ‘ä»¬å°±åº”è¯¥éœ€è¦<strong>äº‹åŠ¡ï¼</strong></p><p>ä»¥å‰æˆ‘ä»¬éƒ½éœ€è¦è‡ªå·±æ‰‹åŠ¨ç®¡ç†äº‹åŠ¡ï¼Œååˆ†éº»çƒ¦ï¼</p><p>ä½†æ˜¯Springç»™æˆ‘ä»¬æä¾›äº†äº‹åŠ¡ç®¡ç†ï¼Œæˆ‘ä»¬åªéœ€è¦é…ç½®å³å¯ï¼›</p><blockquote><p>Springä¸­çš„äº‹åŠ¡ç®¡ç†</p></blockquote><p>Springåœ¨ä¸åŒçš„äº‹åŠ¡ç®¡ç†APIä¹‹ä¸Šå®šä¹‰äº†ä¸€ä¸ªæŠ½è±¡å±‚ï¼Œä½¿å¾—å¼€å‘äººå‘˜ä¸å¿…äº†è§£åº•å±‚çš„äº‹åŠ¡ç®¡ç†APIå°±å¯ä»¥ä½¿ç”¨Springçš„äº‹åŠ¡ç®¡ç†æœºåˆ¶ã€‚Springæ”¯æŒç¼–ç¨‹å¼äº‹åŠ¡ç®¡ç†å’Œå£°æ˜å¼çš„äº‹åŠ¡ç®¡ç†ã€‚</p><p><strong>ç¼–ç¨‹å¼äº‹åŠ¡ç®¡ç†</strong></p><ul><li>å°†äº‹åŠ¡ç®¡ç†ä»£ç åµŒåˆ°ä¸šåŠ¡æ–¹æ³•ä¸­æ¥æ§åˆ¶äº‹åŠ¡çš„æäº¤å’Œå›æ»š</li><li>ç¼ºç‚¹ï¼šå¿…é¡»åœ¨æ¯ä¸ªäº‹åŠ¡æ“ä½œä¸šåŠ¡é€»è¾‘ä¸­åŒ…å«é¢å¤–çš„äº‹åŠ¡ç®¡ç†ä»£ç </li></ul><p><strong>å£°æ˜å¼äº‹åŠ¡ç®¡ç†</strong></p><ul><li>ä¸€èˆ¬æƒ…å†µä¸‹æ¯”ç¼–ç¨‹å¼äº‹åŠ¡å¥½ç”¨ã€‚</li><li>å°†äº‹åŠ¡ç®¡ç†ä»£ç ä»ä¸šåŠ¡æ–¹æ³•ä¸­åˆ†ç¦»å‡ºæ¥ï¼Œä»¥å£°æ˜çš„æ–¹å¼æ¥å®ç°äº‹åŠ¡ç®¡ç†ã€‚</li><li>å°†äº‹åŠ¡ç®¡ç†ä½œä¸ºæ¨ªåˆ‡å…³æ³¨ç‚¹ï¼Œé€šè¿‡aopæ–¹æ³•æ¨¡å—åŒ–ã€‚Springä¸­é€šè¿‡Spring AOPæ¡†æ¶æ”¯æŒå£°æ˜å¼äº‹åŠ¡ç®¡ç†ã€‚</li></ul><p><strong>ä½¿ç”¨Springç®¡ç†äº‹åŠ¡ï¼Œæ³¨æ„å¤´æ–‡ä»¶çš„çº¦æŸå¯¼å…¥ : tx</strong></p><figure class="highlight xml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">xmlns:tx="http://www.springframework.org/schema/tx"</span><br><span class="line">http://www.springframework.org/schema/tx</span><br><span class="line">http://www.springframework.org/schema/tx/spring-tx.xsd"&gt;</span><br></pre></td></tr></tbody></table></figure><p><strong>äº‹åŠ¡ç®¡ç†å™¨</strong></p><ul><li>æ— è®ºä½¿ç”¨Springçš„å“ªç§äº‹åŠ¡ç®¡ç†ç­–ç•¥ï¼ˆç¼–ç¨‹å¼æˆ–è€…å£°æ˜å¼ï¼‰äº‹åŠ¡ç®¡ç†å™¨éƒ½æ˜¯å¿…é¡»çš„ã€‚</li><li>å°±æ˜¯ Springçš„æ ¸å¿ƒäº‹åŠ¡ç®¡ç†æŠ½è±¡ï¼Œç®¡ç†å°è£…äº†ä¸€ç»„ç‹¬ç«‹äºæŠ€æœ¯çš„æ–¹æ³•ã€‚</li></ul><p><strong>JDBCäº‹åŠ¡</strong></p><figure class="highlight xml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"transactionManager"</span><span class="attr">class</span>=<span class="string">"org.springframework.jdbc.datasource.DataSourceTransactionManager"</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"dataSource"</span> <span class="attr">ref</span>=<span class="string">"dataSource"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><p><strong>é…ç½®å¥½äº‹åŠ¡ç®¡ç†å™¨åæˆ‘ä»¬éœ€è¦å»é…ç½®äº‹åŠ¡çš„é€šçŸ¥</strong></p><figure class="highlight xml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--é…ç½®äº‹åŠ¡é€šçŸ¥--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">tx:advice</span> <span class="attr">id</span>=<span class="string">"txAdvice"</span> <span class="attr">transaction-manager</span>=<span class="string">"transactionManager"</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">tx:attributes</span>&gt;</span></span><br><span class="line">       <span class="comment">&lt;!--é…ç½®å“ªäº›æ–¹æ³•ä½¿ç”¨ä»€ä¹ˆæ ·çš„äº‹åŠ¡,é…ç½®äº‹åŠ¡çš„ä¼ æ’­ç‰¹æ€§--&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">tx:method</span> <span class="attr">name</span>=<span class="string">"add"</span> <span class="attr">propagation</span>=<span class="string">"REQUIRED"</span>/&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">tx:method</span> <span class="attr">name</span>=<span class="string">"delete"</span> <span class="attr">propagation</span>=<span class="string">"REQUIRED"</span>/&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">tx:method</span> <span class="attr">name</span>=<span class="string">"update"</span> <span class="attr">propagation</span>=<span class="string">"REQUIRED"</span>/&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">tx:method</span> <span class="attr">name</span>=<span class="string">"search*"</span> <span class="attr">propagation</span>=<span class="string">"REQUIRED"</span>/&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">tx:method</span> <span class="attr">name</span>=<span class="string">"get"</span> <span class="attr">read-only</span>=<span class="string">"true"</span>/&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">tx:method</span> <span class="attr">name</span>=<span class="string">"*"</span> <span class="attr">propagation</span>=<span class="string">"REQUIRED"</span>/&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">tx:attributes</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">tx:advice</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><p><strong>springäº‹åŠ¡ä¼ æ’­ç‰¹æ€§ï¼š</strong></p><p>äº‹åŠ¡ä¼ æ’­è¡Œä¸ºå°±æ˜¯å¤šä¸ªäº‹åŠ¡æ–¹æ³•ç›¸äº’è°ƒç”¨æ—¶ï¼Œäº‹åŠ¡å¦‚ä½•åœ¨è¿™äº›æ–¹æ³•é—´ä¼ æ’­ã€‚springæ”¯æŒ7ç§äº‹åŠ¡ä¼ æ’­è¡Œä¸ºï¼š</p><ul><li>propagation_requierdï¼šå¦‚æœå½“å‰æ²¡æœ‰äº‹åŠ¡ï¼Œå°±æ–°å»ºä¸€ä¸ªäº‹åŠ¡ï¼Œå¦‚æœå·²å­˜åœ¨ä¸€ä¸ªäº‹åŠ¡ä¸­ï¼ŒåŠ å…¥åˆ°è¿™ä¸ªäº‹åŠ¡ä¸­ï¼Œè¿™æ˜¯æœ€å¸¸è§çš„é€‰æ‹©ã€‚</li><li>propagation_supportsï¼šæ”¯æŒå½“å‰äº‹åŠ¡ï¼Œå¦‚æœæ²¡æœ‰å½“å‰äº‹åŠ¡ï¼Œå°±ä»¥éäº‹åŠ¡æ–¹æ³•æ‰§è¡Œã€‚</li><li>propagation_mandatoryï¼šä½¿ç”¨å½“å‰äº‹åŠ¡ï¼Œå¦‚æœæ²¡æœ‰å½“å‰äº‹åŠ¡ï¼Œå°±æŠ›å‡ºå¼‚å¸¸ã€‚</li><li>propagation_required_newï¼šæ–°å»ºäº‹åŠ¡ï¼Œå¦‚æœå½“å‰å­˜åœ¨äº‹åŠ¡ï¼ŒæŠŠå½“å‰äº‹åŠ¡æŒ‚èµ·ã€‚</li><li>propagation_not_supportedï¼šä»¥éäº‹åŠ¡æ–¹å¼æ‰§è¡Œæ“ä½œï¼Œå¦‚æœå½“å‰å­˜åœ¨äº‹åŠ¡ï¼Œå°±æŠŠå½“å‰äº‹åŠ¡æŒ‚èµ·ã€‚</li><li>propagation_neverï¼šä»¥éäº‹åŠ¡æ–¹å¼æ‰§è¡Œæ“ä½œï¼Œå¦‚æœå½“å‰äº‹åŠ¡å­˜åœ¨åˆ™æŠ›å‡ºå¼‚å¸¸ã€‚</li><li>propagation_nestedï¼šå¦‚æœå½“å‰å­˜åœ¨äº‹åŠ¡ï¼Œåˆ™åœ¨åµŒå¥—äº‹åŠ¡å†…æ‰§è¡Œã€‚å¦‚æœå½“å‰æ²¡æœ‰äº‹åŠ¡ï¼Œåˆ™æ‰§è¡Œä¸propagation_requiredç±»ä¼¼çš„æ“ä½œ</li></ul><p>Spring é»˜è®¤çš„äº‹åŠ¡ä¼ æ’­è¡Œä¸ºæ˜¯ PROPAGATION_REQUIREDï¼Œå®ƒé€‚åˆäºç»å¤§å¤šæ•°çš„æƒ…å†µã€‚</p><p>å‡è®¾ ServiveX#methodX() éƒ½å·¥ä½œåœ¨äº‹åŠ¡ç¯å¢ƒä¸‹ï¼ˆå³éƒ½è¢« Spring äº‹åŠ¡å¢å¼ºäº†ï¼‰ï¼Œå‡è®¾ç¨‹åºä¸­å­˜åœ¨å¦‚ä¸‹çš„è°ƒç”¨é“¾ï¼šService1#method1()-&gt;Service2#method2()-&gt;Service3#method3()ï¼Œé‚£ä¹ˆè¿™ 3 ä¸ªæœåŠ¡ç±»çš„ 3 ä¸ªæ–¹æ³•é€šè¿‡ Spring çš„äº‹åŠ¡ä¼ æ’­æœºåˆ¶éƒ½å·¥ä½œåœ¨åŒä¸€ä¸ªäº‹åŠ¡ä¸­ã€‚</p><p>å°±å¥½æ¯”ï¼Œæˆ‘ä»¬åˆšæ‰çš„å‡ ä¸ªæ–¹æ³•å­˜åœ¨è°ƒç”¨ï¼Œæ‰€ä»¥ä¼šè¢«æ”¾åœ¨ä¸€ç»„äº‹åŠ¡å½“ä¸­ï¼</p><p><strong>é…ç½®AOP</strong></p><p>å¯¼å…¥aopçš„å¤´æ–‡ä»¶ï¼</p><figure class="highlight xml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--é…ç½®aopç»‡å…¥äº‹åŠ¡--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">aop:config</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">aop:pointcut</span> <span class="attr">id</span>=<span class="string">"txPointcut"</span> <span class="attr">expression</span>=<span class="string">"execution(* com.kuang.dao.*.*(..))"</span>/&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">aop:advisor</span> <span class="attr">advice-ref</span>=<span class="string">"txAdvice"</span> <span class="attr">pointcut-ref</span>=<span class="string">"txPointcut"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">aop:config</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><p><strong>è¿›è¡Œæµ‹è¯•</strong></p><p>åˆ æ‰åˆšæ‰æ’å…¥çš„æ•°æ®ï¼Œå†æ¬¡æµ‹è¯•ï¼</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test2</span><span class="params">()</span></span>{</span><br><span class="line">   ApplicationContext context = <span class="keyword">new</span> ClassPathXmlApplicationContext(<span class="string">"beans.xml"</span>);</span><br><span class="line">   UserMapper mapper = (UserMapper) context.getBean(<span class="string">"userDao"</span>);</span><br><span class="line">   List&lt;User&gt; user = mapper.selectUser();</span><br><span class="line">   System.out.println(user);</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><blockquote><p>æ€è€ƒé—®é¢˜ï¼Ÿ</p></blockquote><p>ä¸ºä»€ä¹ˆéœ€è¦é…ç½®äº‹åŠ¡ï¼Ÿ</p><ul><li>å¦‚æœä¸é…ç½®ï¼Œå°±éœ€è¦æˆ‘ä»¬æ‰‹åŠ¨æäº¤æ§åˆ¶äº‹åŠ¡ï¼›</li><li>äº‹åŠ¡åœ¨é¡¹ç›®å¼€å‘è¿‡ç¨‹éå¸¸é‡è¦ï¼Œæ¶‰åŠåˆ°æ•°æ®çš„ä¸€è‡´æ€§çš„é—®é¢˜ï¼Œä¸å®¹é©¬è™ï¼</li></ul><p>![(<a href="https://img-blog.csdnimg.cn/20190421210933488.png">https://img-blog.csdnimg.cn/20190421210933488.png</a>)</p>]]></content>
      
      
      <categories>
          
          <category> springæ¡†æ¶ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> spring </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
